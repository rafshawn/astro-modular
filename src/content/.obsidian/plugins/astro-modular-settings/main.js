/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name4 in all)
    __defProp(target, name4, { get: all[name4], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/types.ts
var FONT_OPTIONS, DEFAULT_SETTINGS, THEME_OPTIONS, TEMPLATE_OPTIONS;
var init_types = __esm({
  "src/types.ts"() {
    "use strict";
    FONT_OPTIONS = [
      "Inter",
      "Roboto",
      "Open Sans",
      "Lato",
      "Poppins",
      "Source Sans Pro",
      "Nunito",
      "Montserrat",
      "Playfair Display",
      "Merriweather",
      "Lora",
      "Crimson Text",
      "PT Serif",
      "Libre Baskerville",
      "Fira Code",
      "JetBrains Mono",
      "Source Code Pro",
      "IBM Plex Mono",
      "Cascadia Code"
    ];
    DEFAULT_SETTINGS = {
      runWizardOnStartup: true,
      currentTemplate: "standard",
      currentTheme: "oxygen",
      customThemeFile: "custom",
      contentOrganization: "file-based",
      themeColors: {
        mode: "simple",
        extractedColors: void 0,
        simpleColors: {
          accent: "#5865f2",
          background: "#1e1e1e"
        },
        lastExtracted: void 0
      },
      siteInfo: {
        site: "https://astro-modular.netlify.app",
        title: "Astro Modular",
        description: "A flexible blog theme designed for Obsidian users.",
        author: "David V. Kimball",
        language: "en",
        faviconThemeAdaptive: true,
        defaultOgImageAlt: "Astro Modular logo."
      },
      layout: {
        contentWidth: "45rem"
      },
      tableOfContents: {
        enabled: true,
        depth: 4
      },
      footer: {
        enabled: true,
        content: '\xA9 2025 {author}. Built with the <a href="https://github.com/davidvkimball/astro-modular" target="_blank">Astro Modular</a> theme.',
        showSocialIconsInFooter: true
      },
      seo: {
        defaultOgImageAlt: "Astro Modular logo."
      },
      navigation: {
        showNavigation: true,
        style: "traditional",
        showMobileMenu: true,
        pages: [
          { title: "Posts", url: "/posts" },
          { title: "Projects", url: "/projects" },
          { title: "Docs", url: "/docs" },
          { title: "About", url: "/about" },
          { title: "GitHub", url: "https://github.com/davidvkimball/astro-modular" }
        ],
        social: [
          { title: "X", url: "https://x.com/davidvkimball", icon: "x-twitter" },
          { title: "GitHub", url: "https://github.com/davidvkimball", icon: "github" }
        ]
      },
      commandPalette: {
        enabled: true,
        shortcut: "ctrl+K",
        placeholder: "Search posts",
        search: {
          posts: true,
          pages: false,
          projects: false,
          docs: false
        },
        sections: {
          quickActions: true,
          pages: true,
          social: true
        },
        quickActions: {
          enabled: true,
          toggleMode: true,
          graphView: true,
          changeTheme: true
        }
      },
      homeOptions: {
        featuredPost: {
          enabled: true,
          type: "latest",
          slug: "getting-started"
        },
        recentPosts: {
          enabled: true,
          count: 7
        },
        projects: {
          enabled: true,
          count: 2
        },
        docs: {
          enabled: true,
          count: 3
        },
        blurb: {
          placement: "below"
        }
      },
      postOptions: {
        postsPerPage: 6,
        readingTime: true,
        wordCount: true,
        tags: true,
        linkedMentions: {
          enabled: true,
          linkedMentionsCompact: false
        },
        graphView: {
          enabled: true,
          showInSidebar: true,
          maxNodes: 100,
          showOrphanedPosts: true
        },
        postNavigation: true,
        showPostCardCoverImages: "featured-and-posts",
        postCardAspectRatio: "og",
        customPostCardAspectRatio: "2.5/1",
        comments: {
          enabled: false,
          provider: "giscus",
          rawScript: "",
          repo: "davidvkimball/astro-modular",
          repoId: "R_kgDOPllfKw",
          category: "General",
          categoryId: "DIC_kwDOPllfK84CvUpx",
          mapping: "pathname",
          strict: "0",
          reactions: "1",
          metadata: "0",
          inputPosition: "bottom",
          theme: "preferred_color_scheme",
          lang: "en",
          loading: "lazy"
        }
      },
      features: {
        commandPalette: true,
        readingTime: true,
        linkedMentions: true,
        linkedMentionsCompact: false,
        comments: false,
        graphView: true,
        postNavigation: true,
        hideScrollBar: false,
        scrollToTop: true,
        featureButton: "mode",
        showSocialIconsInFooter: true,
        showPostCardCoverImages: "featured-and-posts",
        postCardAspectRatio: "og",
        profilePicture: false,
        quickActions: {
          enabled: true,
          toggleMode: true,
          graphView: true,
          changeTheme: true
        }
      },
      typography: {
        headingFont: "Inter",
        proseFont: "Inter",
        monoFont: "JetBrains Mono",
        fontSource: "local",
        fontDisplay: "swap",
        customFonts: {
          heading: "",
          prose: "",
          mono: "",
          urls: ""
        }
      },
      optionalFeatures: {
        profilePicture: {
          enabled: false,
          image: "/profile.jpg",
          alt: "Profile picture",
          size: "md",
          url: "",
          placement: "footer",
          style: "circle"
        },
        comments: {
          enabled: false,
          provider: "giscus",
          rawScript: "",
          repo: "davidvkimball/astro-modular",
          repoId: "R_kgDOPllfKw",
          category: "General",
          categoryId: "DIC_kwDOPllfK84CvUpx",
          mapping: "pathname",
          strict: "0",
          reactions: "1",
          metadata: "0",
          inputPosition: "bottom",
          theme: "preferred_color_scheme",
          lang: "en",
          loading: "lazy"
        }
      },
      deployment: {
        platform: "netlify"
      },
      pluginConfig: {
        obsidianSettings: {
          attachmentLocation: "subfolder",
          subfolderName: "attachments"
        },
        astroComposerSettings: {
          creationMode: "file",
          indexFileName: "index"
        },
        imageManagerSettings: {
          customPropertyLinkFormat: "[[attachments/{image-url}]]"
        }
      },
      optionalContentTypes: {
        projects: true,
        // Will be overridden based on template
        docs: true
        // Will be overridden based on template
      },
      availableThemes: "default",
      customThemes: "",
      customThemeGenerationEnabled: false,
      removeRibbonIcon: false
    };
    THEME_OPTIONS = [
      {
        id: "oxygen",
        name: "Oxygen",
        description: "Modern, clean design",
        previewColors: ["#075985", "#38bdf8"],
        backgroundColorLight: "#f8fafc",
        backgroundColorDark: "#020617"
      },
      {
        id: "minimal",
        name: "Minimal",
        description: "Understated with high contrast",
        previewColors: ["#2d383c", "#87bfcf"],
        backgroundColorLight: "#fafafa",
        backgroundColorDark: "#1a1a1a"
      },
      {
        id: "atom",
        name: "Atom",
        description: "Dark theme with vibrant accents",
        previewColors: ["#075985", "#578af2"],
        backgroundColorLight: "#f8fafc",
        backgroundColorDark: "#181a1f"
      },
      {
        id: "ayu",
        name: "Ayu",
        description: "Clean theme with warm colors",
        previewColors: ["#99521a", "#ff9933"],
        backgroundColorLight: "#f8f8f0",
        backgroundColorDark: "#0f1419"
      },
      {
        id: "catppuccin",
        name: "Catppuccin",
        description: "Pastel color palette",
        previewColors: ["#95624f", "#df7763"],
        backgroundColorLight: "#fef7ed",
        backgroundColorDark: "#181825"
      },
      {
        id: "charcoal",
        name: "Charcoal",
        description: "Dark, professional look",
        previewColors: ["#202020", "#c0c0c0"],
        backgroundColorLight: "#f8f8f8",
        backgroundColorDark: "#000000"
      },
      {
        id: "dracula",
        name: "Dracula",
        description: "Dark theme with purple accents",
        previewColors: ["#7c3aed", "#a78bfa"],
        backgroundColorLight: "#f8f8f2",
        backgroundColorDark: "#191a21"
      },
      {
        id: "everforest",
        name: "Everforest",
        description: "Soft, warm colors",
        previewColors: ["#5a7a5a", "#83c092"],
        backgroundColorLight: "#f7f6f3",
        backgroundColorDark: "#2d353b"
      },
      {
        id: "flexoki",
        name: "Flexoki",
        description: "Based on Material Design 3",
        previewColors: ["#16504a", "#4dbdb5"],
        backgroundColorLight: "#fefefe",
        backgroundColorDark: "#100f0f"
      },
      {
        id: "gruvbox",
        name: "Gruvbox",
        description: "Retro groove color scheme",
        previewColors: ["#7a5412", "#f78b33"],
        backgroundColorLight: "#fbf1c7",
        backgroundColorDark: "#1d2021"
      },
      {
        id: "macos",
        name: "macOS",
        description: "Native macOS appearance",
        previewColors: ["#002e66", "#339fff"],
        backgroundColorLight: "#f5f5f7",
        backgroundColorDark: "#141414"
      },
      {
        id: "nord",
        name: "Nord",
        description: "Arctic-inspired color palette",
        previewColors: ["#2e4c63", "#5e94b8"],
        backgroundColorLight: "#f8fafc",
        backgroundColorDark: "#2e3440"
      },
      {
        id: "obsidian",
        name: "Obsidian",
        description: "Matches Obsidian's default theme",
        previewColors: ["#522994", "#9c75ff"],
        backgroundColorLight: "#f8f8f8",
        backgroundColorDark: "#0a0a0a"
      },
      {
        id: "rose-pine",
        name: "Ros\xE9 Pine",
        description: "All natural pine, faux fir, and winter",
        previewColors: ["#ab2142", "#ef97a9"],
        backgroundColorLight: "#faf4ed",
        backgroundColorDark: "#191724"
      },
      {
        id: "sky",
        name: "Sky",
        description: "Light, airy design",
        previewColors: ["#136194", "#46aad0"],
        backgroundColorLight: "#f0f9ff",
        backgroundColorDark: "#232729"
      },
      {
        id: "solarized",
        name: "Solarized",
        description: "Precision colors for machines and people",
        previewColors: ["#0e3754", "#339fff"],
        backgroundColorLight: "#fdf6e3",
        backgroundColorDark: "#002b36"
      },
      {
        id: "things",
        name: "Things",
        description: "Clean, minimal design",
        previewColors: ["#1e3a8a", "#4d95f7"],
        backgroundColorLight: "#f8fafc",
        backgroundColorDark: "#17191c"
      },
      {
        id: "custom",
        name: "Custom",
        description: "Use a custom theme file",
        previewColors: ["#666666", "#999999"],
        backgroundColorLight: "#ffffff",
        backgroundColorDark: "#000000"
      }
    ];
    TEMPLATE_OPTIONS = [
      {
        id: "standard",
        name: "Standard",
        description: "Full-featured blog with all default options enabled",
        features: ["Command palette", "Table of contents", "Reading time", "Linked mentions", "Footer", "Social icons", "Scroll to top", "Dark mode toggle"],
        recommended: true
      },
      {
        id: "compact",
        name: "Compact",
        description: "Balanced setup for smaller sites with optimized layout",
        features: ["Command palette", "Table of contents", "Reading time", "Compact linked mentions", "Custom aspect ratio"],
        recommended: false
      },
      {
        id: "minimal",
        name: "Minimal",
        description: "Clean, simple blog with minimal features and content",
        features: ["Command palette", "Search posts/pages", "Minimal navigation"],
        recommended: false
      }
    ];
  }
});

// src/ui/wizard/WizardState.ts
var WizardStateManager;
var init_WizardState = __esm({
  "src/ui/wizard/WizardState.ts"() {
    "use strict";
    WizardStateManager = class {
      constructor(plugin) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;
        this.plugin = plugin;
        const settings = plugin.settings;
        this.state = {
          currentStep: 1,
          totalSteps: 10,
          selectedTemplate: settings.currentTemplate,
          selectedTheme: settings.currentTheme,
          selectedContentOrg: settings.contentOrganization,
          selectedSiteInfo: settings.siteInfo,
          selectedNavigation: settings.navigation,
          selectedFeatures: (() => {
            var _a2, _b2;
            const templateFeatures = {
              "standard": {
                commandPalette: true,
                readingTime: true,
                linkedMentions: true,
                linkedMentionsCompact: false,
                graphView: true,
                postNavigation: true,
                hideScrollBar: false,
                scrollToTop: true,
                showSocialIconsInFooter: true,
                profilePicture: false,
                comments: false,
                featureButton: "mode",
                showPostCardCoverImages: "featured-and-posts",
                postCardAspectRatio: "og",
                customPostCardAspectRatio: "2.5/1",
                quickActions: {
                  enabled: true,
                  toggleMode: true,
                  graphView: true,
                  changeTheme: true
                }
              },
              "compact": {
                commandPalette: true,
                readingTime: true,
                linkedMentions: true,
                linkedMentionsCompact: true,
                graphView: false,
                postNavigation: true,
                hideScrollBar: false,
                scrollToTop: true,
                showSocialIconsInFooter: false,
                profilePicture: false,
                comments: false,
                featureButton: "none",
                showPostCardCoverImages: "featured-and-posts",
                postCardAspectRatio: "og",
                customPostCardAspectRatio: "2.5/1",
                quickActions: {
                  enabled: true,
                  toggleMode: true,
                  graphView: true,
                  changeTheme: true
                }
              },
              "minimal": {
                commandPalette: true,
                readingTime: false,
                linkedMentions: false,
                linkedMentionsCompact: false,
                graphView: false,
                postNavigation: false,
                hideScrollBar: true,
                scrollToTop: true,
                showSocialIconsInFooter: false,
                profilePicture: false,
                comments: false,
                featureButton: "none",
                showPostCardCoverImages: "featured-and-posts",
                postCardAspectRatio: "og",
                customPostCardAspectRatio: "2.5/1",
                quickActions: {
                  enabled: true,
                  toggleMode: true,
                  graphView: true,
                  changeTheme: true
                }
              },
              "custom": {
                // For custom, use current settings
                ...settings.features
              }
            };
            const templateFeaturesResult = templateFeatures[settings.currentTemplate] || templateFeatures["standard"];
            if ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.profilePicture) {
              templateFeaturesResult.profilePicture = settings.optionalFeatures.profilePicture.enabled;
            }
            if ((_b2 = settings.optionalFeatures) == null ? void 0 : _b2.comments) {
              templateFeaturesResult.comments = settings.optionalFeatures.comments.enabled;
            }
            return templateFeaturesResult;
          })(),
          selectedTypography: settings.typography,
          selectedOptionalFeatures: {
            profilePicture: {
              enabled: ((_b = (_a = settings.optionalFeatures) == null ? void 0 : _a.profilePicture) == null ? void 0 : _b.enabled) || false,
              image: ((_d = (_c = settings.optionalFeatures) == null ? void 0 : _c.profilePicture) == null ? void 0 : _d.image) || "/profile.jpg",
              alt: ((_f = (_e = settings.optionalFeatures) == null ? void 0 : _e.profilePicture) == null ? void 0 : _f.alt) || "Profile picture",
              size: ((_h = (_g = settings.optionalFeatures) == null ? void 0 : _g.profilePicture) == null ? void 0 : _h.size) || "md",
              url: ((_j = (_i = settings.optionalFeatures) == null ? void 0 : _i.profilePicture) == null ? void 0 : _j.url) || "",
              placement: ((_l = (_k = settings.optionalFeatures) == null ? void 0 : _k.profilePicture) == null ? void 0 : _l.placement) || "footer",
              style: ((_n = (_m = settings.optionalFeatures) == null ? void 0 : _m.profilePicture) == null ? void 0 : _n.style) || "circle"
            },
            comments: (() => {
              var _a2, _b2, _c2;
              const commentsEnabled = ((_b2 = (_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) == null ? void 0 : _b2.enabled) || false;
              const existingComments = (_c2 = settings.optionalFeatures) == null ? void 0 : _c2.comments;
              if (!commentsEnabled) {
                return {
                  enabled: false,
                  provider: (existingComments == null ? void 0 : existingComments.provider) || "giscus",
                  rawScript: (existingComments == null ? void 0 : existingComments.rawScript) || "",
                  repo: (existingComments == null ? void 0 : existingComments.repo) || "",
                  repoId: (existingComments == null ? void 0 : existingComments.repoId) || "",
                  category: (existingComments == null ? void 0 : existingComments.category) || "",
                  categoryId: (existingComments == null ? void 0 : existingComments.categoryId) || "",
                  mapping: (existingComments == null ? void 0 : existingComments.mapping) || "",
                  strict: (existingComments == null ? void 0 : existingComments.strict) || "",
                  reactions: (existingComments == null ? void 0 : existingComments.reactions) || "",
                  metadata: (existingComments == null ? void 0 : existingComments.metadata) || "",
                  inputPosition: (existingComments == null ? void 0 : existingComments.inputPosition) || "",
                  theme: (existingComments == null ? void 0 : existingComments.theme) || "",
                  lang: (existingComments == null ? void 0 : existingComments.lang) || "",
                  loading: (existingComments == null ? void 0 : existingComments.loading) || ""
                };
              }
              return {
                enabled: true,
                provider: (existingComments == null ? void 0 : existingComments.provider) || "giscus",
                rawScript: (existingComments == null ? void 0 : existingComments.rawScript) || "",
                repo: (existingComments == null ? void 0 : existingComments.repo) || "davidvkimball/astro-modular",
                repoId: (existingComments == null ? void 0 : existingComments.repoId) || "R_kgDOPllfKw",
                category: (existingComments == null ? void 0 : existingComments.category) || "General",
                categoryId: (existingComments == null ? void 0 : existingComments.categoryId) || "DIC_kwDOPllfK84CvUpx",
                mapping: (existingComments == null ? void 0 : existingComments.mapping) || "pathname",
                strict: (existingComments == null ? void 0 : existingComments.strict) || "0",
                reactions: (existingComments == null ? void 0 : existingComments.reactions) || "1",
                metadata: (existingComments == null ? void 0 : existingComments.metadata) || "0",
                inputPosition: (existingComments == null ? void 0 : existingComments.inputPosition) || "bottom",
                theme: (existingComments == null ? void 0 : existingComments.theme) || "preferred_color_scheme",
                lang: (existingComments == null ? void 0 : existingComments.lang) || "en",
                loading: (existingComments == null ? void 0 : existingComments.loading) || "lazy"
              };
            })()
          },
          selectedOptionalContentTypes: (() => {
            const isStandard = settings.currentTemplate === "standard";
            return {
              projects: isStandard,
              docs: isStandard
            };
          })(),
          selectedDeployment: settings.deployment.platform,
          runWizardOnStartup: settings.runWizardOnStartup
        };
      }
      getState() {
        return this.state;
      }
      updateState(updates) {
        this.state = { ...this.state, ...updates };
      }
      setState(updates) {
        this.state = { ...this.state, ...updates };
      }
      nextStep() {
        if (this.state.currentStep < this.state.totalSteps) {
          this.state.currentStep++;
        }
      }
      previousStep() {
        if (this.state.currentStep > 1) {
          this.state.currentStep--;
        }
      }
      canGoNext() {
        return this.state.currentStep < this.state.totalSteps;
      }
      canGoPrevious() {
        return this.state.currentStep > 1;
      }
      getProgress() {
        return this.state.currentStep / this.state.totalSteps * 100;
      }
      refreshState() {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;
        const settings = this.plugin.settings;
        this.state.selectedTemplate = settings.currentTemplate;
        this.state.selectedTheme = settings.currentTheme;
        this.state.selectedContentOrg = settings.contentOrganization;
        this.state.selectedSiteInfo = settings.siteInfo;
        this.state.selectedNavigation = settings.navigation;
        this.state.selectedTypography = settings.typography;
        this.state.selectedDeployment = settings.deployment.platform;
        this.state.runWizardOnStartup = settings.runWizardOnStartup;
        const templateFeatures = {
          "standard": {
            commandPalette: true,
            readingTime: true,
            linkedMentions: true,
            linkedMentionsCompact: false,
            graphView: true,
            postNavigation: true,
            hideScrollBar: false,
            scrollToTop: true,
            showSocialIconsInFooter: true,
            profilePicture: false,
            comments: false,
            featureButton: "mode",
            showPostCardCoverImages: "featured-and-posts",
            postCardAspectRatio: "og",
            customPostCardAspectRatio: "2.5/1",
            quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
          },
          "compact": {
            commandPalette: true,
            readingTime: true,
            linkedMentions: true,
            linkedMentionsCompact: true,
            graphView: false,
            postNavigation: true,
            hideScrollBar: false,
            scrollToTop: true,
            showSocialIconsInFooter: false,
            profilePicture: false,
            comments: false,
            featureButton: "none",
            showPostCardCoverImages: "featured-and-posts",
            postCardAspectRatio: "og",
            customPostCardAspectRatio: "2.5/1",
            quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
          },
          "minimal": {
            commandPalette: true,
            readingTime: false,
            linkedMentions: false,
            linkedMentionsCompact: false,
            graphView: false,
            postNavigation: false,
            hideScrollBar: true,
            scrollToTop: true,
            showSocialIconsInFooter: false,
            profilePicture: false,
            comments: false,
            featureButton: "none",
            showPostCardCoverImages: "featured-and-posts",
            postCardAspectRatio: "og",
            customPostCardAspectRatio: "2.5/1",
            quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
          }
        };
        const templateFeaturesResult = templateFeatures[settings.currentTemplate] || templateFeatures["standard"];
        if ((_a = settings.optionalFeatures) == null ? void 0 : _a.profilePicture) {
          templateFeaturesResult.profilePicture = settings.optionalFeatures.profilePicture.enabled;
        }
        if ((_b = settings.optionalFeatures) == null ? void 0 : _b.comments) {
          templateFeaturesResult.comments = settings.optionalFeatures.comments.enabled;
        }
        this.state.selectedFeatures = templateFeaturesResult;
        this.state.selectedOptionalFeatures = {
          profilePicture: {
            enabled: ((_d = (_c = settings.optionalFeatures) == null ? void 0 : _c.profilePicture) == null ? void 0 : _d.enabled) || false,
            image: ((_f = (_e = settings.optionalFeatures) == null ? void 0 : _e.profilePicture) == null ? void 0 : _f.image) || "/profile.jpg",
            alt: ((_h = (_g = settings.optionalFeatures) == null ? void 0 : _g.profilePicture) == null ? void 0 : _h.alt) || "Profile picture",
            size: ((_j = (_i = settings.optionalFeatures) == null ? void 0 : _i.profilePicture) == null ? void 0 : _j.size) || "md",
            url: ((_l = (_k = settings.optionalFeatures) == null ? void 0 : _k.profilePicture) == null ? void 0 : _l.url) || "",
            placement: ((_n = (_m = settings.optionalFeatures) == null ? void 0 : _m.profilePicture) == null ? void 0 : _n.placement) || "footer",
            style: ((_p = (_o = settings.optionalFeatures) == null ? void 0 : _o.profilePicture) == null ? void 0 : _p.style) || "circle"
          },
          comments: (() => {
            var _a2, _b2, _c2;
            const commentsEnabled = ((_b2 = (_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) == null ? void 0 : _b2.enabled) || false;
            const existingComments = (_c2 = settings.optionalFeatures) == null ? void 0 : _c2.comments;
            if (!commentsEnabled) {
              return {
                enabled: false,
                provider: (existingComments == null ? void 0 : existingComments.provider) || "giscus",
                rawScript: (existingComments == null ? void 0 : existingComments.rawScript) || "",
                repo: (existingComments == null ? void 0 : existingComments.repo) || "",
                repoId: (existingComments == null ? void 0 : existingComments.repoId) || "",
                category: (existingComments == null ? void 0 : existingComments.category) || "",
                categoryId: (existingComments == null ? void 0 : existingComments.categoryId) || "",
                mapping: (existingComments == null ? void 0 : existingComments.mapping) || "",
                strict: (existingComments == null ? void 0 : existingComments.strict) || "",
                reactions: (existingComments == null ? void 0 : existingComments.reactions) || "",
                metadata: (existingComments == null ? void 0 : existingComments.metadata) || "",
                inputPosition: (existingComments == null ? void 0 : existingComments.inputPosition) || "",
                theme: (existingComments == null ? void 0 : existingComments.theme) || "",
                lang: (existingComments == null ? void 0 : existingComments.lang) || "",
                loading: (existingComments == null ? void 0 : existingComments.loading) || ""
              };
            }
            return {
              enabled: true,
              provider: (existingComments == null ? void 0 : existingComments.provider) || "giscus",
              rawScript: (existingComments == null ? void 0 : existingComments.rawScript) || "",
              repo: (existingComments == null ? void 0 : existingComments.repo) || "davidvkimball/astro-modular",
              repoId: (existingComments == null ? void 0 : existingComments.repoId) || "R_kgDOPllfKw",
              category: (existingComments == null ? void 0 : existingComments.category) || "General",
              categoryId: (existingComments == null ? void 0 : existingComments.categoryId) || "DIC_kwDOPllfK84CvUpx",
              mapping: (existingComments == null ? void 0 : existingComments.mapping) || "pathname",
              strict: (existingComments == null ? void 0 : existingComments.strict) || "0",
              reactions: (existingComments == null ? void 0 : existingComments.reactions) || "1",
              metadata: (existingComments == null ? void 0 : existingComments.metadata) || "0",
              inputPosition: (existingComments == null ? void 0 : existingComments.inputPosition) || "bottom",
              theme: (existingComments == null ? void 0 : existingComments.theme) || "preferred_color_scheme",
              lang: (existingComments == null ? void 0 : existingComments.lang) || "en",
              loading: (existingComments == null ? void 0 : existingComments.loading) || "lazy"
            };
          })()
        };
        const isStandard = settings.currentTemplate === "standard";
        this.state.selectedOptionalContentTypes = {
          projects: isStandard,
          docs: isStandard
        };
      }
      buildFinalSettings() {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        const settings = this.plugin.settings;
        const originalTemplate = settings.currentTemplate;
        settings.currentTemplate = this.state.selectedTemplate;
        settings.currentTheme = this.state.selectedTheme;
        settings.contentOrganization = this.state.selectedContentOrg;
        settings.siteInfo = this.state.selectedSiteInfo;
        settings.navigation = this.state.selectedNavigation;
        settings.features = this.state.selectedFeatures;
        settings.typography = this.state.selectedTypography;
        settings.optionalFeatures = this.state.selectedOptionalFeatures;
        settings.deployment.platform = this.state.selectedDeployment;
        settings.runWizardOnStartup = this.state.runWizardOnStartup;
        if (this.state.selectedFeatures) {
          if ((_a = settings.postOptions) == null ? void 0 : _a.graphView) {
            settings.postOptions.graphView.enabled = (_b = this.state.selectedFeatures.graphView) != null ? _b : false;
          }
          if ((_c = settings.postOptions) == null ? void 0 : _c.linkedMentions) {
            settings.postOptions.linkedMentions.enabled = (_d = this.state.selectedFeatures.linkedMentions) != null ? _d : false;
            settings.postOptions.linkedMentions.linkedMentionsCompact = (_e = this.state.selectedFeatures.linkedMentionsCompact) != null ? _e : false;
          }
          if (((_f = settings.commandPalette) == null ? void 0 : _f.quickActions) && this.state.selectedFeatures.quickActions) {
            settings.commandPalette.quickActions = {
              ...settings.commandPalette.quickActions,
              ...this.state.selectedFeatures.quickActions
            };
          }
        }
        if (this.state.selectedTemplate !== originalTemplate) {
          const templatePreset = this.plugin.configManager.getTemplatePreset(this.state.selectedTemplate);
          if (templatePreset && templatePreset.config) {
            if (templatePreset.config.tableOfContents) {
              settings.tableOfContents = { ...settings.tableOfContents, ...templatePreset.config.tableOfContents };
            }
          }
        }
        if ((_g = settings.optionalFeatures) == null ? void 0 : _g.profilePicture) {
          settings.features.profilePicture = settings.optionalFeatures.profilePicture.enabled;
        }
        if ((_h = settings.optionalFeatures) == null ? void 0 : _h.comments) {
          settings.features.comments = settings.optionalFeatures.comments.enabled;
          if (!settings.postOptions) {
            settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: { ...settings.optionalFeatures.comments } };
          } else if (!settings.postOptions.comments) {
            settings.postOptions.comments = { ...settings.optionalFeatures.comments };
          } else {
            settings.postOptions.comments.enabled = settings.optionalFeatures.comments.enabled;
            Object.assign(settings.postOptions.comments, settings.optionalFeatures.comments);
          }
        }
        settings.optionalContentTypes = this.state.selectedOptionalContentTypes;
      }
    };
  }
});

// src/ui/wizard/BaseWizardStep.ts
var BaseWizardStep;
var init_BaseWizardStep = __esm({
  "src/ui/wizard/BaseWizardStep.ts"() {
    "use strict";
    BaseWizardStep = class {
      constructor(app, modal, stateManager, plugin) {
        this.app = app;
        this.modal = modal;
        this.stateManager = stateManager;
        this.plugin = plugin;
      }
      nextStep() {
        this.stateManager.nextStep();
        this.modal.close();
      }
      previousStep() {
        this.stateManager.previousStep();
        this.modal.close();
      }
      updateState(updates) {
        this.stateManager.updateState(updates);
      }
      getState() {
        return this.stateManager.getState();
      }
    };
  }
});

// src/ui/wizard/WelcomeStep.ts
var WelcomeStep;
var init_WelcomeStep = __esm({
  "src/ui/wizard/WelcomeStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    WelcomeStep = class extends BaseWizardStep {
      render(container) {
        var _a, _b, _c, _d, _e, _f;
        const state = this.getState();
        const welcomeContent = container.createDiv("welcome-content");
        welcomeContent.createEl("h2", { text: "Welcome to Astro Modular!" });
        welcomeContent.createEl("p", { text: "This wizard will help you set up your Astro Modular theme with the perfect configuration for your needs." });
        const checkboxOption = welcomeContent.createDiv("checkbox-option");
        const checkbox = checkboxOption.createEl("input", { type: "checkbox" });
        checkbox.id = "run-wizard-startup";
        if (state.runWizardOnStartup) {
          checkbox.setAttribute("checked", "checked");
        }
        const label = checkboxOption.createEl("label", { text: "Run this wizard on startup" });
        label.setAttribute("for", "run-wizard-startup");
        const siteInfoForm = welcomeContent.createDiv("site-info-form");
        siteInfoForm.createEl("h3", { text: "Site information" });
        const urlGroup = siteInfoForm.createDiv("form-group");
        const urlLabel = urlGroup.createEl("label", { text: "URL" });
        urlLabel.setAttribute("for", "site-url");
        const urlInput = urlGroup.createEl("input", { type: "text" });
        urlInput.id = "site-url";
        urlInput.placeholder = "https://astro-modular.netlify.app";
        urlInput.setAttribute("value", state.selectedSiteInfo.site);
        const titleGroup = siteInfoForm.createDiv("form-group");
        const titleLabel = titleGroup.createEl("label", { text: "Title" });
        titleLabel.setAttribute("for", "site-title");
        const titleInput = titleGroup.createEl("input", { type: "text" });
        titleInput.id = "site-title";
        titleInput.placeholder = "Astro Modular";
        titleInput.setAttribute("value", state.selectedSiteInfo.title);
        const descGroup = siteInfoForm.createDiv("form-group");
        const descLabel = descGroup.createEl("label", { text: "Description" });
        descLabel.setAttribute("for", "site-description");
        const descInput = descGroup.createEl("input", { type: "text" });
        descInput.id = "site-description";
        descInput.placeholder = "A flexible blog theme designed for Obsidian users.";
        descInput.setAttribute("value", state.selectedSiteInfo.description);
        const authorGroup = siteInfoForm.createDiv("form-group");
        const authorLabel = authorGroup.createEl("label", { text: "Author name" });
        authorLabel.setAttribute("for", "site-author");
        const authorInput = authorGroup.createEl("input", { type: "text" });
        authorInput.id = "site-author";
        authorInput.placeholder = "David V. Kimball";
        authorInput.setAttribute("value", state.selectedSiteInfo.author);
        const langGroup = siteInfoForm.createDiv("form-group");
        const langLabel = langGroup.createEl("label", { text: "Language" });
        langLabel.setAttribute("for", "site-language");
        const langInput = langGroup.createEl("input", { type: "text" });
        langInput.id = "site-language";
        langInput.placeholder = "en";
        langInput.setAttribute("value", state.selectedSiteInfo.language);
        (_a = container.querySelector("#run-wizard-startup")) == null ? void 0 : _a.addEventListener("change", (e) => {
          const target = e.target;
          this.updateState({ runWizardOnStartup: target.checked });
        });
        (_b = container.querySelector("#site-url")) == null ? void 0 : _b.addEventListener("input", (e) => {
          const currentState = this.getState();
          this.updateState({
            selectedSiteInfo: {
              ...currentState.selectedSiteInfo,
              site: e.target.value
            }
          });
        });
        (_c = container.querySelector("#site-title")) == null ? void 0 : _c.addEventListener("input", (e) => {
          const currentState = this.getState();
          this.updateState({
            selectedSiteInfo: {
              ...currentState.selectedSiteInfo,
              title: e.target.value
            }
          });
        });
        (_d = container.querySelector("#site-description")) == null ? void 0 : _d.addEventListener("input", (e) => {
          const currentState = this.getState();
          this.updateState({
            selectedSiteInfo: {
              ...currentState.selectedSiteInfo,
              description: e.target.value
            }
          });
        });
        (_e = container.querySelector("#site-author")) == null ? void 0 : _e.addEventListener("input", (e) => {
          const currentState = this.getState();
          this.updateState({
            selectedSiteInfo: {
              ...currentState.selectedSiteInfo,
              author: e.target.value
            }
          });
        });
        (_f = container.querySelector("#site-language")) == null ? void 0 : _f.addEventListener("input", (e) => {
          const currentState = this.getState();
          this.updateState({
            selectedSiteInfo: {
              ...currentState.selectedSiteInfo,
              language: e.target.value
            }
          });
        });
      }
    };
  }
});

// src/ui/wizard/TemplateStep.ts
var import_obsidian, TemplateStep;
var init_TemplateStep = __esm({
  "src/ui/wizard/TemplateStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    init_types();
    import_obsidian = require("obsidian");
    TemplateStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const templateSelectionDiv = container.createDiv("template-selection");
        templateSelectionDiv.createEl("h2", { text: "Choose your preset" });
        templateSelectionDiv.createEl("p", { text: "Select a preset that best fits your content type and goals." });
        const templateOptions = templateSelectionDiv.createDiv("template-options");
        TEMPLATE_OPTIONS.forEach((template) => {
          const templateOption = templateOptions.createDiv("template-option");
          if (state.selectedTemplate === template.id) {
            templateOption.addClass("selected");
          }
          templateOption.setAttribute("data-template", template.id);
          const templateHeader = templateOption.createDiv("template-header");
          templateHeader.createEl("h3", { text: template.name });
          if (template.recommended) {
            templateHeader.createEl("span", { text: "Default", cls: "recommended" });
          }
          templateOption.createEl("p", { text: template.description, cls: "template-description" });
          const templateFeatures = templateOption.createDiv("template-features");
          template.features.forEach((feature) => {
            templateFeatures.createEl("span", { text: feature, cls: "feature-tag" });
          });
          templateOption.addEventListener("click", () => {
            const templateId = template.id;
            this.updateState({ selectedTemplate: templateId });
            const isStandard = templateId === "standard";
            this.updateState({
              selectedOptionalContentTypes: {
                projects: isStandard,
                docs: isStandard
              }
            });
            this.syncFeaturesWithTemplate(templateId);
            this.render(container);
          });
        });
        const templateSelectionEl = container.querySelector(".template-selection");
        if (templateSelectionEl) {
          const setting = new import_obsidian.Setting(templateSelectionEl).setName("Edit config.ts directly (advanced)").setDesc("Skip the wizard and edit your Astro configuration file directly.").addButton((button) => button.setButtonText("Edit config.ts").onClick(() => {
            this.openConfigFile();
          }));
          const settingEl = setting.settingEl;
          if (settingEl) {
            settingEl.setCssProps({ marginTop: "2rem" });
          }
        }
      }
      syncFeaturesWithTemplate(template) {
        const pluginInstance = this.plugin;
        const templatePreset = pluginInstance.configManager.getTemplatePreset(template);
        if (!templatePreset || !templatePreset.config || !templatePreset.config.features) {
          console.error("Template preset not found:", template);
          return;
        }
        this.updateState({
          selectedFeatures: templatePreset.config.features
        });
      }
      async updatePluginSettingsWithTemplate(template) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A;
        const pluginForUpdate = this.plugin;
        const settings = pluginForUpdate.settings;
        const templatePreset = pluginForUpdate.configManager.getTemplatePreset(template);
        if (!templatePreset || !templatePreset.config) {
          console.error("Template preset not found:", template);
          return;
        }
        const templateConfig = pluginForUpdate.configManager.getTemplateConfig(template, settings);
        if (templatePreset.config.features) {
          const currentComments = settings.features.comments;
          const currentProfilePicture = settings.features.profilePicture;
          settings.features = { ...settings.features, ...templatePreset.config.features };
          settings.features.comments = currentComments;
          settings.features.profilePicture = currentProfilePicture;
          if ((_a = settings.postOptions) == null ? void 0 : _a.graphView) {
            settings.postOptions.graphView.enabled = (_b = templatePreset.config.features.graphView) != null ? _b : false;
            settings.features.graphView = settings.postOptions.graphView.enabled;
          }
          if ((_c = settings.postOptions) == null ? void 0 : _c.linkedMentions) {
            settings.postOptions.linkedMentions.enabled = (_d = templatePreset.config.features.linkedMentions) != null ? _d : false;
            settings.postOptions.linkedMentions.linkedMentionsCompact = (_e = templatePreset.config.features.linkedMentionsCompact) != null ? _e : false;
          }
          if (((_f = settings.commandPalette) == null ? void 0 : _f.quickActions) && templatePreset.config.features.quickActions) {
            settings.commandPalette.quickActions = { ...settings.commandPalette.quickActions, ...templatePreset.config.features.quickActions };
          }
        }
        if (templateConfig.commandPalette && typeof templateConfig.commandPalette === "object") {
          const commandPalette = templateConfig.commandPalette;
          settings.commandPalette = {
            ...settings.commandPalette,
            enabled: (_g = commandPalette.enabled) != null ? _g : settings.commandPalette.enabled,
            placeholder: (_h = commandPalette.placeholder) != null ? _h : settings.commandPalette.placeholder,
            shortcut: (_i = commandPalette.shortcut) != null ? _i : settings.commandPalette.shortcut,
            search: {
              ...settings.commandPalette.search,
              ...commandPalette.search && typeof commandPalette.search === "object" ? commandPalette.search : {}
            },
            sections: {
              ...settings.commandPalette.sections,
              ...commandPalette.sections && typeof commandPalette.sections === "object" ? commandPalette.sections : {}
            },
            quickActions: {
              ...settings.commandPalette.quickActions,
              ...((_j = templatePreset.config.features) == null ? void 0 : _j.quickActions) || {}
            }
          };
          if (templatePreset.config.features && templatePreset.config.features.quickActions) {
            settings.features.quickActions = {
              ...settings.features.quickActions,
              ...templatePreset.config.features.quickActions
            };
          }
        }
        if (templateConfig.homeOptions && typeof templateConfig.homeOptions === "object") {
          const homeOptions = templateConfig.homeOptions;
          settings.homeOptions = {
            ...settings.homeOptions,
            featuredPost: {
              ...settings.homeOptions.featuredPost,
              ...homeOptions.featuredPost && typeof homeOptions.featuredPost === "object" ? homeOptions.featuredPost : {}
            },
            recentPosts: {
              ...settings.homeOptions.recentPosts,
              ...homeOptions.recentPosts && typeof homeOptions.recentPosts === "object" ? homeOptions.recentPosts : {}
            },
            projects: {
              ...settings.homeOptions.projects,
              ...homeOptions.projects && typeof homeOptions.projects === "object" ? homeOptions.projects : {}
            },
            docs: {
              ...settings.homeOptions.docs,
              ...homeOptions.docs && typeof homeOptions.docs === "object" ? homeOptions.docs : {}
            },
            blurb: {
              ...settings.homeOptions.blurb,
              ...homeOptions.blurb && typeof homeOptions.blurb === "object" ? homeOptions.blurb : {}
            }
          };
        }
        if (templateConfig.postOptions && typeof templateConfig.postOptions === "object") {
          const postOptions = templateConfig.postOptions;
          settings.postOptions = {
            ...settings.postOptions,
            postsPerPage: (_k = postOptions.postsPerPage) != null ? _k : settings.postOptions.postsPerPage,
            readingTime: (_l = postOptions.readingTime) != null ? _l : settings.postOptions.readingTime,
            wordCount: (_m = postOptions.wordCount) != null ? _m : settings.postOptions.wordCount,
            tags: (_n = postOptions.tags) != null ? _n : settings.postOptions.tags,
            postNavigation: (_o = postOptions.postNavigation) != null ? _o : settings.postOptions.postNavigation,
            showPostCardCoverImages: (_p = postOptions.showPostCardCoverImages) != null ? _p : settings.postOptions.showPostCardCoverImages,
            postCardAspectRatio: (_q = postOptions.postCardAspectRatio) != null ? _q : settings.postOptions.postCardAspectRatio,
            linkedMentions: {
              ...settings.postOptions.linkedMentions,
              ...postOptions.linkedMentions && typeof postOptions.linkedMentions === "object" ? postOptions.linkedMentions : {}
            },
            graphView: {
              ...settings.postOptions.graphView,
              enabled: (_r = postOptions.graphView && typeof postOptions.graphView === "object" ? postOptions.graphView.enabled : void 0) != null ? _r : settings.postOptions.graphView.enabled,
              showInSidebar: (_s = postOptions.graphView && typeof postOptions.graphView === "object" ? postOptions.graphView.showInSidebar : void 0) != null ? _s : settings.postOptions.graphView.showInSidebar,
              maxNodes: (_t = postOptions.graphView && typeof postOptions.graphView === "object" ? postOptions.graphView.maxNodes : void 0) != null ? _t : settings.postOptions.graphView.maxNodes,
              showOrphanedPosts: (_u = postOptions.graphView && typeof postOptions.graphView === "object" ? postOptions.graphView.showOrphanedPosts : void 0) != null ? _u : settings.postOptions.graphView.showOrphanedPosts
            },
            comments: settings.postOptions.comments
            // Preserve comments
          };
        }
        if (templateConfig.navigation && typeof templateConfig.navigation === "object") {
          const navigation = templateConfig.navigation;
          settings.navigation = {
            ...settings.navigation,
            showNavigation: (_v = navigation.showNavigation) != null ? _v : settings.navigation.showNavigation,
            showMobileMenu: (_w = navigation.showMobileMenu) != null ? _w : settings.navigation.showMobileMenu,
            style: (_x = navigation.style) != null ? _x : settings.navigation.style
            // Preserve pages and social arrays from user settings
          };
        }
        if (templatePreset.config.tableOfContents) {
          settings.tableOfContents = { ...settings.tableOfContents, ...templatePreset.config.tableOfContents };
        }
        if (templateConfig.optionalContentTypes && typeof templateConfig.optionalContentTypes === "object") {
          const optionalContentTypes = templateConfig.optionalContentTypes;
          settings.optionalContentTypes = {
            projects: (_y = optionalContentTypes.projects) != null ? _y : false,
            docs: (_z = optionalContentTypes.docs) != null ? _z : false
          };
        }
        if (templateConfig.footer && typeof templateConfig.footer === "object") {
          const footer = templateConfig.footer;
          const showSocialIconsInFooter = (_A = footer.showSocialIconsInFooter) != null ? _A : settings.footer.showSocialIconsInFooter;
          settings.footer = {
            ...settings.footer,
            showSocialIconsInFooter
          };
          settings.features.showSocialIconsInFooter = showSocialIconsInFooter;
        }
        await this.plugin.saveData(settings);
        const pluginInstance = this.plugin;
        await pluginInstance.loadSettings();
        this.refreshSettingsTab();
      }
      refreshSettingsTab() {
        const plugin = this.plugin;
        const settingsTab = plugin.settingsTab;
        if (settingsTab && typeof settingsTab.display === "function") {
          settingsTab.display();
        }
      }
      openConfigFile() {
        try {
          const fs = require("fs");
          const path = require("path");
          const electronModule = require("electron");
          const shellRaw = electronModule.shell;
          const vaultAdapter = this.app.vault.adapter;
          const vaultPath = vaultAdapter.basePath || vaultAdapter.path;
          const vaultPathString = typeof vaultPath === "string" ? vaultPath : vaultPath ? String(vaultPath) : "";
          if (!shellRaw || typeof shellRaw !== "object" || !("openPath" in shellRaw) || typeof shellRaw.openPath !== "function") {
            throw new Error("Electron shell API not available");
          }
          const shell = shellRaw;
          const configPath = path.join(vaultPathString, "..", "config.ts");
          if (fs.existsSync(configPath)) {
            shell.openPath(configPath);
          } else {
            fs.writeFileSync(configPath, "// Astro Modular Configuration\n// Customize your settings here\n\nexport const siteConfig = {\n  // Add your configuration here\n};\n");
            shell.openPath(configPath);
          }
          new import_obsidian.Notice("Opening config.ts for direct editing");
          this.modal.close();
        } catch (error) {
          new import_obsidian.Notice(`Error opening config file: ${error instanceof Error ? error.message : String(error)}`);
        }
      }
    };
  }
});

// src/ui/wizard/ThemeStep.ts
var ThemeStep;
var init_ThemeStep = __esm({
  "src/ui/wizard/ThemeStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    init_types();
    ThemeStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const isDarkMode = this.isObsidianDarkMode();
        const wizardThemes = THEME_OPTIONS.filter((theme) => theme.id !== "custom");
        const themeSelection = container.createDiv("theme-selection");
        themeSelection.createEl("h2", { text: "Choose your theme" });
        themeSelection.createEl("p", { text: "Select a color scheme that matches your style and content." });
        const themeOptions = themeSelection.createDiv("theme-options");
        wizardThemes.forEach((theme) => {
          const themeOption = themeOptions.createDiv("theme-option");
          if (state.selectedTheme === theme.id) {
            themeOption.addClass("selected");
          }
          themeOption.setAttribute("data-theme", theme.id);
          themeOption.setCssProps({
            background: isDarkMode ? theme.backgroundColorDark : theme.backgroundColorLight
          });
          const themePreview = themeOption.createDiv("theme-preview");
          themePreview.setCssProps({
            background: `linear-gradient(135deg, ${theme.previewColors.join(", ")})`
          });
          const previewContent = themePreview.createDiv("theme-preview-content");
          const previewText = previewContent.createDiv("preview-text");
          previewText.textContent = "Sample text";
          const previewAccent = previewContent.createDiv("preview-accent");
          previewAccent.textContent = "Accent";
          const themeInfo = themeOption.createDiv("theme-info");
          themeInfo.createEl("h3", { text: theme.name });
          themeOption.addEventListener("click", () => {
            this.updateState({ selectedTheme: theme.id });
            this.render(container);
          });
        });
      }
      isObsidianDarkMode() {
        const body = document.body;
        const isDarkClass = body.classList.contains("theme-dark") || body.classList.contains("dark");
        const computedStyle = getComputedStyle(document.documentElement);
        const colorScheme = computedStyle.getPropertyValue("color-scheme").trim();
        const isDarkProperty = colorScheme === "dark";
        const bgColor = computedStyle.getPropertyValue("--background-primary").trim();
        const isDarkBackground = Boolean(bgColor && (bgColor.includes("#") && parseInt(bgColor.slice(1, 3), 16) < 128 || bgColor.includes("rgb") && bgColor.includes("0, 0, 0") || bgColor.includes("hsl") && bgColor.includes("0, 0%, 0%")));
        return isDarkClass || isDarkProperty || isDarkBackground;
      }
    };
  }
});

// src/ui/wizard/FontStep.ts
var import_obsidian2, FontStep;
var init_FontStep = __esm({
  "src/ui/wizard/FontStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    init_types();
    import_obsidian2 = require("obsidian");
    FontStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const fontSelection = container.createDiv("font-selection");
        fontSelection.createEl("h2", { text: "Choose your fonts" });
        fontSelection.createEl("p", { text: "Select fonts for headings, body text, and code." });
        const fontOptions = fontSelection.createDiv("font-options");
        const createFontDropdown = (name4, desc, currentValue, onChange) => {
          new import_obsidian2.Setting(fontOptions).setName(name4).setDesc(desc).addDropdown((dropdown) => {
            FONT_OPTIONS.forEach((font) => {
              dropdown.addOption(font, font);
            });
            dropdown.setValue(currentValue).onChange(onChange);
          });
        };
        createFontDropdown(
          "Heading Font",
          "Font for headings and titles",
          state.selectedTypography.headingFont,
          (value) => this.updateTypographySetting("headingFont", value, state)
        );
        createFontDropdown(
          "Body Font",
          "Font for body text and paragraphs",
          state.selectedTypography.proseFont,
          (value) => this.updateTypographySetting("proseFont", value, state)
        );
        createFontDropdown(
          "Monospace Font",
          "Font for code blocks and inline code",
          state.selectedTypography.monoFont,
          (value) => this.updateTypographySetting("monoFont", value, state)
        );
        new import_obsidian2.Setting(fontOptions).setName("Font source").setDesc("Choose how fonts are loaded").addDropdown((dropdown) => {
          dropdown.addOption("local", "Local (Google Fonts)");
          dropdown.addOption("cdn", "CDN (Custom)");
          dropdown.setValue(state.selectedTypography.fontSource).onChange((value) => {
            this.updateTypographySetting("fontSource", value, state);
            this.render(container);
          });
        });
        if (state.selectedTypography.fontSource === "cdn") {
          new import_obsidian2.Setting(fontOptions).setName("Custom font URLs").setDesc("Comma-separated URLs for custom fonts").addText((text) => {
            var _a;
            return text.setValue(((_a = state.selectedTypography.customFonts) == null ? void 0 : _a.urls) || "").setPlaceholder("https://fonts.googleapis.com/css2?family=Custom+Font:wght@400;600&display=swap").onChange((value) => this.updateCustomFontSetting("urls", value, state));
          });
          new import_obsidian2.Setting(fontOptions).setName("Custom heading font name").setDesc("Font family name for headings").addText((text) => {
            var _a;
            return text.setValue(((_a = state.selectedTypography.customFonts) == null ? void 0 : _a.heading) || "").setPlaceholder("Custom Heading Font").onChange((value) => this.updateCustomFontSetting("heading", value, state));
          });
          new import_obsidian2.Setting(fontOptions).setName("Custom body font name").setDesc("Font family name for body text").addText((text) => {
            var _a;
            return text.setValue(((_a = state.selectedTypography.customFonts) == null ? void 0 : _a.prose) || "").setPlaceholder("Custom Body Font").onChange((value) => this.updateCustomFontSetting("prose", value, state));
          });
          new import_obsidian2.Setting(fontOptions).setName("Custom monospace font name").setDesc("Font family name for code").addText((text) => {
            var _a;
            return text.setValue(((_a = state.selectedTypography.customFonts) == null ? void 0 : _a.mono) || "").setPlaceholder("Custom Monospace Font").onChange((value) => this.updateCustomFontSetting("mono", value, state));
          });
        }
      }
      updateTypographySetting(key, value, state) {
        const currentState = this.getState();
        this.updateState({
          selectedTypography: {
            ...currentState.selectedTypography,
            [key]: value
          }
        });
      }
      updateCustomFontSetting(key, value, state) {
        const currentState = this.getState();
        this.updateState({
          selectedTypography: {
            ...currentState.selectedTypography,
            customFonts: {
              ...currentState.selectedTypography.customFonts,
              [key]: value
            }
          }
        });
      }
    };
  }
});

// src/ui/wizard/ContentOrgStep.ts
var ContentOrgStep;
var init_ContentOrgStep = __esm({
  "src/ui/wizard/ContentOrgStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    ContentOrgStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const contentOrgSelection = container.createDiv("content-org-selection");
        contentOrgSelection.createEl("h2", { text: "Content organization" });
        contentOrgSelection.createEl("p", { text: "Choose how you want to organize your content and assets." });
        const orgOptions = contentOrgSelection.createDiv("org-options");
        const fileBasedOption = orgOptions.createDiv("org-option");
        if (state.selectedContentOrg === "file-based") {
          fileBasedOption.addClass("selected");
        }
        fileBasedOption.setAttribute("data-org", "file-based");
        const fileBasedHeader = fileBasedOption.createDiv("org-header");
        fileBasedHeader.createEl("h3", { text: "File-based" });
        fileBasedHeader.createEl("span", { text: "Default", cls: "default-badge" });
        fileBasedOption.createEl("p", { text: "Single markdown files with images in attachments subfolder" });
        const fileBasedExample = fileBasedOption.createDiv("org-example");
        const fileBasedPre = fileBasedExample.createEl("pre");
        fileBasedPre.createEl("code", { text: "posts/\n\u251C\u2500\u2500 my-post.md\n\u2514\u2500\u2500 attachments/\n    \u2514\u2500\u2500 image.jpg" });
        const folderBasedOption = orgOptions.createDiv("org-option");
        if (state.selectedContentOrg === "folder-based") {
          folderBasedOption.addClass("selected");
        }
        folderBasedOption.setAttribute("data-org", "folder-based");
        const folderBasedHeader = folderBasedOption.createDiv("org-header");
        folderBasedHeader.createEl("h3", { text: "Folder-based" });
        folderBasedOption.createEl("p", { text: "Each post gets its own folder with co-located assets" });
        const folderBasedExample = folderBasedOption.createDiv("org-example");
        const folderBasedPre = folderBasedExample.createEl("pre");
        folderBasedPre.createEl("code", { text: "posts/\n\u251C\u2500\u2500 my-post/\n\u2502   \u251C\u2500\u2500 index.md\n\u2502   \u2514\u2500\u2500 image.jpg\n\u2514\u2500\u2500 another-post/\n    \u251C\u2500\u2500 index.md\n    \u2514\u2500\u2500 image.jpg" });
        fileBasedOption.addEventListener("click", () => {
          this.updateState({ selectedContentOrg: "file-based" });
          this.render(container);
        });
        folderBasedOption.addEventListener("click", () => {
          this.updateState({ selectedContentOrg: "folder-based" });
          this.render(container);
        });
      }
    };
  }
});

// src/ui/wizard/NavigationStep.ts
var import_obsidian3, NavigationStep;
var init_NavigationStep = __esm({
  "src/ui/wizard/NavigationStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    import_obsidian3 = require("obsidian");
    NavigationStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const navigationSelection = container.createDiv("navigation-selection");
        navigationSelection.createEl("h2", { text: "Navigation setup" });
        navigationSelection.createEl("p", { text: "Configure your site navigation and social links." });
        const navigationSections = navigationSelection.createDiv("navigation-sections");
        const pagesSection = navigationSections.createDiv("nav-section");
        pagesSection.createEl("h3", { text: "Navigation pages" });
        pagesSection.createEl("p", { text: "Add pages to your main navigation menu. Leave URL empty to create dropdown-only parents." });
        const pagesList = pagesSection.createDiv("nav-items");
        pagesList.id = "pages-list";
        state.selectedNavigation.pages.forEach((page, index) => {
          this.renderPageItem(pagesList, page, index);
        });
        const addPageBtn = pagesSection.createEl("button", { text: "+ Add page", cls: "nav-add" });
        addPageBtn.id = "add-page";
        const socialSection = navigationSections.createDiv("nav-section");
        socialSection.createEl("h3", { text: "Social links" });
        socialSection.createEl("p", { text: "Add social media links for your footer." });
        const socialList = socialSection.createDiv("nav-items");
        socialList.id = "social-list";
        state.selectedNavigation.social.forEach((social, index) => {
          this.renderSocialItem(socialList, social, index);
        });
        const addSocialBtn = socialSection.createEl("button", { text: "+ Add social link", cls: "nav-add" });
        addSocialBtn.id = "add-social";
        this.setupEventHandlers(container);
      }
      renderPageItem(container, page, index) {
        const hasChildren = page.children && page.children.length > 0;
        const navItem = container.createDiv("nav-item");
        navItem.setAttribute("data-index", index.toString());
        navItem.setAttribute("draggable", "true");
        const itemContent = navItem.createDiv("nav-item-content");
        const itemFields = itemContent.createDiv("nav-item-fields");
        const titleInput = itemFields.createEl("input", {
          type: "text",
          cls: "nav-title",
          // False positive: Placeholder text for input field
          // eslint-disable-next-line obsidianmd/ui/sentence-case
          attr: { placeholder: "Page Title", draggable: "false" }
        });
        titleInput.value = page.title || "";
        const urlInput = itemFields.createEl("input", {
          type: "text",
          cls: "nav-url",
          attr: { placeholder: "/page-url (leave empty for dropdown-only)", draggable: "false" }
        });
        urlInput.value = page.url || "";
        const itemActions = itemContent.createDiv("nav-item-actions");
        itemActions.createEl("button", {
          text: "+ child",
          cls: "nav-add-child",
          attr: { "data-index": index.toString(), title: "Add child page" }
        });
        const removeBtn = itemActions.createEl("button", {
          cls: "nav-remove mod-warning",
          attr: { "data-index": index.toString(), "data-icon": "trash", title: "Remove", "aria-label": "Remove" }
        });
        (0, import_obsidian3.setIcon)(removeBtn, "trash");
        const childrenContainer = navItem.createDiv("nav-children-container");
        childrenContainer.setAttribute("data-parent-index", index.toString());
        if (!hasChildren) {
          childrenContainer.setCssProps({ display: "none" });
        }
        childrenContainer.createDiv("nav-children-label").textContent = "Child pages:";
        const childrenDiv = childrenContainer.createDiv("nav-children");
        childrenDiv.setAttribute("data-parent-index", index.toString());
        if (hasChildren && page.children) {
          page.children.forEach((child, childIndex) => {
            this.renderChildItem(childrenDiv, child, index, childIndex);
          });
        }
      }
      renderChildItem(container, child, parentIndex, childIndex) {
        const childItem = container.createDiv("nav-child-item");
        childItem.setAttribute("data-index", parentIndex.toString());
        childItem.setAttribute("data-child-index", childIndex.toString());
        const itemFields = childItem.createDiv("nav-item-fields");
        const titleInput = itemFields.createEl("input", {
          type: "text",
          cls: "nav-child-title",
          // False positive: Placeholder text for input field
          // eslint-disable-next-line obsidianmd/ui/sentence-case
          attr: { placeholder: "Child Title", draggable: "false" }
        });
        titleInput.value = child.title || "";
        const urlInput = itemFields.createEl("input", {
          type: "text",
          cls: "nav-child-url",
          attr: { placeholder: "/child-url", draggable: "false" }
        });
        urlInput.value = child.url || "";
        const removeBtn = childItem.createEl("button", {
          cls: "nav-child-remove mod-warning",
          attr: {
            "data-index": parentIndex.toString(),
            "data-child-index": childIndex.toString(),
            "data-icon": "trash",
            title: "Remove",
            "aria-label": "Remove"
          }
        });
        (0, import_obsidian3.setIcon)(removeBtn, "trash");
      }
      renderSocialItem(container, social, index) {
        const navItem = container.createDiv("nav-item");
        navItem.setAttribute("data-index", index.toString());
        navItem.setAttribute("draggable", "true");
        const itemContent = navItem.createDiv("nav-item-content");
        const itemFields = itemContent.createDiv("nav-item-fields");
        const titleInput = itemFields.createEl("input", {
          type: "text",
          cls: "nav-title",
          // False positive: Placeholder text for input field
          // eslint-disable-next-line obsidianmd/ui/sentence-case
          attr: { placeholder: "Social Title", draggable: "false" }
        });
        titleInput.value = social.title || "";
        const urlInput = itemFields.createEl("input", {
          type: "text",
          cls: "nav-url",
          attr: { placeholder: "https://example.com", draggable: "false" }
        });
        urlInput.value = social.url || "";
        const removeBtn = itemContent.createEl("button", {
          cls: "nav-remove mod-warning",
          attr: { "data-index": index.toString(), "data-icon": "trash", title: "Remove", "aria-label": "Remove" }
        });
        (0, import_obsidian3.setIcon)(removeBtn, "trash");
        const iconRow = navItem.createDiv("nav-icon-row");
        const iconInput = iconRow.createEl("input", {
          type: "text",
          cls: "nav-icon",
          // False positive: Placeholder text for input field (kebab-case format)
          // eslint-disable-next-line obsidianmd/ui/sentence-case
          attr: { placeholder: "icon-name", draggable: "false" }
        });
        iconInput.value = social.icon || "";
        const iconHelp = iconRow.createDiv("nav-icon-help");
        iconHelp.createEl("small", { text: "Icon names from FontAwesome Brands" });
      }
      setupEventHandlers(container) {
        const state = this.getState();
        const pagesList = container.querySelector("#pages-list");
        if (pagesList) {
          const pagesInputHandler = (e) => {
            const target = e.target;
            if (target.classList.contains("nav-title")) {
              const item = target.closest(".nav-item");
              const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
              state.selectedNavigation.pages[index].title = target.value;
            } else if (target.classList.contains("nav-url")) {
              const item = target.closest(".nav-item");
              const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
              if (target.value.trim() === "") {
                delete state.selectedNavigation.pages[index].url;
              } else {
                state.selectedNavigation.pages[index].url = target.value;
              }
            } else if (target.classList.contains("nav-child-title")) {
              const childItem = target.closest(".nav-child-item");
              const parentIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-index")) || "0");
              const childIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-child-index")) || "0");
              if (!state.selectedNavigation.pages[parentIndex].children) {
                state.selectedNavigation.pages[parentIndex].children = [];
              }
              if (!state.selectedNavigation.pages[parentIndex].children[childIndex]) {
                state.selectedNavigation.pages[parentIndex].children[childIndex] = { title: "", url: "" };
              }
              state.selectedNavigation.pages[parentIndex].children[childIndex].title = target.value;
            } else if (target.classList.contains("nav-child-url")) {
              const childItem = target.closest(".nav-child-item");
              const parentIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-index")) || "0");
              const childIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-child-index")) || "0");
              if (!state.selectedNavigation.pages[parentIndex].children) {
                state.selectedNavigation.pages[parentIndex].children = [];
              }
              if (!state.selectedNavigation.pages[parentIndex].children[childIndex]) {
                state.selectedNavigation.pages[parentIndex].children[childIndex] = { title: "", url: "" };
              }
              state.selectedNavigation.pages[parentIndex].children[childIndex].url = target.value;
            }
          };
          const pagesListWithHandlers = pagesList;
          if (pagesListWithHandlers._inputHandler) {
            pagesList.removeEventListener("input", pagesListWithHandlers._inputHandler);
          }
          pagesListWithHandlers._inputHandler = pagesInputHandler;
          pagesList.addEventListener("input", pagesInputHandler);
        }
        const socialList = container.querySelector("#social-list");
        if (socialList) {
          const socialInputHandler = (e) => {
            const target = e.target;
            if (target.classList.contains("nav-title") || target.classList.contains("nav-url") || target.classList.contains("nav-icon")) {
              const item = target.closest(".nav-item");
              const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
              const field = target.classList.contains("nav-title") ? "title" : target.classList.contains("nav-url") ? "url" : "icon";
              state.selectedNavigation.social[index][field] = target.value;
            }
          };
          const socialListWithHandlers = socialList;
          if (socialListWithHandlers._inputHandler) {
            socialList.removeEventListener("input", socialListWithHandlers._inputHandler);
          }
          socialListWithHandlers._inputHandler = socialInputHandler;
          socialList.addEventListener("input", socialInputHandler);
        }
        const addPageBtn = container.querySelector("#add-page");
        if (addPageBtn) {
          const addPageHandler = () => {
            state.selectedNavigation.pages.push({ title: "New Page", url: "/new-page" });
            this.render(container);
          };
          const addPageBtnWithHandlers = addPageBtn;
          if (addPageBtnWithHandlers._clickHandler) {
            addPageBtn.removeEventListener("click", addPageBtnWithHandlers._clickHandler);
          }
          addPageBtnWithHandlers._clickHandler = addPageHandler;
          addPageBtn.addEventListener("click", addPageHandler);
        }
        const addSocialBtn = container.querySelector("#add-social");
        if (addSocialBtn) {
          const addSocialHandler = () => {
            state.selectedNavigation.social.push({ title: "New Social", url: "https://example.com", icon: "" });
            this.render(container);
          };
          const addSocialBtnWithHandlers = addSocialBtn;
          if (addSocialBtnWithHandlers._clickHandler) {
            addSocialBtn.removeEventListener("click", addSocialBtnWithHandlers._clickHandler);
          }
          addSocialBtnWithHandlers._clickHandler = addSocialHandler;
          addSocialBtn.addEventListener("click", addSocialHandler);
        }
        const removeHandler = (e) => {
          const target = e.target;
          if (target.classList.contains("nav-remove")) {
            e.preventDefault();
            e.stopPropagation();
            const index = parseInt(target.getAttribute("data-index") || "0");
            const isPage = target.closest("#pages-list");
            if (isPage) {
              state.selectedNavigation.pages.splice(index, 1);
            } else {
              state.selectedNavigation.social.splice(index, 1);
            }
            this.render(container);
          } else if (target.classList.contains("nav-child-remove")) {
            e.preventDefault();
            e.stopPropagation();
            const parentIndex = parseInt(target.getAttribute("data-index") || "0");
            const childIndex = parseInt(target.getAttribute("data-child-index") || "0");
            if (state.selectedNavigation.pages[parentIndex].children) {
              state.selectedNavigation.pages[parentIndex].children.splice(childIndex, 1);
              if (state.selectedNavigation.pages[parentIndex].children.length === 0) {
                delete state.selectedNavigation.pages[parentIndex].children;
              }
              const navItem = target.closest(".nav-item");
              const childrenContainer = navItem == null ? void 0 : navItem.querySelector(".nav-children-container");
              if (childrenContainer && (!state.selectedNavigation.pages[parentIndex].children || state.selectedNavigation.pages[parentIndex].children.length === 0)) {
                childrenContainer.setCssProps({ display: "none" });
              }
            }
            this.render(container);
          } else if (target.classList.contains("nav-add-child")) {
            e.preventDefault();
            e.stopPropagation();
            const index = parseInt(target.getAttribute("data-index") || "0");
            if (!state.selectedNavigation.pages[index].children) {
              state.selectedNavigation.pages[index].children = [];
            }
            state.selectedNavigation.pages[index].children.push({ title: "New Child", url: "/new-child" });
            const navItem = target.closest(".nav-item");
            const childrenContainer = navItem == null ? void 0 : navItem.querySelector(".nav-children-container");
            if (childrenContainer) {
              childrenContainer.setCssProps({ display: "block" });
            }
            this.render(container);
          }
        };
        const containerWithHandlers = container;
        if (containerWithHandlers._removeHandler) {
          container.removeEventListener("click", containerWithHandlers._removeHandler);
        }
        containerWithHandlers._removeHandler = removeHandler;
        container.addEventListener("click", removeHandler);
        this.setupDragAndDrop(container);
      }
      setupDragAndDrop(container) {
        const state = this.getState();
        let draggedElement = null;
        const dragStartHandler = (e) => {
          const target = e.target;
          if (target.classList.contains("nav-item")) {
            draggedElement = target;
            target.setCssProps({ opacity: "0.5" });
          }
        };
        const dragEndHandler = (e) => {
          const target = e.target;
          if (target.classList.contains("nav-item")) {
            target.setCssProps({ opacity: "1" });
            draggedElement = null;
          }
        };
        const dragOverHandler = (e) => {
          e.preventDefault();
          const target = e.target;
          if (target.classList.contains("nav-item") && draggedElement && target !== draggedElement) {
            const rect = target.getBoundingClientRect();
            const midpoint = rect.top + rect.height / 2;
            if (e.clientY < midpoint) {
              target.setCssProps({
                borderTop: "2px solid var(--interactive-accent)",
                borderBottom: "none"
              });
            } else {
              target.setCssProps({
                borderBottom: "2px solid var(--interactive-accent)",
                borderTop: "none"
              });
            }
          }
        };
        const dragLeaveHandler = (e) => {
          const target = e.target;
          if (target.classList.contains("nav-item")) {
            target.setCssProps({
              borderTop: "none",
              borderBottom: "none"
            });
          }
        };
        const dropHandler = (e) => {
          e.preventDefault();
          const target = e.target;
          if (target.classList.contains("nav-item") && draggedElement) {
            const targetIndex = parseInt(target.getAttribute("data-index") || "0");
            const draggedIndex = parseInt(draggedElement.getAttribute("data-index") || "0");
            const isPage = target.closest("#pages-list");
            const isSocial = target.closest("#social-list");
            target.setCssProps({
              borderTop: "none",
              borderBottom: "none"
            });
            if (targetIndex !== draggedIndex) {
              if (isPage) {
                const draggedItem = state.selectedNavigation.pages.splice(draggedIndex, 1)[0];
                state.selectedNavigation.pages.splice(targetIndex, 0, draggedItem);
              } else if (isSocial) {
                const draggedItem = state.selectedNavigation.social.splice(draggedIndex, 1)[0];
                state.selectedNavigation.social.splice(targetIndex, 0, draggedItem);
              }
              this.render(container);
            }
          }
        };
        const containerWithHandlers = container;
        if (containerWithHandlers._dragStartHandler) {
          container.removeEventListener("dragstart", containerWithHandlers._dragStartHandler);
        }
        if (containerWithHandlers._dragEndHandler) {
          container.removeEventListener("dragend", containerWithHandlers._dragEndHandler);
        }
        if (containerWithHandlers._dragOverHandler) {
          container.removeEventListener("dragover", containerWithHandlers._dragOverHandler);
        }
        if (containerWithHandlers._dragLeaveHandler) {
          container.removeEventListener("dragleave", containerWithHandlers._dragLeaveHandler);
        }
        if (containerWithHandlers._dropHandler) {
          container.removeEventListener("drop", containerWithHandlers._dropHandler);
        }
        containerWithHandlers._dragStartHandler = dragStartHandler;
        containerWithHandlers._dragEndHandler = dragEndHandler;
        containerWithHandlers._dragOverHandler = dragOverHandler;
        containerWithHandlers._dragLeaveHandler = dragLeaveHandler;
        containerWithHandlers._dropHandler = dropHandler;
        container.addEventListener("dragstart", dragStartHandler);
        container.addEventListener("dragend", dragEndHandler);
        container.addEventListener("dragover", dragOverHandler);
        container.addEventListener("dragleave", dragLeaveHandler);
        container.addEventListener("drop", dropHandler);
      }
    };
  }
});

// src/utils/GiscusScriptParser.ts
var GiscusScriptParser_exports = {};
__export(GiscusScriptParser_exports, {
  GiscusScriptParser: () => GiscusScriptParser
});
var GiscusScriptParser;
var init_GiscusScriptParser = __esm({
  "src/utils/GiscusScriptParser.ts"() {
    "use strict";
    GiscusScriptParser = class {
      /**
       * Parse a Giscus script tag and extract all data attributes
       */
      static parseScript(scriptContent) {
        try {
          const normalizedScript = scriptContent.trim();
          if (!normalizedScript.includes("giscus.app/client.js")) {
            return null;
          }
          const dataAttributes = {};
          const dataAttributeRegex = /data-([a-z-]+)="([^"]*)"/g;
          let match;
          while ((match = dataAttributeRegex.exec(normalizedScript)) !== null) {
            const [, attributeName, value] = match;
            dataAttributes[attributeName] = value;
          }
          const config4 = {
            repo: dataAttributes["repo"] || "",
            repoId: dataAttributes["repo-id"] || "",
            category: dataAttributes["category"] || "",
            categoryId: dataAttributes["category-id"] || "",
            // Optional attributes - use empty string if not present (so they can be cleared)
            mapping: dataAttributes["mapping"] !== void 0 ? dataAttributes["mapping"] : "",
            strict: dataAttributes["strict"] !== void 0 ? dataAttributes["strict"] : "",
            reactions: dataAttributes["reactions-enabled"] !== void 0 ? dataAttributes["reactions-enabled"] : "",
            metadata: dataAttributes["emit-metadata"] !== void 0 ? dataAttributes["emit-metadata"] : "",
            inputPosition: dataAttributes["input-position"] !== void 0 ? dataAttributes["input-position"] : "",
            theme: dataAttributes["theme"] !== void 0 ? dataAttributes["theme"] : "",
            lang: dataAttributes["lang"] !== void 0 ? dataAttributes["lang"] : "",
            loading: dataAttributes["loading"] !== void 0 ? dataAttributes["loading"] : ""
          };
          if (!config4.repo || !config4.repoId) {
            return null;
          }
          return config4;
        } catch (error) {
          console.error("Error parsing Giscus script:", error);
          return null;
        }
      }
      /**
       * Validate that a script looks like a valid Giscus script
       */
      static validateScript(scriptContent) {
        const normalizedScript = scriptContent.trim();
        if (!normalizedScript.includes("giscus.app/client.js")) {
          return { valid: false, error: "Script must contain giscus.app/client.js" };
        }
        if (!normalizedScript.includes("<script") || !normalizedScript.includes("<\/script>")) {
          return { valid: false, error: "Script must be a valid HTML script tag" };
        }
        const parsed = this.parseScript(scriptContent);
        if (!parsed) {
          return { valid: false, error: "Could not parse Giscus configuration from script" };
        }
        if (!parsed.repo) {
          return { valid: false, error: "Repository (data-repo) is required" };
        }
        if (!parsed.repoId) {
          return { valid: false, error: "Repository ID (data-repo-id) is required" };
        }
        return { valid: true };
      }
      /**
       * Generate a sample Giscus script for placeholder text
       */
      static getSampleScript() {
        return `<script src="https://giscus.app/client.js"
        data-repo="davidvkimball/astro-modular"
        data-repo-id="R_kgDOPllfKw"
        data-category="General"
        data-category-id="DIC_kwDOPllfK84CvUpx"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
<\/script>`;
      }
    };
  }
});

// src/ui/wizard/OptionalFeaturesStep.ts
var import_obsidian4, OptionalFeaturesStep;
var init_OptionalFeaturesStep = __esm({
  "src/ui/wizard/OptionalFeaturesStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    import_obsidian4 = require("obsidian");
    OptionalFeaturesStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const featuresSelection = container.createDiv("features-selection");
        featuresSelection.createEl("h2", { text: "Optional features" });
        featuresSelection.createEl("p", { text: "Enable or disable specific features for your site." });
        const featuresList = featuresSelection.createDiv("features-list");
        this.renderProfilePictureFeatureNative(featuresList, state);
        this.renderCommentsFeatureNative(featuresList, state);
      }
      renderProfilePictureFeatureNative(container, state) {
        var _a, _b, _c;
        const isEnabled = ((_b = (_a = state.selectedOptionalFeatures) == null ? void 0 : _a.profilePicture) == null ? void 0 : _b.enabled) || false;
        const profileSettings = ((_c = state.selectedOptionalFeatures) == null ? void 0 : _c.profilePicture) || {
          enabled: false,
          image: "/profile.jpg",
          alt: "Profile picture",
          size: "md",
          url: "",
          placement: "footer",
          style: "circle"
        };
        new import_obsidian4.Setting(container).setName("Profile picture").setDesc("Show profile picture in header or footer").addToggle((toggle) => toggle.setValue(isEnabled).onChange((value) => {
          var _a2;
          const currentState = this.getState();
          this.updateState({
            selectedFeatures: { ...currentState.selectedFeatures, profilePicture: value },
            selectedOptionalFeatures: {
              ...currentState.selectedOptionalFeatures,
              profilePicture: { ...(_a2 = currentState.selectedOptionalFeatures) == null ? void 0 : _a2.profilePicture, enabled: value }
            }
          });
          const optionsDiv = container.querySelector(".profile-picture-options");
          if (optionsDiv) optionsDiv.setCssProps({ display: value ? "block" : "none" });
        }));
        const optionsContainer = container.createDiv("profile-picture-options");
        optionsContainer.setCssProps({ display: isEnabled ? "block" : "none" });
        optionsContainer.className = "profile-picture-options";
        const createSetting = (name4, desc, type, options) => {
          const setting = new import_obsidian4.Setting(optionsContainer).setName(name4).setDesc(desc);
          if (type === "text") {
            setting.addText((text) => {
              var _a2, _b2;
              return text.setValue(String((_a2 = profileSettings[name4]) != null ? _a2 : "")).setPlaceholder(((_b2 = options == null ? void 0 : options[0]) == null ? void 0 : _b2.value) || "").onChange((value) => {
                void this.updateProfileSetting(name4, value, state);
              });
            });
          } else {
            setting.addDropdown((dropdown) => {
              var _a2;
              if (options) {
                for (const opt of options) {
                  dropdown.addOption(opt.value, opt.label);
                }
              }
              dropdown.setValue(String((_a2 = profileSettings[name4]) != null ? _a2 : "")).onChange((value) => {
                void this.updateProfileSetting(name4, value, state);
              });
            });
          }
        };
        createSetting("image", "Image path", "text", [{ value: "/profile.jpg", label: "/profile.jpg" }]);
        createSetting("alt", "Alt text", "text", [{ value: "Profile picture", label: "Profile picture" }]);
        createSetting("size", "Size", "dropdown", [
          { value: "sm", label: "Small" },
          { value: "md", label: "Medium" },
          { value: "lg", label: "Large" }
        ]);
        createSetting("url", "URL (optional)", "text", [{ value: "https://example.com", label: "https://example.com" }]);
        createSetting("placement", "Placement", "dropdown", [
          { value: "footer", label: "Footer" },
          { value: "header", label: "Header" }
        ]);
        createSetting("style", "Style", "dropdown", [
          { value: "circle", label: "Circle" },
          { value: "square", label: "Square" },
          { value: "none", label: "None" }
        ]);
      }
      updateProfileSetting(key, value, state) {
        var _a;
        const currentState = this.getState();
        this.updateState({
          selectedOptionalFeatures: {
            ...currentState.selectedOptionalFeatures,
            profilePicture: { ...(_a = currentState.selectedOptionalFeatures) == null ? void 0 : _a.profilePicture, [key]: value }
          }
        });
      }
      renderCommentsFeatureNative(container, state) {
        var _a, _b, _c;
        const isEnabled = ((_b = (_a = state.selectedOptionalFeatures) == null ? void 0 : _a.comments) == null ? void 0 : _b.enabled) || false;
        const commentsSettings = ((_c = state.selectedOptionalFeatures) == null ? void 0 : _c.comments) || {
          enabled: false,
          provider: "giscus",
          rawScript: "",
          repo: "davidvkimball/astro-modular",
          repoId: "R_kgDOPllfKw",
          category: "General",
          categoryId: "DIC_kwDOPllfK84CvUpx",
          mapping: "pathname",
          strict: "0",
          reactions: "1",
          metadata: "0",
          inputPosition: "bottom",
          theme: "preferred_color_scheme",
          lang: "en",
          loading: "lazy"
        };
        new import_obsidian4.Setting(container).setName("Comments").setDesc("Enable Giscus comment system for posts").addToggle((toggle) => {
          toggle.setValue(isEnabled).onChange((value) => {
            var _a2;
            const currentState = this.getState();
            this.updateState({
              selectedFeatures: { ...currentState.selectedFeatures, comments: value },
              selectedOptionalFeatures: {
                ...currentState.selectedOptionalFeatures,
                comments: { ...(_a2 = currentState.selectedOptionalFeatures) == null ? void 0 : _a2.comments, enabled: value }
              }
            });
            const optionsDiv = container.querySelector(".comments-options");
            if (optionsDiv) optionsDiv.setCssProps({ display: value ? "block" : "none" });
          });
        });
        const optionsContainer = container.createDiv("comments-options");
        optionsContainer.setCssProps({ display: isEnabled ? "block" : "none" });
        optionsContainer.className = "comments-options";
        const instructionsDiv = optionsContainer.createDiv("comments-instructions");
        instructionsDiv.setCssProps({
          marginBottom: "15px",
          padding: "10px",
          background: "var(--background-modifier-border)",
          borderRadius: "4px",
          borderLeft: "3px solid var(--interactive-accent)"
        });
        const instructionsText = instructionsDiv.createEl("p");
        instructionsText.setCssProps({
          margin: "0",
          fontSize: "13px",
          color: "var(--text-muted)",
          whiteSpace: "pre-line"
        });
        instructionsText.appendText("1. Go to ");
        const giscusLink = instructionsText.createEl("a", {
          href: "https://giscus.app/",
          // eslint-disable-next-line obsidianmd/ui/sentence-case -- URL should remain lowercase
          text: "giscus.app",
          attr: {
            target: "_blank",
            rel: "noopener noreferrer"
          }
        });
        giscusLink.setCssProps({
          color: "var(--interactive-accent)",
          textDecoration: "none"
        });
        instructionsText.appendText(" and configure your comments\n2. Copy the generated script\n3. Paste it below");
        giscusLink.addEventListener("mouseenter", () => {
          giscusLink.setCssProps({ textDecoration: "underline" });
        });
        giscusLink.addEventListener("mouseleave", () => {
          giscusLink.setCssProps({ textDecoration: "none" });
        });
        const scriptSetting = new import_obsidian4.Setting(optionsContainer).setName("Giscus script").setDesc("Paste your Giscus script here (the plugin will automatically parse all settings)");
        const textarea = scriptSetting.controlEl.createEl("textarea", {
          attr: {
            placeholder: `<script src="https://giscus.app/client.js"
        data-repo="davidvkimball/astro-modular"
        data-repo-id="R_kgDOPllfKw"
        data-category="General"
        data-category-id="DIC_kwDOPllfK84CvUpx"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
<\/script>`,
            rows: "8"
          }
        });
        textarea.setCssProps({
          width: "100%",
          fontFamily: "var(--font-monospace)",
          fontSize: "12px",
          padding: "8px",
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "4px",
          background: "var(--background-primary)",
          color: "var(--text-normal)",
          resize: "none"
        });
        textarea.value = commentsSettings.rawScript || "";
        const validationDiv = optionsContainer.createDiv("script-validation");
        validationDiv.setCssProps({
          marginTop: "8px",
          fontSize: "12px"
        });
        const updateValidation = async () => {
          var _a2, _b2, _c2, _d, _e, _f, _g, _h;
          const scriptContent = textarea.value.trim();
          if (!scriptContent) {
            validationDiv.empty();
            const currentState = this.getState();
            const currentEnabled = (_c2 = (_b2 = (_a2 = currentState.selectedOptionalFeatures) == null ? void 0 : _a2.comments) == null ? void 0 : _b2.enabled) != null ? _c2 : false;
            this.updateState({
              selectedOptionalFeatures: {
                ...currentState.selectedOptionalFeatures,
                comments: {
                  ...(_d = currentState.selectedOptionalFeatures) == null ? void 0 : _d.comments,
                  rawScript: "",
                  repo: "",
                  repoId: "",
                  category: "",
                  categoryId: "",
                  mapping: "",
                  strict: "",
                  reactions: "",
                  metadata: "",
                  inputPosition: "",
                  theme: "",
                  lang: "",
                  loading: "",
                  enabled: currentEnabled
                  // Preserve enabled state
                }
              }
            });
            return;
          }
          const { GiscusScriptParser: GiscusScriptParser2 } = await Promise.resolve().then(() => (init_GiscusScriptParser(), GiscusScriptParser_exports));
          const validation = GiscusScriptParser2.validateScript(scriptContent);
          if (validation.valid) {
            validationDiv.empty();
            const successSpan = validationDiv.createEl("span", { text: "\u2713 Valid Giscus script detected" });
            successSpan.setCssProps({ color: "var(--text-success)" });
            const parsed = GiscusScriptParser2.parseScript(scriptContent);
            if (parsed) {
              const currentState = this.getState();
              const currentEnabled = (_g = (_f = (_e = currentState.selectedOptionalFeatures) == null ? void 0 : _e.comments) == null ? void 0 : _f.enabled) != null ? _g : false;
              this.updateState({
                selectedOptionalFeatures: {
                  ...currentState.selectedOptionalFeatures,
                  comments: {
                    ...(_h = currentState.selectedOptionalFeatures) == null ? void 0 : _h.comments,
                    rawScript: scriptContent,
                    repo: parsed.repo,
                    repoId: parsed.repoId,
                    category: parsed.category,
                    categoryId: parsed.categoryId,
                    mapping: parsed.mapping,
                    strict: parsed.strict,
                    reactions: parsed.reactions,
                    metadata: parsed.metadata,
                    inputPosition: parsed.inputPosition,
                    theme: parsed.theme,
                    lang: parsed.lang,
                    loading: parsed.loading,
                    enabled: currentEnabled
                    // Preserve enabled state
                  }
                }
              });
            }
          } else {
            validationDiv.empty();
            const errorSpan = validationDiv.createEl("span", { text: `\u2717 ${validation.error}` });
            errorSpan.setCssProps({ color: "var(--text-error)" });
          }
        };
        textarea.addEventListener("input", () => {
          void updateValidation();
        });
        void updateValidation();
      }
      updateCommentSetting(key, value, state) {
        var _a;
        const currentState = this.getState();
        this.updateState({
          selectedOptionalFeatures: {
            ...currentState.selectedOptionalFeatures,
            comments: { ...(_a = currentState.selectedOptionalFeatures) == null ? void 0 : _a.comments, [key]: value }
          }
        });
      }
    };
  }
});

// src/ui/wizard/DeploymentStep.ts
var DeploymentStep;
var init_DeploymentStep = __esm({
  "src/ui/wizard/DeploymentStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    DeploymentStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const deploymentSelection = container.createDiv("deployment-selection");
        deploymentSelection.createEl("h2", { text: "Deployment platform" });
        deploymentSelection.createEl("p", { text: "Choose your preferred deployment platform." });
        const deploymentOptions = deploymentSelection.createDiv("deployment-options");
        const deployments = [
          { id: "netlify", name: "Netlify", desc: "Zero-config deployments with built-in CI/CD and serverless functions." },
          { id: "vercel", name: "Vercel", desc: "Edge-optimized platform with instant deployments and global CDN." },
          { id: "github-pages", name: "GitHub Pages", desc: "Free static hosting integrated directly with your GitHub repository." },
          { id: "cloudflare-workers", name: "Cloudflare Workers", desc: "Global edge network with unlimited bandwidth and custom headers on all plans." }
        ];
        deployments.forEach((deployment) => {
          const option = deploymentOptions.createDiv("deployment-option");
          if (state.selectedDeployment === deployment.id) {
            option.addClass("selected");
          }
          option.setAttribute("data-deployment", deployment.id);
          const header = option.createDiv("deployment-header");
          header.createEl("h3", { text: deployment.name });
          option.createEl("p", { text: deployment.desc });
          option.addEventListener("click", () => {
            this.updateState({
              selectedDeployment: deployment.id
            });
            this.render(container);
          });
        });
      }
    };
  }
});

// src/ui/wizard/PluginConfigStep.ts
var import_obsidian5, PluginConfigStep;
var init_PluginConfigStep = __esm({
  "src/ui/wizard/PluginConfigStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    import_obsidian5 = require("obsidian");
    PluginConfigStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const contentOrg = state.selectedContentOrg;
        (() => {
          const pluginStatus = this.plugin.pluginManager.getPluginStatus(contentOrg);
          const pluginConfig = container.createDiv("plugin-config");
          pluginConfig.createEl("h2", { text: "Plugin configuration" });
          pluginConfig.createEl("p", { text: "Configure your Obsidian plugins for optimal integration." });
          const pluginStatusDiv = pluginConfig.createDiv("plugin-status");
          for (const plugin of pluginStatus) {
            this.renderPluginStatusItem(pluginStatusDiv, plugin);
          }
          const configOptions = pluginConfig.createDiv("config-options");
          const autoBtn = configOptions.createEl("button", { text: "Configure Automatically", cls: "mod-button mod-cta" });
          autoBtn.id = "configure-plugins";
          const manualBtn = configOptions.createEl("button", { text: "Show Manual Instructions", cls: "mod-button" });
          manualBtn.id = "show-instructions";
          this.setupEventHandlers(container);
        })();
      }
      renderPluginStatusItem(container, plugin) {
        const isSettingsCheck = plugin.name === "Attachment settings";
        const isConfigured = plugin.installed;
        const hasSyncIssues = plugin.outOfSyncContentTypes && plugin.outOfSyncContentTypes.length > 0;
        const allOutOfSync = hasSyncIssues && plugin.outOfSyncContentTypes && plugin.outOfSyncContentTypes.length === 4;
        const isPartiallyConfigured = hasSyncIssues && !allOutOfSync && plugin.installed && plugin.enabled;
        const allMismatched = allOutOfSync && plugin.installed && plugin.enabled;
        const isImageManager = plugin.name === "Image Manager";
        const imageManagerMismatch = isImageManager && plugin.installed && plugin.enabled && plugin.settingsMatch === false;
        const isProperlyConfigured = plugin.installed && plugin.enabled && !imageManagerMismatch && !allMismatched && !isPartiallyConfigured;
        let statusText;
        if (isSettingsCheck) {
          statusText = isConfigured ? "Configured" : "Doesn't match";
        } else if (!plugin.installed) {
          statusText = "Not installed";
        } else if (!plugin.enabled) {
          statusText = "Disabled";
        } else if (imageManagerMismatch || allMismatched) {
          statusText = "Doesn't match";
        } else if (isPartiallyConfigured) {
          statusText = "Partially configured";
        } else if (isProperlyConfigured) {
          statusText = "Configured";
        } else {
          statusText = "Configured";
        }
        let itemClass = "plugin-item";
        if (isSettingsCheck) {
          itemClass += isConfigured ? " installed" : " missing";
        } else if (imageManagerMismatch || allMismatched) {
          itemClass += " missing";
        } else if (isPartiallyConfigured) {
          itemClass += " partially-configured";
        } else {
          itemClass += plugin.installed && plugin.enabled ? " installed" : " missing";
        }
        const pluginItem = container.createDiv(itemClass);
        const iconDiv = pluginItem.createDiv("plugin-icon");
        if (isSettingsCheck) {
          (0, import_obsidian5.setIcon)(iconDiv, isConfigured ? "check" : "x");
        } else if (imageManagerMismatch || allMismatched) {
          (0, import_obsidian5.setIcon)(iconDiv, "x");
        } else if (isPartiallyConfigured) {
          (0, import_obsidian5.setIcon)(iconDiv, "alert-triangle");
        } else {
          (0, import_obsidian5.setIcon)(iconDiv, plugin.installed && plugin.enabled ? "check" : "x");
        }
        const info = pluginItem.createDiv("plugin-info");
        info.createEl("h3", { text: plugin.name });
        info.createEl("p", { text: statusText });
        if (hasSyncIssues && plugin.outOfSyncContentTypes) {
          const syncDetails = info.createEl("p", { text: `Out of sync: ${plugin.outOfSyncContentTypes.join(", ")}`, cls: "sync-details" });
          syncDetails.setCssProps({
            fontSize: "0.9em",
            opacity: "0.8",
            marginTop: "4px"
          });
        }
      }
      setupEventHandlers(container) {
        var _a, _b;
        const state = this.getState();
        (_a = container.querySelector("#configure-plugins")) == null ? void 0 : _a.addEventListener("click", () => {
          void (async () => {
            try {
              const contentOrg = state.selectedContentOrg;
              const config4 = {
                obsidianSettings: {
                  // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
                  attachmentLocation: contentOrg === "file-based" ? "subfolder" : "same-folder",
                  subfolderName: "attachments"
                },
                astroComposerSettings: {
                  // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
                  creationMode: contentOrg === "file-based" ? "file" : "folder",
                  indexFileName: "index"
                },
                imageManagerSettings: {
                  customPropertyLinkFormat: contentOrg === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
                }
              };
              const success = await this.plugin.pluginManager.configurePlugins(config4);
              if (success) {
                const updatedStatus = this.plugin.pluginManager.getPluginStatus(state.selectedContentOrg);
                const statusContainerEl = container.querySelector(".plugin-status");
                if (statusContainerEl) {
                  statusContainerEl.empty();
                  updatedStatus.forEach((plugin) => {
                    this.renderPluginStatusItem(statusContainerEl, plugin);
                  });
                }
                const contentOrg2 = state.selectedContentOrg;
                const attachmentLocation = contentOrg2 === "file-based" ? "subfolder (attachments/)" : "same folder";
                const creationMode = contentOrg2 === "file-based" ? "file" : "folder";
                new import_obsidian5.Notice(`Plugins configured successfully!

\u2022 Obsidian: Attachments \u2192 ${attachmentLocation}
\u2022 Astro Composer: Creation mode \u2192 ${creationMode}
\u2022 Image Manager: Format updated for ${contentOrg2}`, 8e3);
              } else {
                new import_obsidian5.Notice("\u26A0\uFE0F Some plugins could not be configured automatically. Check console for details.", 5e3);
              }
            } catch (error) {
              new import_obsidian5.Notice(`Error configuring plugins: ${error instanceof Error ? error.message : String(error)}`);
            }
          })();
        });
        (_b = container.querySelector("#show-instructions")) == null ? void 0 : _b.addEventListener("click", () => {
          (() => {
            try {
              const contentOrg = state.selectedContentOrg;
              const config4 = {
                obsidianSettings: {
                  // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
                  attachmentLocation: contentOrg === "file-based" ? "subfolder" : "same-folder",
                  subfolderName: "attachments"
                },
                astroComposerSettings: {
                  // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
                  creationMode: contentOrg === "file-based" ? "file" : "folder",
                  indexFileName: "index"
                },
                imageManagerSettings: {
                  customPropertyLinkFormat: contentOrg === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
                }
              };
              const instructions = this.plugin.pluginManager.getManualConfigurationInstructions(config4);
              const instructionModal = new import_obsidian5.Modal(this.app);
              instructionModal.titleEl.setText("Manual Configuration Instructions");
              const contentDiv = instructionModal.contentEl.createDiv();
              contentDiv.setCssProps({
                padding: "20px",
                lineHeight: "1.6"
              });
              const lines = instructions.split("\n");
              let currentList = null;
              lines.forEach((line) => {
                const trimmedLine = line.trim();
                if (trimmedLine === "") {
                  contentDiv.createEl("br");
                } else if (trimmedLine.startsWith("## ")) {
                  if (currentList) {
                    currentList = null;
                  }
                  const h2 = contentDiv.createEl("h2");
                  h2.setText(trimmedLine.substring(3));
                  h2.setCssProps({
                    marginTop: "20px",
                    marginBottom: "10px",
                    fontSize: "1.2em",
                    fontWeight: "bold"
                  });
                } else if (trimmedLine.match(/^\d+\.\s/)) {
                  if (!currentList) {
                    currentList = contentDiv.createEl("ol");
                    if (currentList) {
                      currentList.setCssProps({
                        marginLeft: "20px",
                        marginBottom: "15px"
                      });
                    }
                  }
                  if (currentList) {
                    const li = currentList.createEl("li");
                    li.setCssProps({
                      marginBottom: "5px"
                    });
                    this.parseBoldText(li, trimmedLine.replace(/^\d+\.\s/, ""));
                  }
                } else if (trimmedLine.startsWith("- ") || trimmedLine.startsWith("* ")) {
                  if (!currentList) {
                    currentList = contentDiv.createEl("ul");
                    if (currentList) {
                      currentList.setCssProps({
                        marginLeft: "20px",
                        marginBottom: "15px"
                      });
                    }
                  }
                  if (currentList) {
                    const li = currentList.createEl("li");
                    li.setCssProps({
                      marginBottom: "5px"
                    });
                    this.parseBoldText(li, trimmedLine.substring(2));
                  }
                } else {
                  if (currentList) {
                    currentList = null;
                  }
                  const p = contentDiv.createEl("p");
                  p.setCssProps({
                    marginBottom: "10px"
                  });
                  this.parseBoldText(p, trimmedLine);
                }
              });
              instructionModal.open();
            } catch (error) {
              new import_obsidian5.Notice(`Error getting instructions: ${error instanceof Error ? error.message : String(error)}`);
            }
          })();
        });
      }
      parseBoldText(container, text) {
        const parts = text.split(/(\*\*.*?\*\*)/g);
        parts.forEach((part) => {
          if (part.startsWith("**") && part.endsWith("**")) {
            const strong = container.createEl("strong");
            strong.setText(part.substring(2, part.length - 2));
          } else if (part.trim() !== "") {
            container.appendText(part);
          }
        });
      }
    };
  }
});

// src/ui/wizard/FinalizeStep.ts
var import_obsidian6, FinalizeStep;
var init_FinalizeStep = __esm({
  "src/ui/wizard/FinalizeStep.ts"() {
    "use strict";
    init_BaseWizardStep();
    import_obsidian6 = require("obsidian");
    init_types();
    FinalizeStep = class extends BaseWizardStep {
      render(container) {
        const state = this.getState();
        const templateName = this.formatTemplateName(state.selectedTemplate);
        const themeName = this.formatThemeName(state.selectedTheme);
        const contentOrgName = this.formatContentOrganization(state.selectedContentOrg);
        const deploymentName = this.formatDeploymentName(state.selectedDeployment);
        const finalizeDiv = container.createDiv("finalize-step");
        finalizeDiv.createEl("h2", { text: "Finalize your configuration" });
        finalizeDiv.createEl("p", { text: "Review your settings and complete the setup." });
        const configSummary = finalizeDiv.createDiv("config-summary");
        configSummary.createEl("h3", { text: "Configuration summary" });
        const createConfigItem = (label, value) => {
          const item = configSummary.createDiv("config-item");
          item.createEl("strong", { text: `${label}: ` });
          item.appendText(value);
        };
        createConfigItem("Template", templateName);
        createConfigItem("Theme", themeName);
        createConfigItem("Content Organization", contentOrgName);
        createConfigItem("Deployment", deploymentName);
        createConfigItem("Site Title", state.selectedSiteInfo.title);
        createConfigItem("Site URL", state.selectedSiteInfo.site);
        this.setupEventHandlers(container);
      }
      setupEventHandlers(container) {
      }
      async completeWizard() {
        try {
          this.stateManager.buildFinalSettings();
          const plugin = this.plugin;
          await plugin.saveData(plugin.settings);
          await plugin.loadSettings();
          const settings = plugin.settings;
          const presetSuccess = plugin.configManager.applyPreset({
            name: settings.currentTemplate,
            description: "",
            features: settings.features,
            theme: settings.currentTheme,
            contentOrganization: settings.contentOrganization,
            config: settings
          });
          if (presetSuccess) {
            new import_obsidian6.Notice("Configuration applied successfully!");
          } else {
            new import_obsidian6.Notice("Failed to apply configuration. Check the console for errors.");
          }
          this.stateManager.updateState({ currentStep: this.stateManager.getState().totalSteps });
        } catch (error) {
          new import_obsidian6.Notice(`Error completing wizard: ${error instanceof Error ? error.message : String(error)}`);
        }
      }
      formatTemplateName(template) {
        const option = TEMPLATE_OPTIONS.find((t) => t.id === template);
        return option ? option.name : template;
      }
      formatThemeName(theme) {
        const option = THEME_OPTIONS.find((t) => t.id === theme);
        return option ? option.name : theme;
      }
      formatContentOrganization(org) {
        return org === "file-based" ? "File-based" : "Folder-based";
      }
      formatDeploymentName(deployment) {
        switch (deployment) {
          case "netlify":
            return "Netlify";
          case "vercel":
            return "Vercel";
          case "github-pages":
            return "GitHub Pages";
          case "cloudflare-workers":
            return "Cloudflare Workers";
          default:
            return deployment;
        }
      }
    };
  }
});

// src/ui/SetupWizardModal.ts
var SetupWizardModal_exports = {};
__export(SetupWizardModal_exports, {
  SetupWizardModal: () => SetupWizardModal
});
var import_obsidian7, SetupWizardModal;
var init_SetupWizardModal = __esm({
  "src/ui/SetupWizardModal.ts"() {
    "use strict";
    import_obsidian7 = require("obsidian");
    init_WizardState();
    init_WelcomeStep();
    init_TemplateStep();
    init_ThemeStep();
    init_FontStep();
    init_ContentOrgStep();
    init_NavigationStep();
    init_OptionalFeaturesStep();
    init_DeploymentStep();
    init_PluginConfigStep();
    init_FinalizeStep();
    SetupWizardModal = class extends import_obsidian7.Modal {
      constructor(app, plugin) {
        super(app);
        this.isCompleting = false;
        this.initialSettingsSnapshot = null;
        this.plugin = plugin;
        this.stateManager = new WizardStateManager(plugin);
        this.steps = [
          new WelcomeStep(app, this, this.stateManager, this.plugin),
          new TemplateStep(app, this, this.stateManager, this.plugin),
          new ThemeStep(app, this, this.stateManager, this.plugin),
          new FontStep(app, this, this.stateManager, this.plugin),
          new ContentOrgStep(app, this, this.stateManager, this.plugin),
          new NavigationStep(app, this, this.stateManager, this.plugin),
          new OptionalFeaturesStep(app, this, this.stateManager, this.plugin),
          new DeploymentStep(app, this, this.stateManager, this.plugin),
          new PluginConfigStep(app, this, this.stateManager, this.plugin),
          new FinalizeStep(app, this, this.stateManager, this.plugin)
        ];
      }
      onOpen() {
        const { contentEl } = this;
        contentEl.empty();
        contentEl.addClass("astro-modular-wizard");
        this.stateManager.refreshState();
        this.initialSettingsSnapshot = this.createSettingsSnapshot();
        void this.renderCurrentStep();
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
        void this.saveWizardStateToDataJson(!this.isCompleting);
        this.isCompleting = false;
      }
      scrollToTop() {
        const { contentEl } = this;
        let scrollableParent = contentEl;
        while (scrollableParent && scrollableParent !== document.body) {
          const style = window.getComputedStyle(scrollableParent);
          if (scrollableParent.scrollHeight > scrollableParent.clientHeight && (style.overflowY === "auto" || style.overflowY === "scroll" || style.overflow === "auto" || style.overflow === "scroll")) {
            scrollableParent.scrollTop = 0;
            break;
          }
          scrollableParent = scrollableParent.parentElement;
        }
        const modalContent = contentEl.closest(".modal-content");
        if (modalContent) {
          modalContent.scrollTop = 0;
        }
        const modalContainer = contentEl.closest(".modal-container");
        if (modalContainer) {
          modalContainer.scrollTop = 0;
        }
        contentEl.scrollTop = 0;
      }
      renderCurrentStep() {
        const { contentEl } = this;
        this.scrollToTop();
        contentEl.empty();
        contentEl.addClass("astro-modular-wizard");
        this.scrollToTop();
        this.renderProgress(contentEl);
        const stepContent = contentEl.createDiv("wizard-content");
        this.renderStepContent(stepContent);
        this.renderFooter(contentEl);
        requestAnimationFrame(() => {
          this.scrollToTop();
        });
      }
      renderHeader(container) {
        const header = container.createDiv("wizard-header");
        header.createEl("h1", { text: "Astro modular setup" });
      }
      renderProgress(container) {
        const state = this.stateManager.getState();
        const progress = container.createDiv("wizard-progress");
        const progressBar = progress.createDiv("progress-bar");
        const progressFill = progressBar.createDiv("progress-fill");
        progressFill.setCssProps({ width: `${this.stateManager.getProgress()}%` });
        const progressText = progress.createDiv("progress-text");
        progressText.textContent = `Step ${state.currentStep} of ${state.totalSteps}`;
      }
      renderStepContent(container) {
        const state = this.stateManager.getState();
        const stepIndex = state.currentStep - 1;
        if (stepIndex >= 0 && stepIndex < this.steps.length) {
          const result = this.steps[stepIndex].render(container);
          if (result !== void 0 && result !== null && typeof result === "object" && "then" in result) {
            void result;
          }
        }
      }
      renderFooter(container) {
        const footer = container.createDiv("wizard-footer");
        const buttons = footer.createDiv("wizard-buttons");
        if (this.stateManager.canGoPrevious()) {
          const prevBtn = buttons.createEl("button", {
            text: "Previous",
            cls: "mod-button"
          });
          prevBtn.addEventListener("click", () => {
            this.discardCurrentStepChanges();
            this.stateManager.previousStep();
            void this.renderCurrentStep();
          });
        }
        if (this.stateManager.canGoNext()) {
          const nextBtn = buttons.createEl("button", {
            text: "Next",
            cls: "mod-button mod-cta"
          });
          nextBtn.addEventListener("click", () => {
            void (async () => {
              await this.saveCurrentStepToWizardState();
              this.stateManager.nextStep();
              this.renderCurrentStep();
            })();
          });
        } else {
          const completeBtn = buttons.createEl("button", {
            text: "Complete setup",
            cls: "mod-button mod-cta"
          });
          completeBtn.addEventListener("click", () => {
            this.isCompleting = true;
            void (async () => {
              const finalStep = this.steps[this.steps.length - 1];
              await finalStep.completeWizard();
              await this.plugin.saveData(this.plugin.settings);
              await this.plugin.loadSettings();
              await this.plugin.triggerSettingsRefresh();
              this.close();
            })();
          });
        }
        if (this.stateManager.canGoNext()) {
          const skipBtn = buttons.createEl("button", {
            text: "Skip",
            cls: "mod-button"
          });
          skipBtn.addClass("wizard-skip-button");
          skipBtn.addEventListener("click", () => {
            this.stateManager.nextStep();
            this.renderCurrentStep();
          });
        }
      }
      async saveCurrentStepToWizardState() {
        try {
          this.stateManager.buildFinalSettings();
          await this.plugin.saveData(this.plugin.settings);
          await this.plugin.loadSettings();
          const settings = this.plugin.settings;
          this.plugin.configManager.applyPreset({
            name: settings.currentTemplate,
            description: "",
            features: settings.features,
            theme: settings.currentTheme,
            contentOrganization: settings.contentOrganization,
            config: settings
          });
        } catch (error) {
          console.error("Error saving current step to data.json and config.ts:", error);
        }
      }
      discardCurrentStepChanges() {
        this.stateManager.refreshState();
      }
      async saveWizardStateToDataJson(showNotification = true) {
        try {
          this.stateManager.buildFinalSettings();
          const hasChanges = this.hasSettingsChanged();
          if (!hasChanges) {
            return;
          }
          await this.plugin.saveData(this.plugin.settings);
          await this.plugin.loadSettings();
          const settings = this.plugin.settings;
          const presetSuccess = this.plugin.configManager.applyPreset({
            name: settings.currentTemplate,
            description: "",
            features: settings.features,
            theme: settings.currentTheme,
            contentOrganization: settings.contentOrganization,
            config: settings
          });
          if (showNotification) {
            if (presetSuccess) {
              new import_obsidian7.Notice("Configuration saved to config.ts");
            } else {
              new import_obsidian7.Notice("Failed to save configuration to config.ts");
            }
          }
        } catch (error) {
          console.error("Error saving wizard state to data.json and config.ts:", error);
          if (showNotification) {
            new import_obsidian7.Notice(`Failed to save configuration: ${error instanceof Error ? error.message : String(error)}`);
          }
        }
      }
      createSettingsSnapshot() {
        const settings = this.plugin.settings;
        return JSON.parse(JSON.stringify({
          currentTemplate: settings.currentTemplate,
          currentTheme: settings.currentTheme,
          contentOrganization: settings.contentOrganization,
          siteInfo: settings.siteInfo,
          navigation: settings.navigation,
          features: settings.features,
          typography: settings.typography,
          optionalFeatures: settings.optionalFeatures,
          deployment: settings.deployment,
          optionalContentTypes: settings.optionalContentTypes
        }));
      }
      hasSettingsChanged() {
        if (!this.initialSettingsSnapshot) {
          return false;
        }
        const currentSnapshot = this.createSettingsSnapshot();
        return currentSnapshot.currentTemplate !== this.initialSettingsSnapshot.currentTemplate || currentSnapshot.currentTheme !== this.initialSettingsSnapshot.currentTheme || currentSnapshot.contentOrganization !== this.initialSettingsSnapshot.contentOrganization || JSON.stringify(currentSnapshot.siteInfo) !== JSON.stringify(this.initialSettingsSnapshot.siteInfo) || JSON.stringify(currentSnapshot.navigation) !== JSON.stringify(this.initialSettingsSnapshot.navigation) || JSON.stringify(currentSnapshot.features) !== JSON.stringify(this.initialSettingsSnapshot.features) || JSON.stringify(currentSnapshot.typography) !== JSON.stringify(this.initialSettingsSnapshot.typography) || JSON.stringify(currentSnapshot.optionalFeatures) !== JSON.stringify(this.initialSettingsSnapshot.optionalFeatures) || JSON.stringify(currentSnapshot.deployment) !== JSON.stringify(this.initialSettingsSnapshot.deployment) || JSON.stringify(currentSnapshot.optionalContentTypes) !== JSON.stringify(this.initialSettingsSnapshot.optionalContentTypes);
      }
      applyDefaultValuesForCurrentStep() {
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => AstroModularSettingsPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian19 = require("obsidian");

// src/settings.ts
init_types();

// src/commands/index.ts
function registerCommands(plugin) {
  plugin.addCommand({
    id: "open-settings",
    name: "Open settings",
    icon: "settings-2",
    callback: () => {
      plugin.app.setting.open();
      plugin.app.setting.openTabById(plugin.manifest.id);
    }
  });
  plugin.addCommand({
    id: "run-setup-wizard",
    name: "Run setup wizard",
    icon: "wand",
    callback: async () => {
      await plugin.loadData().then((data) => {
        if (data && "settings" in plugin) {
          Object.assign(plugin.settings, data);
        }
      });
      const { SetupWizardModal: SetupWizardModal2 } = await Promise.resolve().then(() => (init_SetupWizardModal(), SetupWizardModal_exports));
      const wizard = new SetupWizardModal2(plugin.app, plugin);
      wizard.open();
    }
  });
}

// src/ui/SettingsTab.ts
var import_obsidian17 = require("obsidian");

// src/ui/common/TabRenderer.ts
var import_obsidian8 = require("obsidian");
var TabRenderer = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
  }
  getSettings() {
    const plugin = this.plugin;
    return plugin.settings || {};
  }
  async applyCurrentConfiguration(showNotice = false) {
    try {
      const settings = this.getSettings();
      const plugin = this.plugin;
      const success = plugin.configManager.updateIndividualFeatures(settings);
      if (success) {
        if (showNotice) {
          new import_obsidian8.Notice("Configuration applied successfully!");
        }
        await plugin.configManager.triggerRebuild();
      } else {
        if (showNotice) {
          new import_obsidian8.Notice("Failed to apply configuration. Check the console for errors.");
        }
      }
    } catch (error) {
      if (showNotice) {
        new import_obsidian8.Notice(`Error applying configuration: ${error instanceof Error ? error.message : String(error)}`);
      }
    }
  }
  createDropdownSetting(container, name4, description4, value, options, onChange) {
    return new import_obsidian8.Setting(container).setName(name4).setDesc(description4).addDropdown((dropdown) => {
      Object.entries(options).forEach(([key, label]) => {
        dropdown.addOption(key, label);
      });
      dropdown.setValue(value);
      dropdown.onChange(async (value2) => {
        onChange(value2);
        await this.plugin.saveData(this.getSettings());
      });
      return dropdown;
    });
  }
  createTextSetting(container, name4, description4, value, onChange, debounceMs = 1e3, onApplyConfig, placeholder) {
    return new import_obsidian8.Setting(container).setName(name4).setDesc(description4).addText((text) => {
      text.setValue(value);
      if (placeholder) {
        text.setPlaceholder(placeholder);
      }
      let timeoutId = null;
      text.onChange((value2) => {
        if (timeoutId) {
          clearTimeout(timeoutId);
        }
        onChange(value2);
        void this.plugin.saveData(this.getSettings());
        timeoutId = window.setTimeout(() => {
          if (onApplyConfig) {
            void onApplyConfig();
          }
        }, debounceMs);
      });
      text.inputEl.addEventListener("blur", () => {
        if (timeoutId) {
          clearTimeout(timeoutId);
          if (onApplyConfig) {
            void onApplyConfig();
          }
        }
      });
      return text;
    });
  }
  createToggleSetting(container, name4, description4, value, onChange) {
    return new import_obsidian8.Setting(container).setName(name4).setDesc(description4).addToggle((toggle) => {
      toggle.setValue(value);
      toggle.onChange(async (value2) => {
        onChange(value2);
        await this.plugin.saveData(this.getSettings());
      });
      return toggle;
    });
  }
};

// src/ui/tabs/GeneralTab.ts
init_types();

// src/utils/settings-compat.ts
var import_obsidian9 = require("obsidian");
function createSettingsGroup(containerEl, heading, manifestId) {
  if ((0, import_obsidian9.requireApiVersion)("1.11.0")) {
    const obsidian = require("obsidian");
    const SettingGroup = obsidian.SettingGroup;
    const group = heading ? new SettingGroup(containerEl).setHeading(heading) : new SettingGroup(containerEl);
    return {
      addSetting(cb) {
        group.addSetting(cb);
      }
    };
  } else {
    if (manifestId) {
      containerEl.addClass(`${manifestId}-settings-compat`);
    }
    if (heading) {
      new import_obsidian9.Setting(containerEl).setHeading().setName(heading);
    }
    return {
      addSetting(cb) {
        const setting = new import_obsidian9.Setting(containerEl);
        cb(setting);
      }
    };
  }
}

// src/ui/tabs/GeneralTab.ts
var GeneralTab = class extends TabRenderer {
  render(container) {
    container.empty();
    const settings = this.getSettings();
    const configGroup = createSettingsGroup(container, "Current configuration", "astro-modular-settings");
    configGroup.addSetting((setting) => {
      var _a, _b;
      const nameEl = setting.settingEl.querySelector(".setting-item-name");
      const descEl = setting.settingEl.querySelector(".setting-item-description");
      const controlEl = setting.settingEl.querySelector(".setting-item-control");
      if (nameEl) nameEl.setCssProps({ display: "none" });
      if (descEl) descEl.setCssProps({ display: "none" });
      if (controlEl) controlEl.setCssProps({ display: "none" });
      setting.settingEl.setCssProps({
        borderTop: "none",
        paddingTop: "0",
        paddingBottom: "0",
        display: "block"
      });
      const configItems = setting.settingEl.createDiv("config-items");
      configItems.setCssProps({
        width: "100%",
        marginBottom: "0"
      });
      const templateItem = configItems.createDiv("config-item");
      templateItem.createEl("strong", { text: "Template: " });
      templateItem.createSpan({ text: ((_a = TEMPLATE_OPTIONS.find((t) => t.id === settings.currentTemplate)) == null ? void 0 : _a.name) || "Unknown" });
      const themeItem = configItems.createDiv("config-item");
      themeItem.createEl("strong", { text: "Theme: " });
      themeItem.createSpan({ text: ((_b = THEME_OPTIONS.find((t) => t.id === settings.currentTheme)) == null ? void 0 : _b.name) || "Unknown" });
      const orgItem = configItems.createDiv("config-item");
      orgItem.createEl("strong", { text: "Organization: " });
      orgItem.createSpan({ text: settings.contentOrganization === "file-based" ? "File-based" : "Folder-based" });
      const deploymentItem = configItems.createDiv("config-item");
      deploymentItem.createEl("strong", { text: "Deployment: " });
      deploymentItem.createSpan({ text: this.formatDeploymentName(settings.deployment.platform) });
      const siteTitleItem = configItems.createDiv("config-item");
      siteTitleItem.createEl("strong", { text: "Site title: " });
      siteTitleItem.createSpan({ text: settings.siteInfo.title });
      const siteUrlItem = configItems.createDiv("config-item");
      siteUrlItem.createEl("strong", { text: "Site URL: " });
      siteUrlItem.createSpan({ text: settings.siteInfo.site });
    });
    const wizardGroup = createSettingsGroup(container, "Wizard", "astro-modular-settings");
    wizardGroup.addSetting((setting) => {
      setting.setName("Setup wizard").setDesc("Run the setup wizard to reconfigure your theme").addButton((button) => button.setButtonText("Run setup wizard").setCta().onClick(async () => {
        const plugin = this.plugin;
        await this.plugin.loadData().then((data) => {
          if (data) {
            Object.assign(plugin.settings, data);
          }
        });
        const { SetupWizardModal: SetupWizardModal2 } = await Promise.resolve().then(() => (init_SetupWizardModal(), SetupWizardModal_exports));
        const wizard = new SetupWizardModal2(this.app, plugin);
        wizard.open();
      }));
    });
    wizardGroup.addSetting((setting) => {
      setting.setName("Run wizard on startup").setDesc("Show the setup wizard when Obsidian starts (if not disabled)").addToggle((toggle) => toggle.setValue(settings.runWizardOnStartup).onChange(async (value) => {
        settings.runWizardOnStartup = value;
        await this.plugin.saveData(settings);
      }));
    });
    wizardGroup.addSetting((setting) => {
      setting.setName("Remove ribbon icon").setDesc("Remove the wizard icon from the left ribbon").addToggle((toggle) => {
        var _a;
        return toggle.setValue((_a = settings.removeRibbonIcon) != null ? _a : false).onChange(async (value) => {
          settings.removeRibbonIcon = value;
          await this.plugin.saveData(settings);
          const plugin = this.plugin;
          if (plugin.updateRibbonIcon) {
            await plugin.updateRibbonIcon();
          }
        });
      });
    });
  }
  formatDeploymentName(deployment) {
    switch (deployment) {
      case "netlify":
        return "Netlify";
      case "vercel":
        return "Vercel";
      case "github-pages":
        return "GitHub Pages";
      case "cloudflare-workers":
        return "Cloudflare Workers";
      default:
        return deployment;
    }
  }
};

// src/ui/tabs/SiteInfoTab.ts
var import_obsidian10 = require("obsidian");
var Buffer2 = require("buffer").Buffer;
var SiteInfoTab = class extends TabRenderer {
  render(container) {
    var _a;
    container.empty();
    const settings = this.getSettings();
    const siteInfoGroup = createSettingsGroup(container, void 0, "astro-modular-settings");
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Site URL").setDesc("Your site's base URL (e.g., https://yoursite.com)").addText((text) => {
        text.setValue(settings.siteInfo.site);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.site = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
    });
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Site title").setDesc("Your site's title").addText((text) => {
        text.setValue(settings.siteInfo.title);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.title = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
    });
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Site description").setDesc("A brief description of your site").addText((text) => {
        text.setValue(settings.siteInfo.description);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.description = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
    });
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Author name").setDesc("Your name or the site author's name").addText((text) => {
        text.setValue(settings.siteInfo.author);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.author = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
    });
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Language code").setDesc("Your site's primary language (ISO 639-1 code)").addText((text) => {
        text.setValue(settings.siteInfo.language);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.language = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
      setting.settingEl.setCssProps({
        marginBottom: "var(--size-4-6)"
      });
    });
    const assetsSection = container.createDiv("assets-section");
    const assetsHeaderSetting = new import_obsidian10.Setting(assetsSection).setHeading().setName("Assets & metadata");
    assetsHeaderSetting.settingEl.setCssProps({
      marginTop: "var(--size-4-6)",
      marginBottom: "var(--size-4-2)",
      position: "relative"
    });
    const sharedFolderButton = assetsHeaderSetting.controlEl.createEl("button", {
      cls: "clickable-icon",
      attr: { "aria-label": "Open public folder" }
    });
    sharedFolderButton.setCssProps({
      padding: "4px",
      border: "none",
      backgroundColor: "transparent",
      color: "var(--text-normal)",
      display: "flex",
      alignItems: "center",
      justifyContent: "center",
      position: "absolute",
      right: "0",
      top: "50%",
      transform: "translateY(-50%)"
    });
    (0, import_obsidian10.setIcon)(sharedFolderButton, "folder");
    sharedFolderButton.addEventListener("click", () => {
      var _a2, _b, _c;
      const publicPath = "../../public";
      void ((_c = (_b = (_a2 = this.app).openWithDefaultApp) == null ? void 0 : _b.call(_a2, publicPath)) != null ? _c : Promise.resolve()).catch((error) => {
        new import_obsidian10.Notice(`Failed to open public folder: ${error instanceof Error ? error.message : String(error)}`);
      });
    });
    const assetsGroup = createSettingsGroup(assetsSection, void 0, "astro-modular-settings");
    const copyImageToPublic = (sourcePath, targetFileName) => {
      try {
        const fs = require("fs");
        const path = require("path");
        const vaultAdapter = this.app.vault.adapter;
        const vaultPath = vaultAdapter.basePath || vaultAdapter.path;
        const vaultPathString = typeof vaultPath === "string" ? vaultPath : String(vaultPath != null ? vaultPath : "");
        const publicFolderPath = path.join(vaultPathString, "..", "..", "public");
        const targetPath = path.join(publicFolderPath, targetFileName);
        if (!fs.existsSync(publicFolderPath)) {
          fs.mkdirSync(publicFolderPath, { recursive: true });
        }
        fs.copyFileSync(sourcePath, targetPath);
        new import_obsidian10.Notice(`Successfully copied ${targetFileName} to public folder`);
      } catch (error) {
        throw new Error(`Failed to copy file: ${error instanceof Error ? error.message : String(error)}`);
      }
    };
    const showFilePicker = (targetFileName) => {
      const fileInput = document.createElement("input");
      fileInput.type = "file";
      fileInput.accept = ".png";
      let selectedFile = null;
      fileInput.onchange = (e) => {
        var _a2;
        const file = (_a2 = e.target.files) == null ? void 0 : _a2[0];
        if (file) {
          if (!file.name.toLowerCase().endsWith(".png")) {
            new import_obsidian10.Notice("Please select a PNG file");
            return;
          }
          selectedFile = file;
          setTimeout(() => {
            const confirmModal = new import_obsidian10.Modal(this.app);
            confirmModal.titleEl.setText("Replace image");
            const contentDiv = confirmModal.contentEl.createDiv();
            contentDiv.createEl("p", {
              text: `Are you sure you want to replace ${targetFileName} in the public folder with the new image?`
            });
            const buttonContainer = contentDiv.createDiv();
            buttonContainer.setCssProps({
              marginTop: "20px",
              display: "flex",
              gap: "10px",
              justifyContent: "flex-end"
            });
            const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
            cancelButton.className = "mod-button";
            cancelButton.addEventListener("click", () => {
              confirmModal.close();
            });
            const confirmButton = buttonContainer.createEl("button", { text: "Replace" });
            confirmButton.className = "mod-warning";
            confirmButton.addEventListener("click", () => {
              confirmModal.close();
              if (!selectedFile) {
                new import_obsidian10.Notice("File selection was lost. Please try again.");
                return;
              }
              void (async () => {
                try {
                  const fs = require("fs");
                  const path = require("path");
                  const filePath = selectedFile.path;
                  if (filePath) {
                    copyImageToPublic(filePath, targetFileName);
                  } else {
                    const arrayBuffer = await selectedFile.arrayBuffer();
                    const buffer = Buffer2.from(arrayBuffer);
                    const vaultAdapter = this.app.vault.adapter;
                    const vaultPath = vaultAdapter.basePath || vaultAdapter.path;
                    const vaultPathString = typeof vaultPath === "string" ? vaultPath : String(vaultPath != null ? vaultPath : "");
                    const publicFolderPath = path.join(vaultPathString, "..", "..", "public");
                    const targetPath = path.join(publicFolderPath, targetFileName);
                    if (!fs.existsSync(publicFolderPath)) {
                      fs.mkdirSync(publicFolderPath, { recursive: true });
                    }
                    fs.writeFileSync(targetPath, buffer);
                    new import_obsidian10.Notice(`Successfully copied ${targetFileName} to public folder`);
                  }
                } catch (err) {
                  new import_obsidian10.Notice(`Failed to copy file: ${err instanceof Error ? err.message : String(err)}`);
                }
              })();
            });
            confirmModal.open();
          }, 100);
        }
      };
      fileInput.click();
    };
    assetsGroup.addSetting((setting) => {
      setting.setName("Open graph image").setDesc("Select a PNG image to replace open-graph.png in the public folder (recommended: 1200 x 630 pixels)");
      const ogImageButton = setting.controlEl.createEl("button", {
        text: "Select PNG file",
        cls: "mod-cta"
      });
      ogImageButton.addEventListener("click", () => {
        void showFilePicker("open-graph.png");
      });
    });
    assetsGroup.addSetting((setting) => {
      setting.setName("Open Graph image alt text").setDesc("Alternative text for the Open Graph image").addText((text) => {
        var _a2;
        text.setValue(settings.siteInfo.defaultOgImageAlt || ((_a2 = settings.seo) == null ? void 0 : _a2.defaultOgImageAlt) || "Astro Modular logo.");
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.defaultOgImageAlt = value;
          if (!settings.seo) {
            settings.seo = { defaultOgImageAlt: "" };
          }
          settings.seo.defaultOgImageAlt = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration().then(() => {
              new import_obsidian10.Notice("Open Graph image alt text updated and applied to config.ts");
            });
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration().then(() => {
              new import_obsidian10.Notice("Open Graph image alt text updated and applied to config.ts");
            });
          }
        });
      });
    });
    assetsGroup.addSetting((setting) => {
      setting.setName("Favicon").setDesc("Select a PNG image to replace favicon.png in the public folder (recommended: 256 x 256 pixels). Standard favicon is used when browser preference cannot be determined.");
      const faviconButton = setting.controlEl.createEl("button", {
        text: "Select PNG file",
        cls: "mod-cta"
      });
      faviconButton.addEventListener("click", () => {
        void showFilePicker("favicon.png");
      });
    });
    assetsGroup.addSetting((setting) => {
      setting.setName("Theme-adaptive favicon").setDesc("If enabled, favicon switches between light and dark variants based on browser theme preference. Standard favicon is used when browser's preference cannot be determined.").addToggle((toggle) => {
        var _a2;
        return toggle.setValue((_a2 = settings.siteInfo.faviconThemeAdaptive) != null ? _a2 : true).onChange(async (value) => {
          settings.siteInfo.faviconThemeAdaptive = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
          this.render(container);
          new import_obsidian10.Notice(`Theme-adaptive favicon ${value ? "enabled" : "disabled"} and applied to config.ts`);
        });
      });
    });
    if ((_a = settings.siteInfo.faviconThemeAdaptive) != null ? _a : true) {
      assetsGroup.addSetting((setting) => {
        setting.setName("Light theme favicon").setDesc("Select a PNG image to replace favicon-light.png in the public folder (recommended: 256 x 256 pixels)");
        const faviconLightButton = setting.controlEl.createEl("button", {
          text: "Select PNG file",
          cls: "mod-cta"
        });
        faviconLightButton.addEventListener("click", () => {
          void showFilePicker("favicon-light.png");
        });
      });
      assetsGroup.addSetting((setting) => {
        setting.setName("Dark theme favicon").setDesc("Select a PNG image to replace favicon-dark.png in the public folder (recommended: 256 x 256 pixels)");
        const faviconDarkButton = setting.controlEl.createEl("button", {
          text: "Select PNG file",
          cls: "mod-cta"
        });
        faviconDarkButton.addEventListener("click", () => {
          void showFilePicker("favicon-dark.png");
        });
      });
    }
  }
};

// src/ui/tabs/NavigationTab.ts
var import_obsidian11 = require("obsidian");
var NavigationTab = class extends TabRenderer {
  constructor() {
    super(...arguments);
    this.saveTimeoutId = null;
    this.listenersAttached = false;
  }
  render(container) {
    container.empty();
    this.listenersAttached = false;
    const settings = this.getSettings();
    const pagesSection = container.createDiv("settings-section");
    new import_obsidian11.Setting(pagesSection).setHeading().setName("Navigation pages").setDesc("Add or remove pages from your main navigation menu.");
    const pagesList = pagesSection.createDiv("nav-items");
    pagesList.id = "pages-list";
    settings.navigation.pages.forEach((page, index) => {
      this.renderPageItem(pagesList, page, index);
    });
    new import_obsidian11.Setting(pagesSection).setName("Add page").setDesc("Add a new page to your navigation").addButton((button) => button.setButtonText("+ Add page").setCta().onClick(async () => {
      settings.navigation.pages.push({ title: "New Page", url: "/new-page" });
      await this.plugin.saveData(settings);
      await this.applyCurrentConfiguration(false);
      new import_obsidian11.Notice("Navigation page added and applied to config.ts");
      this.render(container);
    }));
    const socialSection = container.createDiv("settings-section");
    new import_obsidian11.Setting(socialSection).setHeading().setName("Social links").setDesc("Add or remove social media links.");
    const socialList = socialSection.createDiv("nav-items");
    socialList.id = "social-list";
    settings.navigation.social.forEach((social, index) => {
      this.renderSocialItem(socialList, social, index);
    });
    new import_obsidian11.Setting(socialSection).setName("Add social link").setDesc("Add a new social media link").addButton((button) => button.setButtonText("+ Add social link").setCta().onClick(async () => {
      settings.navigation.social.push({ title: "New Social", url: "https://example.com", icon: "" });
      await this.plugin.saveData(settings);
      await this.applyCurrentConfiguration(false);
      new import_obsidian11.Notice("Social link added and applied to config.ts");
      this.render(container);
    }));
    const navOptionsGroup = createSettingsGroup(container, "Navigation options", "astro-modular-settings");
    navOptionsGroup.addSetting((setting) => {
      setting.setName("Show navigation").setDesc("Display navigation menu on your site").addToggle((toggle) => {
        var _a;
        return toggle.setValue((_a = settings.navigation.showNavigation) != null ? _a : true).onChange(async (value) => {
          settings.navigation.showNavigation = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
          new import_obsidian11.Notice(`Navigation ${value ? "enabled" : "disabled"} and applied to config.ts`);
        });
      });
    });
    navOptionsGroup.addSetting((setting) => {
      setting.setName("Navigation style").setDesc("Choose between minimal or traditional navigation style").addDropdown((dropdown) => dropdown.addOption("traditional", "Traditional").addOption("minimal", "Minimal").setValue(settings.navigation.style || "traditional").onChange(async (value) => {
        settings.navigation.style = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration();
        new import_obsidian11.Notice(`Navigation style changed to ${value} and applied to config.ts`);
      }));
    });
    navOptionsGroup.addSetting((setting) => {
      setting.setName("Show mobile menu").setDesc("Display mobile navigation menu on smaller screens").addToggle((toggle) => {
        var _a;
        return toggle.setValue((_a = settings.navigation.showMobileMenu) != null ? _a : true).onChange(async (value) => {
          settings.navigation.showMobileMenu = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
          new import_obsidian11.Notice(`Mobile menu ${value ? "enabled" : "disabled"} and applied to config.ts`);
        });
      });
    });
    this.setupEventDelegation(container);
    this.setupDragAndDrop(container);
  }
  setupDragAndDrop(container) {
    let draggedElement = null;
    const dragStartHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        draggedElement = target;
        target.setCssProps({ opacity: "0.5" });
      }
    };
    const dragEndHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        target.setCssProps({ opacity: "1" });
        draggedElement = null;
      }
    };
    const dragOverHandler = (e) => {
      e.preventDefault();
      const target = e.target;
      if (target.classList.contains("nav-item") && draggedElement && target !== draggedElement) {
        const rect = target.getBoundingClientRect();
        const midpoint = rect.top + rect.height / 2;
        if (e.clientY < midpoint) {
          target.setCssProps({
            borderTop: "2px solid var(--interactive-accent)",
            borderBottom: "none"
          });
        } else {
          target.setCssProps({
            borderBottom: "2px solid var(--interactive-accent)",
            borderTop: "none"
          });
        }
      }
    };
    const dragLeaveHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        target.setCssProps({
          borderTop: "none",
          borderBottom: "none"
        });
      }
    };
    const dropHandler = async (e) => {
      e.preventDefault();
      const target = e.target;
      if (target.classList.contains("nav-item") && draggedElement) {
        const targetIndex = parseInt(target.getAttribute("data-index") || "0");
        const draggedIndex = parseInt(draggedElement.getAttribute("data-index") || "0");
        const isPage = target.closest("#pages-list");
        const isSocial = target.closest("#social-list");
        target.setCssProps({
          borderTop: "none",
          borderBottom: "none"
        });
        if (targetIndex !== draggedIndex) {
          const currentSettings = this.getSettings();
          if (isPage) {
            const newPages = [...currentSettings.navigation.pages];
            const draggedItem = newPages.splice(draggedIndex, 1)[0];
            newPages.splice(targetIndex, 0, draggedItem);
            currentSettings.navigation.pages = newPages;
          } else if (isSocial) {
            const newSocial = [...currentSettings.navigation.social];
            const draggedItem = newSocial.splice(draggedIndex, 1)[0];
            newSocial.splice(targetIndex, 0, draggedItem);
            currentSettings.navigation.social = newSocial;
          }
          await this.plugin.saveData(currentSettings);
          await this.applyCurrentConfiguration();
          this.render(container);
        }
      }
    };
    const containerWithHandlers = container;
    if (containerWithHandlers._dragStartHandler) {
      container.removeEventListener("dragstart", containerWithHandlers._dragStartHandler);
      container.removeEventListener("dragend", containerWithHandlers._dragEndHandler);
      container.removeEventListener("dragover", containerWithHandlers._dragOverHandler);
      container.removeEventListener("dragleave", containerWithHandlers._dragLeaveHandler);
      container.removeEventListener("drop", containerWithHandlers._dropHandler);
    }
    containerWithHandlers._dragStartHandler = dragStartHandler;
    containerWithHandlers._dragEndHandler = dragEndHandler;
    containerWithHandlers._dragOverHandler = dragOverHandler;
    containerWithHandlers._dragLeaveHandler = dragLeaveHandler;
    containerWithHandlers._dropHandler = dropHandler;
    if (containerWithHandlers._dragStartHandler) {
      container.addEventListener("dragstart", containerWithHandlers._dragStartHandler);
    }
    if (containerWithHandlers._dragEndHandler) {
      container.addEventListener("dragend", containerWithHandlers._dragEndHandler);
    }
    if (containerWithHandlers._dragOverHandler) {
      container.addEventListener("dragover", containerWithHandlers._dragOverHandler);
    }
    if (containerWithHandlers._dragLeaveHandler) {
      container.addEventListener("dragleave", containerWithHandlers._dragLeaveHandler);
    }
    if (containerWithHandlers._dropHandler) {
      container.addEventListener("drop", containerWithHandlers._dropHandler);
    }
  }
  setupEventDelegation(container) {
    const settings = this.getSettings();
    const pagesList = container.querySelector("#pages-list");
    const socialList = container.querySelector("#social-list");
    if (pagesList) {
      pagesList.addEventListener("input", (e) => {
        const target = e.target;
        if (target.classList.contains("nav-title")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          settings.navigation.pages[index].title = target.value;
          this.debouncedSave();
        } else if (target.classList.contains("nav-url")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          if (target.value.trim() === "") {
            delete settings.navigation.pages[index].url;
          } else {
            settings.navigation.pages[index].url = target.value;
          }
          this.debouncedSave();
        } else if (target.classList.contains("nav-child-title")) {
          const childItem = target.closest(".nav-child-item");
          const parentIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-index")) || "0");
          const childIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-child-index")) || "0");
          if (!settings.navigation.pages[parentIndex].children) {
            settings.navigation.pages[parentIndex].children = [];
          }
          if (!settings.navigation.pages[parentIndex].children[childIndex]) {
            settings.navigation.pages[parentIndex].children[childIndex] = { title: "", url: "" };
          }
          settings.navigation.pages[parentIndex].children[childIndex].title = target.value;
          this.debouncedSave();
        } else if (target.classList.contains("nav-child-url")) {
          const childItem = target.closest(".nav-child-item");
          const parentIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-index")) || "0");
          const childIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-child-index")) || "0");
          if (!settings.navigation.pages[parentIndex].children) {
            settings.navigation.pages[parentIndex].children = [];
          }
          if (!settings.navigation.pages[parentIndex].children[childIndex]) {
            settings.navigation.pages[parentIndex].children[childIndex] = { title: "", url: "" };
          }
          settings.navigation.pages[parentIndex].children[childIndex].url = target.value;
          this.debouncedSave();
        }
      });
    }
    if (socialList) {
      socialList.addEventListener("input", (e) => {
        const target = e.target;
        if (target.classList.contains("nav-title") || target.classList.contains("nav-url") || target.classList.contains("nav-icon")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          const field = target.classList.contains("nav-title") ? "title" : target.classList.contains("nav-url") ? "url" : "icon";
          settings.navigation.social[index][field] = target.value;
          this.debouncedSave();
        }
      });
    }
    const removeHandler = async (e) => {
      const target = e.target;
      if (target.classList.contains("nav-remove")) {
        e.preventDefault();
        e.stopPropagation();
        const item = target.closest(".nav-item");
        const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
        const isPage = item == null ? void 0 : item.closest("#pages-list");
        const currentSettings = this.getSettings();
        if (isPage) {
          currentSettings.navigation.pages.splice(index, 1);
          await this.plugin.saveData(currentSettings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration(false);
          new import_obsidian11.Notice("Navigation page removed and applied to config.ts");
          this.render(container);
        } else {
          currentSettings.navigation.social.splice(index, 1);
          await this.plugin.saveData(currentSettings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration(false);
          new import_obsidian11.Notice("Social link removed and applied to config.ts");
          this.render(container);
        }
      } else if (target.classList.contains("nav-child-remove")) {
        e.preventDefault();
        e.stopPropagation();
        const parentIndex = parseInt(target.getAttribute("data-index") || "0");
        const childIndex = parseInt(target.getAttribute("data-child-index") || "0");
        const currentSettings = this.getSettings();
        if (currentSettings.navigation.pages[parentIndex].children) {
          currentSettings.navigation.pages[parentIndex].children.splice(childIndex, 1);
          if (currentSettings.navigation.pages[parentIndex].children.length === 0) {
            delete currentSettings.navigation.pages[parentIndex].children;
          }
          await this.plugin.saveData(currentSettings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration(false);
          new import_obsidian11.Notice("Child page removed and applied to config.ts");
          const navItem = target.closest(".nav-item");
          const childrenContainer = navItem == null ? void 0 : navItem.querySelector(".nav-children-container");
          if (childrenContainer && (!currentSettings.navigation.pages[parentIndex].children || currentSettings.navigation.pages[parentIndex].children.length === 0)) {
            childrenContainer.setCssProps({ display: "none" });
          }
          this.render(container);
        }
      } else if (target.classList.contains("nav-add-child")) {
        e.preventDefault();
        e.stopPropagation();
        const index = parseInt(target.getAttribute("data-index") || "0");
        const currentSettings = this.getSettings();
        if (!currentSettings.navigation.pages[index].children) {
          currentSettings.navigation.pages[index].children = [];
        }
        currentSettings.navigation.pages[index].children.push({ title: "New Child", url: "/new-child" });
        await this.plugin.saveData(currentSettings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration(false);
        new import_obsidian11.Notice("Child page added and applied to config.ts");
        const navItem = target.closest(".nav-item");
        const childrenContainer = navItem == null ? void 0 : navItem.querySelector(".nav-children-container");
        if (childrenContainer) {
          childrenContainer.setCssProps({ display: "block" });
        }
        this.render(container);
        setTimeout(() => {
          container.querySelectorAll('button[data-icon="trash"]').forEach((button) => {
            button.textContent = "";
            (0, import_obsidian11.setIcon)(button, "trash");
          });
        }, 0);
      }
    };
    const containerWithHandlers = container;
    if (containerWithHandlers._removeHandler) {
      container.removeEventListener("click", containerWithHandlers._removeHandler);
    }
    containerWithHandlers._removeHandler = removeHandler;
    container.addEventListener("click", containerWithHandlers._removeHandler);
  }
  debouncedSave() {
    if (this.saveTimeoutId) {
      clearTimeout(this.saveTimeoutId);
    }
    this.saveTimeoutId = window.setTimeout(() => {
      void this.plugin.saveData(this.getSettings());
      void this.applyCurrentConfiguration(false);
    }, 1e3);
  }
  renderPageItem(container, page, index) {
    const hasChildren = page.children && page.children.length > 0;
    const navItem = container.createDiv("nav-item");
    navItem.setAttribute("data-index", index.toString());
    navItem.setAttribute("draggable", "true");
    const itemContent = navItem.createDiv("nav-item-content");
    const itemFields = itemContent.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-title",
      attr: { placeholder: "Page title", draggable: "false" }
    });
    titleInput.value = page.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-url",
      attr: { placeholder: "/page-url (leave empty for dropdown-only)", draggable: "false" }
    });
    urlInput.value = page.url || "";
    const itemActions = itemContent.createDiv("nav-item-actions");
    itemActions.createEl("button", {
      // "+ Child" is a button label, keep as is
      // eslint-disable-next-line obsidianmd/ui/sentence-case
      text: "+ Child",
      cls: "nav-add-child",
      attr: { "data-index": index.toString(), title: "Add child page" }
    });
    const removeBtn = itemActions.createEl("button", {
      cls: "nav-remove mod-warning",
      attr: { "data-index": index.toString(), "data-icon": "trash", title: "Remove", "aria-label": "Remove" }
    });
    (0, import_obsidian11.setIcon)(removeBtn, "trash");
    const childrenContainer = navItem.createDiv("nav-children-container");
    childrenContainer.setAttribute("data-parent-index", index.toString());
    if (!hasChildren) {
      childrenContainer.setCssProps({ display: "none" });
    }
    childrenContainer.createDiv("nav-children-label").textContent = "Child pages:";
    const childrenDiv = childrenContainer.createDiv("nav-children");
    childrenDiv.setAttribute("data-parent-index", index.toString());
    if (hasChildren && page.children) {
      page.children.forEach((child, childIndex) => {
        this.renderChildItem(childrenDiv, child, index, childIndex);
      });
    }
  }
  renderChildItem(container, child, parentIndex, childIndex) {
    const childItem = container.createDiv("nav-child-item");
    childItem.setAttribute("data-index", parentIndex.toString());
    childItem.setAttribute("data-child-index", childIndex.toString());
    const itemFields = childItem.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-child-title",
      attr: { placeholder: "Child title", draggable: "false" }
    });
    titleInput.value = child.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-child-url",
      attr: { placeholder: "/child-url", draggable: "false" }
    });
    urlInput.value = child.url || "";
    const removeBtn = childItem.createEl("button", {
      cls: "nav-child-remove mod-warning",
      attr: {
        "data-index": parentIndex.toString(),
        "data-child-index": childIndex.toString(),
        "data-icon": "trash",
        title: "Remove",
        "aria-label": "Remove"
      }
    });
    (0, import_obsidian11.setIcon)(removeBtn, "trash");
  }
  renderSocialItem(container, social, index) {
    const navItem = container.createDiv("nav-item");
    navItem.setAttribute("data-index", index.toString());
    navItem.setAttribute("draggable", "true");
    const itemContent = navItem.createDiv("nav-item-content");
    const itemFields = itemContent.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-title",
      attr: { placeholder: "Social title", draggable: "false" }
    });
    titleInput.value = social.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-url",
      attr: { placeholder: "https://example.com", draggable: "false" }
    });
    urlInput.value = social.url || "";
    const removeBtn = itemContent.createEl("button", {
      cls: "nav-remove mod-warning",
      attr: { "data-index": index.toString(), "data-icon": "trash", title: "Remove", "aria-label": "Remove" }
    });
    (0, import_obsidian11.setIcon)(removeBtn, "trash");
    const iconRow = navItem.createDiv("nav-icon-row");
    const iconInput = iconRow.createEl("input", {
      type: "text",
      cls: "nav-icon",
      attr: { placeholder: "Icon name", draggable: "false" }
    });
    iconInput.value = social.icon || "";
    const iconHelp = iconRow.createDiv("nav-icon-help");
    iconHelp.createEl("small", { text: "Icon names from FontAwesome Brands" });
  }
};

// src/ui/tabs/ConfigTab.ts
var import_obsidian13 = require("obsidian");
init_types();

// src/ui/PresetWarningModal.ts
var import_obsidian12 = require("obsidian");
var PresetWarningModal = class extends import_obsidian12.Modal {
  constructor(app, changes, onConfirm, onCancel) {
    super(app);
    this.changes = changes;
    this.onConfirm = onConfirm;
    this.onCancel = onCancel;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const header = contentEl.createEl("h2", { text: "Apply template preset" });
    header.addClass("preset-warning-modal-header");
    const warning = contentEl.createEl("p", {
      text: "Applying this template will change the following settings:"
    });
    warning.addClass("preset-warning-message");
    const changesList = contentEl.createEl("ul");
    changesList.addClass("preset-warning-changes-list");
    this.changes.forEach((change) => {
      const listItem = changesList.createEl("li", { text: change });
      listItem.addClass("preset-warning-list-item");
    });
    const question = contentEl.createEl("p", {
      text: "Do you want to apply this template?"
    });
    question.addClass("preset-warning-question");
    const buttonContainer = contentEl.createDiv("modal-button-container");
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.className = "mod-cta";
    cancelButton.addEventListener("click", () => {
      this.onCancel();
      this.close();
    });
    const confirmButton = buttonContainer.createEl("button", { text: "Continue" });
    confirmButton.className = "mod-warning";
    confirmButton.addEventListener("click", () => {
      this.onConfirm();
      this.close();
    });
    confirmButton.focus();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/tabs/ConfigTab.ts
var ConfigTab = class extends TabRenderer {
  render(container) {
    container.empty();
    const settings = this.getSettings();
    const configGroup = createSettingsGroup(container, void 0, "astro-modular-settings");
    configGroup.addSetting((setting) => {
      setting.setName("Template").setDesc("Choose your content template").addDropdown((dropdown) => {
        TEMPLATE_OPTIONS.forEach((template) => {
          dropdown.addOption(template.id, template.name);
        });
        dropdown.setValue(settings.currentTemplate);
        dropdown.onChange((value) => {
          const changes = this.getTemplateChanges(value);
          const modal = new PresetWarningModal(
            this.app,
            changes,
            () => {
              void (async () => {
                try {
                  await this.updatePluginSettingsWithTemplate(value);
                  const plugin = this.plugin;
                  await plugin.loadSettings();
                  const freshSettings = plugin.settings;
                  const presetSuccess = plugin.configManager.applyPreset({
                    name: freshSettings.currentTemplate,
                    description: "",
                    features: freshSettings.features,
                    theme: freshSettings.currentTheme,
                    contentOrganization: freshSettings.contentOrganization,
                    config: freshSettings
                  });
                  if (presetSuccess) {
                    new import_obsidian13.Notice(`Template changed to ${value} and applied to config.ts`);
                  } else {
                    new import_obsidian13.Notice("Failed to apply template to config.ts");
                  }
                } catch (error) {
                  new import_obsidian13.Notice(`Failed to apply template change: ${error instanceof Error ? error.message : String(error)}`);
                  dropdown.setValue(settings.currentTemplate);
                }
              })();
            },
            () => {
              dropdown.setValue(settings.currentTemplate);
            }
          );
          modal.open();
        });
      });
    });
    configGroup.addSetting((setting) => {
      setting.setName("Deployment").setDesc("Choose your deployment platform").addDropdown((dropdown) => {
        dropdown.addOption("netlify", "Netlify");
        dropdown.addOption("vercel", "Vercel");
        dropdown.addOption("github-pages", "GitHub pages");
        dropdown.addOption("cloudflare-workers", "Cloudflare Workers");
        dropdown.setValue(settings.deployment.platform);
        dropdown.onChange(async (value) => {
          settings.deployment.platform = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          try {
            await this.applyCurrentConfiguration();
            new import_obsidian13.Notice(`Deployment platform changed to ${value} and applied to config.ts`);
          } catch (error) {
            new import_obsidian13.Notice(`Failed to apply deployment platform change: ${error instanceof Error ? error.message : String(error)}`);
          }
        });
      });
    });
    configGroup.addSetting((setting) => {
      setting.setName("Content organization").setDesc("Choose how to organize your content and assets").addDropdown((dropdown) => {
        dropdown.addOption("file-based", "File-based");
        dropdown.addOption("folder-based", "Folder-based");
        dropdown.setValue(settings.contentOrganization);
        dropdown.onChange(async (value) => {
          settings.contentOrganization = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          const contentOrg = value;
          const config4 = {
            obsidianSettings: {
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              attachmentLocation: contentOrg === "file-based" ? "subfolder" : "same-folder",
              subfolderName: "attachments"
            },
            astroComposerSettings: {
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              creationMode: contentOrg === "file-based" ? "file" : "folder",
              indexFileName: "index"
            },
            imageManagerSettings: {
              customPropertyLinkFormat: contentOrg === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
            }
          };
          try {
            await this.plugin.pluginManager.configurePlugins(config4);
            const attachmentLocation = contentOrg === "file-based" ? "subfolder (attachments/)" : "same folder";
            const creationMode = contentOrg === "file-based" ? "file" : "folder";
            new import_obsidian13.Notice(`Content organization changed to ${value}

\u2022 Obsidian: Attachments \u2192 ${attachmentLocation}
\u2022 Astro Composer: Creation mode \u2192 ${creationMode}
\u2022 Image Manager: Format updated`, 8e3);
          } catch (error) {
            new import_obsidian13.Notice(`Failed to configure plugins for content organization: ${error instanceof Error ? error.message : String(error)}`);
          }
        });
      });
      setting.settingEl.setCssProps({
        marginBottom: "var(--size-4-6)"
      });
    });
    const pluginConfigHeading = new import_obsidian13.Setting(container).setHeading().setName("Plugin configuration");
    pluginConfigHeading.settingEl.setCssProps({
      marginTop: "0",
      marginBottom: "var(--size-4-2)"
    });
    void this.renderPluginStatus(container, settings);
  }
  renderPluginStatus(container, settings) {
    const contentOrg = settings.contentOrganization;
    const pluginStatus = this.plugin.pluginManager.getPluginStatus(contentOrg);
    const statusContainer = container.createDiv("plugin-status-container");
    const pluginStatusDiv = statusContainer.createDiv("plugin-status");
    for (const plugin of pluginStatus) {
      const isSettingsCheck = plugin.name === "Attachment settings";
      const isConfigured = plugin.installed;
      const hasSyncIssues = plugin.outOfSyncContentTypes && plugin.outOfSyncContentTypes.length > 0;
      const allOutOfSync = hasSyncIssues && plugin.outOfSyncContentTypes && plugin.outOfSyncContentTypes.length === 4;
      const isPartiallyConfigured = hasSyncIssues && !allOutOfSync && plugin.installed && plugin.enabled;
      const allMismatched = allOutOfSync && plugin.installed && plugin.enabled;
      const isImageManager = plugin.name === "Image Manager";
      const imageManagerMismatch = isImageManager && plugin.installed && plugin.enabled && plugin.settingsMatch === false;
      let itemClass = "plugin-item";
      if (isSettingsCheck) {
        itemClass += isConfigured ? " installed" : " missing";
      } else if (imageManagerMismatch || allMismatched) {
        itemClass += " missing";
      } else if (isPartiallyConfigured) {
        itemClass += " partially-configured";
      } else {
        itemClass += plugin.installed && plugin.enabled ? " installed" : " missing";
      }
      const pluginItem = pluginStatusDiv.createDiv(itemClass);
      const icon = pluginItem.createDiv("plugin-icon");
      if (isSettingsCheck) {
        (0, import_obsidian13.setIcon)(icon, isConfigured ? "check" : "x");
      } else if (imageManagerMismatch || allMismatched) {
        (0, import_obsidian13.setIcon)(icon, "x");
      } else if (isPartiallyConfigured) {
        (0, import_obsidian13.setIcon)(icon, "alert-triangle");
      } else {
        (0, import_obsidian13.setIcon)(icon, plugin.installed && plugin.enabled ? "check" : "x");
      }
      const info = pluginItem.createDiv("plugin-info");
      info.createEl("h3", { text: plugin.name });
      let statusText;
      if (isSettingsCheck) {
        statusText = isConfigured ? "Configured" : "Doesn't match";
      } else if (!plugin.installed) {
        statusText = "Not installed";
      } else if (!plugin.enabled) {
        statusText = "Disabled";
      } else if (imageManagerMismatch || allMismatched) {
        statusText = "Doesn't match";
      } else if (isPartiallyConfigured) {
        statusText = "Partially configured";
      } else {
        statusText = "Configured";
      }
      info.createEl("p", { text: statusText });
      if (hasSyncIssues && plugin.outOfSyncContentTypes) {
        const detailsP = info.createEl("p", {
          text: `Out of sync: ${plugin.outOfSyncContentTypes.join(", ")}`,
          cls: "sync-details"
        });
        detailsP.setCssProps({
          fontSize: "0.9em",
          opacity: "0.8",
          marginTop: "4px"
        });
      }
    }
    const pluginActionsGroup = createSettingsGroup(container, "Plugin actions", "astro-modular-settings");
    pluginActionsGroup.addSetting((setting) => {
      setting.setName("Re-apply configuration").setDesc("Re-apply plugin settings based on your content organization choice (useful if settings were changed manually or configuration failed)").addButton((button) => button.setButtonText("Re-apply configuration").setCta().onClick(async () => {
        const contentOrg2 = settings.contentOrganization;
        const config4 = {
          obsidianSettings: {
            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
            attachmentLocation: contentOrg2 === "file-based" ? "subfolder" : "same-folder",
            subfolderName: "attachments"
          },
          astroComposerSettings: {
            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
            creationMode: contentOrg2 === "file-based" ? "file" : "folder",
            indexFileName: "index"
          },
          imageManagerSettings: {
            customPropertyLinkFormat: contentOrg2 === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
          }
        };
        const success = await this.plugin.pluginManager.configurePlugins(config4);
        if (success) {
          const contentOrg3 = settings.contentOrganization;
          const attachmentLocation = contentOrg3 === "file-based" ? "subfolder (attachments/)" : "same folder";
          const creationMode = contentOrg3 === "file-based" ? "file" : "folder";
          new import_obsidian13.Notice(`Configuration re-applied successfully!

\u2022 Obsidian: Attachments \u2192 ${attachmentLocation}
\u2022 Astro Composer: Creation mode \u2192 ${creationMode}
\u2022 Image Manager: Format updated for ${contentOrg3}`, 8e3);
          const statusContainerEl = container.querySelector(".plugin-status-container");
          if (statusContainerEl) {
            statusContainerEl.remove();
            this.renderPluginStatus(container, settings);
          }
        } else {
          new import_obsidian13.Notice("\u26A0\uFE0F Some plugins could not be configured automatically. Check console for details.", 5e3);
        }
      }));
    });
    pluginActionsGroup.addSetting((setting) => {
      setting.setName("Show manual instructions").setDesc("Get step-by-step instructions for manual configuration").addButton((button) => button.setButtonText("Show manual instructions").onClick(() => {
        const contentOrg2 = settings.contentOrganization;
        const config4 = {
          obsidianSettings: {
            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
            attachmentLocation: contentOrg2 === "file-based" ? "subfolder" : "same-folder",
            subfolderName: "attachments"
          },
          astroComposerSettings: {
            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
            creationMode: contentOrg2 === "file-based" ? "file" : "folder",
            indexFileName: "index"
          },
          imageManagerSettings: {
            customPropertyLinkFormat: contentOrg2 === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
          }
        };
        const instructions = this.plugin.pluginManager.getManualConfigurationInstructions(config4);
        const instructionModal = new import_obsidian13.Modal(this.app);
        instructionModal.titleEl.setText("Manual configuration instructions");
        const contentDiv = instructionModal.contentEl.createDiv();
        contentDiv.setCssProps({
          padding: "20px",
          lineHeight: "1.6"
        });
        const lines = instructions.split("\n");
        let currentList = null;
        lines.forEach((line) => {
          const trimmedLine = line.trim();
          if (trimmedLine === "") {
            contentDiv.createEl("br");
          } else if (trimmedLine.startsWith("## ")) {
            if (currentList) {
              currentList = null;
            }
            const h2 = contentDiv.createEl("h2");
            h2.setText(trimmedLine.substring(3));
            h2.setCssProps({
              marginTop: "20px",
              marginBottom: "10px",
              fontSize: "1.2em",
              fontWeight: "bold"
            });
          } else if (trimmedLine.match(/^\d+\.\s/)) {
            if (!currentList) {
              currentList = contentDiv.createEl("ol");
              currentList.setCssProps({
                marginLeft: "20px",
                marginBottom: "15px"
              });
            }
            const li = currentList.createEl("li");
            li.setCssProps({
              marginBottom: "5px"
            });
            this.parseBoldText(li, trimmedLine.replace(/^\d+\.\s/, ""));
          } else if (trimmedLine.startsWith("- ") || trimmedLine.startsWith("* ")) {
            if (!currentList) {
              currentList = contentDiv.createEl("ul");
              currentList.setCssProps({
                marginLeft: "20px",
                marginBottom: "15px"
              });
            }
            const li = currentList.createEl("li");
            li.setCssProps({
              marginBottom: "5px"
            });
            this.parseBoldText(li, trimmedLine.substring(2));
          } else {
            if (currentList) {
              currentList = null;
            }
            const p = contentDiv.createEl("p");
            p.setCssProps({
              marginBottom: "10px"
            });
            this.parseBoldText(p, trimmedLine);
          }
        });
        instructionModal.open();
      }));
    });
  }
  parseBoldText(container, text) {
    const parts = text.split(/(\*\*.*?\*\*)/g);
    parts.forEach((part) => {
      if (part.startsWith("**") && part.endsWith("**")) {
        const strong = container.createEl("strong");
        strong.setText(part.substring(2, part.length - 2));
      } else if (part.trim() !== "") {
        container.appendText(part);
      }
    });
  }
  async updatePluginSettingsWithTemplate(template) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D, _E, _F, _G;
    const plugin = this.plugin;
    const settings = plugin.settings;
    const templatePreset = plugin.configManager.getTemplatePreset(template);
    if (!templatePreset || !templatePreset.config) {
      new import_obsidian13.Notice("Template preset not found");
      return;
    }
    const templateConfig = plugin.configManager.getTemplateConfig(template, settings);
    settings.currentTemplate = template;
    if (templatePreset.config.features) {
      const currentComments = settings.features.comments;
      const currentProfilePicture = settings.features.profilePicture;
      settings.features = { ...settings.features, ...templatePreset.config.features };
      settings.features.comments = currentComments;
      settings.features.profilePicture = currentProfilePicture;
      if ((_a = settings.postOptions) == null ? void 0 : _a.graphView) {
        settings.postOptions.graphView.enabled = (_b = templatePreset.config.features.graphView) != null ? _b : false;
        settings.features.graphView = settings.postOptions.graphView.enabled;
      }
      if ((_c = settings.postOptions) == null ? void 0 : _c.linkedMentions) {
        settings.postOptions.linkedMentions.enabled = (_d = templatePreset.config.features.linkedMentions) != null ? _d : false;
        settings.postOptions.linkedMentions.linkedMentionsCompact = (_e = templatePreset.config.features.linkedMentionsCompact) != null ? _e : false;
      }
      if (((_f = settings.commandPalette) == null ? void 0 : _f.quickActions) && templatePreset.config.features.quickActions) {
        settings.commandPalette.quickActions = { ...settings.commandPalette.quickActions, ...templatePreset.config.features.quickActions };
      }
    }
    const commandPalette = templateConfig.commandPalette;
    if (commandPalette) {
      settings.commandPalette = {
        ...settings.commandPalette,
        enabled: (_g = commandPalette.enabled) != null ? _g : settings.commandPalette.enabled,
        placeholder: (_h = commandPalette.placeholder) != null ? _h : settings.commandPalette.placeholder,
        shortcut: (_i = commandPalette.shortcut) != null ? _i : settings.commandPalette.shortcut,
        search: {
          ...settings.commandPalette.search,
          ...commandPalette.search || {}
        },
        sections: {
          ...settings.commandPalette.sections,
          ...commandPalette.sections || {}
        },
        quickActions: {
          ...settings.commandPalette.quickActions,
          ...((_j = templatePreset.config.features) == null ? void 0 : _j.quickActions) || {}
        }
      };
      if ((_k = templatePreset.config.features) == null ? void 0 : _k.quickActions) {
        settings.features.quickActions = {
          ...settings.features.quickActions,
          ...templatePreset.config.features.quickActions
        };
      }
    }
    const homeOptions = templateConfig.homeOptions;
    if (homeOptions) {
      settings.homeOptions = {
        ...settings.homeOptions,
        featuredPost: {
          ...settings.homeOptions.featuredPost,
          ...homeOptions.featuredPost || {}
        },
        recentPosts: {
          ...settings.homeOptions.recentPosts,
          ...homeOptions.recentPosts || {}
        },
        projects: {
          ...settings.homeOptions.projects,
          ...homeOptions.projects || {}
        },
        docs: {
          ...settings.homeOptions.docs,
          ...homeOptions.docs || {}
        },
        blurb: {
          ...settings.homeOptions.blurb,
          ...homeOptions.blurb || {}
        }
      };
    }
    const postOptions = templateConfig.postOptions;
    if (postOptions) {
      settings.postOptions = {
        ...settings.postOptions,
        postsPerPage: (_l = postOptions.postsPerPage) != null ? _l : settings.postOptions.postsPerPage,
        readingTime: (_m = postOptions.readingTime) != null ? _m : settings.postOptions.readingTime,
        wordCount: (_n = postOptions.wordCount) != null ? _n : settings.postOptions.wordCount,
        tags: (_o = postOptions.tags) != null ? _o : settings.postOptions.tags,
        postNavigation: (_p = postOptions.postNavigation) != null ? _p : settings.postOptions.postNavigation,
        showPostCardCoverImages: (_q = postOptions.showPostCardCoverImages) != null ? _q : settings.postOptions.showPostCardCoverImages,
        postCardAspectRatio: (_r = postOptions.postCardAspectRatio) != null ? _r : settings.postOptions.postCardAspectRatio,
        linkedMentions: {
          ...settings.postOptions.linkedMentions,
          ...postOptions.linkedMentions || {}
        },
        graphView: {
          ...settings.postOptions.graphView,
          enabled: (_t = (_s = postOptions.graphView) == null ? void 0 : _s.enabled) != null ? _t : settings.postOptions.graphView.enabled,
          showInSidebar: (_v = (_u = postOptions.graphView) == null ? void 0 : _u.showInSidebar) != null ? _v : settings.postOptions.graphView.showInSidebar,
          maxNodes: (_x = (_w = postOptions.graphView) == null ? void 0 : _w.maxNodes) != null ? _x : settings.postOptions.graphView.maxNodes,
          showOrphanedPosts: (_z = (_y = postOptions.graphView) == null ? void 0 : _y.showOrphanedPosts) != null ? _z : settings.postOptions.graphView.showOrphanedPosts
        },
        comments: settings.postOptions.comments
        // Preserve comments
      };
    }
    const navigation = templateConfig.navigation;
    if (navigation) {
      settings.navigation = {
        ...settings.navigation,
        showNavigation: (_A = navigation.showNavigation) != null ? _A : settings.navigation.showNavigation,
        showMobileMenu: (_B = navigation.showMobileMenu) != null ? _B : settings.navigation.showMobileMenu,
        style: (_C = navigation.style) != null ? _C : settings.navigation.style
        // Preserve pages and social arrays from user settings
      };
    }
    if (templatePreset.config.tableOfContents) {
      settings.tableOfContents = { ...settings.tableOfContents, ...templatePreset.config.tableOfContents };
    }
    const optionalContentTypes = templateConfig.optionalContentTypes;
    if (optionalContentTypes) {
      settings.optionalContentTypes = {
        projects: (_D = optionalContentTypes.projects) != null ? _D : false,
        docs: (_E = optionalContentTypes.docs) != null ? _E : false
      };
    }
    const footer = templateConfig.footer;
    if (footer) {
      settings.footer = {
        ...settings.footer,
        showSocialIconsInFooter: (_F = footer.showSocialIconsInFooter) != null ? _F : settings.footer.showSocialIconsInFooter
      };
      settings.features.showSocialIconsInFooter = (_G = footer.showSocialIconsInFooter) != null ? _G : settings.features.showSocialIconsInFooter;
    }
    await this.plugin.saveData(settings);
  }
  getTemplateChanges(templateId) {
    var _a, _b, _c, _d;
    const changes = [];
    const settings = this.getSettings();
    const templatePreset = this.plugin.configManager.getTemplatePreset(templateId);
    if (!templatePreset || !templatePreset.config) {
      changes.push("This will apply the template settings to your configuration.");
      return changes;
    }
    const newConfig = templatePreset.config;
    const featureChanges = [];
    if (newConfig.features) {
      const keyFeatures = [
        { key: "graphView", label: "Graph view" },
        { key: "tableOfContents", label: "Table of contents" },
        { key: "readingTime", label: "Reading time" },
        { key: "linkedMentions", label: "Linked mentions" },
        { key: "linkedMentionsCompact", label: "Compact linked mentions" },
        { key: "postNavigation", label: "Post navigation" },
        { key: "showSocialIconsInFooter", label: "Social icons in footer" },
        { key: "featureButton", label: "Feature button" }
      ];
      keyFeatures.forEach(({ key, label }) => {
        const oldFeature = settings.features[key];
        const newFeature = newConfig.features[key];
        if (newFeature !== void 0 && oldFeature !== newFeature) {
          const oldVal = typeof oldFeature === "boolean" ? oldFeature ? "ON" : "OFF" : oldFeature === null || oldFeature === void 0 ? "" : typeof oldFeature === "string" || typeof oldFeature === "number" ? String(oldFeature) : JSON.stringify(oldFeature);
          const newVal = typeof newFeature === "boolean" ? newFeature ? "ON" : "OFF" : newFeature === null || newFeature === void 0 ? "" : typeof newFeature === "string" || typeof newFeature === "number" ? String(newFeature) : JSON.stringify(newFeature);
          featureChanges.push(`${label}: ${oldVal} \u2192 ${newVal}`);
        }
      });
      if (newConfig.features.quickActions && settings.features.quickActions) {
        if (newConfig.features.quickActions.enabled !== settings.features.quickActions.enabled) {
          featureChanges.push(`Quick actions: ${settings.features.quickActions.enabled ? "ON" : "OFF"} \u2192 ${newConfig.features.quickActions.enabled ? "ON" : "OFF"}`);
        }
      }
    }
    const isStandard = templateId === "standard";
    if (((_a = settings.optionalContentTypes) == null ? void 0 : _a.projects) !== isStandard) {
      featureChanges.push(`Projects content type: ${((_b = settings.optionalContentTypes) == null ? void 0 : _b.projects) ? "enabled" : "disabled"} \u2192 ${isStandard ? "enabled" : "disabled"}`);
    }
    if (((_c = settings.optionalContentTypes) == null ? void 0 : _c.docs) !== isStandard) {
      featureChanges.push(`Docs content type: ${((_d = settings.optionalContentTypes) == null ? void 0 : _d.docs) ? "enabled" : "disabled"} \u2192 ${isStandard ? "enabled" : "disabled"}`);
    }
    if (featureChanges.length > 0) {
      changes.push(...featureChanges);
    } else {
      changes.push("No changes needed - your settings already match this template.");
    }
    return changes;
  }
};

// src/ui/tabs/StyleTab.ts
var import_obsidian14 = require("obsidian");
init_types();

// src/utils/ThemeColorExtractor.ts
var ThemeColorExtractor = class {
  /**
   * Extract colors from the currently active Obsidian theme
   */
  static extractObsidianThemeColors() {
    const styles = getComputedStyle(document.body);
    const primaryColors = this.extractPrimaryColors(styles);
    const highlightColors = this.extractHighlightColors(styles);
    return {
      primary: primaryColors,
      highlight: highlightColors
    };
  }
  /**
   * Extract primary color scale from Obsidian theme
   */
  static extractPrimaryColors(styles) {
    const backgroundPrimary = this.getColorValue(styles, "--background-primary");
    const backgroundSecondary = this.getColorValue(styles, "--background-secondary");
    const backgroundRgb = this.hexToRgb(backgroundPrimary);
    const isDarkTheme = backgroundRgb ? (0.299 * backgroundRgb.r + 0.587 * backgroundRgb.g + 0.114 * backgroundRgb.b) / 255 < 0.5 : true;
    if (isDarkTheme) {
      return {
        50: this.lightenColor(backgroundSecondary, 95),
        // Very light
        100: this.lightenColor(backgroundSecondary, 90),
        // Light
        200: this.lightenColor(backgroundSecondary, 80),
        // Light
        300: this.lightenColor(backgroundSecondary, 70),
        // Medium light
        400: this.lightenColor(backgroundSecondary, 55),
        // Medium
        500: this.lightenColor(backgroundSecondary, 40),
        // Medium
        600: this.lightenColor(backgroundSecondary, 25),
        // Medium dark
        700: backgroundSecondary,
        // Main content background
        800: this.darkenColor(backgroundPrimary, 20),
        // Darker far background
        900: this.darkenColor(backgroundPrimary, 35),
        // Very dark (like #1a1a1a)
        950: this.darkenColor(backgroundPrimary, 50)
        // Darkest
      };
    } else {
      return this.createBetterColorScale(backgroundPrimary, true, isDarkTheme);
    }
  }
  /**
   * Extract highlight color scale from Obsidian theme
   */
  static extractHighlightColors(styles) {
    const baseColor = this.getColorValue(styles, "--text-accent") || this.getColorValue(styles, "--interactive-accent") || this.getColorValue(styles, "--text-a") || this.getColorValue(styles, "--text-link");
    const hoverColor = this.getColorValue(styles, "--text-accent-hover") || this.getColorValue(styles, "--text-a-hover") || baseColor;
    return {
      50: hoverColor,
      // Hover/lighter variant
      100: hoverColor,
      // Hover/lighter variant
      200: hoverColor,
      // Hover/lighter variant
      300: baseColor,
      // Base color
      400: baseColor,
      // Base color
      500: baseColor,
      // Base color
      600: baseColor,
      // Base color
      700: baseColor,
      // Base color
      800: baseColor,
      // Base color
      900: baseColor
      // Base color
    };
  }
  /**
   * Get color value from CSS custom property with fallback
   */
  static getColorValue(styles, property) {
    const value = styles.getPropertyValue(property).trim();
    if (!value) {
      switch (property) {
        case "--background-primary":
          return "#1e1e1e";
        case "--background-secondary":
          return "#2d2d2d";
        case "--background-modifier-border":
          return "#3a3a3a";
        case "--text-normal":
          return "#dcddde";
        case "--text-muted":
          return "#72767d";
        case "--text-faint":
          return "#484b51";
        case "--text-accent":
          return "#708794";
        case "--ax1":
          return "#708794";
        case "--ax2":
          return "#889eaa";
        case "--ax3":
          return "#5a6d77";
        case "--text-accent-hover":
          return "#889eaa";
        case "--text-a":
          return "#f8c537";
        case "--text-a-hover":
          return "#f8c537";
        case "--text-link":
          return "#83a598";
        case "--interactive-accent":
          return "#5865f2";
        default:
          return "#666666";
      }
    }
    return this.convertToHex(value);
  }
  /**
   * Convert CSS color value to hex format
   */
  static convertToHex(colorValue) {
    if (colorValue.startsWith("#")) {
      return colorValue;
    }
    const tempElement = document.createElement("div");
    tempElement.setCssProps({ color: colorValue });
    document.body.appendChild(tempElement);
    const computedColor = getComputedStyle(tempElement).color;
    document.body.removeChild(tempElement);
    const rgbMatch = computedColor.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);
    if (rgbMatch) {
      const r = parseInt(rgbMatch[1]);
      const g = parseInt(rgbMatch[2]);
      const b = parseInt(rgbMatch[3]);
      return this.rgbToHex(r, g, b);
    }
    const hslMatch = colorValue.match(/hsl\(\s*(\d+),\s*(\d+)%,\s*(\d+)%\s*\)/);
    if (hslMatch) {
      const h = parseInt(hslMatch[1]);
      const s = parseInt(hslMatch[2]);
      const l = parseInt(hslMatch[3]);
      return this.hslToHex(h, s, l);
    }
    return "#666666";
  }
  /**
   * Convert HSL to hex color
   */
  static hslToHex(h, s, l) {
    const hNorm = h / 360;
    const sNorm = s / 100;
    const lNorm = l / 100;
    const hue2rgb = (p, q, t) => {
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 1 / 6) return p + (q - p) * 6 * t;
      if (t < 1 / 2) return q;
      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
      return p;
    };
    let r, g, b;
    if (sNorm === 0) {
      r = g = b = lNorm;
    } else {
      const q = lNorm < 0.5 ? lNorm * (1 + sNorm) : lNorm + sNorm - lNorm * sNorm;
      const p = 2 * lNorm - q;
      r = hue2rgb(p, q, hNorm + 1 / 3);
      g = hue2rgb(p, q, hNorm);
      b = hue2rgb(p, q, hNorm - 1 / 3);
    }
    return this.rgbToHex(
      Math.round(r * 255),
      Math.round(g * 255),
      Math.round(b * 255)
    );
  }
  /**
   * Generate full color scale from simple colors
   */
  static generateColorScaleFromSimple(accent, background) {
    return {
      primary: this.generatePrimaryScale(background),
      highlight: this.generateHighlightScale(accent)
    };
  }
  /**
   * Generate primary color scale from background color
   */
  static generatePrimaryScale(baseColor) {
    return {
      50: this.lightenColor(baseColor, 95),
      100: this.lightenColor(baseColor, 85),
      200: this.lightenColor(baseColor, 75),
      300: this.lightenColor(baseColor, 50),
      400: this.lightenColor(baseColor, 25),
      500: baseColor,
      600: this.darkenColor(baseColor, 15),
      700: this.darkenColor(baseColor, 30),
      800: this.darkenColor(baseColor, 45),
      900: this.darkenColor(baseColor, 60),
      950: this.darkenColor(baseColor, 75)
    };
  }
  /**
   * Generate highlight color scale from accent color
   */
  static generateHighlightScale(baseColor) {
    return {
      50: this.lightenColor(baseColor, 95),
      100: this.lightenColor(baseColor, 85),
      200: this.lightenColor(baseColor, 75),
      300: this.lightenColor(baseColor, 65),
      400: this.lightenColor(baseColor, 55),
      500: baseColor,
      600: this.darkenColor(baseColor, 10),
      700: this.darkenColor(baseColor, 20),
      800: this.darkenColor(baseColor, 30),
      900: this.darkenColor(baseColor, 40)
    };
  }
  /**
   * Lighten a hex color by a percentage
   */
  static lightenColor(hex, percent) {
    const rgb = this.hexToRgb(hex);
    if (!rgb) return hex;
    const { r, g, b } = rgb;
    const factor = percent / 100;
    return this.rgbToHex(
      Math.round(r + (255 - r) * factor),
      Math.round(g + (255 - g) * factor),
      Math.round(b + (255 - b) * factor)
    );
  }
  /**
   * Darken a hex color by a percentage
   */
  static darkenColor(hex, percent) {
    const rgb = this.hexToRgb(hex);
    if (!rgb) return hex;
    const { r, g, b } = rgb;
    const factor = percent / 100;
    return this.rgbToHex(
      Math.round(r * (1 - factor)),
      Math.round(g * (1 - factor)),
      Math.round(b * (1 - factor))
    );
  }
  /**
   * Create a more aggressive lightening function for better contrast
   */
  static aggressiveLighten(hex, percent) {
    const rgb = this.hexToRgb(hex);
    if (!rgb) return hex;
    const { r, g, b } = rgb;
    const factor = percent / 100;
    return this.rgbToHex(
      Math.round(Math.min(255, r + (255 - r) * factor * 1.2)),
      Math.round(Math.min(255, g + (255 - g) * factor * 1.2)),
      Math.round(Math.min(255, b + (255 - b) * factor * 1.2))
    );
  }
  /**
   * Create a more aggressive darkening function for better contrast
   */
  static aggressiveDarken(hex, percent) {
    const rgb = this.hexToRgb(hex);
    if (!rgb) return hex;
    const { r, g, b } = rgb;
    const factor = percent / 100;
    return this.rgbToHex(
      Math.round(Math.max(0, r * (1 - factor * 1.2))),
      Math.round(Math.max(0, g * (1 - factor * 1.2))),
      Math.round(Math.max(0, b * (1 - factor * 1.2)))
    );
  }
  /**
   * Create a more sophisticated color scale that better matches theme expectations
   */
  static createBetterColorScale(baseColor, isPrimary = true, isDarkTheme = true) {
    const rgb = this.hexToRgb(baseColor);
    if (!rgb) {
      return this.generatePrimaryScale(baseColor);
    }
    const { r, g, b } = rgb;
    const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;
    const isDark = luminance < 0.5;
    if (isPrimary) {
      return {
        50: isDark ? this.lightenColor(baseColor, 95) : this.darkenColor(baseColor, 95),
        100: isDark ? this.lightenColor(baseColor, 90) : this.darkenColor(baseColor, 90),
        200: isDark ? this.lightenColor(baseColor, 80) : this.darkenColor(baseColor, 80),
        300: isDark ? this.lightenColor(baseColor, 70) : this.darkenColor(baseColor, 70),
        400: isDark ? this.lightenColor(baseColor, 55) : this.darkenColor(baseColor, 55),
        500: isDark ? this.lightenColor(baseColor, 40) : this.darkenColor(baseColor, 40),
        600: isDark ? this.lightenColor(baseColor, 25) : this.darkenColor(baseColor, 25),
        700: baseColor,
        800: isDark ? this.darkenColor(baseColor, 20) : this.lightenColor(baseColor, 20),
        900: isDark ? this.darkenColor(baseColor, 35) : this.lightenColor(baseColor, 35),
        950: isDark ? this.darkenColor(baseColor, 50) : this.lightenColor(baseColor, 50)
      };
    } else {
      if (isDarkTheme) {
        return {
          50: this.lightenColor(baseColor, 95),
          // Very light
          100: this.lightenColor(baseColor, 85),
          // Light
          200: this.lightenColor(baseColor, 75),
          // Light
          300: this.lightenColor(baseColor, 65),
          // Medium light
          400: this.lightenColor(baseColor, 25),
          // Much closer to base color
          500: baseColor,
          //  Use the vibrant base color as 500
          600: this.darkenColor(baseColor, 15),
          // Medium dark
          700: this.darkenColor(baseColor, 30),
          // Darker
          800: this.darkenColor(baseColor, 45),
          // Very dark
          900: this.darkenColor(baseColor, 60)
          // Darkest
        };
      } else {
        return {
          50: this.lightenColor(baseColor, 60),
          // Very light
          100: this.lightenColor(baseColor, 50),
          // Light
          200: this.lightenColor(baseColor, 40),
          // Light
          300: this.lightenColor(baseColor, 30),
          // Medium light
          400: this.lightenColor(baseColor, 20),
          // Medium light
          500: baseColor,
          // Base color
          600: this.darkenColor(baseColor, 20),
          // Medium dark
          700: this.darkenColor(baseColor, 40),
          // Dark
          800: this.darkenColor(baseColor, 60),
          // Darker
          900: this.darkenColor(baseColor, 80)
          // Very dark
        };
      }
    }
  }
  /**
   * Convert hex color to RGB
   */
  static hexToRgb(hex) {
    hex = hex.replace("#", "");
    if (hex.length === 3) {
      hex = hex.split("").map((char) => char + char).join("");
    }
    if (hex.length === 6) {
      const r = parseInt(hex.substring(0, 2), 16);
      const g = parseInt(hex.substring(2, 4), 16);
      const b = parseInt(hex.substring(4, 6), 16);
      return { r, g, b };
    }
    return null;
  }
  /**
   * Convert RGB to hex color
   */
  static rgbToHex(r, g, b) {
    const toHex = (n) => {
      const hex = Math.round(Math.max(0, Math.min(255, n))).toString(16);
      return hex.length === 1 ? "0" + hex : hex;
    };
    return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
  }
  /**
   * Validate if a string is a valid hex color
   */
  static isValidHexColor(color) {
    return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(color);
  }
  /**
   * Generate theme file content from colors
   */
  static generateThemeFileContent(colors, themeName = "custom") {
    const timestamp = (/* @__PURE__ */ new Date()).toISOString();
    return `// Custom theme extracted from Obsidian
// Generated: ${timestamp}

export const ${themeName}Theme = {
  primary: {
    50: "${colors.primary[50]}",
    100: "${colors.primary[100]}",
    200: "${colors.primary[200]}",
    300: "${colors.primary[300]}",
    400: "${colors.primary[400]}",
    500: "${colors.primary[500]}",
    600: "${colors.primary[600]}",
    700: "${colors.primary[700]}",
    800: "${colors.primary[800]}",
    900: "${colors.primary[900]}",
    950: "${colors.primary[950]}"
  },
  highlight: {
    50: "${colors.highlight[50]}",
    100: "${colors.highlight[100]}",
    200: "${colors.highlight[200]}",
    300: "${colors.highlight[300]}",
    400: "${colors.highlight[400]}",
    500: "${colors.highlight[500]}",
    600: "${colors.highlight[600]}",
    700: "${colors.highlight[700]}",
    800: "${colors.highlight[800]}",
    900: "${colors.highlight[900]}"
  }
};
`;
  }
};

// src/ui/tabs/StyleTab.ts
var StyleTab = class extends TabRenderer {
  constructor() {
    super(...arguments);
    this.mainContainer = null;
  }
  render(container) {
    container.empty();
    this.mainContainer = container;
    const settings = this.getSettings();
    const colorsGroup = createSettingsGroup(container, "Colors", "astro-modular-settings");
    colorsGroup.addSetting((setting) => {
      setting.setName("Theme").setDesc("Choose your color theme").addDropdown((dropdown) => {
        THEME_OPTIONS.forEach((theme) => {
          dropdown.addOption(theme.id, theme.name);
        });
        dropdown.setValue(settings.currentTheme);
        dropdown.onChange((value) => {
          void (async () => {
            settings.currentTheme = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            this.render(container);
            try {
              const success = this.plugin.configManager.updateThemeOnly(value);
              if (success) {
                new import_obsidian14.Notice(`Theme changed to ${value} and applied to config.ts`);
              } else {
                new import_obsidian14.Notice(`Failed to apply theme change to config.ts`);
              }
            } catch (error) {
              new import_obsidian14.Notice(`Failed to apply theme change: ${error instanceof Error ? error.message : String(error)}`);
            }
          })();
        });
      });
    });
    colorsGroup.addSetting((setting) => {
      setting.setName("Customize available themes").setDesc("Control which themes are shown to users in the theme selector").addToggle((toggle) => {
        const isCustomized = Array.isArray(settings.availableThemes);
        toggle.setValue(isCustomized);
        toggle.onChange((value) => {
          void (async () => {
            if (value) {
              const allThemes = THEME_OPTIONS.filter((theme) => theme.id !== "custom").map((theme) => theme.id);
              settings.availableThemes = allThemes;
            } else {
              settings.availableThemes = "default";
            }
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            if (this.mainContainer) {
              this.render(this.mainContainer);
            }
            try {
              await this.applyCurrentConfiguration();
              new import_obsidian14.Notice(`Available themes ${value ? "customized" : "set to default"} and applied to config.ts`);
            } catch (error) {
              new import_obsidian14.Notice(`Failed to apply available themes change: ${error instanceof Error ? error.message : String(error)}`);
            }
          })();
        });
      });
    });
    if (Array.isArray(settings.availableThemes)) {
      colorsGroup.addSetting((setting) => {
        const nameEl = setting.settingEl.querySelector(".setting-item-name");
        const descEl = setting.settingEl.querySelector(".setting-item-description");
        const controlEl = setting.settingEl.querySelector(".setting-item-control");
        if (nameEl) nameEl.setCssProps({ display: "none" });
        if (descEl) descEl.setCssProps({ display: "none" });
        if (controlEl) controlEl.setCssProps({ display: "none" });
        setting.settingEl.setCssProps({
          borderTop: "none",
          paddingTop: "0",
          paddingBottom: "0"
        });
        const themePillsContainer = setting.settingEl.createDiv("theme-pills-container");
        themePillsContainer.setCssProps({
          marginTop: "10px",
          marginBottom: "20px"
        });
        const pillsHeader = themePillsContainer.createEl("p", {
          text: "Available themes (click to toggle selection):",
          cls: "theme-pills-header"
        });
        pillsHeader.setCssProps({
          fontSize: "14px",
          marginBottom: "8px",
          color: "var(--text-muted)"
        });
        const pillsWrapper = themePillsContainer.createDiv("theme-pills-wrapper");
        pillsWrapper.setCssProps({
          display: "flex",
          flexWrap: "wrap",
          gap: "8px"
        });
        const allThemes = THEME_OPTIONS.filter((theme) => theme.id !== "custom");
        allThemes.forEach((theme) => {
          const isSelected = settings.availableThemes.includes(theme.id);
          const pill = pillsWrapper.createDiv("theme-pill");
          pill.addClass("theme-pill");
          if (isSelected) {
            pill.setCssProps({
              backgroundColor: "var(--interactive-accent)",
              color: "var(--text-on-accent)",
              border: "1px solid var(--interactive-accent)"
            });
          } else {
            pill.setCssProps({
              backgroundColor: "var(--background-secondary)",
              color: "var(--text-muted)",
              border: "1px solid var(--background-modifier-border)"
            });
          }
          pill.createSpan({ text: theme.name });
          const indicator = pill.createSpan({ text: isSelected ? "\u2713" : "\u25CB" });
          indicator.setCssProps({
            fontSize: "10px",
            opacity: "0.8"
          });
          pill.addEventListener("click", () => {
            void (async () => {
              const currentThemes = settings.availableThemes;
              let newThemes;
              if (isSelected) {
                newThemes = currentThemes.filter((id) => id !== theme.id);
              } else {
                newThemes = [...currentThemes, theme.id];
              }
              settings.availableThemes = newThemes;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              if (this.mainContainer) {
                this.render(this.mainContainer);
              }
              try {
                await this.applyCurrentConfiguration();
                new import_obsidian14.Notice(`Theme "${theme.name}" ${isSelected ? "removed from" : "added to"} available themes`);
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply theme change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
        const customThemesSection = themePillsContainer.createDiv("custom-themes-section");
        customThemesSection.setCssProps({
          marginTop: "15px",
          padding: "10px",
          backgroundColor: "var(--background-secondary)",
          borderRadius: "6px",
          border: "1px solid var(--background-modifier-border)"
        });
        const customThemesLabel = customThemesSection.createEl("label", {
          text: "Custom themes (comma-separated):",
          cls: "custom-themes-label"
        });
        customThemesLabel.setCssProps({
          display: "block",
          fontSize: "12px",
          color: "var(--text-muted)",
          marginBottom: "6px"
        });
        const inputContainer = customThemesSection.createDiv("custom-themes-input-container");
        inputContainer.setCssProps({
          display: "flex",
          gap: "6px",
          alignItems: "center"
        });
        const customThemesInput = inputContainer.createEl("input", {
          type: "text",
          placeholder: "custom,obsidinite",
          value: settings.customThemes || "",
          attr: {
            spellcheck: "false"
          }
        });
        customThemesInput.setCssProps({
          flex: "1",
          padding: "6px 8px",
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "4px",
          backgroundColor: "var(--background-primary)",
          color: "var(--text-normal)",
          fontSize: "12px"
        });
        const folderButton = inputContainer.createEl("button", {
          cls: "clickable-icon",
          attr: {
            "aria-label": "Open themes folder"
          }
        });
        folderButton.setCssProps({
          padding: "4px",
          border: "none",
          backgroundColor: "transparent",
          color: "var(--text-normal)",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          marginTop: "2px"
        });
        const folderIcon = folderButton.createDiv();
        (0, import_obsidian14.setIcon)(folderIcon, "folder");
        folderButton.addEventListener("click", () => {
          var _a, _b, _c;
          const themesPath = "../../src/themes/custom";
          void ((_c = (_b = (_a = this.app).openWithDefaultApp) == null ? void 0 : _b.call(_a, themesPath)) != null ? _c : Promise.resolve()).catch((error) => {
            new import_obsidian14.Notice(`Failed to open themes folder: ${error instanceof Error ? error.message : String(error)}`);
          });
        });
        let timeoutId = null;
        customThemesInput.addEventListener("input", () => {
          settings.customThemes = customThemesInput.value.trim();
          void this.plugin.saveData(settings).then(() => {
            return this.plugin.loadSettings();
          });
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration().then(() => {
              new import_obsidian14.Notice("Custom themes updated and applied to config.ts");
            }).catch((error) => {
              new import_obsidian14.Notice(`Failed to apply custom themes: ${error instanceof Error ? error.message : String(error)}`);
            });
          }, 1e3);
        });
      });
      const customThemeGroup = createSettingsGroup(container, "Custom theme generation", "astro-modular-settings");
      customThemeGroup.addSetting((setting) => {
        setting.setName("Generate custom theme").setDesc("Enable to extract colors from your Obsidian theme and generate custom theme files").addToggle((toggle) => {
          toggle.setValue(settings.customThemeGenerationEnabled || false);
          toggle.onChange((value) => {
            void (async () => {
              settings.customThemeGenerationEnabled = value;
              if (value) {
                if (!settings.themeColors) {
                  settings.themeColors = {
                    mode: "simple",
                    extractedColors: void 0,
                    simpleColors: {
                      accent: "#5865f2",
                      background: "#1e1e1e"
                    },
                    lastExtracted: void 0
                  };
                }
              }
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              this.render(container);
            })();
          });
        });
      });
      if (settings.customThemeGenerationEnabled) {
        customThemeGroup.addSetting((setting) => {
          setting.setName("Custom theme file name").setDesc("Filename for the generated theme file (without .ts extension)").addText((text) => {
            text.setValue(settings.customThemeFile || "custom");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              settings.customThemeFile = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void (async () => {
                  await this.plugin.loadSettings();
                  await this.applyCurrentConfiguration();
                })();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void (async () => {
                  await this.plugin.loadSettings();
                  await this.applyCurrentConfiguration();
                })();
              }
            });
          });
        });
        customThemeGroup.addSetting((setting) => {
          setting.setName("Extract from Obsidian theme").setDesc("Extract colors from your currently active Obsidian theme").addButton((button) => {
            button.setButtonText("Extract colors");
            button.setCta();
            button.onClick(() => {
              void (async () => {
                try {
                  const extractedColors = ThemeColorExtractor.extractObsidianThemeColors();
                  settings.themeColors.extractedColors = extractedColors;
                  settings.themeColors.lastExtracted = (/* @__PURE__ */ new Date()).toISOString();
                  await this.plugin.saveData(settings);
                  await this.plugin.loadSettings();
                  this.render(container);
                  new import_obsidian14.Notice("Colors extracted successfully from Obsidian theme!");
                } catch (error) {
                  new import_obsidian14.Notice(`Failed to extract colors: ${error instanceof Error ? error.message : String(error)}`);
                }
              })();
            });
          });
        });
        if (settings.themeColors.lastExtracted) {
          customThemeGroup.addSetting((setting) => {
            const lastExtracted = new Date(settings.themeColors.lastExtracted).toLocaleString();
            const nameEl = setting.settingEl.querySelector(".setting-item-name");
            const descEl = setting.settingEl.querySelector(".setting-item-description");
            const controlEl = setting.settingEl.querySelector(".setting-item-control");
            if (nameEl) nameEl.setCssProps({ display: "none" });
            if (descEl) descEl.setCssProps({ display: "none" });
            if (controlEl) controlEl.setCssProps({ display: "none" });
            setting.settingEl.setCssProps({
              borderTop: "none",
              paddingTop: "0",
              paddingBottom: "0"
            });
            const timestampEl = setting.settingEl.createEl("p", {
              text: `Last extracted: ${lastExtracted}`,
              cls: "theme-extraction-timestamp"
            });
            timestampEl.setCssProps({ color: "var(--text-muted)" });
          });
        }
        customThemeGroup.addSetting((setting) => {
          setting.setName("Color editing mode").setDesc("Choose how to edit your theme colors").addDropdown((dropdown) => {
            dropdown.addOption("simple", "Simple (accent + background)");
            dropdown.addOption("advanced", "Advanced (individual shades)");
            dropdown.setValue(settings.themeColors.mode);
            dropdown.onChange((value) => {
              void (async () => {
                settings.themeColors.mode = value;
                await this.plugin.saveData(settings);
                await this.plugin.loadSettings();
                this.render(container);
              })();
            });
          });
        });
        if (settings.themeColors.extractedColors) {
          customThemeGroup.addSetting((setting) => {
            const nameEl = setting.settingEl.querySelector(".setting-item-name");
            const descEl = setting.settingEl.querySelector(".setting-item-description");
            const controlEl = setting.settingEl.querySelector(".setting-item-control");
            if (nameEl) nameEl.setCssProps({ display: "none" });
            if (descEl) descEl.setCssProps({ display: "none" });
            if (controlEl) controlEl.setCssProps({ display: "none" });
            setting.settingEl.setCssProps({
              borderTop: "none",
              paddingTop: "0",
              paddingBottom: "0"
            });
            if (settings.themeColors.extractedColors) {
              this.renderColorPreview(setting.settingEl, settings.themeColors.extractedColors);
            }
          });
        }
        if (settings.themeColors.extractedColors) {
          customThemeGroup.addSetting((setting) => {
            const nameEl = setting.settingEl.querySelector(".setting-item-name");
            const descEl = setting.settingEl.querySelector(".setting-item-description");
            const controlEl = setting.settingEl.querySelector(".setting-item-control");
            if (nameEl) nameEl.setCssProps({ display: "none" });
            if (descEl) descEl.setCssProps({ display: "none" });
            if (controlEl) controlEl.setCssProps({ display: "none" });
            setting.settingEl.setCssProps({
              borderTop: "none",
              paddingTop: "0",
              paddingBottom: "0"
            });
            if (settings.themeColors.mode === "simple") {
              this.renderSimpleColorEditor(setting.settingEl, settings);
            } else {
              this.renderAdvancedColorEditor(setting.settingEl, settings);
            }
          });
        }
        customThemeGroup.addSetting((setting) => {
          setting.setName("Save to custom theme file").setDesc("Generate a custom theme file from your extracted colors").addButton((button) => {
            button.setButtonText("Save theme file");
            button.setCta();
            button.onClick(() => {
              void (async () => {
                try {
                  if (!settings.themeColors.extractedColors) {
                    new import_obsidian14.Notice("No colors available to save. Please extract colors first.");
                    return;
                  }
                  const themeFileName = settings.customThemeFile || "custom";
                  const themeContent = ThemeColorExtractor.generateThemeFileContent(settings.themeColors.extractedColors, themeFileName);
                  const filePath = `../../src/themes/custom/${themeFileName}.ts`;
                  await this.app.vault.adapter.write(filePath, themeContent);
                  settings.customThemeFile = themeFileName;
                  await this.plugin.saveData(settings);
                  try {
                    const success = this.plugin.configManager.updateIndividualFeatures(settings);
                    if (success) {
                      new import_obsidian14.Notice(`${themeFileName}.ts saved successfully! Use the main theme dropdown to switch to "custom" if you want to use this theme.`);
                    } else {
                      new import_obsidian14.Notice("Theme file saved but failed to apply to config.ts");
                    }
                  } catch (error) {
                    new import_obsidian14.Notice(`Theme file saved but failed to apply: ${error instanceof Error ? error.message : String(error)}`);
                  }
                } catch (error) {
                  new import_obsidian14.Notice(`Failed to save theme file: ${error instanceof Error ? error.message : String(error)}`);
                }
              })();
            });
          });
        });
      }
      const typographyGroup = createSettingsGroup(container, "Typography", "astro-modular-settings");
      typographyGroup.addSetting((setting) => {
        setting.setName("Heading font").setDesc("Font for headings and titles").addDropdown((dropdown) => {
          FONT_OPTIONS.forEach((font) => {
            dropdown.addOption(font, font);
          });
          dropdown.setValue(settings.typography.headingFont);
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.headingFont = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              try {
                const success = this.plugin.configManager.updateFontOnly("heading", value);
                if (success) {
                  new import_obsidian14.Notice("Heading font updated and applied to config.ts");
                } else {
                  new import_obsidian14.Notice("Failed to apply heading font change to config.ts");
                }
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply heading font change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Prose font").setDesc("Font for body text and content").addDropdown((dropdown) => {
          FONT_OPTIONS.forEach((font) => {
            dropdown.addOption(font, font);
          });
          dropdown.setValue(settings.typography.proseFont);
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.proseFont = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              try {
                const success = this.plugin.configManager.updateFontOnly("prose", value);
                if (success) {
                  new import_obsidian14.Notice("Prose font updated and applied to config.ts");
                } else {
                  new import_obsidian14.Notice("Failed to apply prose font change to config.ts");
                }
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply prose font change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Monospace font").setDesc("Font for code blocks and technical content").addDropdown((dropdown) => {
          FONT_OPTIONS.forEach((font) => {
            dropdown.addOption(font, font);
          });
          dropdown.setValue(settings.typography.monoFont);
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.monoFont = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              try {
                const success = this.plugin.configManager.updateFontOnly("mono", value);
                if (success) {
                  new import_obsidian14.Notice("Monospace font updated and applied to config.ts");
                } else {
                  new import_obsidian14.Notice("Failed to apply monospace font change to config.ts");
                }
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply monospace font change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Font source").setDesc("How fonts are loaded").addDropdown((dropdown) => {
          dropdown.addOption("local", "Local (Google Fonts)");
          dropdown.addOption("cdn", "CDN (Custom)");
          dropdown.setValue(settings.typography.fontSource);
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.fontSource = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              this.render(container);
              try {
                await this.applyCurrentConfiguration();
                new import_obsidian14.Notice(`Font source changed to ${value} and applied to config.ts`);
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply font source change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Font display").setDesc("Font display strategy").addDropdown((dropdown) => {
          dropdown.addOption("swap", "Swap (recommended)");
          dropdown.addOption("fallback", "Fallback");
          dropdown.addOption("optional", "Optional");
          dropdown.setValue(settings.typography.fontDisplay || "swap");
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.fontDisplay = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              try {
                await this.applyCurrentConfiguration();
                new import_obsidian14.Notice("Font display updated and applied to config.ts");
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply font display change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Content width").setDesc("Maximum width for content (e.g., 45rem)").addText((text) => {
          var _a;
          text.setValue(((_a = settings.layout) == null ? void 0 : _a.contentWidth) || "45rem");
          let timeoutId = null;
          text.onChange((value) => {
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            if (!settings.layout) {
              settings.layout = { contentWidth: "45rem" };
            }
            settings.layout.contentWidth = value;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void this.applyCurrentConfiguration();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void this.applyCurrentConfiguration();
            }
          });
        });
      });
      if (settings.typography.fontSource === "cdn") {
        typographyGroup.addSetting((setting) => {
          setting.setName("Custom font URLs").setDesc("Comma-separated URLs for custom fonts (e.g., Google Fonts URL)").addText((text) => {
            var _a;
            text.setValue(((_a = settings.typography.customFonts) == null ? void 0 : _a.urls) || "");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.typography.customFonts) {
                settings.typography.customFonts = { heading: "", prose: "", mono: "", urls: "" };
              }
              settings.typography.customFonts.urls = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void this.applyCurrentConfiguration();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void this.applyCurrentConfiguration();
              }
            });
          });
        });
        typographyGroup.addSetting((setting) => {
          setting.setName("Custom heading font name").setDesc("Font family name for headings").addText((text) => {
            var _a;
            text.setValue(((_a = settings.typography.customFonts) == null ? void 0 : _a.heading) || "");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.typography.customFonts) {
                settings.typography.customFonts = { heading: "", prose: "", mono: "", urls: "" };
              }
              settings.typography.customFonts.heading = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void this.applyCurrentConfiguration();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void this.applyCurrentConfiguration();
              }
            });
          });
        });
        typographyGroup.addSetting((setting) => {
          setting.setName("Custom body font name").setDesc("Font family name for body text").addText((text) => {
            var _a;
            text.setValue(((_a = settings.typography.customFonts) == null ? void 0 : _a.prose) || "");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.typography.customFonts) {
                settings.typography.customFonts = { heading: "", prose: "", mono: "", urls: "" };
              }
              settings.typography.customFonts.prose = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void this.applyCurrentConfiguration();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void this.applyCurrentConfiguration();
              }
            });
          });
        });
        typographyGroup.addSetting((setting) => {
          setting.setName("Custom monospace font name").setDesc("Font family name for code").addText((text) => {
            var _a;
            text.setValue(((_a = settings.typography.customFonts) == null ? void 0 : _a.mono) || "");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.typography.customFonts) {
                settings.typography.customFonts = { heading: "", prose: "", mono: "", urls: "" };
              }
              settings.typography.customFonts.mono = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void this.applyCurrentConfiguration();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void this.applyCurrentConfiguration();
              }
            });
          });
        });
      }
    }
  }
  /**
   * Render color preview
   */
  renderColorPreview(container, colors) {
    const previewSection = container.createDiv("color-preview-section");
    previewSection.createEl("h4", { text: "Color preview" });
    const previewContainer = previewSection.createDiv("color-preview-container");
    previewContainer.setCssProps({
      display: "flex",
      gap: "10px",
      marginTop: "10px"
    });
    const primaryShades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 950];
    primaryShades.forEach((shade) => {
      const colorValue = colors.primary[shade];
      if (colorValue) {
        const colorBox = previewContainer.createDiv("color-box");
        colorBox.setCssProps({
          width: "20px",
          height: "20px",
          backgroundColor: colorValue,
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "3px"
        });
        colorBox.title = `Primary ${shade}: ${colorValue}`;
      }
    });
    const highlightShades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900];
    highlightShades.forEach((shade) => {
      const colorValue = colors.highlight[shade];
      if (colorValue) {
        const colorBox = previewContainer.createDiv("color-box");
        colorBox.setCssProps({
          width: "20px",
          height: "20px",
          backgroundColor: colorValue,
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "3px"
        });
        colorBox.title = `Highlight ${shade}: ${colorValue}`;
      }
    });
  }
  /**
   * Render simple color editor (accent + background)
   */
  renderSimpleColorEditor(container, settings) {
    var _a, _b, _c, _d;
    const simpleSection = container.createDiv("simple-color-inputs");
    simpleSection.setCssProps({ marginBottom: "20px" });
    simpleSection.createEl("h4", { text: "Simple color editor" });
    const accentColor = ((_b = (_a = settings.themeColors.extractedColors) == null ? void 0 : _a.highlight) == null ? void 0 : _b[500]) || "#5865f2";
    const backgroundColor = ((_d = (_c = settings.themeColors.extractedColors) == null ? void 0 : _c.primary) == null ? void 0 : _d[800]) || "#1e1e1e";
    settings.themeColors.simpleColors = {
      accent: accentColor,
      background: backgroundColor
    };
    const accentDiv = simpleSection.createDiv("simple-color-input");
    accentDiv.createEl("label", { text: "Accent color:" });
    const accentTextInput = accentDiv.createEl("input", {
      type: "text",
      value: settings.themeColors.simpleColors.accent
    });
    accentTextInput.setCssProps({ fontFamily: "var(--font-monospace)" });
    const accentColorPicker = accentDiv.createEl("input", { type: "color" });
    accentColorPicker.value = settings.themeColors.simpleColors.accent;
    accentColorPicker.className = "color-picker";
    accentTextInput.oninput = async () => {
      if (ThemeColorExtractor.isValidHexColor(accentTextInput.value) && settings.themeColors.simpleColors) {
        settings.themeColors.simpleColors.accent = accentTextInput.value;
        accentColorPicker.value = accentTextInput.value;
        await this.plugin.saveData(settings);
      }
    };
    accentColorPicker.onchange = async () => {
      if (settings.themeColors.simpleColors) {
        settings.themeColors.simpleColors.accent = accentColorPicker.value;
        accentTextInput.value = accentColorPicker.value;
        await this.plugin.saveData(settings);
      }
    };
    const backgroundDiv = simpleSection.createDiv("simple-color-input");
    backgroundDiv.createEl("label", { text: "Background color:" });
    const backgroundTextInput = backgroundDiv.createEl("input", {
      type: "text",
      value: settings.themeColors.simpleColors.background
    });
    backgroundTextInput.setCssProps({ fontFamily: "var(--font-monospace)" });
    const backgroundColorPicker = backgroundDiv.createEl("input", { type: "color" });
    backgroundColorPicker.value = settings.themeColors.simpleColors.background;
    backgroundColorPicker.className = "color-picker";
    backgroundTextInput.oninput = async () => {
      if (ThemeColorExtractor.isValidHexColor(backgroundTextInput.value) && settings.themeColors.simpleColors) {
        settings.themeColors.simpleColors.background = backgroundTextInput.value;
        backgroundColorPicker.value = backgroundTextInput.value;
        await this.plugin.saveData(settings);
      }
    };
    backgroundColorPicker.onchange = async () => {
      if (settings.themeColors.simpleColors) {
        settings.themeColors.simpleColors.background = backgroundColorPicker.value;
      }
      backgroundTextInput.value = backgroundColorPicker.value;
      await this.plugin.saveData(settings);
    };
  }
  /**
   * Render advanced color editor (individual shades)
   */
  renderAdvancedColorEditor(container, settings) {
    const advancedSection = container.createDiv("advanced-mode-section");
    advancedSection.createEl("h4", { text: "Advanced color editor" });
    const primarySection = advancedSection.createDiv("color-scale-editor");
    primarySection.createEl("h5", { text: "Primary colors" });
    const primaryShades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 950];
    primaryShades.forEach((shade) => {
      var _a, _b;
      const colorValue = (_b = (_a = settings.themeColors.extractedColors) == null ? void 0 : _a.primary) == null ? void 0 : _b[shade];
      if (colorValue) {
        const settingItem = primarySection.createDiv("setting-item");
        settingItem.setCssProps({
          display: "flex",
          alignItems: "center",
          gap: "10px",
          marginBottom: "8px"
        });
        const label = settingItem.createDiv("setting-item-name");
        label.textContent = `${shade}:`;
        label.setCssProps({
          minWidth: "40px",
          fontSize: "12px",
          color: "var(--text-muted)"
        });
        const control = settingItem.createDiv("setting-item-control");
        control.setCssProps({
          display: "flex",
          gap: "8px",
          alignItems: "center"
        });
        const textInput = control.createEl("input", { type: "text", value: colorValue });
        textInput.setCssProps({
          width: "100px",
          fontFamily: "var(--font-monospace)",
          fontSize: "12px"
        });
        const colorPicker = control.createEl("input", { type: "color", value: colorValue });
        colorPicker.className = "color-picker";
        textInput.oninput = async () => {
          var _a2;
          if (ThemeColorExtractor.isValidHexColor(textInput.value)) {
            if ((_a2 = settings.themeColors.extractedColors) == null ? void 0 : _a2.primary) {
              settings.themeColors.extractedColors.primary[shade] = textInput.value;
            }
            colorPicker.value = textInput.value;
            await this.plugin.saveData(settings);
          }
        };
        colorPicker.onchange = async () => {
          if (settings.themeColors.extractedColors) {
            settings.themeColors.extractedColors.primary[shade] = colorPicker.value;
          }
          textInput.value = colorPicker.value;
          await this.plugin.saveData(settings);
        };
      }
    });
    const highlightSection = advancedSection.createDiv("color-scale-editor");
    highlightSection.createEl("h5", { text: "Highlight colors" });
    const highlightShades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900];
    highlightShades.forEach((shade) => {
      var _a, _b;
      const colorValue = (_b = (_a = settings.themeColors.extractedColors) == null ? void 0 : _a.highlight) == null ? void 0 : _b[shade];
      if (colorValue) {
        const settingItem = highlightSection.createDiv("setting-item");
        settingItem.setCssProps({
          display: "flex",
          alignItems: "center",
          gap: "10px",
          marginBottom: "8px"
        });
        const label = settingItem.createDiv("setting-item-name");
        label.textContent = `${shade}:`;
        label.setCssProps({
          minWidth: "40px",
          fontSize: "12px",
          color: "var(--text-muted)"
        });
        const control = settingItem.createDiv("setting-item-control");
        control.setCssProps({
          display: "flex",
          gap: "8px",
          alignItems: "center"
        });
        const textInput = control.createEl("input", { type: "text", value: colorValue });
        textInput.setCssProps({
          width: "100px",
          fontFamily: "var(--font-monospace)",
          fontSize: "12px"
        });
        const colorPicker = control.createEl("input", { type: "color", value: colorValue });
        colorPicker.className = "color-picker";
        textInput.oninput = async () => {
          var _a2;
          if (ThemeColorExtractor.isValidHexColor(textInput.value)) {
            if ((_a2 = settings.themeColors.extractedColors) == null ? void 0 : _a2.highlight) {
              settings.themeColors.extractedColors.highlight[shade] = textInput.value;
            }
            colorPicker.value = textInput.value;
            await this.plugin.saveData(settings);
          }
        };
        colorPicker.onchange = async () => {
          if (settings.themeColors.extractedColors) {
            settings.themeColors.extractedColors.highlight[shade] = colorPicker.value;
          }
          textInput.value = colorPicker.value;
          await this.plugin.saveData(settings);
        };
      }
    });
  }
};

// src/ui/tabs/FeaturesTab.ts
var import_obsidian15 = require("obsidian");
var FeaturesTab = class extends TabRenderer {
  render(container) {
    container.empty();
    const settings = this.getSettings();
    const globalGroup = createSettingsGroup(container, "Global options", "astro-modular-settings");
    globalGroup.addSetting((setting) => {
      setting.setName("Enable projects").setDesc("Enable projects as a unique content type for showcasing work and portfolios").addToggle((toggle) => {
        var _a, _b;
        return toggle.setValue((_b = (_a = settings.optionalContentTypes) == null ? void 0 : _a.projects) != null ? _b : true).onChange(async (value) => {
          if (!settings.optionalContentTypes) {
            settings.optionalContentTypes = { projects: true, docs: true };
          }
          settings.optionalContentTypes.projects = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
          new import_obsidian15.Notice(`Projects ${value ? "enabled" : "disabled"} and applied to config.ts`);
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Enable docs").setDesc("Enable docs as a unique content type for documentation and knowledge base").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.optionalContentTypes) == null ? void 0 : _a.docs) != null ? _b : true).onChange(async (value) => {
            if (!settings.optionalContentTypes) {
              settings.optionalContentTypes = { projects: true, docs: true };
            }
            settings.optionalContentTypes.docs = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Docs ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Table of contents").setDesc("Show table of contents on content pages").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.tableOfContents) == null ? void 0 : _a.enabled) != null ? _b : true).onChange(async (value) => {
            if (!settings.tableOfContents) {
              settings.tableOfContents = { enabled: true, depth: 4 };
            }
            settings.tableOfContents.enabled = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const tocDepthSetting = container.querySelector(".toc-depth-setting");
            if (tocDepthSetting) {
              tocDepthSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Table of contents ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("toc-depth-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.tableOfContents) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Table of contents depth").setDesc("Maximum heading depth to include in ToC (2=H2, 3=H3, 4=H4, 5=H5, 6=H6)").addText((text) => {
          var _a2;
          return text.setPlaceholder("4").setValue(String(((_a2 = settings.tableOfContents) == null ? void 0 : _a2.depth) || 4)).onChange(async (value) => {
            const num = parseInt(value) || 4;
            const clampedNum = Math.max(2, Math.min(6, num));
            if (!settings.tableOfContents) {
              settings.tableOfContents = { enabled: true, depth: 4 };
            }
            settings.tableOfContents.depth = clampedNum;
            text.setValue(String(clampedNum));
            void this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Table of contents depth set to ${clampedNum} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Footer").setDesc("Enable footer on your site").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.footer) == null ? void 0 : _a.enabled) != null ? _b : true).onChange(async (value) => {
            if (!settings.footer) {
              settings.footer = { enabled: true, content: '\xA9 2025 {author}. Built with the <a href="https://github.com/davidvkimball/astro-modular" target="_blank">Astro Modular</a> theme.', showSocialIconsInFooter: true };
            }
            settings.footer.enabled = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const footerContentSetting = container.querySelector(".footer-content-setting");
            const footerSocialSetting = container.querySelector(".footer-social-setting");
            if (footerContentSetting) {
              footerContentSetting.setCssProps({ display: value ? "block" : "none" });
            }
            if (footerSocialSetting) {
              footerSocialSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Footer ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("footer-content-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.footer) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Footer content").setDesc("Text to display in footer. Use {author} for site author and {title} for site title");
        const descEl = setting2.settingEl.querySelector(".setting-item-description");
        if (descEl) {
          descEl.setCssProps({
            marginBottom: "var(--size-4-3)"
          });
        }
        const textarea = setting2.controlEl.createEl("textarea", {
          attr: {
            placeholder: "\xA9 2025 {author}. Built with the Astro Modular theme.",
            rows: "3"
          }
        });
        textarea.value = ((_c = settings.footer) == null ? void 0 : _c.content) || '\xA9 2025 {author}. Built with the <a href="https://github.com/davidvkimball/astro-modular" target="_blank">Astro Modular</a> theme.';
        textarea.setCssProps({
          width: "100%",
          minHeight: "80px",
          resize: "vertical",
          fontFamily: "var(--font-text)",
          fontSize: "var(--font-ui-small)",
          padding: "var(--size-4-2) var(--size-4-3)",
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "var(--radius-s)",
          background: "var(--background-primary)",
          color: "var(--text-normal)"
        });
        setting2.controlEl.setCssProps({
          width: "100%",
          display: "block"
        });
        let timeoutId = null;
        textarea.addEventListener("input", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          if (!settings.footer) {
            settings.footer = { enabled: true, content: "", showSocialIconsInFooter: true };
          }
          settings.footer.content = textarea.value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void (async () => {
              await this.plugin.loadSettings();
              void this.applyCurrentConfiguration();
            })();
          }, 1e3);
        });
        textarea.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void (async () => {
              await this.plugin.loadSettings();
              void this.applyCurrentConfiguration();
            })();
          }
        });
      });
      globalGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("footer-social-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.footer) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Show social icons in footer").setDesc("Display social media icons in the footer").addToggle((toggle) => {
          var _a2, _b2;
          return toggle.setValue((_b2 = (_a2 = settings.footer) == null ? void 0 : _a2.showSocialIconsInFooter) != null ? _b2 : true).onChange(async (value) => {
            if (!settings.footer) {
              settings.footer = { enabled: true, content: '\xA9 2025 {author}. Built with the <a href="https://github.com/davidvkimball/astro-modular" target="_blank">Astro Modular</a> theme.', showSocialIconsInFooter: true };
            }
            settings.footer.showSocialIconsInFooter = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Social icons in footer ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Hide scroll bar").setDesc("Hide the browser scroll bar for a cleaner look").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.features) == null ? void 0 : _a.hideScrollBar) != null ? _b : false).onChange(async (value) => {
            settings.features.hideScrollBar = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Hide scroll bar ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Scroll to top").setDesc("Show scroll to top button").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.features) == null ? void 0 : _a.scrollToTop) != null ? _b : true).onChange(async (value) => {
            settings.features.scrollToTop = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Scroll to top ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Feature button").setDesc("Choose which feature button appears in the header").addDropdown((dropdown) => {
          var _a;
          return dropdown.addOption("mode", "Dark/light mode toggle").addOption("graph", "View graph").addOption("theme", "Change theme").addOption("none", "None").setValue(((_a = settings.features) == null ? void 0 : _a.featureButton) || "mode").onChange(async (value) => {
            settings.features.featureButton = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Feature button updated to "${value}" and applied to config.ts`);
          });
        });
      });
      const commandPaletteGroup = createSettingsGroup(container, "Command palette", "astro-modular-settings");
      commandPaletteGroup.addSetting((setting2) => {
        setting2.setName("Enable command palette").setDesc("Add a command palette to your site").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true).onChange(async (value) => {
            if (!settings.commandPalette) {
              settings.commandPalette = {
                enabled: true,
                shortcut: "ctrl+K",
                placeholder: "Search posts",
                search: { posts: true, pages: false, projects: false, docs: false },
                sections: { quickActions: true, pages: true, social: true },
                quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
              };
            }
            settings.commandPalette.enabled = value;
            settings.features.commandPalette = value;
            void this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const cpSettings = container.querySelectorAll(".cp-option-setting");
            cpSettings.forEach((el) => {
              el.setCssProps({ display: value ? "block" : "none" });
            });
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Command palette ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Shortcut").setDesc("Keyboard shortcut to open command palette (Ctrl = Cmd on Mac)").addText((text) => {
          var _a2;
          text.setValue(((_a2 = settings.commandPalette) == null ? void 0 : _a2.shortcut) || "ctrl+K");
          let timeoutId = null;
          text.onChange((value) => {
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            if (!settings.commandPalette) {
              settings.commandPalette = { enabled: true, shortcut: "ctrl+K", placeholder: "Search posts", search: { posts: true, pages: false, projects: false, docs: false }, sections: { quickActions: true, pages: true, social: true }, quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true } };
            }
            settings.commandPalette.shortcut = value;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void this.applyCurrentConfiguration();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void this.applyCurrentConfiguration();
            }
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Placeholder").setDesc("Placeholder text in command palette search box").addText((text) => {
          var _a2;
          text.setValue(((_a2 = settings.commandPalette) == null ? void 0 : _a2.placeholder) || "Search posts");
          let timeoutId = null;
          text.onChange((value) => {
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            if (!settings.commandPalette) {
              settings.commandPalette = { enabled: true, shortcut: "ctrl+K", placeholder: "Search posts", search: { posts: true, pages: false, projects: false, docs: false }, sections: { quickActions: true, pages: true, social: true }, quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true } };
            }
            settings.commandPalette.placeholder = value;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void this.applyCurrentConfiguration();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void this.applyCurrentConfiguration();
            }
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Search posts").setDesc("Include posts in search results").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.search) == null ? void 0 : _b2.posts) != null ? _c : true).onChange(async (value) => {
            if (!settings.commandPalette) {
              settings.commandPalette = { enabled: true, shortcut: "ctrl+K", placeholder: "Search posts", search: { posts: true, pages: false, projects: false, docs: false }, sections: { quickActions: true, pages: true, social: true }, quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true } };
            }
            if (!settings.commandPalette.search) {
              settings.commandPalette.search = { posts: true, pages: false, projects: false, docs: false };
            }
            settings.commandPalette.search.posts = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Search pages").setDesc("Include pages in search results").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.search) == null ? void 0 : _b2.pages) != null ? _c : false).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.search)) {
              settings.commandPalette.search = { posts: true, pages: false, projects: false, docs: false };
            }
            settings.commandPalette.search.pages = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Search projects").setDesc("Include projects in search results").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.search) == null ? void 0 : _b2.projects) != null ? _c : false).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.search)) {
              settings.commandPalette.search = { posts: true, pages: false, projects: false, docs: false };
            }
            settings.commandPalette.search.projects = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Search docs").setDesc("Include docs in search results").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.search) == null ? void 0 : _b2.docs) != null ? _c : false).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.search)) {
              settings.commandPalette.search = { posts: true, pages: false, projects: false, docs: false };
            }
            settings.commandPalette.search.docs = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Show quick actions section").setDesc("Display quick actions in command palette").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.sections) == null ? void 0 : _b2.quickActions) != null ? _c : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.sections)) {
              settings.commandPalette.sections = { quickActions: true, pages: true, social: true };
            }
            settings.commandPalette.sections.quickActions = value;
            await this.plugin.saveData(settings);
            const qaSettings = container.querySelectorAll(".qa-option-setting");
            qaSettings.forEach((el) => {
              el.setCssProps({ display: value ? "block" : "none" });
            });
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b, _c, _d, _e;
        setting2.settingEl.classList.add("cp-option-setting", "qa-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) && ((_e = (_d = (_c = settings.commandPalette) == null ? void 0 : _c.sections) == null ? void 0 : _d.quickActions) != null ? _e : true) ? "block" : "none"
        });
        setting2.setName("Toggle dark/light mode").setDesc("Show mode toggle button in command palette").addToggle((toggle) => {
          var _a2, _b2, _c2;
          return toggle.setValue((_c2 = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.quickActions) == null ? void 0 : _b2.toggleMode) != null ? _c2 : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.quickActions)) {
              settings.commandPalette.quickActions = { enabled: true, toggleMode: true, graphView: true, changeTheme: true };
            }
            settings.commandPalette.quickActions.toggleMode = value;
            settings.features.quickActions.toggleMode = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b, _c, _d, _e;
        setting2.settingEl.classList.add("cp-option-setting", "qa-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) && ((_e = (_d = (_c = settings.commandPalette) == null ? void 0 : _c.sections) == null ? void 0 : _d.quickActions) != null ? _e : true) ? "block" : "none"
        });
        setting2.setName("View graph").setDesc("Show graph view button in command palette").addToggle((toggle) => {
          var _a2, _b2, _c2;
          return toggle.setValue((_c2 = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.quickActions) == null ? void 0 : _b2.graphView) != null ? _c2 : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.quickActions)) {
              settings.commandPalette.quickActions = { enabled: true, toggleMode: true, graphView: true, changeTheme: true };
            }
            settings.commandPalette.quickActions.graphView = value;
            settings.features.quickActions.graphView = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b, _c, _d, _e;
        setting2.settingEl.classList.add("cp-option-setting", "qa-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) && ((_e = (_d = (_c = settings.commandPalette) == null ? void 0 : _c.sections) == null ? void 0 : _d.quickActions) != null ? _e : true) ? "block" : "none"
        });
        setting2.setName("Change theme").setDesc("Show theme selector button in command palette").addToggle((toggle) => {
          var _a2, _b2, _c2;
          return toggle.setValue((_c2 = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.quickActions) == null ? void 0 : _b2.changeTheme) != null ? _c2 : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.quickActions)) {
              settings.commandPalette.quickActions = { enabled: true, toggleMode: true, graphView: true, changeTheme: true };
            }
            settings.commandPalette.quickActions.changeTheme = value;
            settings.features.quickActions.changeTheme = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Show pages section").setDesc("Display navigation pages in command palette").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.sections) == null ? void 0 : _b2.pages) != null ? _c : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.sections)) {
              settings.commandPalette.sections = { quickActions: true, pages: true, social: true };
            }
            settings.commandPalette.sections.pages = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Show social section").setDesc("Display social links in command palette").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.sections) == null ? void 0 : _b2.social) != null ? _c : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.sections)) {
              settings.commandPalette.sections = { quickActions: true, pages: true, social: true };
            }
            settings.commandPalette.sections.social = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      const homeOptionsGroup = createSettingsGroup(container, "Home options", "astro-modular-settings");
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Featured post").setDesc("Show featured post on homepage").addToggle((toggle) => {
          var _a, _b, _c;
          return toggle.setValue((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.featuredPost) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
            if (!settings.homeOptions) {
              settings.homeOptions = {
                featuredPost: { enabled: true, type: "latest", slug: "getting-started" },
                recentPosts: { enabled: true, count: 7 },
                projects: { enabled: true, count: 2 },
                docs: { enabled: true, count: 3 },
                blurb: { placement: "below" }
              };
            }
            if (!settings.homeOptions.featuredPost) {
              settings.homeOptions.featuredPost = { enabled: true, type: "latest", slug: "getting-started" };
            }
            settings.homeOptions.featuredPost.enabled = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const fpSettings = container.querySelectorAll(".fp-option-setting");
            fpSettings.forEach((el) => {
              el.setCssProps({ display: value ? "block" : "none" });
            });
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Featured post ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("fp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.featuredPost) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
        });
        setting2.setName("Featured post type").setDesc("Show latest post or a specific featured post").addDropdown((dropdown) => {
          var _a2, _b2;
          dropdown.addOption("latest", "Latest").addOption("featured", "Featured").setValue(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.featuredPost) == null ? void 0 : _b2.type) || "latest").onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.featuredPost)) {
              settings.homeOptions.featuredPost = { enabled: true, type: "latest", slug: "getting-started" };
            }
            settings.homeOptions.featuredPost.type = value;
            await this.plugin.saveData(settings);
            const fpSlugSetting = container.querySelector(".fp-slug-setting");
            if (fpSlugSetting) {
              fpSlugSetting.setCssProps({ display: value === "featured" ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
          });
          setTimeout(() => {
            const selectEl = setting2.controlEl.querySelector("select");
            if (selectEl) {
              selectEl.setCssProps({
                width: "200px",
                minWidth: "200px",
                maxWidth: "200px"
              });
            }
          }, 0);
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c, _d, _e;
        setting2.settingEl.classList.add("fp-option-setting", "fp-slug-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.featuredPost) == null ? void 0 : _b.enabled) != null ? _c : true) && ((_e = (_d = settings.homeOptions) == null ? void 0 : _d.featuredPost) == null ? void 0 : _e.type) === "featured" ? "block" : "none"
        });
        setting2.setName("Featured post slug").setDesc('Slug of the post to feature (e.g., "getting-started" for /posts/getting-started)').addText((text) => {
          var _a2, _b2;
          text.setPlaceholder("getting-started");
          text.setValue(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.featuredPost) == null ? void 0 : _b2.slug) || "getting-started");
          let timeoutId = null;
          text.onChange((value) => {
            var _a3;
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.featuredPost)) {
              settings.homeOptions.featuredPost = { enabled: true, type: "featured", slug: "getting-started" };
            }
            settings.homeOptions.featuredPost.slug = value;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void (async () => {
                await this.plugin.loadSettings();
                await this.applyCurrentConfiguration();
              })();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void (async () => {
                await this.plugin.loadSettings();
                await this.applyCurrentConfiguration();
              })();
            }
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Recent posts").setDesc("Show recent posts on homepage").addToggle((toggle) => {
          var _a, _b, _c;
          return toggle.setValue((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.recentPosts) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
            var _a2;
            if (!((_a2 = settings.homeOptions) == null ? void 0 : _a2.recentPosts)) {
              settings.homeOptions.recentPosts = { enabled: true, count: 7 };
            }
            settings.homeOptions.recentPosts.enabled = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const rpCountSetting = container.querySelector(".rp-count-setting");
            if (rpCountSetting) {
              rpCountSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("rp-count-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.recentPosts) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
        });
        setting2.setName("Recent posts count").setDesc("Number of recent posts to show").addText((text) => {
          var _a2, _b2;
          text.setPlaceholder("7");
          text.setValue(String(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.recentPosts) == null ? void 0 : _b2.count) || 7));
          let timeoutId = null;
          text.onChange((value) => {
            var _a3;
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            const num = parseInt(value) || 7;
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.recentPosts)) {
              settings.homeOptions.recentPosts = { enabled: true, count: 7 };
            }
            settings.homeOptions.recentPosts.count = num;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void (async () => {
                await this.plugin.loadSettings();
                await this.applyCurrentConfiguration();
              })();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void (async () => {
                await this.plugin.loadSettings();
                await this.applyCurrentConfiguration();
              })();
            }
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Projects on homepage").setDesc("Show featured projects on homepage").addToggle((toggle) => {
          var _a, _b, _c;
          return toggle.setValue((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.projects) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
            var _a2;
            if (!((_a2 = settings.homeOptions) == null ? void 0 : _a2.projects)) {
              settings.homeOptions.projects = { enabled: true, count: 2 };
            }
            settings.homeOptions.projects.enabled = value;
            await this.plugin.saveData(settings);
            const pCountSetting = container.querySelector(".p-count-setting");
            if (pCountSetting) {
              pCountSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("p-count-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.projects) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
        });
        setting2.setName("Projects count").setDesc("Number of projects to show").addText((text) => {
          var _a2, _b2;
          text.setPlaceholder("2");
          text.setValue(String(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.projects) == null ? void 0 : _b2.count) || 2));
          let timeoutId = null;
          text.onChange((value) => {
            var _a3;
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            const num = parseInt(value) || 2;
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.projects)) {
              settings.homeOptions.projects = { enabled: true, count: 2 };
            }
            settings.homeOptions.projects.count = num;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void (async () => {
                await this.applyCurrentConfiguration();
              })();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void (async () => {
                await this.applyCurrentConfiguration();
              })();
            }
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Docs on homepage").setDesc("Show featured docs on homepage").addToggle((toggle) => {
          var _a, _b, _c;
          return toggle.setValue((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.docs) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
            var _a2;
            if (!((_a2 = settings.homeOptions) == null ? void 0 : _a2.docs)) {
              settings.homeOptions.docs = { enabled: true, count: 3 };
            }
            settings.homeOptions.docs.enabled = value;
            await this.plugin.saveData(settings);
            const dCountSetting = container.querySelector(".d-count-setting");
            if (dCountSetting) {
              dCountSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("d-count-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.docs) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
        });
        setting2.setName("Docs count").setDesc("Number of docs to show").addText((text) => {
          var _a2, _b2;
          text.setPlaceholder("3");
          text.setValue(String(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.docs) == null ? void 0 : _b2.count) || 3));
          let timeoutId = null;
          text.onChange((value) => {
            var _a3;
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            const num = parseInt(value) || 3;
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.docs)) {
              settings.homeOptions.docs = { enabled: true, count: 3 };
            }
            settings.homeOptions.docs.count = num;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void (async () => {
                await this.applyCurrentConfiguration();
              })();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void (async () => {
                await this.applyCurrentConfiguration();
              })();
            }
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Blurb placement").setDesc("Where to place the blurb text on homepage").addDropdown((dropdown) => {
          var _a, _b;
          dropdown.addOption("above", "Above").addOption("below", "Below").addOption("none", "None").setValue(((_b = (_a = settings.homeOptions) == null ? void 0 : _a.blurb) == null ? void 0 : _b.placement) || "below").onChange(async (value) => {
            var _a2;
            if (!((_a2 = settings.homeOptions) == null ? void 0 : _a2.blurb)) {
              settings.homeOptions.blurb = { placement: "below" };
            }
            settings.homeOptions.blurb.placement = value;
            await this.plugin.saveData(settings);
            await this.applyCurrentConfiguration();
          });
          setTimeout(() => {
            const selectEl = setting2.controlEl.querySelector("select");
            if (selectEl) {
              selectEl.setCssProps({
                width: "200px",
                minWidth: "200px",
                maxWidth: "200px"
              });
            }
          }, 0);
        });
      });
      const postOptionsGroup = createSettingsGroup(container, "Post options", "astro-modular-settings");
      postOptionsGroup.addSetting((setting2) => {
        setting2.setName("Posts per page").setDesc("Number of posts to show per page").addText((text) => {
          var _a;
          return text.setPlaceholder("6").setValue(String(((_a = settings.postOptions) == null ? void 0 : _a.postsPerPage) || 6)).onChange(async (value) => {
            var _a2;
            const num = parseInt(value) || 6;
            if (!settings.postOptions) {
              settings.postOptions = {
                postsPerPage: 6,
                readingTime: true,
                wordCount: true,
                tags: true,
                linkedMentions: { enabled: true, linkedMentionsCompact: false },
                graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true },
                postNavigation: true,
                showPostCardCoverImages: "featured-and-posts",
                postCardAspectRatio: "og",
                customPostCardAspectRatio: "2.5/1",
                comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" }
              };
            }
            settings.postOptions.postsPerPage = num;
            await this.plugin.saveData(settings);
            await this.applyCurrentConfiguration();
          });
        });
      });
      postOptionsGroup.addSetting((setting2) => {
        setting2.setName("Reading time").setDesc("Display estimated reading time on posts").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.postOptions) == null ? void 0 : _a.readingTime) != null ? _b : true).onChange(async (value) => {
            var _a2;
            if (!settings.postOptions) {
              settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
            }
            settings.postOptions.readingTime = value;
            settings.features.readingTime = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      postOptionsGroup.addSetting((setting2) => {
        setting2.setName("Word count").setDesc("Display word count on posts").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.postOptions) == null ? void 0 : _a.wordCount) != null ? _b : true).onChange(async (value) => {
            var _a2;
            if (!settings.postOptions) {
              settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
            }
            settings.postOptions.wordCount = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Tags").setDesc("Show tags on posts").addToggle((toggle) => {
            var _a, _b;
            return toggle.setValue((_b = (_a = settings.postOptions) == null ? void 0 : _a.tags) != null ? _b : true).onChange(async (value) => {
              var _a2;
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.tags = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Linked mentions").setDesc("Show linked mentions and backlinks on posts").addToggle((toggle) => {
            var _a, _b, _c;
            return toggle.setValue((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.linkedMentions) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
              var _a2;
              if (!((_a2 = settings.postOptions) == null ? void 0 : _a2.linkedMentions)) {
                settings.postOptions.linkedMentions = { enabled: true, linkedMentionsCompact: false };
              }
              settings.postOptions.linkedMentions.enabled = value;
              settings.features.linkedMentions = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              const lmCompactSetting = container.querySelector(".lm-compact-setting");
              if (lmCompactSetting) {
                lmCompactSetting.setCssProps({ display: value ? "block" : "none" });
              }
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a, _b, _c;
          setting3.settingEl.classList.add("lm-compact-setting");
          setting3.settingEl.setCssProps({
            display: ((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.linkedMentions) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
          });
          setting3.setName("Compact view").setDesc("Use compact view for linked mentions").addToggle((toggle) => {
            var _a2, _b2, _c2;
            return toggle.setValue((_c2 = (_b2 = (_a2 = settings.postOptions) == null ? void 0 : _a2.linkedMentions) == null ? void 0 : _b2.linkedMentionsCompact) != null ? _c2 : false).onChange(async (value) => {
              var _a3;
              if (!((_a3 = settings.postOptions) == null ? void 0 : _a3.linkedMentions)) {
                settings.postOptions.linkedMentions = { enabled: true, linkedMentionsCompact: false };
              }
              settings.postOptions.linkedMentions.linkedMentionsCompact = value;
              settings.features.linkedMentionsCompact = value;
              await this.plugin.saveData(settings);
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Graph view").setDesc("Show graph view of post connections").addToggle((toggle) => {
            var _a, _b, _c;
            return toggle.setValue((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.graphView) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
              var _a2;
              if (!((_a2 = settings.postOptions) == null ? void 0 : _a2.graphView)) {
                settings.postOptions.graphView = { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true };
              }
              settings.postOptions.graphView.enabled = value;
              settings.features.graphView = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              const gvSettings = container.querySelectorAll(".gv-option-setting");
              gvSettings.forEach((el) => {
                el.setCssProps({ display: value ? "block" : "none" });
              });
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a, _b, _c;
          setting3.settingEl.classList.add("gv-option-setting");
          setting3.settingEl.setCssProps({
            display: ((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.graphView) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
          });
          setting3.setName("Show in sidebar").setDesc("Display graph view in post sidebar").addToggle((toggle) => {
            var _a2, _b2, _c2;
            return toggle.setValue((_c2 = (_b2 = (_a2 = settings.postOptions) == null ? void 0 : _a2.graphView) == null ? void 0 : _b2.showInSidebar) != null ? _c2 : true).onChange(async (value) => {
              var _a3;
              if (!((_a3 = settings.postOptions) == null ? void 0 : _a3.graphView)) {
                settings.postOptions.graphView = { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true };
              }
              settings.postOptions.graphView.showInSidebar = value;
              await this.plugin.saveData(settings);
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a, _b, _c;
          setting3.settingEl.classList.add("gv-option-setting");
          setting3.settingEl.setCssProps({
            display: ((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.graphView) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
          });
          setting3.setName("Maximum nodes").setDesc("Maximum number of nodes to show in graph").addText((text) => {
            var _a2, _b2;
            return text.setPlaceholder("100").setValue(String(((_b2 = (_a2 = settings.postOptions) == null ? void 0 : _a2.graphView) == null ? void 0 : _b2.maxNodes) || 100)).onChange(async (value) => {
              var _a3;
              const num = parseInt(value) || 100;
              if (!((_a3 = settings.postOptions) == null ? void 0 : _a3.graphView)) {
                settings.postOptions.graphView = { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true };
              }
              settings.postOptions.graphView.maxNodes = num;
              await this.plugin.saveData(settings);
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a, _b, _c;
          setting3.settingEl.classList.add("gv-option-setting");
          setting3.settingEl.setCssProps({
            display: ((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.graphView) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
          });
          setting3.setName("Show orphaned posts").setDesc("Include posts with no connections in graph view").addToggle((toggle) => {
            var _a2, _b2, _c2;
            return toggle.setValue((_c2 = (_b2 = (_a2 = settings.postOptions) == null ? void 0 : _a2.graphView) == null ? void 0 : _b2.showOrphanedPosts) != null ? _c2 : true).onChange(async (value) => {
              var _a3;
              if (!((_a3 = settings.postOptions) == null ? void 0 : _a3.graphView)) {
                settings.postOptions.graphView = { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true };
              }
              settings.postOptions.graphView.showOrphanedPosts = value;
              await this.plugin.saveData(settings);
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Post navigation").setDesc("Show next/previous post navigation").addToggle((toggle) => {
            var _a, _b;
            return toggle.setValue((_b = (_a = settings.postOptions) == null ? void 0 : _a.postNavigation) != null ? _b : true).onChange(async (value) => {
              var _a2;
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.postNavigation = value;
              settings.features.postNavigation = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Show post card cover images").setDesc("Where to display cover images on post cards").addDropdown((dropdown) => {
            var _a;
            dropdown.addOption("all", "All").addOption("featured", "Featured").addOption("home", "Home").addOption("posts", "Posts").addOption("featured-and-posts", "Featured and posts").addOption("none", "None").setValue(((_a = settings.postOptions) == null ? void 0 : _a.showPostCardCoverImages) || "featured-and-posts").onChange(async (value) => {
              var _a2;
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.showPostCardCoverImages = value;
              settings.features.showPostCardCoverImages = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              await this.applyCurrentConfiguration();
            });
            setTimeout(() => {
              const selectEl = setting3.controlEl.querySelector("select");
              if (selectEl) {
                selectEl.setCssProps({
                  width: "200px",
                  minWidth: "200px",
                  maxWidth: "200px"
                });
              }
            }, 0);
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Post card aspect ratio").setDesc("Aspect ratio for post card cover images").addDropdown((dropdown) => {
            var _a;
            dropdown.addOption("16:9", "16:9").addOption("4:3", "4:3").addOption("3:2", "3:2").addOption("og", "Open Graph").addOption("square", "Square").addOption("golden", "Golden").addOption("custom", "Custom").setValue(((_a = settings.postOptions) == null ? void 0 : _a.postCardAspectRatio) || "og").onChange(async (value) => {
              var _a2;
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.postCardAspectRatio = value;
              settings.features.postCardAspectRatio = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              const customARSetting = container.querySelector(".custom-ar-setting");
              if (customARSetting) {
                customARSetting.setCssProps({ display: value === "custom" ? "block" : "none" });
              }
              await this.applyCurrentConfiguration();
            });
            setTimeout(() => {
              const selectEl = setting3.controlEl.querySelector("select");
              if (selectEl) {
                selectEl.setCssProps({
                  width: "200px",
                  minWidth: "200px",
                  maxWidth: "200px"
                });
              }
            }, 0);
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a;
          setting3.settingEl.classList.add("custom-ar-setting");
          setting3.settingEl.setCssProps({
            display: ((_a = settings.postOptions) == null ? void 0 : _a.postCardAspectRatio) === "custom" ? "block" : "none"
          });
          setting3.setName("Custom aspect ratio").setDesc('Custom aspect ratio in format "width/height" (e.g., "2.5/1")').addText((text) => {
            var _a2;
            text.setValue(((_a2 = settings.postOptions) == null ? void 0 : _a2.customPostCardAspectRatio) || "2.5/1");
            let timeoutId = null;
            text.onChange((value) => {
              var _a3;
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a3 = settings.optionalFeatures) == null ? void 0 : _a3.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.customPostCardAspectRatio = value;
              settings.features.customPostCardAspectRatio = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void (async () => {
                  await this.plugin.loadSettings();
                  await this.applyCurrentConfiguration();
                })();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void (async () => {
                  await this.plugin.loadSettings();
                  await this.applyCurrentConfiguration();
                })();
              }
            });
          });
        });
      });
    });
    const optionalFeaturesGroup = createSettingsGroup(container, "Optional features", "astro-modular-settings");
    this.renderProfilePictureSetting(optionalFeaturesGroup, settings);
    this.renderCommentsSetting(optionalFeaturesGroup, settings);
  }
  renderProfilePictureSetting(group, settings) {
    var _a, _b, _c, _d;
    const isEnabled = ((_a = settings.features) == null ? void 0 : _a.profilePicture) || ((_c = (_b = settings.optionalFeatures) == null ? void 0 : _b.profilePicture) == null ? void 0 : _c.enabled);
    const profileSettings = ((_d = settings.optionalFeatures) == null ? void 0 : _d.profilePicture) || {
      enabled: false,
      image: "/profile.jpg",
      alt: "Profile picture",
      size: "md",
      url: "",
      placement: "footer",
      style: "circle"
    };
    group.addSetting((setting) => {
      setting.setName("Profile picture").setDesc("Show profile picture in header or footer").addToggle((toggle) => toggle.setValue(isEnabled).onChange(async (value) => {
        var _a2, _b2;
        settings.features.profilePicture = value;
        if (!settings.optionalFeatures) {
          settings.optionalFeatures = { profilePicture: profileSettings, comments: ((_a2 = settings.postOptions) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
        }
        settings.optionalFeatures.profilePicture.enabled = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        const ppSettings = (_b2 = setting.settingEl.parentElement) == null ? void 0 : _b2.querySelectorAll(".pp-option-setting");
        if (ppSettings) {
          ppSettings.forEach((el) => {
            el.setCssProps({ display: value ? "block" : "none" });
          });
        }
        try {
          await this.applyCurrentConfiguration();
          new import_obsidian15.Notice(`Profile picture ${value ? "enabled" : "disabled"} and applied to config.ts`);
        } catch (error) {
          new import_obsidian15.Notice(`Failed to apply profile picture to config.ts: ${error instanceof Error ? error.message : String(error)}`);
        }
      }));
    });
    group.addSetting((setting) => {
      setting.settingEl.classList.add("pp-option-setting");
      setting.settingEl.setCssProps({
        display: isEnabled ? "block" : "none",
        marginTop: "10px"
      });
      const nameEl = setting.settingEl.querySelector(".setting-item-name");
      const descEl = setting.settingEl.querySelector(".setting-item-description");
      const controlEl = setting.settingEl.querySelector(".setting-item-control");
      if (nameEl) nameEl.setCssProps({ display: "none" });
      if (descEl) descEl.setCssProps({ display: "none" });
      if (controlEl) controlEl.setCssProps({ display: "none" });
      setting.settingEl.setCssProps({
        borderTop: "none",
        paddingTop: "0",
        paddingBottom: "0"
      });
      const optionsContainer = setting.settingEl.createDiv("profile-picture-options");
      const optionsGrid = optionsContainer.createDiv("options-grid");
      optionsGrid.setCssProps({
        display: "grid",
        gridTemplateColumns: "1fr 1fr",
        gap: "10px",
        marginTop: "10px"
      });
      this.createTextSetting(
        optionsGrid,
        "Image path",
        "Path to the profile picture image (in the public folder)",
        profileSettings.image,
        (value) => {
          profileSettings.image = value;
        },
        1e3,
        async () => {
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
        },
        "/profile.jpg"
      );
      this.createTextSetting(
        optionsGrid,
        "Alt text",
        "Alternative text for the profile picture",
        profileSettings.alt,
        (value) => {
          profileSettings.alt = value;
        },
        1e3,
        async () => {
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
        },
        "Profile picture"
      );
      new import_obsidian15.Setting(optionsGrid).setName("Size").setDesc("Size of the profile picture").addDropdown((dropdown) => dropdown.addOption("sm", "Small").addOption("md", "Medium").addOption("lg", "Large").setValue(profileSettings.size).onChange(async (value) => {
        profileSettings.size = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration();
      }));
      this.createTextSetting(
        optionsGrid,
        "URL (optional)",
        "Optional URL to link the profile picture to",
        profileSettings.url || "",
        (value) => {
          profileSettings.url = value;
        },
        1e3,
        async () => {
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
        },
        "/about"
      );
      new import_obsidian15.Setting(optionsGrid).setName("Placement").setDesc("Where to show the profile picture").addDropdown((dropdown) => dropdown.addOption("footer", "Footer").addOption("header", "Header").setValue(profileSettings.placement).onChange(async (value) => {
        profileSettings.placement = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration();
      }));
      new import_obsidian15.Setting(optionsGrid).setName("Style").setDesc("Visual style of the profile picture").addDropdown((dropdown) => dropdown.addOption("circle", "Circle").addOption("square", "Square").addOption("none", "None").setValue(profileSettings.style).onChange(async (value) => {
        profileSettings.style = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration();
      }));
    });
  }
  renderCommentsSetting(group, settings) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;
    const isEnabled = (_h = (_g = (_d = (_b = (_a = settings.optionalFeatures) == null ? void 0 : _a.comments) == null ? void 0 : _b.enabled) != null ? _d : (_c = settings.features) == null ? void 0 : _c.comments) != null ? _g : (_f = (_e = settings.postOptions) == null ? void 0 : _e.comments) == null ? void 0 : _f.enabled) != null ? _h : false;
    const commentsSettings = ((_i = settings.postOptions) == null ? void 0 : _i.comments) || ((_j = settings.optionalFeatures) == null ? void 0 : _j.comments) || {
      enabled: false,
      provider: "giscus",
      rawScript: "",
      repo: "davidvkimball/astro-modular",
      repoId: "R_kgDOPllfKw",
      category: "General",
      categoryId: "DIC_kwDOPllfK84CvUpx",
      mapping: "pathname",
      strict: "0",
      reactions: "1",
      metadata: "0",
      inputPosition: "bottom",
      theme: "preferred_color_scheme",
      lang: "en",
      loading: "lazy"
    };
    group.addSetting((setting) => {
      setting.setName("Post comments").setDesc("Enable Giscus comment system for posts").addToggle((toggle) => toggle.setValue(isEnabled).onChange(async (value) => {
        var _a2, _b2, _c2;
        settings.features.comments = value;
        const commentsSettingsEls = (_a2 = setting.settingEl.parentElement) == null ? void 0 : _a2.querySelectorAll(".comments-option-setting");
        const existingComments = ((_b2 = settings.postOptions) == null ? void 0 : _b2.comments) || ((_c2 = settings.optionalFeatures) == null ? void 0 : _c2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", term: "", reactionsEnabled: true, emitMetadata: false, inputPosition: "bottom", lang: "en", loading: "lazy", rawScript: "" };
        if (!settings.postOptions) {
          settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: { ...existingComments } };
        }
        settings.postOptions.comments.enabled = value;
        if (!settings.optionalFeatures) {
          settings.optionalFeatures = { profilePicture: { enabled: false, image: "/profile.jpg", alt: "Profile picture", size: "md", url: "", placement: "footer", style: "circle" }, comments: { ...existingComments } };
        }
        settings.optionalFeatures.comments.enabled = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        const commentsSettings2 = commentsSettingsEls;
        if (commentsSettings2) {
          commentsSettings2.forEach((el) => {
            el.setCssProps({ display: value ? "block" : "none" });
          });
        }
        try {
          await this.applyCurrentConfiguration();
          new import_obsidian15.Notice(`Comments system ${value ? "enabled" : "disabled"} and applied to config.ts`);
        } catch (error) {
          new import_obsidian15.Notice(`Failed to apply comments system to config.ts: ${error instanceof Error ? error.message : String(error)}`);
        }
      }));
    });
    group.addSetting((setting) => {
      var _a2, _b2, _c2, _d2;
      setting.settingEl.classList.add("comments-option-setting");
      setting.settingEl.setCssProps({
        display: isEnabled ? "block" : "none",
        marginTop: "10px"
      });
      const nameEl = setting.settingEl.querySelector(".setting-item-name");
      const descEl = setting.settingEl.querySelector(".setting-item-description");
      const controlEl = setting.settingEl.querySelector(".setting-item-control");
      if (nameEl) nameEl.setCssProps({ display: "none" });
      if (descEl) descEl.setCssProps({ display: "none" });
      if (controlEl) controlEl.setCssProps({ display: "none" });
      setting.settingEl.setCssProps({
        borderTop: "none",
        paddingTop: "0",
        paddingBottom: "0"
      });
      const optionsContainer = setting.settingEl.createDiv("comments-options");
      const instructionsDiv = optionsContainer.createDiv("comments-instructions");
      instructionsDiv.setCssProps({
        marginBottom: "15px",
        padding: "10px",
        background: "var(--background-modifier-border)"
      });
      instructionsDiv.setCssProps({
        borderRadius: "4px",
        borderLeft: "3px solid var(--interactive-accent)"
      });
      const instructionsText = instructionsDiv.createEl("p");
      instructionsText.setCssProps({
        margin: "0",
        fontSize: "13px",
        color: "var(--text-muted)",
        whiteSpace: "pre-line"
      });
      instructionsText.appendText("1. Go to ");
      const giscusLink = instructionsText.createEl("a", {
        href: "https://giscus.app/",
        // False positive: "giscus.app" is a domain name, not UI text
        // eslint-disable-next-line obsidianmd/ui/sentence-case
        text: "giscus.app",
        attr: {
          target: "_blank",
          rel: "noopener noreferrer"
        }
      });
      giscusLink.setCssProps({
        color: "var(--interactive-accent)",
        textDecoration: "none"
      });
      instructionsText.appendText(" and configure your comments\n2. Copy the generated script\n3. Paste it below");
      giscusLink.addEventListener("mouseenter", () => {
        giscusLink.setCssProps({ textDecoration: "underline" });
      });
      giscusLink.addEventListener("mouseleave", () => {
        giscusLink.setCssProps({ textDecoration: "none" });
      });
      const scriptSetting = new import_obsidian15.Setting(optionsContainer).setName("Giscus Script").setDesc("Paste your Giscus script here (the plugin will automatically parse all settings)");
      const textarea = scriptSetting.controlEl.createEl("textarea", {
        attr: {
          placeholder: `<script src="https://giscus.app/client.js"
        data-repo="davidvkimball/astro-modular"
        data-repo-id="R_kgDOPllfKw"
        data-category="General"
        data-category-id="DIC_kwDOPllfK84CvUpx"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
<\/script>`,
          rows: "8"
        }
      });
      textarea.setCssProps({
        width: "100%",
        fontFamily: "var(--font-monospace)",
        fontSize: "12px",
        padding: "8px",
        border: "1px solid var(--background-modifier-border)",
        borderRadius: "4px",
        background: "var(--background-primary)",
        color: "var(--text-normal)",
        resize: "none"
      });
      textarea.value = ((_b2 = (_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) == null ? void 0 : _b2.rawScript) || ((_d2 = (_c2 = settings.postOptions) == null ? void 0 : _c2.comments) == null ? void 0 : _d2.rawScript) || "";
      const validationDiv = optionsContainer.createDiv("script-validation");
      validationDiv.setCssProps({
        marginTop: "8px",
        fontSize: "12px"
      });
      let debounceTimeoutId = null;
      const updateValidation = async (showNotification = false) => {
        var _a3, _b3, _c3, _d3, _e2, _f2, _g2, _h2, _i2, _j2, _k, _l, _m, _n, _o, _p;
        const scriptContent = textarea.value.trim();
        if (!scriptContent) {
          validationDiv.empty();
          const currentEnabled = (_h2 = (_g2 = (_d3 = (_b3 = (_a3 = settings.optionalFeatures) == null ? void 0 : _a3.comments) == null ? void 0 : _b3.enabled) != null ? _d3 : (_c3 = settings.features) == null ? void 0 : _c3.comments) != null ? _g2 : (_f2 = (_e2 = settings.postOptions) == null ? void 0 : _e2.comments) == null ? void 0 : _f2.enabled) != null ? _h2 : false;
          if (!settings.optionalFeatures) {
            settings.optionalFeatures = { profilePicture: { enabled: false, image: "/profile.jpg", alt: "Profile picture", size: "md", url: "", placement: "footer", style: "circle" }, comments: { enabled: currentEnabled, provider: "giscus", rawScript: "", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
          } else {
            settings.optionalFeatures.comments = {
              ...settings.optionalFeatures.comments,
              rawScript: "",
              repo: "",
              repoId: "",
              category: "",
              categoryId: "",
              mapping: "",
              strict: "",
              reactions: "",
              metadata: "",
              inputPosition: "",
              theme: "",
              lang: "",
              loading: "",
              enabled: currentEnabled
              // Preserve enabled state
            };
          }
          if (!settings.postOptions) {
            settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: settings.optionalFeatures.comments };
          } else {
            settings.postOptions.comments = { ...settings.optionalFeatures.comments };
          }
          if (!settings.features) {
            settings.features = {
              commandPalette: false,
              readingTime: false,
              linkedMentions: false,
              linkedMentionsCompact: false,
              comments: false,
              graphView: false,
              postNavigation: false,
              hideScrollBar: false,
              scrollToTop: false,
              featureButton: "none",
              showSocialIconsInFooter: false,
              showPostCardCoverImages: "none",
              postCardAspectRatio: "og",
              profilePicture: false,
              quickActions: {
                enabled: false,
                toggleMode: false,
                graphView: false,
                changeTheme: false
              }
            };
          }
          settings.features.comments = currentEnabled;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          if (showNotification) {
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice("Giscus script cleared and applied to config.ts");
          }
          return;
        }
        const { GiscusScriptParser: GiscusScriptParser2 } = await Promise.resolve().then(() => (init_GiscusScriptParser(), GiscusScriptParser_exports));
        const validation = GiscusScriptParser2.validateScript(scriptContent);
        if (validation.valid) {
          validationDiv.empty();
          const successSpan = validationDiv.createEl("span", { text: "\u2713 Valid Giscus script detected" });
          successSpan.setCssProps({ color: "var(--text-success)" });
          const parsed = GiscusScriptParser2.parseScript(scriptContent);
          if (parsed) {
            const currentEnabled = (_p = (_o = (_l = (_j2 = (_i2 = settings.optionalFeatures) == null ? void 0 : _i2.comments) == null ? void 0 : _j2.enabled) != null ? _l : (_k = settings.features) == null ? void 0 : _k.comments) != null ? _o : (_n = (_m = settings.postOptions) == null ? void 0 : _m.comments) == null ? void 0 : _n.enabled) != null ? _p : false;
            commentsSettings.rawScript = scriptContent;
            commentsSettings.repo = parsed.repo;
            commentsSettings.repoId = parsed.repoId;
            commentsSettings.category = parsed.category;
            commentsSettings.categoryId = parsed.categoryId;
            commentsSettings.mapping = parsed.mapping;
            commentsSettings.strict = parsed.strict;
            commentsSettings.reactions = parsed.reactions;
            commentsSettings.metadata = parsed.metadata;
            commentsSettings.inputPosition = parsed.inputPosition;
            commentsSettings.theme = parsed.theme;
            commentsSettings.lang = parsed.lang;
            commentsSettings.loading = parsed.loading;
            commentsSettings.enabled = currentEnabled;
            if (!settings.optionalFeatures) {
              settings.optionalFeatures = { profilePicture: { enabled: false, image: "/profile.jpg", alt: "Profile picture", size: "md", url: "", placement: "footer", style: "circle" }, comments: commentsSettings };
            }
            settings.optionalFeatures.comments = { ...commentsSettings };
            if (!settings.postOptions) {
              settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: commentsSettings };
            }
            settings.postOptions.comments = { ...commentsSettings };
            if (!settings.features) {
              settings.features = {
                commandPalette: false,
                readingTime: false,
                linkedMentions: false,
                linkedMentionsCompact: false,
                comments: false,
                graphView: false,
                postNavigation: false,
                hideScrollBar: false,
                scrollToTop: false,
                featureButton: "none",
                showSocialIconsInFooter: false,
                showPostCardCoverImages: "none",
                postCardAspectRatio: "og",
                profilePicture: false,
                quickActions: {
                  enabled: false,
                  toggleMode: false,
                  graphView: false,
                  changeTheme: false
                }
              };
            }
            settings.features.comments = currentEnabled;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            if (showNotification) {
              try {
                await this.applyCurrentConfiguration();
                const statusMessage = currentEnabled ? "Giscus script parsed and applied to config.ts" : "Giscus script parsed and saved. Enable comments to apply to config.ts";
                new import_obsidian15.Notice(statusMessage);
              } catch (error) {
                new import_obsidian15.Notice(`Failed to apply Giscus script to config.ts: ${error instanceof Error ? error.message : String(error)}`);
              }
            }
          }
        } else {
          validationDiv.empty();
          const errorSpan = validationDiv.createEl("span", { text: `\u2717 ${validation.error}` });
          errorSpan.setCssProps({ color: "var(--text-error)" });
        }
      };
      textarea.addEventListener("input", () => {
        if (debounceTimeoutId) {
          clearTimeout(debounceTimeoutId);
        }
        void updateValidation(false);
        debounceTimeoutId = window.setTimeout(() => {
          void updateValidation(true);
        }, 1e3);
      });
      textarea.addEventListener("blur", () => {
        if (debounceTimeoutId) {
          clearTimeout(debounceTimeoutId);
          debounceTimeoutId = null;
        }
        void updateValidation(true);
      });
      void updateValidation(false);
    });
  }
};

// src/ui/tabs/AdvancedTab.ts
var import_obsidian16 = require("obsidian");
init_types();
var AdvancedTab = class extends TabRenderer {
  render(container) {
    container.empty();
    const settings = this.getSettings();
    const advancedGroup = createSettingsGroup(container, void 0, "astro-modular-settings");
    advancedGroup.addSetting((setting) => {
      setting.setName("Edit config.ts directly").setDesc("Open your Astro configuration file in the editor").addButton((button) => button.setButtonText("Open config.ts").onClick(() => {
        this.openConfigFile();
      }));
    });
    advancedGroup.addSetting((setting) => {
      setting.setName("Sync from config.ts").setDesc("Read current config.ts file and update plugin settings to match").addButton((button) => button.setButtonText("Sync from config.ts").setCta().onClick(async () => {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;
        try {
          const plugin = this.plugin;
          const configContent = plugin.configManager.fileManager.readConfig();
          if (!configContent) {
            new import_obsidian16.Notice("Could not read config.ts file");
            return;
          }
          const currentConfig = plugin.configManager.fileManager.parseConfigFile(configContent);
          if (!currentConfig) {
            new import_obsidian16.Notice("Could not parse config.ts file");
            return;
          }
          const settings2 = this.getSettings();
          if (currentConfig.siteInfo && typeof currentConfig.siteInfo === "object") {
            const siteInfo = currentConfig.siteInfo;
            settings2.siteInfo.site = (_a = siteInfo.site) != null ? _a : settings2.siteInfo.site;
            settings2.siteInfo.title = (_b = siteInfo.title) != null ? _b : settings2.siteInfo.title;
            settings2.siteInfo.description = (_c = siteInfo.description) != null ? _c : settings2.siteInfo.description;
            settings2.siteInfo.author = (_d = siteInfo.author) != null ? _d : settings2.siteInfo.author;
            settings2.siteInfo.language = (_e = siteInfo.language) != null ? _e : settings2.siteInfo.language;
          }
          if (currentConfig.faviconThemeAdaptive !== void 0) {
            settings2.siteInfo.faviconThemeAdaptive = currentConfig.faviconThemeAdaptive;
          }
          if (currentConfig.defaultOgImageAlt) {
            settings2.siteInfo.defaultOgImageAlt = currentConfig.defaultOgImageAlt;
            if (!settings2.seo) {
              settings2.seo = { defaultOgImageAlt: "" };
            }
            settings2.seo.defaultOgImageAlt = currentConfig.defaultOgImageAlt;
          }
          if (currentConfig.navigation && typeof currentConfig.navigation === "object") {
            const navigation = currentConfig.navigation;
            if (navigation.pages) {
              settings2.navigation.pages = navigation.pages;
            }
            if (navigation.social) {
              settings2.navigation.social = navigation.social;
            }
          }
          if (currentConfig.currentTheme) {
            settings2.currentTheme = currentConfig.currentTheme;
          }
          if (currentConfig.typography && typeof currentConfig.typography === "object") {
            const typography = currentConfig.typography;
            const fontSource = (_f = typography.fontSource) != null ? _f : settings2.typography.fontSource;
            settings2.typography.fontSource = fontSource === "local" || fontSource === "cdn" ? fontSource : settings2.typography.fontSource;
            settings2.typography.proseFont = (_g = typography.proseFont) != null ? _g : settings2.typography.proseFont;
            settings2.typography.headingFont = (_h = typography.headingFont) != null ? _h : settings2.typography.headingFont;
            settings2.typography.monoFont = (_i = typography.monoFont) != null ? _i : settings2.typography.monoFont;
          }
          if (currentConfig.tableOfContents && typeof currentConfig.tableOfContents === "object") {
            const toc = currentConfig.tableOfContents;
            if (!settings2.tableOfContents) {
              settings2.tableOfContents = { enabled: true, depth: 4 };
            }
            settings2.tableOfContents.enabled = (_j = toc.enabled) != null ? _j : settings2.tableOfContents.enabled;
            settings2.tableOfContents.depth = (_k = toc.depth) != null ? _k : settings2.tableOfContents.depth;
          }
          if (currentConfig.postOptions && typeof currentConfig.postOptions === "object") {
            const postOptions = currentConfig.postOptions;
            settings2.features.readingTime = (_l = postOptions.readingTime) != null ? _l : settings2.features.readingTime;
            if (postOptions.linkedMentions && typeof postOptions.linkedMentions === "object") {
              const linkedMentions = postOptions.linkedMentions;
              settings2.features.linkedMentions = (_m = linkedMentions.enabled) != null ? _m : settings2.features.linkedMentions;
              settings2.features.linkedMentionsCompact = (_n = linkedMentions.linkedMentionsCompact) != null ? _n : settings2.features.linkedMentionsCompact;
            }
            if (postOptions.graphView && typeof postOptions.graphView === "object") {
              const graphView = postOptions.graphView;
              settings2.features.graphView = (_o = graphView.enabled) != null ? _o : settings2.features.graphView;
            }
            settings2.features.postNavigation = (_p = postOptions.postNavigation) != null ? _p : settings2.features.postNavigation;
            if (postOptions.comments && typeof postOptions.comments === "object") {
              const comments = postOptions.comments;
              settings2.features.comments = (_q = comments.enabled) != null ? _q : settings2.features.comments;
            }
          }
          if (currentConfig.optionalContentTypes && typeof currentConfig.optionalContentTypes === "object") {
            const optionalContentTypes = currentConfig.optionalContentTypes;
            settings2.optionalContentTypes.projects = (_r = optionalContentTypes.projects) != null ? _r : settings2.optionalContentTypes.projects;
            settings2.optionalContentTypes.docs = (_s = optionalContentTypes.docs) != null ? _s : settings2.optionalContentTypes.docs;
          }
          if (currentConfig.footer && typeof currentConfig.footer === "object") {
            const footer = currentConfig.footer;
            settings2.features.showSocialIconsInFooter = (_t = footer.showSocialIconsInFooter) != null ? _t : false;
          }
          if (currentConfig.commandPalette && typeof currentConfig.commandPalette === "object") {
            const commandPalette = currentConfig.commandPalette;
            settings2.features.commandPalette = (_u = commandPalette.enabled) != null ? _u : false;
            if (!settings2.commandPalette) {
              settings2.commandPalette = {
                enabled: true,
                shortcut: "ctrl+K",
                placeholder: "Search posts",
                search: { posts: true, pages: false, projects: false, docs: false },
                sections: { quickActions: true, pages: true, social: true },
                quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
              };
            }
            settings2.commandPalette.enabled = (_v = commandPalette.enabled) != null ? _v : settings2.commandPalette.enabled;
            settings2.commandPalette.placeholder = (_w = commandPalette.placeholder) != null ? _w : settings2.commandPalette.placeholder;
            settings2.commandPalette.shortcut = (_x = commandPalette.shortcut) != null ? _x : settings2.commandPalette.shortcut;
            if (commandPalette.search && typeof commandPalette.search === "object") {
              settings2.commandPalette.search = {
                ...settings2.commandPalette.search,
                ...commandPalette.search
              };
            }
            if (commandPalette.sections && typeof commandPalette.sections === "object") {
              settings2.commandPalette.sections = {
                ...settings2.commandPalette.sections,
                ...commandPalette.sections
              };
            }
            if (commandPalette.quickActions && typeof commandPalette.quickActions === "object") {
              settings2.commandPalette.quickActions = {
                ...settings2.commandPalette.quickActions,
                ...commandPalette.quickActions
              };
              settings2.features.quickActions = {
                ...settings2.features.quickActions,
                ...commandPalette.quickActions
              };
            }
          }
          if (currentConfig.theme) {
            settings2.currentTheme = currentConfig.theme;
          }
          if (currentConfig.site) {
            settings2.siteInfo.site = currentConfig.site;
          }
          if (currentConfig.title) {
            settings2.siteInfo.title = currentConfig.title;
          }
          if (currentConfig.description) {
            settings2.siteInfo.description = currentConfig.description;
          }
          if (currentConfig.author) {
            settings2.siteInfo.author = currentConfig.author;
          }
          if (currentConfig.language) {
            settings2.siteInfo.language = currentConfig.language;
          }
          settings2.currentTemplate = "standard";
          await this.plugin.saveData(settings2);
          await this.plugin.triggerSettingsRefresh();
          new import_obsidian16.Notice("Settings synced from config.ts successfully");
        } catch (error) {
          new import_obsidian16.Notice(`Failed to sync from config.ts: ${error instanceof Error ? error.message : String(error)}`);
        }
      }));
    });
    advancedGroup.addSetting((setting) => {
      var _a;
      setting.setName("Reset to template").setDesc(`Reset all settings to the current template (${(_a = TEMPLATE_OPTIONS.find((t) => t.id === settings.currentTemplate)) == null ? void 0 : _a.name})`).addButton((button) => button.setButtonText("Reset to template").setWarning().onClick(async () => {
        var _a2, _b, _c, _d, _e, _f;
        try {
          const templatePreset = this.plugin.configManager.getTemplatePreset(settings.currentTemplate);
          if (templatePreset && templatePreset.config) {
            const preservedSiteInfo = settings.siteInfo;
            const preservedNavigation = settings.navigation;
            const preservedTheme = settings.currentTheme;
            const preservedContentOrg = settings.contentOrganization;
            const preservedTypography = settings.typography;
            const preservedOptionalFeatures = settings.optionalFeatures;
            const preservedRunWizardOnStartup = settings.runWizardOnStartup;
            if (templatePreset.config.features) {
              settings.features = { ...settings.features, ...templatePreset.config.features };
              if ((_a2 = settings.postOptions) == null ? void 0 : _a2.graphView) {
                settings.postOptions.graphView.enabled = (_b = templatePreset.config.features.graphView) != null ? _b : false;
                settings.features.graphView = settings.postOptions.graphView.enabled;
              }
              if ((_c = settings.postOptions) == null ? void 0 : _c.linkedMentions) {
                const features2 = templatePreset.config.features;
                settings.postOptions.linkedMentions.enabled = (_d = features2.linkedMentions) != null ? _d : false;
                settings.postOptions.linkedMentions.linkedMentionsCompact = (_e = features2.linkedMentionsCompact) != null ? _e : false;
              }
              const features = templatePreset.config.features;
              if (((_f = settings.commandPalette) == null ? void 0 : _f.quickActions) && features.quickActions) {
                settings.commandPalette.quickActions = { ...settings.commandPalette.quickActions, ...features.quickActions };
              }
            }
            if (templatePreset.config.tableOfContents) {
              settings.tableOfContents = { ...settings.tableOfContents, ...templatePreset.config.tableOfContents };
            }
            settings.currentTemplate = templatePreset.config.currentTemplate || settings.currentTemplate;
            settings.siteInfo = preservedSiteInfo;
            settings.navigation = preservedNavigation;
            settings.currentTheme = preservedTheme;
            settings.contentOrganization = preservedContentOrg;
            settings.typography = preservedTypography;
            settings.optionalFeatures = preservedOptionalFeatures;
            settings.runWizardOnStartup = preservedRunWizardOnStartup;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration(true);
            new import_obsidian16.Notice(`Reset to ${settings.currentTemplate} template and applied to config.ts`);
          } else {
            new import_obsidian16.Notice("Template not found");
          }
        } catch (error) {
          new import_obsidian16.Notice(`Failed to reset to template: ${error instanceof Error ? error.message : String(error)}`);
        }
      }));
    });
    advancedGroup.addSetting((setting) => {
      setting.setName("Reset to defaults").setDesc("Reset all settings to their default values").addButton((button) => button.setButtonText("Reset to defaults").setWarning().onClick(() => {
        (() => {
          const confirmModal = new import_obsidian16.Modal(this.app);
          confirmModal.titleEl.setText("Reset to defaults");
          const contentDiv = confirmModal.contentEl.createDiv();
          contentDiv.createEl("p", { text: "Are you sure you want to reset all configuration settings to defaults?" });
          contentDiv.createEl("p", { text: "This will preserve your site info and navigation pages/links." });
          const buttonContainer = contentDiv.createDiv();
          buttonContainer.setCssProps({
            marginTop: "20px",
            display: "flex",
            gap: "10px",
            justifyContent: "flex-end"
          });
          const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
          cancelButton.className = "mod-button";
          cancelButton.addEventListener("click", () => {
            confirmModal.close();
          });
          const confirmButton = buttonContainer.createEl("button", { text: "Reset to defaults" });
          confirmButton.className = "mod-warning";
          confirmButton.addEventListener("click", () => {
            void (async () => {
              confirmModal.close();
              const settings2 = this.getSettings();
              const preservedSiteInfo = settings2.siteInfo;
              const preservedNavigationPages = settings2.navigation.pages;
              const preservedNavigationSocial = settings2.navigation.social;
              const resetSettings = { ...DEFAULT_SETTINGS };
              resetSettings.siteInfo = preservedSiteInfo;
              resetSettings.navigation.pages = preservedNavigationPages;
              resetSettings.navigation.social = preservedNavigationSocial;
              this.plugin.settings = resetSettings;
              await this.plugin.saveData(resetSettings);
              await this.plugin.loadSettings();
              try {
                await this.applyCurrentConfiguration();
                new import_obsidian16.Notice("Configuration reset to defaults and applied to config.ts (site info and navigation pages/links preserved)");
              } catch (error) {
                new import_obsidian16.Notice(`Configuration reset but failed to apply to config.ts: ${error instanceof Error ? error.message : String(error)}`);
              }
              await this.plugin.triggerSettingsRefresh();
            })();
          });
          confirmButton.focus();
          confirmModal.open();
        })();
      }));
    });
    advancedGroup.addSetting((setting) => {
      setting.setName("Export configuration").setDesc("Export your current configuration as JSON").addButton((button) => button.setButtonText("Export JSON").onClick(() => {
        this.exportConfiguration();
      }));
    });
    advancedGroup.addSetting((setting) => {
      setting.setName("Import configuration").setDesc("Import configuration from JSON file").addButton((button) => button.setButtonText("Import JSON").onClick(() => {
        this.importConfiguration();
      }));
    });
  }
  exportConfiguration() {
    const configJson = JSON.stringify(this.getSettings(), null, 2);
    const blob = new Blob([configJson], { type: "application/json" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "astro-modular-config.json";
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    new import_obsidian16.Notice("Configuration exported successfully!");
  }
  importConfiguration() {
    const input = document.createElement("input");
    input.type = "file";
    input.accept = ".json";
    input.onchange = async (e) => {
      var _a;
      const file = (_a = e.target.files) == null ? void 0 : _a[0];
      if (file) {
        try {
          const text = await file.text();
          const importedSettings = JSON.parse(text);
          const settings = this.getSettings();
          Object.assign(settings, importedSettings);
          await this.plugin.saveData(settings);
          new import_obsidian16.Notice("Configuration imported successfully!");
        } catch (e2) {
          new import_obsidian16.Notice("Failed to import configuration. Please check the file format.");
        }
      }
    };
    input.click();
  }
  openConfigFile() {
    try {
      const fs = require("fs");
      const path = require("path");
      const electronModule = require("electron");
      const shell = electronModule.shell;
      if (!shell) {
        throw new Error("Electron shell API not available");
      }
      const adapter = this.app.vault.adapter;
      const vaultPath = adapter.basePath || adapter.path;
      const vaultPathString = typeof vaultPath === "string" ? vaultPath : vaultPath ? String(vaultPath) : "";
      const configPath = path.join(vaultPathString, "..", "config.ts");
      if (fs.existsSync(configPath)) {
        shell.openPath(configPath);
      } else {
        new import_obsidian16.Notice(`Config file not found at: ${configPath}`);
      }
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : String(err);
      new import_obsidian16.Notice(`Error opening config file: ${errorMessage}`);
    }
  }
};

// src/ui/SettingsTab.ts
var AstroModularSettingsTab = class extends import_obsidian17.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.icon = "lucide-settings-2";
    this.plugin = plugin;
  }
  display() {
    this.render();
  }
  render() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("astro-modular-settings");
    const tabContainer = containerEl.createDiv("tab-container");
    const tabNav = tabContainer.createDiv("tab-nav");
    const tabContent = tabContainer.createDiv("tab-content");
    const tabs = [
      {
        id: "general",
        name: "General",
        renderer: new GeneralTab(this.app, this.plugin)
      },
      {
        id: "site-info",
        name: "Site Info",
        renderer: new SiteInfoTab(this.app, this.plugin)
      },
      {
        id: "navigation",
        name: "Navigation",
        renderer: new NavigationTab(this.app, this.plugin)
      },
      {
        id: "config",
        name: "Config",
        renderer: new ConfigTab(this.app, this.plugin)
      },
      {
        id: "style",
        name: "Style",
        renderer: new StyleTab(this.app, this.plugin)
      },
      {
        id: "features",
        name: "Features",
        renderer: new FeaturesTab(this.app, this.plugin)
      },
      {
        id: "advanced",
        name: "Advanced",
        renderer: new AdvancedTab(this.app, this.plugin)
      }
    ];
    tabs.forEach((tab, index) => {
      const button = tabNav.createEl("button", {
        text: tab.name,
        cls: `tab-button ${index === 0 ? "active" : ""}`
      });
      button.addEventListener("click", () => {
        tabNav.querySelectorAll(".tab-button").forEach((btn) => btn.classList.remove("active"));
        button.classList.add("active");
        tabContent.empty();
        void tab.renderer.render(tabContent);
      });
    });
    void tabs[0].renderer.render(tabContent);
  }
};

// src/utils/config/ConfigFileManager.ts
var import_obsidian18 = require("obsidian");
var ConfigFileManager = class {
  constructor(app) {
    this.app = app;
    this.configPath = "../../src/config.ts";
  }
  getConfigFileInfo() {
    const fs = require("fs");
    const path = require("path");
    try {
      const adapter = this.app.vault.adapter;
      const vaultPath = adapter.basePath || adapter.path;
      const vaultPathString = typeof vaultPath === "string" ? vaultPath : vaultPath ? String(vaultPath) : "";
      const configPath = path.join(vaultPathString, "..", "..", "src", "config.ts");
      if (fs.existsSync(configPath)) {
        const content = fs.readFileSync(configPath, "utf8");
        const stats = fs.statSync(configPath);
        return {
          exists: true,
          path: configPath,
          content,
          lastModified: new Date(stats.mtime),
          valid: true,
          errors: []
        };
      } else {
        return {
          exists: false,
          path: configPath,
          content: "",
          lastModified: /* @__PURE__ */ new Date(),
          valid: false,
          errors: ["Config file not found"]
        };
      }
    } catch (e) {
      return {
        exists: false,
        path: this.configPath,
        content: "",
        lastModified: /* @__PURE__ */ new Date(),
        valid: false,
        errors: ["Cannot access file outside vault"]
      };
    }
  }
  validateConfigContent(content) {
    return content.includes("defineConfig") || content.includes("export default") || content.includes("astro/config");
  }
  readConfig() {
    const fileInfo = this.getConfigFileInfo();
    return fileInfo.content;
  }
  writeConfig(content) {
    const fs = require("fs");
    const path = require("path");
    try {
      const adapter = this.app.vault.adapter;
      const vaultPath = adapter.basePath || adapter.path;
      const vaultPathString = typeof vaultPath === "string" ? vaultPath : vaultPath ? String(vaultPath) : "";
      const configPath = path.join(vaultPathString, "..", "..", "src", "config.ts");
      fs.writeFileSync(configPath, content, "utf8");
      return true;
    } catch (e) {
      return false;
    }
  }
  async detectAstroDevServer() {
    const packageJson = this.app.vault.getAbstractFileByPath("package.json");
    if (packageJson && packageJson instanceof import_obsidian18.TFile) {
      try {
        const content = await this.app.vault.read(packageJson);
        return content.includes("astro") && content.includes("dev");
      } catch (e) {
        return false;
      }
    }
    return false;
  }
  parseConfigFile(content) {
    var _a, _b;
    const configContent = content || this.readConfig();
    if (!configContent) {
      return null;
    }
    const config4 = {};
    const siteInfo = {};
    const siteUrlMatch = configContent.match(/\/\/ \[CONFIG:SITE_URL\]\s*\n\s*site:\s*"([^"]*)"/);
    if (siteUrlMatch) {
      siteInfo.site = siteUrlMatch[1];
    }
    const siteTitleMatch = configContent.match(/\/\/ \[CONFIG:SITE_TITLE\]\s*\n\s*title:\s*"([^"]*)"/);
    if (siteTitleMatch) {
      siteInfo.title = siteTitleMatch[1];
    }
    const siteDescMatch = configContent.match(/\/\/ \[CONFIG:SITE_DESCRIPTION\]\s*\n\s*description:\s*"([^"]*)"/);
    if (siteDescMatch) {
      siteInfo.description = siteDescMatch[1];
    }
    const siteAuthorMatch = configContent.match(/\/\/ \[CONFIG:SITE_AUTHOR\]\s*\n\s*author:\s*"([^"]*)"/);
    if (siteAuthorMatch) {
      siteInfo.author = siteAuthorMatch[1];
    }
    const siteLangMatch = configContent.match(/\/\/ \[CONFIG:SITE_LANGUAGE\]\s*\n\s*language:\s*"([^"]*)"/);
    if (siteLangMatch) {
      siteInfo.language = siteLangMatch[1];
    }
    config4.siteInfo = siteInfo;
    const faviconThemeAdaptiveMatch = configContent.match(/\/\/ \[CONFIG:FAVICON_THEME_ADAPTIVE\]\s*\n\s*faviconThemeAdaptive:\s*(true|false)/);
    if (faviconThemeAdaptiveMatch) {
      config4.faviconThemeAdaptive = faviconThemeAdaptiveMatch[1] === "true";
    }
    const defaultOgImageAltMatch = configContent.match(/\/\/ \[CONFIG:DEFAULT_OG_IMAGE_ALT\]\s*\n\s*defaultOgImageAlt:\s*"([^"]*)"/);
    if (defaultOgImageAltMatch) {
      config4.defaultOgImageAlt = defaultOgImageAltMatch[1];
    }
    const themeMatch = configContent.match(/\/\/ \[CONFIG:THEME\]\s*\n\s*theme:\s*"([^"]*)"/);
    if (themeMatch) {
      config4.currentTheme = themeMatch[1];
    }
    const availableThemesMatch = configContent.match(/\/\/ \[CONFIG:AVAILABLE_THEMES\]\s*\n\s*availableThemes:\s*(?:"default"|\[[^\]]*\])/);
    if (availableThemesMatch) {
      const value = (_a = availableThemesMatch[0].match(/availableThemes:\s*(.+)$/)) == null ? void 0 : _a[1];
      if (value === '"default"') {
        config4.availableThemes = "default";
      } else if ((value == null ? void 0 : value.startsWith("[")) && (value == null ? void 0 : value.endsWith("]"))) {
        const themesArray = value.slice(1, -1).split(",").map((theme) => theme.trim().replace(/"/g, ""));
        config4.availableThemes = themesArray;
      }
    }
    const customThemesMatch = configContent.match(/\/\/ \[CONFIG:CUSTOM_THEMES\]\s*\n\s*customThemes:\s*"[^"]*"/);
    if (customThemesMatch) {
      const value = (_b = customThemesMatch[0].match(/customThemes:\s*"([^"]*)"/)) == null ? void 0 : _b[1];
      config4.customThemes = value || "";
    }
    const typography = {};
    const fontSourceMatch = configContent.match(/\/\/ \[CONFIG:FONT_SOURCE\]\s*\n\s*source:\s*"([^"]*)"/);
    if (fontSourceMatch) {
      typography.fontSource = fontSourceMatch[1];
    }
    const fontBodyMatch = configContent.match(/\/\/ \[CONFIG:FONT_BODY\]\s*\n\s*body:\s*"([^"]*)"/);
    if (fontBodyMatch) {
      typography.proseFont = fontBodyMatch[1];
    }
    const fontHeadingMatch = configContent.match(/\/\/ \[CONFIG:FONT_HEADING\]\s*\n\s*heading:\s*"([^"]*)"/);
    if (fontHeadingMatch) {
      typography.headingFont = fontHeadingMatch[1];
    }
    const fontMonoMatch = configContent.match(/\/\/ \[CONFIG:FONT_MONO\]\s*\n\s*mono:\s*"([^"]*)"/);
    if (fontMonoMatch) {
      typography.monoFont = fontMonoMatch[1];
    }
    config4.typography = typography;
    const navigation = { pages: [], social: [] };
    const pagesMatch = configContent.match(/\/\/ \[CONFIG:NAVIGATION_PAGES\]\s*\n\s*pages:\s*\[([\s\S]*?)\]/);
    if (pagesMatch) {
      const pagesContent = pagesMatch[1];
      const parseNavigationItem = (content2, startPos = 0) => {
        let pos2 = startPos;
        const item = {};
        while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
        if (content2[pos2] !== "{") {
          return { item: null, endPos: pos2 };
        }
        pos2++;
        while (pos2 < content2.length) {
          while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
          if (content2[pos2] === "}") {
            pos2++;
            break;
          }
          const fieldMatch = content2.slice(pos2).match(/^(\w+):\s*/);
          if (!fieldMatch) {
            pos2++;
            continue;
          }
          const fieldName = fieldMatch[1];
          pos2 += fieldMatch[0].length;
          if (fieldName === "title" || fieldName === "url") {
            const valueMatch = content2.slice(pos2).match(/^"([^"]*)"/);
            if (valueMatch) {
              item[fieldName] = valueMatch[1];
              pos2 += valueMatch[0].length;
            }
          } else if (fieldName === "children") {
            pos2++;
            const children = [];
            while (pos2 < content2.length) {
              while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
              if (content2[pos2] === "]") {
                pos2++;
                break;
              }
              const childResult = parseNavigationItem(content2, pos2);
              if (childResult.item) {
                children.push(childResult.item);
                pos2 = childResult.endPos;
              } else {
                break;
              }
              while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
              if (content2[pos2] === ",") pos2++;
            }
            item.children = children;
          }
          while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
          if (content2[pos2] === ",") pos2++;
        }
        return { item, endPos: pos2 };
      };
      let pos = 0;
      while (pos < pagesContent.length) {
        while (pos < pagesContent.length && /\s/.test(pagesContent[pos])) pos++;
        if (pos >= pagesContent.length || pagesContent[pos] === "]") break;
        const result = parseNavigationItem(pagesContent, pos);
        if (result.item) {
          navigation.pages.push(result.item);
          pos = result.endPos;
        } else {
          const simpleMatch = pagesContent.slice(pos).match(/\{\s*title:\s*"([^"]*)",\s*url:\s*"([^"]*)"\s*\}/);
          if (simpleMatch) {
            navigation.pages.push({
              title: simpleMatch[1],
              url: simpleMatch[2]
            });
            pos += simpleMatch[0].length;
          } else {
            break;
          }
        }
        while (pos < pagesContent.length && /\s/.test(pagesContent[pos])) pos++;
        if (pagesContent[pos] === ",") pos++;
      }
    }
    const socialMatch = configContent.match(/\/\/ \[CONFIG:NAVIGATION_SOCIAL\]\s*\n\s*social:\s*\[([\s\S]*?)\]/);
    if (socialMatch) {
      const socialContent = socialMatch[1];
      const socialMatches = socialContent.matchAll(/\{\s*\n\s*title:\s*"([^"]*)",\s*\n\s*url:\s*"([^"]*)",\s*\n\s*icon:\s*"([^"]*)",?\s*\n\s*\}/g);
      for (const socialMatch2 of socialMatches) {
        navigation.social.push({
          title: socialMatch2[1],
          url: socialMatch2[2],
          icon: socialMatch2[3]
        });
      }
    }
    config4.navigation = navigation;
    const postOptions = {};
    const tocMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_TABLE_OF_CONTENTS\]\s*tableOfContents:\s*(true|false)/);
    if (tocMatch) {
      postOptions.tableOfContents = tocMatch[1] === "true";
    }
    const readingTimeMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_READING_TIME\]\s*readingTime:\s*(true|false)/);
    if (readingTimeMatch) {
      postOptions.readingTime = readingTimeMatch[1] === "true";
    }
    const linkedMentionsEnabledMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED\]\s*enabled:\s*(true|false)/);
    const linkedMentionsCompactMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT\]\s*linkedMentionsCompact:\s*(true|false)/);
    if (linkedMentionsEnabledMatch || linkedMentionsCompactMatch) {
      postOptions.linkedMentions = {
        enabled: linkedMentionsEnabledMatch ? linkedMentionsEnabledMatch[1] === "true" : false,
        linkedMentionsCompact: linkedMentionsCompactMatch ? linkedMentionsCompactMatch[1] === "true" : false
      };
    }
    const graphViewMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED\]\s*enabled:\s*(true|false)/);
    if (graphViewMatch) {
      postOptions.graphView = {
        enabled: graphViewMatch[1] === "true"
      };
    }
    const postNavigationMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_POST_NAVIGATION\]\s*postNavigation:\s*(true|false)/);
    if (postNavigationMatch) {
      postOptions.postNavigation = postNavigationMatch[1] === "true";
    }
    const commentsMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_ENABLED\]\s*enabled:\s*(true|false)/);
    if (commentsMatch) {
      postOptions.comments = {
        enabled: commentsMatch[1] === "true"
      };
    }
    config4.postOptions = postOptions;
    const optionalContentTypes = {};
    const projectsMatch = configContent.match(/\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS\]\s*projects:\s*(true|false)/);
    if (projectsMatch) {
      optionalContentTypes.projects = projectsMatch[1] === "true";
    }
    const docsMatch = configContent.match(/\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_DOCS\]\s*docs:\s*(true|false)/);
    if (docsMatch) {
      optionalContentTypes.docs = docsMatch[1] === "true";
    }
    config4.optionalContentTypes = optionalContentTypes;
    const footer = {};
    const footerSocialMatch = configContent.match(/\/\/ \[CONFIG:FOOTER_SHOW_SOCIAL_ICONS\]\s*showSocialIconsInFooter:\s*(true|false)/);
    if (footerSocialMatch) {
      footer.showSocialIconsInFooter = footerSocialMatch[1] === "true";
    }
    config4.footer = footer;
    const commandPalette = {};
    const commandPaletteMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_ENABLED\]\s*enabled:\s*(true|false)/);
    if (commandPaletteMatch) {
      commandPalette.enabled = commandPaletteMatch[1] === "true";
    }
    const commandPalettePlaceholderMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_PLACEHOLDER\]\s*placeholder:\s*['"`]([^'"`]+)['"`]/);
    if (commandPalettePlaceholderMatch) {
      commandPalette.placeholder = commandPalettePlaceholderMatch[1];
    }
    const commandPaletteShortcutMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SHORTCUT\]\s*shortcut:\s*['"`]([^'"`]+)['"`]/);
    if (commandPaletteShortcutMatch) {
      commandPalette.shortcut = commandPaletteShortcutMatch[1];
    }
    const search = {};
    const searchPostsMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_POSTS\]\s*posts:\s*(true|false)/);
    if (searchPostsMatch) {
      search.posts = searchPostsMatch[1] === "true";
    }
    const searchPagesMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PAGES\]\s*pages:\s*(true|false)/);
    if (searchPagesMatch) {
      search.pages = searchPagesMatch[1] === "true";
    }
    const searchProjectsMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS\]\s*projects:\s*(true|false)/);
    if (searchProjectsMatch) {
      search.projects = searchProjectsMatch[1] === "true";
    }
    const searchDocsMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_DOCS\]\s*docs:\s*(true|false)/);
    if (searchDocsMatch) {
      search.docs = searchDocsMatch[1] === "true";
    }
    commandPalette.search = search;
    const sections = {};
    const sectionsQuickActionsMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS\]\s*quickActions:\s*(true|false)/);
    if (sectionsQuickActionsMatch) {
      sections.quickActions = sectionsQuickActionsMatch[1] === "true";
    }
    const sectionsPagesMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_PAGES\]\s*pages:\s*(true|false)/);
    if (sectionsPagesMatch) {
      sections.pages = sectionsPagesMatch[1] === "true";
    }
    const sectionsSocialMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL\]\s*social:\s*(true|false)/);
    if (sectionsSocialMatch) {
      sections.social = sectionsSocialMatch[1] === "true";
    }
    commandPalette.sections = sections;
    const quickActions = {};
    const qaEnabledMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED\]\s*enabled:\s*(true|false)/);
    if (qaEnabledMatch) {
      quickActions.enabled = qaEnabledMatch[1] === "true";
    }
    const qaToggleModeMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE\]\s*toggleMode:\s*(true|false)/);
    if (qaToggleModeMatch) {
      quickActions.toggleMode = qaToggleModeMatch[1] === "true";
    }
    const qaGraphViewMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW\]\s*graphView:\s*(true|false)/);
    if (qaGraphViewMatch) {
      quickActions.graphView = qaGraphViewMatch[1] === "true";
    }
    const qaChangeThemeMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME\]\s*changeTheme:\s*(true|false)/);
    if (qaChangeThemeMatch) {
      quickActions.changeTheme = qaChangeThemeMatch[1] === "true";
    }
    commandPalette.quickActions = quickActions;
    config4.commandPalette = commandPalette;
    const siteMatch = configContent.match(/\/\/ \[CONFIG:SITE_URL\]\s*site:\s*['"`]([^'"`]+)['"`]/);
    if (siteMatch) {
      config4.site = siteMatch[1];
    }
    const titleMatch = configContent.match(/\/\/ \[CONFIG:SITE_TITLE\]\s*title:\s*['"`]([^'"`]+)['"`]/);
    if (titleMatch) {
      config4.title = titleMatch[1];
    }
    const descriptionMatch = configContent.match(/\/\/ \[CONFIG:SITE_DESCRIPTION\]\s*description:\s*['"`]([^'"`]+)['"`]/);
    if (descriptionMatch) {
      config4.description = descriptionMatch[1];
    }
    const authorMatch = configContent.match(/\/\/ \[CONFIG:SITE_AUTHOR\]\s*author:\s*['"`]([^'"`]+)['"`]/);
    if (authorMatch) {
      config4.author = authorMatch[1];
    }
    const languageMatch = configContent.match(/\/\/ \[CONFIG:SITE_LANGUAGE\]\s*language:\s*['"`]([^'"`]+)['"`]/);
    if (languageMatch) {
      config4.language = languageMatch[1];
    }
    return config4;
  }
};

// src/utils/config/ConfigTemplateManager.ts
var ConfigTemplateManager = class {
  interpolateTemplate(template, settings, templateName) {
    const result = template.replace(/\$\{settings\.currentTheme\}/g, settings.currentTheme).replace(/\$\{settings\.typography\.fontSource\}/g, settings.typography.fontSource).replace(/\$\{settings\.typography\.proseFont\}/g, settings.typography.proseFont).replace(/\$\{settings\.typography\.headingFont\}/g, settings.typography.headingFont).replace(/\$\{settings\.typography\.monoFont\}/g, settings.typography.monoFont).replace(/\$\{settings\.typography\.customFonts\.prose\}/g, settings.typography.customFonts.prose).replace(/\$\{settings\.typography\.customFonts\.heading\}/g, settings.typography.customFonts.heading).replace(/\$\{settings\.typography\.customFonts\.mono\}/g, settings.typography.customFonts.mono).replace(/\$\{settings\.optionalFeatures\.comments\.enabled\}/g, settings.optionalFeatures.comments.enabled.toString()).replace(/\$\{settings\.optionalFeatures\.profilePicture\.enabled\}/g, settings.optionalFeatures.profilePicture.enabled.toString()).replace(/\$\{settings\.optionalFeatures\.profilePicture\.image\}/g, settings.optionalFeatures.profilePicture.image).replace(/\$\{settings\.optionalFeatures\.profilePicture\.alt\}/g, settings.optionalFeatures.profilePicture.alt).replace(/\$\{settings\.optionalFeatures\.profilePicture\.size\}/g, settings.optionalFeatures.profilePicture.size).replace(/\$\{settings\.optionalFeatures\.profilePicture\.url\}/g, settings.optionalFeatures.profilePicture.url || "").replace(/\$\{settings\.optionalFeatures\.profilePicture\.placement\}/g, settings.optionalFeatures.profilePicture.placement).replace(/\$\{settings\.optionalFeatures\.profilePicture\.style\}/g, settings.optionalFeatures.profilePicture.style).replace(/\$\{settings\.deployment\.platform\}/g, settings.deployment.platform).replace(/\$\{templateName\}/g, templateName);
    return result;
  }
  getTemplateConfig(templateName, settings) {
    switch (templateName) {
      case "standard":
        return {
          layout: {
            contentWidth: "45rem"
          },
          footer: {
            enabled: true,
            showSocialIconsInFooter: true
          },
          darkModeToggleButton: "both",
          commandPalette: {
            enabled: true,
            shortcut: "ctrl+K",
            placeholder: "Search posts",
            search: {
              posts: true,
              pages: false,
              projects: false,
              docs: false
            },
            sections: {
              quickActions: true,
              pages: true,
              social: true
            }
          },
          optionalContentTypes: {
            projects: true,
            docs: true
          },
          homeOptions: {
            featuredPost: {
              enabled: true,
              type: "latest"
            },
            recentPosts: {
              enabled: true,
              count: 7
            },
            projects: {
              enabled: true,
              count: 2
            },
            docs: {
              enabled: true,
              count: 3
            },
            blurb: {
              placement: "below"
            }
          },
          postOptions: {
            postsPerPage: 6,
            readingTime: true,
            wordCount: true,
            tableOfContents: true,
            tags: true,
            linkedMentions: {
              enabled: true,
              linkedMentionsCompact: false
            },
            graphView: {
              enabled: true,
              showInSidebar: true,
              showInCommandPalette: true,
              maxNodes: 100
            },
            postNavigation: true,
            showPostCardCoverImages: "featured-and-posts",
            postCardAspectRatio: "og"
          },
          navigation: {
            showNavigation: true,
            showMobileMenu: true,
            style: "traditional"
          }
        };
      case "compact":
        return {
          layout: {
            contentWidth: "42rem"
          },
          optionalContentTypes: {
            projects: false,
            docs: false
          },
          footer: {
            showSocialIconsInFooter: false
          },
          darkModeToggleButton: "commandPalette",
          commandPalette: {
            enabled: true,
            shortcut: "ctrl+K",
            placeholder: "Search posts",
            search: {
              posts: true,
              pages: false,
              projects: false,
              docs: false
            },
            sections: {
              quickActions: true,
              pages: false,
              social: true
            }
          },
          homeOptions: {
            featuredPost: {
              enabled: false,
              type: "latest"
            },
            recentPosts: {
              enabled: true,
              count: 7
            },
            blurb: {
              placement: "below"
            }
          },
          postOptions: {
            postsPerPage: 6,
            readingTime: true,
            wordCount: true,
            tableOfContents: true,
            tags: true,
            linkedMentions: {
              enabled: true,
              linkedMentionsCompact: true
            },
            graphView: {
              enabled: false
            },
            postNavigation: true,
            showPostCardCoverImages: "posts",
            postCardAspectRatio: "custom",
            customPostCardAspectRatio: "2.5/1"
          },
          navigation: {
            showNavigation: true,
            showMobileMenu: true,
            style: "minimal"
          }
        };
      case "minimal":
        return {
          layout: {
            contentWidth: "40rem"
          },
          optionalContentTypes: {
            projects: false,
            docs: false
          },
          footer: {
            showSocialIconsInFooter: false
          },
          darkModeToggleButton: "commandPalette",
          commandPalette: {
            enabled: true,
            shortcut: "",
            placeholder: "Search content",
            search: {
              posts: true,
              pages: true,
              projects: false,
              docs: false
            },
            sections: {
              quickActions: false,
              pages: false,
              social: false
            }
          },
          homeOptions: {
            featuredPost: {
              enabled: false,
              type: "latest"
            },
            recentPosts: {
              enabled: true,
              count: 7
            },
            blurb: {
              placement: "none"
            }
          },
          postOptions: {
            postsPerPage: 6,
            readingTime: false,
            wordCount: false,
            tableOfContents: false,
            tags: false,
            linkedMentions: {
              enabled: false,
              linkedMentionsCompact: false
            },
            graphView: {
              enabled: false
            },
            postNavigation: false,
            showPostCardCoverImages: "none",
            postCardAspectRatio: "og"
          },
          navigation: {
            showNavigation: false,
            showMobileMenu: false,
            style: "minimal"
          }
        };
      default:
        return {};
    }
  }
};

// src/utils/config/ConfigMarkerValidator.ts
var ConfigMarkerValidator = class {
  validateMarkers(config4) {
    const requiredMarkers = [
      "CONFIG:SITE_URL",
      "CONFIG:SITE_TITLE",
      "CONFIG:SITE_DESCRIPTION",
      "CONFIG:SITE_AUTHOR",
      "CONFIG:SITE_LANGUAGE",
      "CONFIG:THEME",
      "CONFIG:AVAILABLE_THEMES",
      "CONFIG:FONT_SOURCE",
      "CONFIG:FONT_BODY",
      "CONFIG:FONT_HEADING",
      "CONFIG:FONT_MONO",
      "CONFIG:LAYOUT_CONTENT_WIDTH",
      "CONFIG:TABLE_OF_CONTENTS_ENABLED",
      "CONFIG:TABLE_OF_CONTENTS_DEPTH",
      "CONFIG:FOOTER_ENABLED",
      "CONFIG:FOOTER_SHOW_SOCIAL_ICONS",
      "CONFIG:SCROLL_TO_TOP",
      "CONFIG:FEATURE_BUTTON",
      "CONFIG:DEPLOYMENT_PLATFORM",
      "CONFIG:COMMAND_PALETTE_ENABLED",
      "CONFIG:COMMAND_PALETTE_SHORTCUT",
      "CONFIG:COMMAND_PALETTE_PLACEHOLDER",
      "CONFIG:COMMAND_PALETTE_SEARCH_POSTS",
      "CONFIG:COMMAND_PALETTE_SEARCH_PAGES",
      "CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS",
      "CONFIG:COMMAND_PALETTE_SEARCH_DOCS",
      "CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS",
      "CONFIG:COMMAND_PALETTE_SECTIONS_PAGES",
      "CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL",
      "CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED",
      "CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE",
      "CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW",
      "CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME",
      "CONFIG:PROFILE_PICTURE_ENABLED",
      "CONFIG:PROFILE_PICTURE_IMAGE",
      "CONFIG:PROFILE_PICTURE_ALT",
      "CONFIG:PROFILE_PICTURE_SIZE",
      "CONFIG:PROFILE_PICTURE_URL",
      "CONFIG:PROFILE_PICTURE_PLACEMENT",
      "CONFIG:PROFILE_PICTURE_STYLE",
      "CONFIG:NAVIGATION_SHOW_NAVIGATION",
      "CONFIG:NAVIGATION_STYLE",
      "CONFIG:NAVIGATION_SHOW_MOBILE_MENU",
      "CONFIG:NAVIGATION_PAGES",
      "CONFIG:NAVIGATION_SOCIAL",
      "CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS",
      "CONFIG:OPTIONAL_CONTENT_TYPES_DOCS",
      "CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED",
      "CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE",
      "CONFIG:HOME_OPTIONS_FEATURED_POST_SLUG",
      "CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED",
      "CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT",
      "CONFIG:HOME_OPTIONS_PROJECTS_ENABLED",
      "CONFIG:HOME_OPTIONS_PROJECTS_COUNT",
      "CONFIG:HOME_OPTIONS_DOCS_ENABLED",
      "CONFIG:HOME_OPTIONS_DOCS_COUNT",
      "CONFIG:HOME_OPTIONS_BLURB_PLACEMENT",
      "CONFIG:POST_OPTIONS_POSTS_PER_PAGE",
      "CONFIG:POST_OPTIONS_READING_TIME",
      "CONFIG:POST_OPTIONS_WORD_COUNT",
      "CONFIG:POST_OPTIONS_TAGS",
      "CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED",
      "CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT",
      "CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED",
      "CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR",
      "CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES",
      "CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS",
      "CONFIG:POST_OPTIONS_POST_NAVIGATION",
      "CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES",
      "CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO",
      "CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO",
      "CONFIG:POST_OPTIONS_COMMENTS_ENABLED",
      "CONFIG:POST_OPTIONS_COMMENTS_PROVIDER",
      "CONFIG:POST_OPTIONS_COMMENTS_REPO",
      "CONFIG:POST_OPTIONS_COMMENTS_REPO_ID",
      "CONFIG:POST_OPTIONS_COMMENTS_CATEGORY",
      "CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID",
      "CONFIG:POST_OPTIONS_COMMENTS_MAPPING",
      "CONFIG:POST_OPTIONS_COMMENTS_STRICT",
      "CONFIG:POST_OPTIONS_COMMENTS_REACTIONS",
      "CONFIG:POST_OPTIONS_COMMENTS_METADATA",
      "CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION",
      "CONFIG:POST_OPTIONS_COMMENTS_THEME",
      "CONFIG:POST_OPTIONS_COMMENTS_LANG",
      "CONFIG:POST_OPTIONS_COMMENTS_LOADING"
    ];
    const missing = requiredMarkers.filter(
      (marker) => !config4.includes(`// [${marker}]`)
    );
    return { valid: missing.length === 0, missing };
  }
  validateSyntax(config4) {
    const errors = [];
    try {
      const openBraces = (config4.match(/\{/g) || []).length;
      const closeBraces = (config4.match(/\}/g) || []).length;
      const openBrackets = (config4.match(/\[/g) || []).length;
      const closeBrackets = (config4.match(/\]/g) || []).length;
      if (openBraces !== closeBraces) {
        errors.push("Mismatched braces");
      }
      if (openBrackets !== closeBrackets) {
        errors.push("Mismatched brackets");
      }
    } catch (error) {
      errors.push(`Validation failed: ${error instanceof Error ? error.message : String(error)}`);
    }
    return { valid: errors.length === 0, errors };
  }
};

// src/utils/config/ConfigPresetModifier.ts
var ConfigPresetModifier = class {
  constructor() {
    this.templateManager = new ConfigTemplateManager();
    this.markerValidator = new ConfigMarkerValidator();
  }
  safeStringify(value) {
    if (typeof value === "boolean") {
      return String(value);
    }
    if (typeof value === "number") {
      return String(value);
    }
    if (typeof value === "string") {
      return value;
    }
    if (value === null || value === void 0) {
      return String(value);
    }
    return JSON.stringify(value);
  }
  getTemplateConfig(templateName, settings) {
    return this.templateManager.getTemplateConfig(templateName, settings);
  }
  updateThemeInConfig(currentConfig, theme) {
    const themeMarkerExists = currentConfig.includes("// [CONFIG:THEME]");
    if (themeMarkerExists) {
      const themeRegex = /\/\/ \[CONFIG:THEME\]\s*\n\s*theme:\s*"[^"]*"/;
      return currentConfig.replace(
        themeRegex,
        `// [CONFIG:THEME]
  theme: "${theme}"`
      );
    }
    return currentConfig;
  }
  updateFontInConfig(currentConfig, fontType, fontName) {
    const fontMarker = `// [CONFIG:FONT_${fontType.toUpperCase()}]`;
    const fontMarkerExists = currentConfig.includes(fontMarker);
    if (fontMarkerExists) {
      const fontRegex = new RegExp(`${fontMarker}\\s*\\n\\s*${fontType}:\\s*"[^"]*"`);
      return currentConfig.replace(
        fontRegex,
        `${fontMarker}
      ${fontType}: "${fontName}"`
      );
    }
    return currentConfig;
  }
  updateFeatureInConfig(currentConfig, featureName, value) {
    return currentConfig;
  }
  modifyConfigFromPreset(preset, currentConfig) {
    var _a, _b, _c, _d;
    const settings = {
      ...preset.config,
      features: preset.features,
      currentTheme: preset.theme,
      contentOrganization: preset.contentOrganization
    };
    let modifiedConfig = this.modifyConfigFromFeatures(settings, currentConfig);
    const templateConfig = this.templateManager.getTemplateConfig(preset.name, settings);
    const themeMarkerExists = modifiedConfig.includes("// [CONFIG:THEME]");
    if (themeMarkerExists) {
      const themeRegex = /\/\/ \[CONFIG:THEME\]\s*\n\s*theme:\s*"[^"]*"/;
      modifiedConfig = modifiedConfig.replace(
        themeRegex,
        `// [CONFIG:THEME]
  theme: "${settings.currentTheme}"`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_SOURCE\]\s*\n\s*source:\s*"[^"]*"/,
      `// [CONFIG:FONT_SOURCE]
    source: "${settings.typography.fontSource}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_BODY\]\s*\n\s*body:\s*"[^"]*"/,
      `// [CONFIG:FONT_BODY]
      body: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.prose : settings.typography.proseFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_HEADING\]\s*\n\s*heading:\s*"[^"]*"/,
      `// [CONFIG:FONT_HEADING]
      heading: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.heading : settings.typography.headingFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_MONO\]\s*\n\s*mono:\s*"[^"]*"/,
      `// [CONFIG:FONT_MONO]
      mono: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.mono : settings.typography.monoFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:DEPLOYMENT_PLATFORM\]\s*\n\s*platform:\s*"[^"]*"/,
      `// [CONFIG:DEPLOYMENT_PLATFORM]
    platform: "${settings.deployment.platform}"`
    );
    if (settings.optionalContentTypes) {
      if (settings.optionalContentTypes.projects !== void 0) {
        const projectsRegex = /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS\]\s*\n\s*projects:\s*(true|false)/;
        modifiedConfig = modifiedConfig.replace(
          projectsRegex,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS]
    projects: ${settings.optionalContentTypes.projects}`
        );
      }
      if (settings.optionalContentTypes.docs !== void 0) {
        const docsRegex = /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_DOCS\]\s*\n\s*docs:\s*(true|false)/;
        modifiedConfig = modifiedConfig.replace(
          docsRegex,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_DOCS]
    docs: ${settings.optionalContentTypes.docs}`
        );
      }
    }
    const layout = templateConfig.layout;
    if (layout == null ? void 0 : layout.contentWidth) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:LAYOUT_CONTENT_WIDTH\]\s*\n\s*contentWidth:\s*"[^"]*"/,
        `// [CONFIG:LAYOUT_CONTENT_WIDTH]
    contentWidth: "${layout.contentWidth}"`
      );
    }
    const optionalContentTypes = templateConfig.optionalContentTypes;
    if (optionalContentTypes) {
      if (optionalContentTypes.projects !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS\]\s*\n\s*projects:\s*(true|false)/,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS]
    projects: ${optionalContentTypes.projects}`
        );
      }
      if (optionalContentTypes.docs !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_DOCS\]\s*\n\s*docs:\s*(true|false)/,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_DOCS]
    docs: ${optionalContentTypes.docs}`
        );
      }
    }
    if (templateConfig.featureButton) {
      const featureButtonValue = typeof templateConfig.featureButton === "string" ? templateConfig.featureButton : JSON.stringify(templateConfig.featureButton);
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:FEATURE_BUTTON\]\s*\n\s*featureButton:\s*"[^"]*"/,
        `// [CONFIG:FEATURE_BUTTON]
  featureButton: "${featureButtonValue}"`
      );
    }
    const footer = templateConfig.footer;
    if (footer) {
      if (footer.enabled !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_ENABLED\]\s*enabled:\s*(true|false)/,
          `// [CONFIG:FOOTER_ENABLED]
    enabled: ${footer.enabled}`
        );
      }
      if (footer.showSocialIconsInFooter !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_SHOW_SOCIAL_ICONS\]\s*showSocialIconsInFooter:\s*[^,\n}]+/,
          `// [CONFIG:FOOTER_SHOW_SOCIAL_ICONS]
    showSocialIconsInFooter: ${footer.showSocialIconsInFooter}`
        );
      }
    }
    const navigation = templateConfig.navigation;
    if (navigation) {
      if (navigation.style) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_STYLE\]\s*style:\s*"[^"]*"/,
          `// [CONFIG:NAVIGATION_STYLE]
    style: "${navigation.style}"`
        );
      }
      if (navigation.showNavigation !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SHOW_NAVIGATION\]\s*showNavigation:\s*(true|false)/,
          `// [CONFIG:NAVIGATION_SHOW_NAVIGATION]
    showNavigation: ${navigation.showNavigation}`
        );
      }
      if (navigation.showMobileMenu !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SHOW_MOBILE_MENU\]\s*showMobileMenu:\s*(true|false)/,
          `// [CONFIG:NAVIGATION_SHOW_MOBILE_MENU]
    showMobileMenu: ${navigation.showMobileMenu}`
        );
      }
    }
    const commandPalette = templateConfig.commandPalette;
    if (commandPalette) {
      if (commandPalette.enabled !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_ENABLED\]\s*enabled:\s*(true|false)/,
          `// [CONFIG:COMMAND_PALETTE_ENABLED]
    enabled: ${commandPalette.enabled}`
        );
      }
      if (commandPalette.shortcut !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_SHORTCUT\]\s*shortcut:\s*"[^"]*"/,
          `// [CONFIG:COMMAND_PALETTE_SHORTCUT]
    shortcut: "${commandPalette.shortcut}"`
        );
      }
      if (commandPalette.placeholder !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_PLACEHOLDER\]\s*placeholder:\s*"[^"]*"/,
          `// [CONFIG:COMMAND_PALETTE_PLACEHOLDER]
    placeholder: "${commandPalette.placeholder}"`
        );
      }
      if (commandPalette.search && typeof commandPalette.search === "object" && commandPalette.search !== null) {
        const search = commandPalette.search;
        if (search.posts !== void 0) {
          const postsValue = this.safeStringify(search.posts);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_POSTS\]\s*posts:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_POSTS]
      posts: ${postsValue}`
          );
        }
        if (search.pages !== void 0) {
          const pagesValue = this.safeStringify(search.pages);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PAGES\]\s*pages:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_PAGES]
      pages: ${pagesValue}`
          );
        }
        if (search.projects !== void 0) {
          const projectsValue = this.safeStringify(search.projects);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS\]\s*projects:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS]
      projects: ${projectsValue}`
          );
        }
        if (search.docs !== void 0) {
          const docsValue = this.safeStringify(search.docs);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_DOCS\]\s*docs:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_DOCS]
      docs: ${docsValue}`
          );
        }
      }
      if (commandPalette.sections && typeof commandPalette.sections === "object" && commandPalette.sections !== null) {
        const sections = commandPalette.sections;
        if (sections.quickActions !== void 0) {
          const quickActionsValue = this.safeStringify(sections.quickActions);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS\]\s*quickActions:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS]
      quickActions: ${quickActionsValue}`
          );
        }
        if (sections.pages !== void 0) {
          const pagesValue = this.safeStringify(sections.pages);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_PAGES\]\s*pages:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_PAGES]
      pages: ${pagesValue}`
          );
        }
        if (sections.social !== void 0) {
          const socialValue = this.safeStringify(sections.social);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL\]\s*social:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL]
      social: ${socialValue}`
          );
        }
      }
      if (commandPalette.quickActions && typeof commandPalette.quickActions === "object" && commandPalette.quickActions !== null) {
        const quickActions = commandPalette.quickActions;
        if (quickActions.enabled !== void 0) {
          const enabledValue = this.safeStringify(quickActions.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (quickActions.toggleMode !== void 0) {
          const toggleModeValue = this.safeStringify(quickActions.toggleMode);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE\]\s*toggleMode:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE]
      toggleMode: ${toggleModeValue}`
          );
        }
        if (quickActions.graphView !== void 0) {
          const graphViewValue = this.safeStringify(quickActions.graphView);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW\]\s*graphView:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW]
      graphView: ${graphViewValue}`
          );
        }
        if (quickActions.changeTheme !== void 0) {
          const changeThemeValue = this.safeStringify(quickActions.changeTheme);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME\]\s*changeTheme:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME]
      changeTheme: ${changeThemeValue}`
          );
        }
      }
    }
    if (templateConfig.homeOptions && typeof templateConfig.homeOptions === "object" && templateConfig.homeOptions !== null) {
      const homeOptions = templateConfig.homeOptions;
      if (homeOptions.featuredPost && typeof homeOptions.featuredPost === "object" && homeOptions.featuredPost !== null) {
        const featuredPost = homeOptions.featuredPost;
        if (featuredPost.enabled !== void 0) {
          const enabledValue = this.safeStringify(featuredPost.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (featuredPost.type && typeof featuredPost.type === "string") {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE\]\s*type:\s*"[^"]*"/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE]
      type: "${featuredPost.type}"`
          );
        }
      }
      if (homeOptions.recentPosts && typeof homeOptions.recentPosts === "object" && homeOptions.recentPosts !== null) {
        const recentPosts = homeOptions.recentPosts;
        if (recentPosts.enabled !== void 0) {
          const enabledValue = this.safeStringify(recentPosts.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (recentPosts.count !== void 0) {
          const countValue = this.safeStringify(recentPosts.count);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT\]\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT]
      count: ${countValue}`
          );
        }
      }
      if (homeOptions.projects && typeof homeOptions.projects === "object" && homeOptions.projects !== null) {
        const projects = homeOptions.projects;
        if (projects.enabled !== void 0) {
          const enabledValue = this.safeStringify(projects.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_PROJECTS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_PROJECTS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (projects.count !== void 0) {
          const countValue = this.safeStringify(projects.count);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_PROJECTS_COUNT\]\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_PROJECTS_COUNT]
      count: ${countValue}`
          );
        }
      }
      if (homeOptions.docs && typeof homeOptions.docs === "object" && homeOptions.docs !== null) {
        const docs = homeOptions.docs;
        if (docs.enabled !== void 0) {
          const enabledValue = this.safeStringify(docs.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_DOCS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_DOCS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (docs.count !== void 0) {
          const countValue = this.safeStringify(docs.count);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_DOCS_COUNT\]\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_DOCS_COUNT]
      count: ${countValue}`
          );
        }
      }
      if (homeOptions.blurb && typeof homeOptions.blurb === "object" && homeOptions.blurb !== null) {
        const blurb = homeOptions.blurb;
        if (blurb.placement && typeof blurb.placement === "string") {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_BLURB_PLACEMENT\]\s*placement:\s*"[^"]*"/,
            `// [CONFIG:HOME_OPTIONS_BLURB_PLACEMENT]
      placement: "${blurb.placement}"`
          );
        }
      }
    }
    if (templateConfig.postOptions && typeof templateConfig.postOptions === "object" && templateConfig.postOptions !== null) {
      const postOptions = templateConfig.postOptions;
      if (postOptions.postsPerPage !== void 0) {
        const postsPerPageValue = this.safeStringify(postOptions.postsPerPage);
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_POSTS_PER_PAGE\]\s*postsPerPage:\s*\d+/,
          `// [CONFIG:POST_OPTIONS_POSTS_PER_PAGE]
    postsPerPage: ${postsPerPageValue}`
        );
      }
      const booleanFeatures = [
        { key: "readingTime", marker: "CONFIG:POST_OPTIONS_READING_TIME" },
        { key: "wordCount", marker: "CONFIG:POST_OPTIONS_WORD_COUNT" },
        { key: "tags", marker: "CONFIG:POST_OPTIONS_TAGS" },
        { key: "postNavigation", marker: "CONFIG:POST_OPTIONS_POST_NAVIGATION" }
      ];
      booleanFeatures.forEach((feature) => {
        if (postOptions[feature.key] !== void 0) {
          const featureValue = this.safeStringify(postOptions[feature.key]);
          modifiedConfig = modifiedConfig.replace(
            new RegExp(`// \\[${feature.marker}\\]\\s*${feature.key}:\\s*(true|false)`),
            `// [${feature.marker}]
    ${feature.key}: ${featureValue}`
          );
        }
      });
      if (postOptions.linkedMentions && typeof postOptions.linkedMentions === "object" && postOptions.linkedMentions !== null) {
        const linkedMentions = postOptions.linkedMentions;
        if (linkedMentions.enabled !== void 0) {
          const enabledValue = this.safeStringify(linkedMentions.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (linkedMentions.linkedMentionsCompact !== void 0) {
          const compactValue = this.safeStringify(linkedMentions.linkedMentionsCompact);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT\]\s*linkedMentionsCompact:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT]
      linkedMentionsCompact: ${compactValue}`
          );
        }
      }
      if (postOptions.graphView && typeof postOptions.graphView === "object" && postOptions.graphView !== null) {
        const graphView = postOptions.graphView;
        if (graphView.enabled !== void 0) {
          const enabledValue = this.safeStringify(graphView.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (graphView.showInSidebar !== void 0) {
          const showInSidebarValue = this.safeStringify(graphView.showInSidebar);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR\]\s*\n?\s*showInSidebar:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR]
      showInSidebar: ${showInSidebarValue}`
          );
        }
        if (graphView.showInCommandPalette !== void 0) {
          const showInCommandPaletteValue = this.safeStringify(graphView.showInCommandPalette);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_COMMAND_PALETTE\]\s*showInCommandPalette:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_COMMAND_PALETTE]
      showInCommandPalette: ${showInCommandPaletteValue}`
          );
        }
        if (graphView.maxNodes !== void 0) {
          const maxNodesValue = this.safeStringify(graphView.maxNodes);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES\]\s*maxNodes:\s*\d+/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES]
      maxNodes: ${maxNodesValue}`
          );
        }
        if (graphView.showOrphanedPosts !== void 0) {
          const showOrphanedPostsValue = this.safeStringify(graphView.showOrphanedPosts);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS\]\s*showOrphanedPosts:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS]
      showOrphanedPosts: ${showOrphanedPostsValue}`
          );
        }
      }
      if (postOptions.showPostCardCoverImages && typeof postOptions.showPostCardCoverImages === "string") {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES\]\s*showPostCardCoverImages:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES]
    showPostCardCoverImages: "${postOptions.showPostCardCoverImages}"`
        );
      }
      if (postOptions.postCardAspectRatio && typeof postOptions.postCardAspectRatio === "string") {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO\]\s*postCardAspectRatio:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO]
    postCardAspectRatio: "${postOptions.postCardAspectRatio}"`
        );
      }
      if (postOptions.customPostCardAspectRatio && typeof postOptions.customPostCardAspectRatio === "string") {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO\]\s*customPostCardAspectRatio:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO]
    customPostCardAspectRatio: "${postOptions.customPostCardAspectRatio}"`
        );
      }
    }
    if (((_b = (_a = settings.optionalFeatures) == null ? void 0 : _a.comments) == null ? void 0 : _b.enabled) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_ENABLED\]\s*enabled:\s*(true|false)/,
        `// [CONFIG:POST_OPTIONS_COMMENTS_ENABLED]
      enabled: ${settings.optionalFeatures.comments.enabled}`
      );
    }
    if ((_d = (_c = settings.optionalFeatures) == null ? void 0 : _c.comments) == null ? void 0 : _d.enabled) {
      if (settings.optionalFeatures.comments.provider) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_PROVIDER\]\s*provider:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_PROVIDER]
      provider: "${settings.optionalFeatures.comments.provider}"`
        );
      }
      if (settings.optionalFeatures.comments.repo) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REPO\]\s*repo:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REPO]
      repo: "${settings.optionalFeatures.comments.repo}"`
        );
      }
      if (settings.optionalFeatures.comments.repoId) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REPO_ID\]\s*repoId:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REPO_ID]
      repoId: "${settings.optionalFeatures.comments.repoId}"`
        );
      }
      if (settings.optionalFeatures.comments.category) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_CATEGORY\]\s*category:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_CATEGORY]
      category: "${settings.optionalFeatures.comments.category}"`
        );
      }
      if (settings.optionalFeatures.comments.categoryId) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID\]\s*categoryId:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID]
      categoryId: "${settings.optionalFeatures.comments.categoryId}"`
        );
      }
      if (settings.optionalFeatures.comments.mapping) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_MAPPING\]\s*mapping:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_MAPPING]
      mapping: "${settings.optionalFeatures.comments.mapping}"`
        );
      }
      if (settings.optionalFeatures.comments.strict) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_STRICT\]\s*strict:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_STRICT]
      strict: "${settings.optionalFeatures.comments.strict}"`
        );
      }
      if (settings.optionalFeatures.comments.reactions) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REACTIONS\]\s*reactions:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REACTIONS]
      reactions: "${settings.optionalFeatures.comments.reactions}"`
        );
      }
      if (settings.optionalFeatures.comments.metadata) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_METADATA\]\s*metadata:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_METADATA]
      metadata: "${settings.optionalFeatures.comments.metadata}"`
        );
      }
      if (settings.optionalFeatures.comments.inputPosition) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION\]\s*inputPosition:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION]
      inputPosition: "${settings.optionalFeatures.comments.inputPosition}"`
        );
      }
      if (settings.optionalFeatures.comments.theme) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_THEME\]\s*theme:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_THEME]
      theme: "${settings.optionalFeatures.comments.theme}"`
        );
      }
      if (settings.optionalFeatures.comments.lang) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_LANG\]\s*lang:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_LANG]
      lang: "${settings.optionalFeatures.comments.lang}"`
        );
      }
      if (settings.optionalFeatures.comments.loading) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_LOADING\]\s*loading:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_LOADING]
      loading: "${settings.optionalFeatures.comments.loading}"`
        );
      }
    }
    const markerValidation = this.markerValidator.validateMarkers(modifiedConfig);
    if (!markerValidation.valid) {
      console.error("\u274C Config modification failed: Missing markers:", markerValidation.missing);
      console.error("Please ensure all CONFIG markers are present in your config.ts file");
      return currentConfig;
    }
    const syntaxValidation = this.markerValidator.validateSyntax(modifiedConfig);
    if (!syntaxValidation.valid) {
      console.error("\u274C Config modification failed: Syntax errors:", syntaxValidation.errors);
      return currentConfig;
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_URL\]\s*\n\s*site:\s*"[^"]*"/,
      `// [CONFIG:SITE_URL]
  site: "${settings.siteInfo.site}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_TITLE\]\s*\n\s*title:\s*"[^"]*"/,
      `// [CONFIG:SITE_TITLE]
  title: "${settings.siteInfo.title}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_DESCRIPTION\]\s*\n\s*description:\s*"[^"]*"/,
      `// [CONFIG:SITE_DESCRIPTION]
  description: "${settings.siteInfo.description}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_AUTHOR\]\s*\n\s*author:\s*"[^"]*"/,
      `// [CONFIG:SITE_AUTHOR]
  author: "${settings.siteInfo.author}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_LANGUAGE\]\s*\n\s*language:\s*"[^"]*"/,
      `// [CONFIG:SITE_LANGUAGE]
  language: "${settings.siteInfo.language}"`
    );
    if (settings.siteInfo.faviconThemeAdaptive !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:FAVICON_THEME_ADAPTIVE\]\s*\n\s*faviconThemeAdaptive:\s*(true|false)/,
        `// [CONFIG:FAVICON_THEME_ADAPTIVE]
  faviconThemeAdaptive: ${settings.siteInfo.faviconThemeAdaptive}`
      );
    }
    if (settings.siteInfo.defaultOgImageAlt) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:DEFAULT_OG_IMAGE_ALT\]\s*\n\s*defaultOgImageAlt:\s*"[^"]*"/,
        `// [CONFIG:DEFAULT_OG_IMAGE_ALT]
  defaultOgImageAlt: "${settings.siteInfo.defaultOgImageAlt}"`
      );
    }
    const serializeNavigationItem = (item, indent = "      ") => {
      let result = `${indent}{ title: "${item.title}"`;
      if (item.url) {
        result += `, url: "${item.url}"`;
      }
      if (item.children && item.children.length > 0) {
        result += `,
${indent}  children: [
`;
        result += item.children.map((child) => {
          let childResult = `${indent}    { title: "${child.title}", url: "${child.url}" }`;
          return childResult;
        }).join(",\n");
        result += `
${indent}  ]`;
      }
      result += " }";
      return result;
    };
    const pagesArray = settings.navigation.pages.map((page) => serializeNavigationItem(page)).join(",\n");
    const pagesMarker = "// [CONFIG:NAVIGATION_PAGES]";
    const socialMarker = "// [CONFIG:NAVIGATION_SOCIAL]";
    const pagesMarkerIndex = modifiedConfig.indexOf(pagesMarker);
    const socialMarkerIndex = modifiedConfig.indexOf(socialMarker);
    if (pagesMarkerIndex !== -1 && socialMarkerIndex !== -1) {
      const pagesArrayStart = modifiedConfig.indexOf("pages: [", pagesMarkerIndex);
      if (pagesArrayStart !== -1) {
        const before = modifiedConfig.substring(0, pagesMarkerIndex + pagesMarker.length);
        const after = modifiedConfig.substring(socialMarkerIndex);
        modifiedConfig = `${before}
    pages: [
${pagesArray}
    ],
    ${after}`;
      }
    }
    const socialArray = settings.navigation.social.map((social) => {
      return `      {
        title: "${social.title}",
        url: "${social.url}",
        icon: "${social.icon}",
      }`;
    }).join(",\n");
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:NAVIGATION_SOCIAL\]\s*\n\s*social:\s*\[[\s\S]*?\]/,
      `// [CONFIG:NAVIGATION_SOCIAL]
    social: [
${socialArray},
    ]`
    );
    return modifiedConfig;
  }
  modifyConfigFromFeatures(settings, currentConfig) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u;
    let modifiedConfig = currentConfig;
    const themeRegex = /\/\/ \[CONFIG:THEME\]\s*\n\s*theme:\s*"[^"]*"/;
    modifiedConfig = modifiedConfig.replace(
      themeRegex,
      `// [CONFIG:THEME]
  theme: "${settings.currentTheme}"`
    );
    if (settings.customThemeFile) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:CUSTOM_THEME_FILE\]\s*\n\s*customThemeFile:\s*"[^"]*"/,
        `// [CONFIG:CUSTOM_THEME_FILE]
  customThemeFile: "${settings.customThemeFile}"`
      );
    }
    if (settings.optionalContentTypes) {
      if (settings.optionalContentTypes.projects !== void 0) {
        const projectsRegex = /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS\]\s*\n\s*projects:\s*(true|false)/;
        modifiedConfig = modifiedConfig.replace(
          projectsRegex,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS]
    projects: ${settings.optionalContentTypes.projects}`
        );
      }
      if (settings.optionalContentTypes.docs !== void 0) {
        const docsRegex = /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_DOCS\]\s*\n\s*docs:\s*(true|false)/;
        modifiedConfig = modifiedConfig.replace(
          docsRegex,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_DOCS]
    docs: ${settings.optionalContentTypes.docs}`
        );
      }
    }
    if (settings.availableThemes !== void 0) {
      let availableThemesValue;
      if (settings.availableThemes === "default") {
        availableThemesValue = '"default"';
      } else {
        let themesArray = [...settings.availableThemes];
        if (settings.customThemes && settings.customThemes.trim()) {
          const customThemesList = settings.customThemes.split(",").map((theme) => theme.trim()).filter((theme) => theme).filter((theme) => theme !== "custom");
          themesArray = [...themesArray, ...customThemesList];
        }
        const themesString = themesArray.map((theme) => `"${theme}"`).join(", ");
        availableThemesValue = `[${themesString}]`;
      }
      const availableThemesRegex = /\/\/ \[CONFIG:AVAILABLE_THEMES\]\s*\n\s*availableThemes:\s*(?:"default"|\[[^\]]*\])/;
      modifiedConfig = modifiedConfig.replace(
        availableThemesRegex,
        `// [CONFIG:AVAILABLE_THEMES]
  availableThemes: ${availableThemesValue}`
      );
    }
    if (settings.customThemes !== void 0) {
      const customThemesValue = settings.customThemes ? `"${settings.customThemes}"` : '""';
      const customThemesRegex = /\/\/ \[CONFIG:CUSTOM_THEMES\]\s*\n\s*customThemes:\s*"[^"]*"/;
      modifiedConfig = modifiedConfig.replace(
        customThemesRegex,
        `// [CONFIG:CUSTOM_THEMES]
  customThemes: ${customThemesValue}`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_SOURCE\]\s*\n\s*source:\s*"[^"]*"/,
      `// [CONFIG:FONT_SOURCE]
    source: "${settings.typography.fontSource}"`
    );
    if (settings.typography.fontDisplay) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:FONT_DISPLAY\]\s*\n\s*display:\s*"[^"]*"/,
        `// [CONFIG:FONT_DISPLAY]
    display: "${settings.typography.fontDisplay}"`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_BODY\]\s*\n\s*body:\s*"[^"]*"/,
      `// [CONFIG:FONT_BODY]
      body: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.prose : settings.typography.proseFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_HEADING\]\s*\n\s*heading:\s*"[^"]*"/,
      `// [CONFIG:FONT_HEADING]
      heading: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.heading : settings.typography.headingFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_MONO\]\s*\n\s*mono:\s*"[^"]*"/,
      `// [CONFIG:FONT_MONO]
      mono: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.mono : settings.typography.monoFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:DEPLOYMENT_PLATFORM\]\s*\n\s*platform:\s*"[^"]*"/,
      `// [CONFIG:DEPLOYMENT_PLATFORM]
    platform: "${settings.deployment.platform}"`
    );
    if ((_a = settings.layout) == null ? void 0 : _a.contentWidth) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:LAYOUT_CONTENT_WIDTH\]\s*\n\s*contentWidth:\s*"[^"]*"/,
        `// [CONFIG:LAYOUT_CONTENT_WIDTH]
    contentWidth: "${settings.layout.contentWidth}"`
      );
    }
    if (settings.tableOfContents) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:TABLE_OF_CONTENTS_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
        `// [CONFIG:TABLE_OF_CONTENTS_ENABLED]
    enabled: ${settings.tableOfContents.enabled}`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:TABLE_OF_CONTENTS_DEPTH\]\s*\n\s*depth:\s*\d+/,
        `// [CONFIG:TABLE_OF_CONTENTS_DEPTH]
    depth: ${settings.tableOfContents.depth}`
      );
    }
    if (settings.footer) {
      if (settings.footer.enabled !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
          `// [CONFIG:FOOTER_ENABLED]
    enabled: ${settings.footer.enabled}`
        );
      }
      if (settings.footer.content) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_CONTENT\]\s*\n\s*content:\s*`[^`]*`/,
          `// [CONFIG:FOOTER_CONTENT]
    content: \`${settings.footer.content}\``
        );
      }
      if (settings.footer.showSocialIconsInFooter !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_SHOW_SOCIAL_ICONS\]\s*\n\s*showSocialIconsInFooter:\s*(true|false)/,
          `// [CONFIG:FOOTER_SHOW_SOCIAL_ICONS]
    showSocialIconsInFooter: ${settings.footer.showSocialIconsInFooter}`
        );
      }
    }
    if (((_b = settings.siteInfo) == null ? void 0 : _b.faviconThemeAdaptive) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:FAVICON_THEME_ADAPTIVE\]\s*\n\s*faviconThemeAdaptive:\s*(true|false)/,
        `// [CONFIG:FAVICON_THEME_ADAPTIVE]
  faviconThemeAdaptive: ${settings.siteInfo.faviconThemeAdaptive}`
      );
    }
    const defaultOgImageAlt = ((_c = settings.siteInfo) == null ? void 0 : _c.defaultOgImageAlt) || ((_d = settings.seo) == null ? void 0 : _d.defaultOgImageAlt);
    if (defaultOgImageAlt) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:SEO_DEFAULT_OG_IMAGE_ALT\]\s*\n\s*defaultOgImageAlt:\s*"[^"]*"/,
        `// [CONFIG:SEO_DEFAULT_OG_IMAGE_ALT]
    defaultOgImageAlt: "${defaultOgImageAlt}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:DEFAULT_OG_IMAGE_ALT\]\s*\n\s*defaultOgImageAlt:\s*"[^"]*"/,
        `// [CONFIG:DEFAULT_OG_IMAGE_ALT]
  defaultOgImageAlt: "${defaultOgImageAlt}"`
      );
    }
    if (settings.navigation) {
      if (settings.navigation.showNavigation !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SHOW_NAVIGATION\]\s*\n\s*showNavigation:\s*(true|false)/,
          `// [CONFIG:NAVIGATION_SHOW_NAVIGATION]
    showNavigation: ${settings.navigation.showNavigation}`
        );
      }
      if (settings.navigation.style) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_STYLE\]\s*\n\s*style:\s*"[^"]*"/,
          `// [CONFIG:NAVIGATION_STYLE]
    style: "${settings.navigation.style}"`
        );
      }
      if (settings.navigation.showMobileMenu !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SHOW_MOBILE_MENU\]\s*\n\s*showMobileMenu:\s*(true|false)/,
          `// [CONFIG:NAVIGATION_SHOW_MOBILE_MENU]
    showMobileMenu: ${settings.navigation.showMobileMenu}`
        );
      }
      if (settings.navigation.pages) {
        const serializeNavigationItem = (item, indent = "      ") => {
          let result = `${indent}{ title: "${item.title}"`;
          if (item.url) {
            result += `, url: "${item.url}"`;
          }
          if (item.children && item.children.length > 0) {
            result += `,
${indent}  children: [
`;
            result += item.children.map((child) => {
              let childResult = `${indent}    { title: "${child.title}", url: "${child.url}" }`;
              return childResult;
            }).join(",\n");
            result += `
${indent}  ]`;
          }
          result += " }";
          return result;
        };
        const pagesArray = settings.navigation.pages.map((page) => serializeNavigationItem(page)).join(",\n");
        const pagesValue = pagesArray ? `[
${pagesArray}
    ]` : "[]";
        const pagesMarker = "// [CONFIG:NAVIGATION_PAGES]";
        const socialMarker = "// [CONFIG:NAVIGATION_SOCIAL]";
        const pagesMarkerIndex = modifiedConfig.indexOf(pagesMarker);
        const socialMarkerIndex = modifiedConfig.indexOf(socialMarker);
        if (pagesMarkerIndex !== -1 && socialMarkerIndex !== -1) {
          const pagesArrayStart = modifiedConfig.indexOf("pages: [", pagesMarkerIndex);
          if (pagesArrayStart !== -1) {
            const before = modifiedConfig.substring(0, pagesMarkerIndex + pagesMarker.length);
            const after = modifiedConfig.substring(socialMarkerIndex);
            modifiedConfig = `${before}
    pages: ${pagesValue},
    ${after}`;
          }
        }
      }
      if (settings.navigation.social) {
        const socialArray = settings.navigation.social.map(
          (social) => `      {
        title: "${social.title}",
        url: "${social.url}",
        icon: "${social.icon}",
      }`
        ).join(",\n");
        const socialValue = socialArray ? `[
${socialArray},
    ]` : "[]";
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SOCIAL\]\s*\n\s*social:\s*\[[\s\S]*?\]/,
          `// [CONFIG:NAVIGATION_SOCIAL]
    social: ${socialValue}`
        );
      }
    }
    if (settings.commandPalette) {
      if (settings.commandPalette.enabled !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
          `// [CONFIG:COMMAND_PALETTE_ENABLED]
    enabled: ${settings.commandPalette.enabled}`
        );
      }
      if (settings.commandPalette.shortcut) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_SHORTCUT\]\s*\n\s*shortcut:\s*"[^"]*"/,
          `// [CONFIG:COMMAND_PALETTE_SHORTCUT]
    shortcut: "${settings.commandPalette.shortcut}"`
        );
      }
      if (settings.commandPalette.placeholder) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_PLACEHOLDER\]\s*\n\s*placeholder:\s*"[^"]*"/,
          `// [CONFIG:COMMAND_PALETTE_PLACEHOLDER]
    placeholder: "${settings.commandPalette.placeholder}"`
        );
      }
      if (settings.commandPalette.search) {
        if (settings.commandPalette.search.posts !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_POSTS\]\s*\n\s*posts:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_POSTS]
      posts: ${settings.commandPalette.search.posts}`
          );
        }
        if (settings.commandPalette.search.pages !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PAGES\]\s*\n\s*pages:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_PAGES]
      pages: ${settings.commandPalette.search.pages}`
          );
        }
        if (settings.commandPalette.search.projects !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS\]\s*\n\s*projects:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS]
      projects: ${settings.commandPalette.search.projects}`
          );
        }
        if (settings.commandPalette.search.docs !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_DOCS\]\s*\n\s*docs:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_DOCS]
      docs: ${settings.commandPalette.search.docs}`
          );
        }
      }
      if (settings.commandPalette.sections) {
        if (settings.commandPalette.sections.quickActions !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS\]\s*\n\s*quickActions:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS]
      quickActions: ${settings.commandPalette.sections.quickActions}`
          );
        }
        if (settings.commandPalette.sections.pages !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_PAGES\]\s*\n\s*pages:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_PAGES]
      pages: ${settings.commandPalette.sections.pages}`
          );
        }
        if (settings.commandPalette.sections.social !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL\]\s*\n\s*social:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL]
      social: ${settings.commandPalette.sections.social}`
          );
        }
      }
    }
    if (settings.homeOptions) {
      if (settings.homeOptions.featuredPost) {
        if (settings.homeOptions.featuredPost.enabled !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED]
      enabled: ${settings.homeOptions.featuredPost.enabled}`
          );
        }
        if (settings.homeOptions.featuredPost.type) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE\]\s*\n\s*type:\s*"[^"]*"/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE]
      type: "${settings.homeOptions.featuredPost.type}"`
          );
        }
        if (settings.homeOptions.featuredPost.slug) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_SLUG\]\s*\n\s*slug:\s*"[^"]*"/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_SLUG]
      slug: "${settings.homeOptions.featuredPost.slug}"`
          );
        }
      }
      if (settings.homeOptions.recentPosts) {
        if (settings.homeOptions.recentPosts.enabled !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED]
      enabled: ${settings.homeOptions.recentPosts.enabled}`
          );
        }
        if (settings.homeOptions.recentPosts.count) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT\]\s*\n\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT]
      count: ${settings.homeOptions.recentPosts.count}`
          );
        }
      }
      if (settings.homeOptions.projects) {
        if (settings.homeOptions.projects.enabled !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_PROJECTS_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_PROJECTS_ENABLED]
      enabled: ${settings.homeOptions.projects.enabled}`
          );
        }
        if (settings.homeOptions.projects.count) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_PROJECTS_COUNT\]\s*\n\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_PROJECTS_COUNT]
      count: ${settings.homeOptions.projects.count}`
          );
        }
      }
      if (settings.homeOptions.docs) {
        if (settings.homeOptions.docs.enabled !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_DOCS_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_DOCS_ENABLED]
      enabled: ${settings.homeOptions.docs.enabled}`
          );
        }
        if (settings.homeOptions.docs.count) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_DOCS_COUNT\]\s*\n\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_DOCS_COUNT]
      count: ${settings.homeOptions.docs.count}`
          );
        }
      }
      if ((_e = settings.homeOptions.blurb) == null ? void 0 : _e.placement) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:HOME_OPTIONS_BLURB_PLACEMENT\]\s*\n\s*placement:\s*"[^"]*"/,
          `// [CONFIG:HOME_OPTIONS_BLURB_PLACEMENT]
      placement: "${settings.homeOptions.blurb.placement}"`
        );
      }
    }
    if (settings.postOptions) {
      if (settings.postOptions.postsPerPage) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_POSTS_PER_PAGE\]\s*\n\s*postsPerPage:\s*\d+/,
          `// [CONFIG:POST_OPTIONS_POSTS_PER_PAGE]
    postsPerPage: ${settings.postOptions.postsPerPage}`
        );
      }
      if (settings.postOptions.wordCount !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_WORD_COUNT\]\s*\n\s*wordCount:\s*(true|false)/,
          `// [CONFIG:POST_OPTIONS_WORD_COUNT]
    wordCount: ${settings.postOptions.wordCount}`
        );
      }
      if (settings.postOptions.tags !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_TAGS\]\s*\n\s*tags:\s*(true|false)/,
          `// [CONFIG:POST_OPTIONS_TAGS]
    tags: ${settings.postOptions.tags}`
        );
      }
      if (settings.postOptions.linkedMentions) {
        if (settings.postOptions.linkedMentions.linkedMentionsCompact !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT\]\s*\n\s*linkedMentionsCompact:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT]
      linkedMentionsCompact: ${settings.postOptions.linkedMentions.linkedMentionsCompact}`
          );
        }
      }
      if (settings.postOptions.graphView) {
        if (settings.postOptions.graphView.showInSidebar !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR\]\s*\n\s*showInSidebar:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR]
      showInSidebar: ${settings.postOptions.graphView.showInSidebar}`
          );
        }
        if (settings.postOptions.graphView.maxNodes) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES\]\s*\n\s*maxNodes:\s*\d+/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES]
      maxNodes: ${settings.postOptions.graphView.maxNodes}`
          );
        }
        if (settings.postOptions.graphView.showOrphanedPosts !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS\]\s*\n\s*showOrphanedPosts:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS]
      showOrphanedPosts: ${settings.postOptions.graphView.showOrphanedPosts}`
          );
        }
      }
      if (settings.postOptions.customPostCardAspectRatio) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO\]\s*\n\s*customPostCardAspectRatio:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO]
    customPostCardAspectRatio: "${settings.postOptions.customPostCardAspectRatio}"`
        );
      }
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:COMMAND_PALETTE_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
      `// [CONFIG:COMMAND_PALETTE_ENABLED]
    enabled: ${(_g = (_f = settings.commandPalette) == null ? void 0 : _f.enabled) != null ? _g : settings.features.commandPalette}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_READING_TIME\]\s*readingTime:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_READING_TIME]
    readingTime: ${settings.features.readingTime}`
    );
    if (((_h = settings.postOptions) == null ? void 0 : _h.wordCount) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_WORD_COUNT\]\s*wordCount:\s*(true|false)/,
        `// [CONFIG:POST_OPTIONS_WORD_COUNT]
    wordCount: ${settings.postOptions.wordCount}`
      );
    }
    if (((_i = settings.postOptions) == null ? void 0 : _i.tags) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_TAGS\]\s*tags:\s*(true|false)/,
        `// [CONFIG:POST_OPTIONS_TAGS]
    tags: ${settings.postOptions.tags}`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED\]\s*enabled:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED]
      enabled: ${settings.features.linkedMentions}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT\]\s*linkedMentionsCompact:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT]
      linkedMentionsCompact: ${(_j = settings.features.linkedMentionsCompact) != null ? _j : false}`
    );
    if (((_l = (_k = settings.optionalFeatures) == null ? void 0 : _k.comments) == null ? void 0 : _l.enabled) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_ENABLED\]\s*enabled:\s*(true|false)/,
        `// [CONFIG:POST_OPTIONS_COMMENTS_ENABLED]
      enabled: ${settings.optionalFeatures.comments.enabled}`
      );
    }
    if (((_m = settings.optionalFeatures) == null ? void 0 : _m.comments) && settings.optionalFeatures.comments.enabled) {
      if (settings.optionalFeatures.comments.provider !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_PROVIDER\]\s*provider:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_PROVIDER]
      provider: "${settings.optionalFeatures.comments.provider || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.repo !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REPO\]\s*repo:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REPO]
      repo: "${settings.optionalFeatures.comments.repo || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.repoId !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REPO_ID\]\s*repoId:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REPO_ID]
      repoId: "${settings.optionalFeatures.comments.repoId || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.category !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_CATEGORY\]\s*category:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_CATEGORY]
      category: "${settings.optionalFeatures.comments.category || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.categoryId !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID\]\s*categoryId:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID]
      categoryId: "${settings.optionalFeatures.comments.categoryId || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.mapping !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_MAPPING\]\s*mapping:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_MAPPING]
      mapping: "${settings.optionalFeatures.comments.mapping || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.strict !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_STRICT\]\s*strict:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_STRICT]
      strict: "${settings.optionalFeatures.comments.strict || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.reactions !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REACTIONS\]\s*reactions:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REACTIONS]
      reactions: "${settings.optionalFeatures.comments.reactions || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.metadata !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_METADATA\]\s*metadata:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_METADATA]
      metadata: "${settings.optionalFeatures.comments.metadata || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.inputPosition !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION\]\s*inputPosition:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION]
      inputPosition: "${settings.optionalFeatures.comments.inputPosition || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.theme !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_THEME\]\s*theme:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_THEME]
      theme: "${settings.optionalFeatures.comments.theme || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.lang !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_LANG\]\s*lang:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_LANG]
      lang: "${settings.optionalFeatures.comments.lang || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.loading !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_LOADING\]\s*loading:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_LOADING]
      loading: "${settings.optionalFeatures.comments.loading || ""}"`
        );
      }
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED\]\s*enabled:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED]
      enabled: ${(_p = (_o = (_n = settings.postOptions) == null ? void 0 : _n.graphView) == null ? void 0 : _o.enabled) != null ? _p : settings.features.graphView}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_POST_NAVIGATION\]\s*postNavigation:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_POST_NAVIGATION]
    postNavigation: ${settings.features.postNavigation}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/\s*\[CONFIG:HIDE_SCROLL_BAR\]\s*hideScrollBar:\s*(true|false)/,
      `//[CONFIG:HIDE_SCROLL_BAR]
  hideScrollBar: ${settings.features.hideScrollBar}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SCROLL_TO_TOP\]\s*scrollToTop:\s*(true|false)/,
      `// [CONFIG:SCROLL_TO_TOP]
  scrollToTop: ${settings.features.scrollToTop}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FOOTER_SHOW_SOCIAL_ICONS\]\s*showSocialIconsInFooter:\s*[^,\n}]+/,
      `// [CONFIG:FOOTER_SHOW_SOCIAL_ICONS]
    showSocialIconsInFooter: ${settings.features.showSocialIconsInFooter}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FEATURE_BUTTON\]\s*featureButton:\s*"[^"]*"/,
      `// [CONFIG:FEATURE_BUTTON]
  featureButton: "${settings.features.featureButton}"`
    );
    if ((_q = settings.features) == null ? void 0 : _q.quickActions) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED\]\s*enabled:\s*(true|false)/,
        `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED]
      enabled: ${settings.features.quickActions.enabled}`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE\]\s*toggleMode:\s*(true|false)/,
        `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE]
      toggleMode: ${settings.features.quickActions.toggleMode}`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW\]\s*graphView:\s*(true|false)/,
        `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW]
      graphView: ${settings.features.quickActions.graphView}`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME\]\s*changeTheme:\s*(true|false)/,
        `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME]
      changeTheme: ${settings.features.quickActions.changeTheme}`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES\]\s*showPostCardCoverImages:\s*"[^"]*"/,
      `// [CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES]
    showPostCardCoverImages: "${settings.postOptions.showPostCardCoverImages}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO\]\s*postCardAspectRatio:\s*"[^"]*"/,
      `// [CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO]
    postCardAspectRatio: "${settings.postOptions.postCardAspectRatio}"`
    );
    if (settings.postOptions.customPostCardAspectRatio) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO\]\s*customPostCardAspectRatio:\s*"[^"]*"/,
        `// [CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO]
    customPostCardAspectRatio: "${settings.postOptions.customPostCardAspectRatio}"`
      );
    }
    if (((_s = (_r = settings.optionalFeatures) == null ? void 0 : _r.profilePicture) == null ? void 0 : _s.enabled) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_ENABLED\]\s*enabled:\s*(true|false)/,
        `// [CONFIG:PROFILE_PICTURE_ENABLED]
    enabled: ${settings.optionalFeatures.profilePicture.enabled}`
      );
    }
    if ((_u = (_t = settings.optionalFeatures) == null ? void 0 : _t.profilePicture) == null ? void 0 : _u.enabled) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_IMAGE\]\s*image:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_IMAGE]
    image: "${settings.optionalFeatures.profilePicture.image}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_ALT\]\s*alt:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_ALT]
    alt: "${settings.optionalFeatures.profilePicture.alt}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_SIZE\]\s*size:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_SIZE]
    size: "${settings.optionalFeatures.profilePicture.size}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_URL\]\s*url:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_URL]
    url: "${settings.optionalFeatures.profilePicture.url || ""}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_PLACEMENT\]\s*placement:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_PLACEMENT]
    placement: "${settings.optionalFeatures.profilePicture.placement}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_STYLE\]\s*style:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_STYLE]
    style: "${settings.optionalFeatures.profilePicture.style}"`
      );
    }
    return modifiedConfig;
  }
};

// src/presets/standard.json
var standard_exports = {};
__export(standard_exports, {
  config: () => config,
  default: () => standard_default,
  description: () => description,
  name: () => name
});
var name = "Standard";
var description = "Full-featured blog with all options enabled";
var config = {
  currentTemplate: "standard",
  features: {
    commandPalette: true,
    readingTime: true,
    linkedMentions: true,
    linkedMentionsCompact: false,
    graphView: true,
    postNavigation: true,
    hideScrollBar: false,
    scrollToTop: true,
    showSocialIconsInFooter: true,
    profilePicture: false,
    comments: false,
    featureButton: "mode",
    quickActions: {
      enabled: true,
      toggleMode: true,
      graphView: true,
      changeTheme: true
    }
  },
  tableOfContents: {
    enabled: true,
    depth: 4
  }
};
var standard_default = {
  name,
  description,
  config
};

// src/presets/minimal.json
var minimal_exports = {};
__export(minimal_exports, {
  config: () => config2,
  default: () => minimal_default,
  description: () => description2,
  name: () => name2
});
var name2 = "Minimal";
var description2 = "Clean, simple blog with minimal features";
var config2 = {
  currentTemplate: "minimal",
  features: {
    commandPalette: true,
    readingTime: false,
    linkedMentions: false,
    linkedMentionsCompact: false,
    graphView: false,
    postNavigation: false,
    hideScrollBar: true,
    scrollToTop: false,
    showSocialIconsInFooter: false,
    profilePicture: false,
    comments: false,
    featureButton: "none",
    quickActions: {
      enabled: false,
      toggleMode: false,
      graphView: false,
      changeTheme: false
    }
  },
  tableOfContents: {
    enabled: false,
    depth: 4
  }
};
var minimal_default = {
  name: name2,
  description: description2,
  config: config2
};

// src/presets/compact.json
var compact_exports = {};
__export(compact_exports, {
  config: () => config3,
  default: () => compact_default,
  description: () => description3,
  name: () => name3
});
var name3 = "Compact";
var description3 = "Balanced setup for smaller sites";
var config3 = {
  currentTemplate: "compact",
  features: {
    commandPalette: true,
    readingTime: true,
    linkedMentions: true,
    linkedMentionsCompact: true,
    graphView: false,
    postNavigation: true,
    hideScrollBar: false,
    scrollToTop: true,
    showSocialIconsInFooter: false,
    profilePicture: false,
    comments: false,
    featureButton: "none",
    quickActions: {
      enabled: true,
      toggleMode: true,
      graphView: false,
      changeTheme: true
    }
  },
  tableOfContents: {
    enabled: true,
    depth: 2
  }
};
var compact_default = {
  name: name3,
  description: description3,
  config: config3
};

// src/utils/ConfigManager.ts
var ConfigManager = class {
  constructor(app) {
    this.app = app;
    this.fileManager = new ConfigFileManager(app);
    this.presetModifier = new ConfigPresetModifier();
  }
  getConfigFileInfo() {
    return this.fileManager.getConfigFileInfo();
  }
  readConfig() {
    return this.fileManager.readConfig();
  }
  writeConfig(content) {
    return this.fileManager.writeConfig(content);
  }
  applyPreset(preset) {
    const currentConfig = this.readConfig();
    const modifiedConfig = this.presetModifier.modifyConfigFromPreset(preset, currentConfig);
    const writeResult = this.writeConfig(modifiedConfig);
    return writeResult;
  }
  async detectAstroDevServer() {
    return this.fileManager.detectAstroDevServer();
  }
  updateIndividualFeatures(settings) {
    const currentConfig = this.readConfig();
    const modifiedConfig = this.presetModifier.modifyConfigFromFeatures(settings, currentConfig);
    const writeResult = this.writeConfig(modifiedConfig);
    return writeResult;
  }
  updateThemeOnly(theme) {
    const currentConfig = this.readConfig();
    const modifiedConfig = this.presetModifier.updateThemeInConfig(currentConfig, theme);
    const writeResult = this.writeConfig(modifiedConfig);
    return writeResult;
  }
  updateFontOnly(fontType, fontName) {
    const currentConfig = this.readConfig();
    const modifiedConfig = this.presetModifier.updateFontInConfig(currentConfig, fontType, fontName);
    const writeResult = this.writeConfig(modifiedConfig);
    return writeResult;
  }
  updateFeatureOnly(featureName, value) {
    const currentConfig = this.readConfig();
    const modifiedConfig = this.presetModifier.updateFeatureInConfig(currentConfig, featureName, value);
    const writeResult = this.writeConfig(modifiedConfig);
    return writeResult;
  }
  async triggerRebuild() {
  }
  getTemplatePreset(templateId) {
    try {
      switch (templateId) {
        case "standard":
          return standard_exports;
        case "minimal":
          return minimal_exports;
        case "compact":
          return compact_exports;
        default:
          console.error(`Unknown template ID: ${templateId}`);
          return null;
      }
    } catch (error) {
      console.error("Error loading template preset:", error);
      return null;
    }
  }
  getTemplateConfig(templateName, settings) {
    return this.presetModifier.getTemplateConfig(templateName, settings);
  }
};

// src/utils/PluginManager.ts
var PluginManager = class {
  constructor(app, getContentOrganization) {
    this.app = app;
    this.getContentOrganization = getContentOrganization;
  }
  getPluginStatus(contentOrg) {
    var _a;
    const plugins = this.app.plugins;
    const requiredPlugins = [
      "astro-composer",
      "image-manager"
    ];
    const status = [];
    const obsidianSettingsStatus = this.checkObsidianSettings(contentOrg);
    status.push(obsidianSettingsStatus);
    for (const pluginId of requiredPlugins) {
      const plugin = (_a = plugins == null ? void 0 : plugins.plugins) == null ? void 0 : _a[pluginId];
      const isInEnabledSet = (plugins == null ? void 0 : plugins.enabledPlugins) && plugins.enabledPlugins.has(pluginId);
      const isInstalled = this.isPluginInstalled(pluginId);
      let outOfSyncContentTypes;
      if (pluginId === "astro-composer" && plugin) {
        const syncCheck = this.checkAstroComposerSettings(plugin, contentOrg);
        if (syncCheck) {
          outOfSyncContentTypes = syncCheck.outOfSyncContentTypes;
        }
      }
      let imageManagerSettingsMatch = true;
      if (pluginId === "image-manager" && plugin && isInstalled && isInEnabledSet) {
        imageManagerSettingsMatch = this.checkImageManagerSettings(plugin, contentOrg);
      }
      status.push({
        name: this.getPluginDisplayName(pluginId),
        installed: isInstalled,
        enabled: isInEnabledSet || false,
        configurable: this.isPluginConfigurable(pluginId),
        currentSettings: plugin ? this.getPluginSettings(plugin) : void 0,
        outOfSyncContentTypes,
        settingsMatch: pluginId === "image-manager" ? imageManagerSettingsMatch : void 0
      });
    }
    return status;
  }
  isPluginInstalled(pluginId) {
    var _a;
    const appPlugins = this.app.plugins;
    const communityPlugins = appPlugins == null ? void 0 : appPlugins.communityPlugins;
    if (communityPlugins && Array.isArray(communityPlugins)) {
      return communityPlugins.includes(pluginId);
    }
    return !!((_a = appPlugins == null ? void 0 : appPlugins.plugins) == null ? void 0 : _a[pluginId]);
  }
  getPluginDisplayName(pluginId) {
    const names = {
      "astro-composer": "Astro Composer",
      "image-manager": "Image Manager"
    };
    return names[pluginId] || pluginId;
  }
  checkObsidianSettings(contentOrg) {
    var _a;
    const contentOrgValue = contentOrg || ((_a = this.getContentOrganization) == null ? void 0 : _a.call(this)) || "file-based";
    const vaultConfig = this.app.vault.config;
    const expectedLocation = contentOrgValue === "file-based" ? "subfolder" : "same-folder";
    const expectedSubfolder = "attachments";
    let isConfigured = false;
    const attachmentPath = ((vaultConfig == null ? void 0 : vaultConfig.attachmentFolderPath) || "").trim();
    const normalizedPath = attachmentPath.replace(/\/+$/, "");
    if (expectedLocation === "subfolder") {
      isConfigured = normalizedPath === `./${expectedSubfolder}` || normalizedPath === `${expectedSubfolder}` || normalizedPath.endsWith(`/${expectedSubfolder}`) || normalizedPath === `.${expectedSubfolder}` || normalizedPath === `${expectedSubfolder}/` || normalizedPath === `./${expectedSubfolder}/`;
    } else {
      isConfigured = normalizedPath === "./" || normalizedPath === "" || normalizedPath === "." || normalizedPath === void 0 || normalizedPath === null;
    }
    return {
      name: "Attachment settings",
      installed: isConfigured,
      // Use installed field to indicate configured status
      enabled: false,
      // Not applicable for settings
      configurable: true,
      currentSettings: void 0
    };
  }
  checkAstroComposerSettings(plugin, contentOrg) {
    var _a;
    const contentOrgValue = contentOrg || ((_a = this.getContentOrganization) == null ? void 0 : _a.call(this)) || "file-based";
    const expectedMode = contentOrgValue === "file-based" ? "file" : "folder";
    try {
      const pluginSettings = plugin.settings;
      if (!pluginSettings) {
        return null;
      }
      const mismatchedTypes = [];
      if (Array.isArray(pluginSettings.contentTypes)) {
        const expectedContentTypes = ["posts", "pages", "projects", "docs"];
        for (const expectedType of expectedContentTypes) {
          const contentType = pluginSettings.contentTypes.find(
            (ct) => ct && typeof ct === "object" && ct !== null && "folder" in ct && typeof ct.folder === "string" && ct.folder.toLowerCase() === expectedType
          );
          if (contentType) {
            if (contentType.enabled !== false) {
              if (contentType.creationMode !== expectedMode) {
                mismatchedTypes.push(expectedType);
              }
            }
          } else {
          }
        }
      } else {
        if (pluginSettings.creationMode && typeof pluginSettings.creationMode === "string") {
          if (pluginSettings.creationMode !== expectedMode) {
            mismatchedTypes.push("posts");
          }
        } else {
          mismatchedTypes.push("posts");
        }
        if (pluginSettings.pagesCreationMode) {
          if (pluginSettings.pagesCreationMode !== expectedMode) {
            mismatchedTypes.push("pages");
          }
        } else {
          mismatchedTypes.push("pages");
        }
        if (Array.isArray(pluginSettings.customContentTypes)) {
          for (const contentType of ["projects", "docs"]) {
            const customType = pluginSettings.customContentTypes.find(
              (ct) => ct && typeof ct === "object" && ct !== null && "folder" in ct && typeof ct.folder === "string" && ct.folder.toLowerCase() === contentType
            );
            if (customType && customType.creationMode) {
              if (customType.creationMode !== expectedMode) {
                mismatchedTypes.push(contentType);
              }
            } else {
              mismatchedTypes.push(contentType);
            }
          }
        } else {
          mismatchedTypes.push("projects", "docs");
        }
      }
      if (mismatchedTypes.length === 0) {
        return null;
      }
      return { outOfSyncContentTypes: mismatchedTypes };
    } catch (error) {
      console.error("Failed to check Astro Composer settings:", error);
      return null;
    }
  }
  checkImageManagerSettings(plugin, contentOrg) {
    var _a;
    const contentOrgValue = contentOrg || ((_a = this.getContentOrganization) == null ? void 0 : _a.call(this)) || "file-based";
    const expectedFormat = contentOrgValue === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]";
    try {
      const pluginSettings = plugin.settings;
      if (!pluginSettings) {
        return false;
      }
      const propertyLinkFormat = pluginSettings.propertyLinkFormat;
      if (propertyLinkFormat !== "custom") {
        return false;
      }
      const actualFormat = pluginSettings.customPropertyLinkFormat;
      return actualFormat === expectedFormat;
    } catch (error) {
      console.error("Failed to check Image Manager settings:", error);
      return false;
    }
  }
  isPluginConfigurable(pluginId) {
    const configurablePlugins = [
      "astro-composer",
      "image-manager"
    ];
    return configurablePlugins.includes(pluginId);
  }
  getPluginSettings(plugin) {
    const pluginWithSettings = plugin;
    return pluginWithSettings.settings;
  }
  async configurePlugins(config4) {
    let successCount = 0;
    try {
      await this.configureObsidianSettings(config4.obsidianSettings);
      successCount++;
      await this.configureAstroComposerSettings(config4.astroComposerSettings);
      successCount++;
      await this.configureImageManagerSettings(config4.imageManagerSettings);
      successCount++;
      return successCount > 0;
    } catch (error) {
      console.error("Plugin configuration failed:", error);
      return false;
    }
  }
  async configureObsidianSettings(settings) {
    try {
      const app = this.app;
      const targetPath = settings.attachmentLocation === "subfolder" ? `./${settings.subfolderName}` : "./";
      if (app.setting && typeof app.setting.set === "function") {
        await app.setting.set("attachmentFolderPath", targetPath);
        await app.setting.set("newLinkFormat", "relative");
        if (typeof app.setting.save === "function") {
          await app.setting.save();
        }
      } else {
        const vault = this.app.vault;
        const obsidianSettings = vault.config;
        if (obsidianSettings) {
          obsidianSettings.newLinkFormat = "relative";
          obsidianSettings.attachmentFolderPath = targetPath;
          if (typeof vault.saveConfig === "function") {
            await vault.saveConfig();
          }
        }
      }
    } catch (error) {
      console.error("Failed to configure Obsidian settings:", error);
      throw error;
    }
  }
  async configureAstroComposerSettings(settings) {
    var _a;
    try {
      const plugins = this.app.plugins;
      const astroComposerPlugin = (_a = plugins == null ? void 0 : plugins.plugins) == null ? void 0 : _a["astro-composer"];
      if (!astroComposerPlugin) {
        console.warn("Astro Composer plugin not found");
        return;
      }
      const astroComposerPluginWithSettings = astroComposerPlugin;
      if (!astroComposerPluginWithSettings.settings) {
        console.warn("Astro Composer plugin settings not available");
        return;
      }
      const pluginSettings = astroComposerPluginWithSettings.settings;
      const creationMode = settings.creationMode;
      if (Array.isArray(pluginSettings.contentTypes)) {
        const contentTypesToUpdate = ["posts", "pages", "projects", "docs"];
        for (const contentType of pluginSettings.contentTypes) {
          if (contentType && typeof contentType === "object" && contentType !== null) {
            const contentTypeObj = contentType;
            const folderName = (typeof contentTypeObj.folder === "string" ? contentTypeObj.folder : "").toLowerCase();
            if (contentTypesToUpdate.includes(folderName)) {
              contentTypeObj.creationMode = creationMode;
            }
          }
        }
      } else {
        pluginSettings.creationMode = creationMode;
        pluginSettings.pagesCreationMode = creationMode;
        if (Array.isArray(pluginSettings.customContentTypes)) {
          for (const customType of pluginSettings.customContentTypes) {
            if (customType && typeof customType === "object" && customType !== null) {
              const customTypeObj = customType;
              const folderName = (typeof customTypeObj.folder === "string" ? customTypeObj.folder : "").toLowerCase();
              if (folderName === "projects" || folderName === "docs") {
                customTypeObj.creationMode = creationMode;
              }
            }
          }
        }
      }
      pluginSettings.indexFileName = settings.indexFileName;
      const pluginWithSave = astroComposerPlugin;
      const saveSettings = pluginWithSave.saveSettings;
      if (saveSettings && typeof saveSettings === "function") {
        await saveSettings();
      }
    } catch (error) {
      console.error("Failed to configure Astro Composer:", error);
      throw error;
    }
  }
  async configureImageManagerSettings(settings) {
    var _a;
    try {
      const plugins = this.app.plugins;
      const imageManagerPlugin = (_a = plugins == null ? void 0 : plugins.plugins) == null ? void 0 : _a["image-manager"];
      const imageManagerPluginWithSettings = imageManagerPlugin;
      if (imageManagerPluginWithSettings && imageManagerPluginWithSettings.settings) {
        const pluginSettings = imageManagerPluginWithSettings.settings;
        pluginSettings.propertyLinkFormat = "custom";
        pluginSettings.customPropertyLinkFormat = settings.customPropertyLinkFormat;
        const pluginWithSave = imageManagerPlugin;
        const saveSettings = pluginWithSave.saveSettings;
        if (saveSettings && typeof saveSettings === "function") {
          await saveSettings();
        }
      }
    } catch (error) {
      console.error("Failed to configure Image Manager:", error);
    }
  }
  getManualConfigurationInstructions(config4) {
    let instructions = "## Obsidian Settings\n";
    instructions += `1. Go to **Settings \u2192 Files & Links**
`;
    instructions += `2. Set **Default location for new attachments** to: `;
    instructions += config4.obsidianSettings.attachmentLocation === "subfolder" ? `**"In subfolder under current folder"**
` : `**"Same folder as current file"**
`;
    if (config4.obsidianSettings.attachmentLocation === "subfolder") {
      instructions += `3. Set **Subfolder name** to: **"${config4.obsidianSettings.subfolderName}"**
`;
    }
    instructions += "## Astro Composer Plugin\n";
    instructions += `1. Go to **Settings \u2192 Community plugins \u2192 Astro Composer**
`;
    instructions += `2. Set **Creation mode** to: "${config4.astroComposerSettings.creationMode === "file" ? "File-based" : "Folder-based"}"
`;
    instructions += `3. Ensure **Creation mode** is set to "${config4.astroComposerSettings.creationMode === "file" ? "File-based" : "Folder-based"}" for all content types:
`;
    instructions += `   - Posts
`;
    instructions += `   - Pages
`;
    instructions += `   - Projects
`;
    instructions += `   - Docs
`;
    if (config4.astroComposerSettings.creationMode === "folder") {
      instructions += `4. Set **Index file name** to: "${config4.astroComposerSettings.indexFileName}"
`;
    }
    instructions += "## Image Manager Plugin\n";
    instructions += `1. Go to **Settings \u2192 Community plugins \u2192 Image Manager**
`;
    instructions += `2. Set **Property insertion \u2192 Property link format** to: **"Custom format"**
`;
    instructions += `3. Set **Property insertion \u2192 Custom format template** to: "${config4.imageManagerSettings.customPropertyLinkFormat}"
`;
    instructions += "**Note**: After making these changes, you should see them reflected in Obsidian's settings interface. If the automatic configuration worked, these settings should already be applied.\n";
    return instructions;
  }
};

// src/utils/RibbonIconManager.ts
var RibbonIconManager = class {
  constructor(plugin, onClick) {
    this.plugin = plugin;
    this.onClick = onClick;
  }
  /**
   * Shows the ribbon icon if not already visible.
   */
  show() {
    if (this.ribbonIcon) {
      return;
    }
    this.ribbonIcon = this.plugin.addRibbonIcon(
      "wand-sparkles",
      "Open wizard",
      this.onClick
    );
    this.ribbonIcon.setAttribute("data-astro-modular-settings-ribbon", "true");
    document.body.removeAttribute("data-astro-modular-ribbon-removed");
    this.stopContextMenuObserver();
  }
  /**
   * Hides and removes the ribbon icon.
   */
  hide() {
    if (this.ribbonIcon) {
      this.ribbonIcon.remove();
      this.ribbonIcon = void 0;
    }
    document.body.setAttribute("data-astro-modular-ribbon-removed", "true");
    this.startContextMenuObserver();
  }
  /**
   * Updates visibility based on the removeRibbonIcon setting.
   */
  update(shouldHide) {
    if (shouldHide) {
      this.hide();
    } else {
      this.show();
    }
  }
  /**
   * Cleans up all resources.
   */
  destroy() {
    this.stopContextMenuObserver();
    if (this.ribbonIcon) {
      this.ribbonIcon.remove();
      this.ribbonIcon = void 0;
    }
    document.body.removeAttribute("data-astro-modular-ribbon-removed");
  }
  /**
   * Starts observing for context menus to remove our item when ribbon is hidden.
   */
  startContextMenuObserver() {
    if (this.contextMenuObserver) {
      return;
    }
    this.contextMenuObserver = new MutationObserver((mutations) => {
      for (const mutation of mutations) {
        for (const node of Array.from(mutation.addedNodes)) {
          if (node instanceof HTMLElement) {
            if (node.classList.contains("menu") || node.querySelector(".menu")) {
              this.removeFromContextMenu(node);
            }
          }
        }
      }
    });
    this.contextMenuObserver.observe(document.body, {
      childList: true,
      subtree: true
    });
  }
  /**
   * Stops the context menu observer.
   */
  stopContextMenuObserver() {
    if (this.contextMenuObserver) {
      this.contextMenuObserver.disconnect();
      this.contextMenuObserver = void 0;
    }
  }
  /**
   * Removes our wizard item from a context menu.
   */
  removeFromContextMenu(menuElement) {
    var _a;
    const menuItems = menuElement.querySelectorAll(".menu-item");
    for (const item of Array.from(menuItems)) {
      const svg = item.querySelector("svg");
      if (svg) {
        const iconName = svg.getAttribute("data-lucide") || svg.getAttribute("xmlns:lucide") || (svg.classList.contains("lucide-wand-sparkles") ? "wand-sparkles" : null);
        if (iconName === "wand-sparkles") {
          const itemText = ((_a = item.textContent) == null ? void 0 : _a.toLowerCase()) || "";
          if (itemText.includes("wizard") || itemText.includes("astro modular")) {
            item.remove();
          }
        }
      }
    }
  }
};

// src/main.ts
var AstroModularSettingsPlugin = class extends import_obsidian19.Plugin {
  async onload() {
    await this.loadSettings();
    this.configManager = new ConfigManager(this.app);
    this.pluginManager = new PluginManager(this.app, () => this.settings.contentOrganization);
    registerCommands(this);
    this.settingsTab = new AstroModularSettingsTab(this.app, this);
    this.addSettingTab(this.settingsTab);
    this.ribbonManager = new RibbonIconManager(this, async () => {
      await this.loadSettings();
      await this.openWizard();
    });
    this.ribbonManager.update(this.settings.removeRibbonIcon);
    if (this.settings.runWizardOnStartup) {
      this.startupTimeoutId = window.setTimeout(() => {
        void (async () => {
          await this.loadSettings();
          if (this.settings.runWizardOnStartup) {
            await this.openWizard();
          }
        })();
      }, 2e3);
    }
  }
  onunload() {
    var _a;
    if (this.startupTimeoutId) {
      window.clearTimeout(this.startupTimeoutId);
      this.startupTimeoutId = void 0;
    }
    (_a = this.ribbonManager) == null ? void 0 : _a.destroy();
  }
  async loadSettings() {
    const data = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, data);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  // Public method to open settings (called by commands)
  openSettings() {
    this.app.setting.open();
    this.app.setting.openTabById(this.manifest.id);
  }
  // Method to trigger settings refresh
  async triggerSettingsRefresh() {
    await this.loadSettings();
    if (this.settingsTab) {
      this.settingsTab.render();
    }
  }
  // Method to update ribbon icon based on settings
  async updateRibbonIcon() {
    await this.loadSettings();
    this.ribbonManager.update(this.settings.removeRibbonIcon);
  }
  // Lazy-load and open the setup wizard
  async openWizard() {
    const { SetupWizardModal: SetupWizardModal2 } = await Promise.resolve().then(() => (init_SetupWizardModal(), SetupWizardModal_exports));
    const wizard = new SetupWizardModal2(this.app, this);
    wizard.open();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3R5cGVzLnRzIiwgInNyYy91aS93aXphcmQvV2l6YXJkU3RhdGUudHMiLCAic3JjL3VpL3dpemFyZC9CYXNlV2l6YXJkU3RlcC50cyIsICJzcmMvdWkvd2l6YXJkL1dlbGNvbWVTdGVwLnRzIiwgInNyYy91aS93aXphcmQvVGVtcGxhdGVTdGVwLnRzIiwgInNyYy91aS93aXphcmQvVGhlbWVTdGVwLnRzIiwgInNyYy91aS93aXphcmQvRm9udFN0ZXAudHMiLCAic3JjL3VpL3dpemFyZC9Db250ZW50T3JnU3RlcC50cyIsICJzcmMvdWkvd2l6YXJkL05hdmlnYXRpb25TdGVwLnRzIiwgInNyYy91dGlscy9HaXNjdXNTY3JpcHRQYXJzZXIudHMiLCAic3JjL3VpL3dpemFyZC9PcHRpb25hbEZlYXR1cmVzU3RlcC50cyIsICJzcmMvdWkvd2l6YXJkL0RlcGxveW1lbnRTdGVwLnRzIiwgInNyYy91aS93aXphcmQvUGx1Z2luQ29uZmlnU3RlcC50cyIsICJzcmMvdWkvd2l6YXJkL0ZpbmFsaXplU3RlcC50cyIsICJzcmMvdWkvU2V0dXBXaXphcmRNb2RhbC50cyIsICJzcmMvbWFpbi50cyIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL2NvbW1hbmRzL2luZGV4LnRzIiwgInNyYy91aS9TZXR0aW5nc1RhYi50cyIsICJzcmMvdWkvY29tbW9uL1RhYlJlbmRlcmVyLnRzIiwgInNyYy91aS90YWJzL0dlbmVyYWxUYWIudHMiLCAic3JjL3V0aWxzL3NldHRpbmdzLWNvbXBhdC50cyIsICJzcmMvdWkvdGFicy9TaXRlSW5mb1RhYi50cyIsICJzcmMvdWkvdGFicy9OYXZpZ2F0aW9uVGFiLnRzIiwgInNyYy91aS90YWJzL0NvbmZpZ1RhYi50cyIsICJzcmMvdWkvUHJlc2V0V2FybmluZ01vZGFsLnRzIiwgInNyYy91aS90YWJzL1N0eWxlVGFiLnRzIiwgInNyYy91dGlscy9UaGVtZUNvbG9yRXh0cmFjdG9yLnRzIiwgInNyYy91aS90YWJzL0ZlYXR1cmVzVGFiLnRzIiwgInNyYy91aS90YWJzL0FkdmFuY2VkVGFiLnRzIiwgInNyYy91dGlscy9jb25maWcvQ29uZmlnRmlsZU1hbmFnZXIudHMiLCAic3JjL3V0aWxzL2NvbmZpZy9Db25maWdUZW1wbGF0ZU1hbmFnZXIudHMiLCAic3JjL3V0aWxzL2NvbmZpZy9Db25maWdNYXJrZXJWYWxpZGF0b3IudHMiLCAic3JjL3V0aWxzL2NvbmZpZy9Db25maWdQcmVzZXRNb2RpZmllci50cyIsICJzcmMvcHJlc2V0cy9zdGFuZGFyZC5qc29uIiwgInNyYy9wcmVzZXRzL21pbmltYWwuanNvbiIsICJzcmMvcHJlc2V0cy9jb21wYWN0Lmpzb24iLCAic3JjL3V0aWxzL0NvbmZpZ01hbmFnZXIudHMiLCAic3JjL3V0aWxzL1BsdWdpbk1hbmFnZXIudHMiLCAic3JjL3V0aWxzL1JpYmJvbkljb25NYW5hZ2VyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBDb25maWdNYW5hZ2VyIH0gZnJvbSAnLi91dGlscy9Db25maWdNYW5hZ2VyJztcbmltcG9ydCB7IFBsdWdpbk1hbmFnZXIgfSBmcm9tICcuL3V0aWxzL1BsdWdpbk1hbmFnZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFzdHJvTW9kdWxhclNldHRpbmdzIHtcblx0Ly8gV2l6YXJkIHNldHRpbmdzXG5cdHJ1bldpemFyZE9uU3RhcnR1cDogYm9vbGVhbjtcblx0XG5cdC8vIEN1cnJlbnQgY29uZmlndXJhdGlvblxuXHRjdXJyZW50VGVtcGxhdGU6IFRlbXBsYXRlVHlwZTtcblx0Y3VycmVudFRoZW1lOiBUaGVtZVR5cGU7XG5cdGN1c3RvbVRoZW1lRmlsZT86IHN0cmluZztcblx0Y29udGVudE9yZ2FuaXphdGlvbjogQ29udGVudE9yZ2FuaXphdGlvblR5cGU7XG5cdFxuXHQvLyBUaGVtZSBjb2xvciBleHRyYWN0aW9uXG5cdHRoZW1lQ29sb3JzOiBUaGVtZUNvbG9yU2V0dGluZ3M7XG5cdFxuXHQvLyBTaXRlIGluZm9ybWF0aW9uXG5cdHNpdGVJbmZvOiBTaXRlSW5mb3JtYXRpb247XG5cdFxuXHQvLyBMYXlvdXRcblx0bGF5b3V0OiBMYXlvdXRTZXR0aW5ncztcblx0XG5cdC8vIFRhYmxlIG9mIENvbnRlbnRzXG5cdHRhYmxlT2ZDb250ZW50czogVGFibGVPZkNvbnRlbnRzU2V0dGluZ3M7XG5cdFxuXHQvLyBGb290ZXJcblx0Zm9vdGVyOiBGb290ZXJTZXR0aW5ncztcblx0XG5cdC8vIFNFT1xuXHRzZW86IFNlb1NldHRpbmdzO1xuXHRcblx0Ly8gTmF2aWdhdGlvbiBzZXR0aW5nc1xuXHRuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uU2V0dGluZ3M7XG5cdFxuXHQvLyBDb21tYW5kIFBhbGV0dGVcblx0Y29tbWFuZFBhbGV0dGU6IENvbW1hbmRQYWxldHRlU2V0dGluZ3M7XG5cdFxuXHQvLyBIb21lIE9wdGlvbnNcblx0aG9tZU9wdGlvbnM6IEhvbWVPcHRpb25zO1xuXHRcblx0Ly8gUG9zdCBPcHRpb25zXG5cdHBvc3RPcHRpb25zOiBQb3N0T3B0aW9ucztcblx0XG5cdC8vIEZlYXR1cmVzXG5cdGZlYXR1cmVzOiBGZWF0dXJlU2V0dGluZ3M7XG5cdFxuXHQvLyBUeXBvZ3JhcGh5IHNldHRpbmdzXG5cdHR5cG9ncmFwaHk6IFR5cG9ncmFwaHlTZXR0aW5ncztcblx0XG5cdC8vIE9wdGlvbmFsIGZlYXR1cmVzXG5cdG9wdGlvbmFsRmVhdHVyZXM6IE9wdGlvbmFsRmVhdHVyZXM7XG5cdFxuXHQvLyBEZXBsb3ltZW50IHNldHRpbmdzXG5cdGRlcGxveW1lbnQ6IERlcGxveW1lbnRTZXR0aW5ncztcblx0XG5cdC8vIFBsdWdpbiBjb25maWd1cmF0aW9uXG5cdHBsdWdpbkNvbmZpZzogUGx1Z2luQ29uZmlndXJhdGlvbjtcblxuXHQvLyBPcHRpb25hbCBjb250ZW50IHR5cGVzXG5cdG9wdGlvbmFsQ29udGVudFR5cGVzOiB7XG5cdFx0cHJvamVjdHM6IGJvb2xlYW47XG5cdFx0ZG9jczogYm9vbGVhbjtcblx0fTtcblxuXHQvLyBBdmFpbGFibGUgdGhlbWVzIGN1c3RvbWl6YXRpb25cblx0YXZhaWxhYmxlVGhlbWVzOiBcImRlZmF1bHRcIiB8IEFycmF5PEV4Y2x1ZGU8VGhlbWVUeXBlLCAnY3VzdG9tJz4+O1xuXHRjdXN0b21UaGVtZXM/OiBzdHJpbmc7IC8vIENvbW1hLXNlcGFyYXRlZCBjdXN0b20gdGhlbWUgbmFtZXNcblx0XG5cdC8vIEN1c3RvbSB0aGVtZSBnZW5lcmF0aW9uXG5cdGN1c3RvbVRoZW1lR2VuZXJhdGlvbkVuYWJsZWQ/OiBib29sZWFuO1xuXG5cdC8vIFJpYmJvbiBpY29uXG5cdHJlbW92ZVJpYmJvbkljb246IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2l0ZUluZm9ybWF0aW9uIHtcblx0c2l0ZTogc3RyaW5nO1xuXHR0aXRsZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRhdXRob3I6IHN0cmluZztcblx0bGFuZ3VhZ2U6IHN0cmluZztcblx0ZmF2aWNvblRoZW1lQWRhcHRpdmU/OiBib29sZWFuO1xuXHRkZWZhdWx0T2dJbWFnZUFsdD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRTZXR0aW5ncyB7XG5cdGNvbnRlbnRXaWR0aDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlT2ZDb250ZW50c1NldHRpbmdzIHtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0ZGVwdGg6IG51bWJlcjsgLy8gMi02XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9vdGVyU2V0dGluZ3Mge1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHRjb250ZW50OiBzdHJpbmc7XG5cdHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlb1NldHRpbmdzIHtcblx0ZGVmYXVsdE9nSW1hZ2VBbHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0aW9uSXRlbSB7XG5cdHRpdGxlOiBzdHJpbmc7XG5cdHVybD86IHN0cmluZzsgIC8vIE9wdGlvbmFsIC0gaWYgbWlzc2luZywgaXRlbSBpcyBkcm9wZG93bi1vbmx5XG5cdGNoaWxkcmVuPzogTmF2aWdhdGlvbkl0ZW1bXTsgIC8vIFNpbmdsZSBsZXZlbCBvbmx5XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGlvblNldHRpbmdzIHtcblx0c2hvd05hdmlnYXRpb246IGJvb2xlYW47XG5cdHN0eWxlOiAnbWluaW1hbCcgfCAndHJhZGl0aW9uYWwnO1xuXHRzaG93TW9iaWxlTWVudTogYm9vbGVhbjtcblx0cGFnZXM6IE5hdmlnYXRpb25JdGVtW107XG5cdHNvY2lhbDogQXJyYXk8eyB0aXRsZTogc3RyaW5nOyB1cmw6IHN0cmluZzsgaWNvbjogc3RyaW5nIH0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmRQYWxldHRlU2V0dGluZ3Mge1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHRzaG9ydGN1dDogc3RyaW5nO1xuXHRwbGFjZWhvbGRlcjogc3RyaW5nO1xuXHRzZWFyY2g6IHtcblx0XHRwb3N0czogYm9vbGVhbjtcblx0XHRwYWdlczogYm9vbGVhbjtcblx0XHRwcm9qZWN0czogYm9vbGVhbjtcblx0XHRkb2NzOiBib29sZWFuO1xuXHR9O1xuXHRzZWN0aW9uczoge1xuXHRcdHF1aWNrQWN0aW9uczogYm9vbGVhbjtcblx0XHRwYWdlczogYm9vbGVhbjtcblx0XHRzb2NpYWw6IGJvb2xlYW47XG5cdH07XG5cdHF1aWNrQWN0aW9uczogUXVpY2tBY3Rpb25zU2V0dGluZ3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSG9tZU9wdGlvbnMge1xuXHRmZWF0dXJlZFBvc3Q6IHtcblx0XHRlbmFibGVkOiBib29sZWFuO1xuXHRcdHR5cGU6ICdsYXRlc3QnIHwgJ2ZlYXR1cmVkJztcblx0XHRzbHVnPzogc3RyaW5nO1xuXHR9O1xuXHRyZWNlbnRQb3N0czoge1xuXHRcdGVuYWJsZWQ6IGJvb2xlYW47XG5cdFx0Y291bnQ6IG51bWJlcjtcblx0fTtcblx0cHJvamVjdHM6IHtcblx0XHRlbmFibGVkOiBib29sZWFuO1xuXHRcdGNvdW50OiBudW1iZXI7XG5cdH07XG5cdGRvY3M6IHtcblx0XHRlbmFibGVkOiBib29sZWFuO1xuXHRcdGNvdW50OiBudW1iZXI7XG5cdH07XG5cdGJsdXJiOiB7XG5cdFx0cGxhY2VtZW50OiAnYWJvdmUnIHwgJ2JlbG93JyB8ICdub25lJztcblx0fTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3N0T3B0aW9ucyB7XG5cdHBvc3RzUGVyUGFnZTogbnVtYmVyO1xuXHRcdHJlYWRpbmdUaW1lOiBib29sZWFuO1xuXHRcdHdvcmRDb3VudDogYm9vbGVhbjtcblx0XHR0YWdzOiBib29sZWFuO1xuXHRsaW5rZWRNZW50aW9uczoge1xuXHRcdGVuYWJsZWQ6IGJvb2xlYW47XG5cdFx0bGlua2VkTWVudGlvbnNDb21wYWN0OiBib29sZWFuO1xuXHR9O1xuXHQvLyBHcmFwaCB2aWV3IHNldHRpbmdzIC0gcG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgaXMgdGhlIFNPVVJDRSBPRiBUUlVUSFxuXHQvLyBmZWF0dXJlcy5ncmFwaFZpZXcgaXMgc3luY2VkIGZyb20gdGhpcyBmb3IgVUkgY29udmVuaWVuY2Vcblx0Ly8gcXVpY2tBY3Rpb25zLmdyYXBoVmlldyBvbmx5IGNvbnRyb2xzIGNvbW1hbmQgcGFsZXR0ZSBhcHBlYXJhbmNlXG5cdGdyYXBoVmlldzoge1xuXHRcdGVuYWJsZWQ6IGJvb2xlYW47XG5cdFx0c2hvd0luU2lkZWJhcjogYm9vbGVhbjtcblx0XHRtYXhOb2RlczogbnVtYmVyO1xuXHRcdHNob3dPcnBoYW5lZFBvc3RzOiBib29sZWFuO1xuXHR9O1xuXHRwb3N0TmF2aWdhdGlvbjogYm9vbGVhbjtcblx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdhbGwnIHwgJ2ZlYXR1cmVkJyB8ICdob21lJyB8ICdwb3N0cycgfCAnZmVhdHVyZWQtYW5kLXBvc3RzJyB8ICdub25lJztcblx0cG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyB8ICcxNjo5JyB8ICc0OjMnIHwgJzM6MicgfCAnc3F1YXJlJyB8ICdnb2xkZW4nIHwgJ2N1c3RvbSc7XG5cdGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW8/OiBzdHJpbmc7XG5cdGNvbW1lbnRzOiBDb21tZW50c1NldHRpbmdzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVTZXR0aW5ncyB7XG5cdGNvbW1hbmRQYWxldHRlOiBib29sZWFuO1xuXHRyZWFkaW5nVGltZTogYm9vbGVhbjtcblx0bGlua2VkTWVudGlvbnM6IGJvb2xlYW47XG5cdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogYm9vbGVhbjtcblx0Y29tbWVudHM6IGJvb2xlYW47XG5cdC8vIGdyYXBoVmlldyBzeW5jZWQgRlJPTSBwb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZCAobm90IHRoZSBvdGhlciB3YXkgYXJvdW5kKVxuXHRncmFwaFZpZXc6IGJvb2xlYW47XG5cdHBvc3ROYXZpZ2F0aW9uOiBib29sZWFuO1xuXHRoaWRlU2Nyb2xsQmFyOiBib29sZWFuO1xuXHRzY3JvbGxUb1RvcDogYm9vbGVhbjtcblx0ZmVhdHVyZUJ1dHRvbjogJ21vZGUnIHwgJ2dyYXBoJyB8ICd0aGVtZScgfCAnbm9uZSc7XG5cdHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiBib29sZWFuO1xuXHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2FsbCcgfCAnZmVhdHVyZWQnIHwgJ2hvbWUnIHwgJ3Bvc3RzJyB8ICdmZWF0dXJlZC1hbmQtcG9zdHMnIHwgJ25vbmUnO1xuXHRwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnIHwgJzE2OjknIHwgJzQ6MycgfCAnMzoyJyB8ICdzcXVhcmUnIHwgJ2dvbGRlbicgfCAnY3VzdG9tJztcblx0Y3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbz86IHN0cmluZztcblx0cHJvZmlsZVBpY3R1cmU6IGJvb2xlYW47XG5cdHF1aWNrQWN0aW9uczogUXVpY2tBY3Rpb25zU2V0dGluZ3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVpY2tBY3Rpb25zU2V0dGluZ3Mge1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHR0b2dnbGVNb2RlOiBib29sZWFuO1xuXHQvLyBncmFwaFZpZXcgaGVyZSBvbmx5IGNvbnRyb2xzIGNvbW1hbmQgcGFsZXR0ZSBhcHBlYXJhbmNlLCBub3QgdGhlIGZlYXR1cmUgaXRzZWxmXG5cdGdyYXBoVmlldzogYm9vbGVhbjtcblx0Y2hhbmdlVGhlbWU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHlwb2dyYXBoeVNldHRpbmdzIHtcblx0aGVhZGluZ0ZvbnQ6IHN0cmluZztcblx0cHJvc2VGb250OiBzdHJpbmc7XG5cdG1vbm9Gb250OiBzdHJpbmc7XG5cdGZvbnRTb3VyY2U6ICdsb2NhbCcgfCAnY2RuJztcblx0Zm9udERpc3BsYXk6ICdzd2FwJyB8ICdmYWxsYmFjaycgfCAnb3B0aW9uYWwnO1xuXHRjdXN0b21Gb250czoge1xuXHRcdGhlYWRpbmc6IHN0cmluZztcblx0XHRwcm9zZTogc3RyaW5nO1xuXHRcdG1vbm86IHN0cmluZztcblx0XHR1cmxzOiBzdHJpbmc7XG5cdH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9uYWxGZWF0dXJlcyB7XG5cdHByb2ZpbGVQaWN0dXJlOiBQcm9maWxlUGljdHVyZVNldHRpbmdzO1xuXHRjb21tZW50czogQ29tbWVudHNTZXR0aW5ncztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9maWxlUGljdHVyZVNldHRpbmdzIHtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0aW1hZ2U6IHN0cmluZztcblx0YWx0OiBzdHJpbmc7XG5cdHNpemU6ICdzbScgfCAnbWQnIHwgJ2xnJztcblx0dXJsPzogc3RyaW5nO1xuXHRwbGFjZW1lbnQ6ICdmb290ZXInIHwgJ2hlYWRlcic7XG5cdHN0eWxlOiAnY2lyY2xlJyB8ICdzcXVhcmUnIHwgJ25vbmUnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1lbnRzU2V0dGluZ3Mge1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHRwcm92aWRlcjogJ2dpc2N1cyc7XG5cdHJhd1NjcmlwdDogc3RyaW5nOyAvLyBUaGUgZnVsbCBHaXNjdXMgc2NyaXB0IHBhc3RlZCBieSB0aGUgdXNlclxuXHRyZXBvOiBzdHJpbmc7XG5cdHJlcG9JZDogc3RyaW5nO1xuXHRjYXRlZ29yeTogc3RyaW5nO1xuXHRjYXRlZ29yeUlkOiBzdHJpbmc7XG5cdG1hcHBpbmc6IHN0cmluZztcblx0c3RyaWN0OiBzdHJpbmc7XG5cdHJlYWN0aW9uczogc3RyaW5nO1xuXHRtZXRhZGF0YTogc3RyaW5nO1xuXHRpbnB1dFBvc2l0aW9uOiBzdHJpbmc7XG5cdHRoZW1lOiBzdHJpbmc7XG5cdGxhbmc6IHN0cmluZztcblx0bG9hZGluZzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlcGxveW1lbnRTZXR0aW5ncyB7XG5cdHBsYXRmb3JtOiAnbmV0bGlmeScgfCAndmVyY2VsJyB8ICdnaXRodWItcGFnZXMnIHwgJ2Nsb3VkZmxhcmUtd29ya2Vycyc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGx1Z2luQ29uZmlndXJhdGlvbiB7XG5cdG9ic2lkaWFuU2V0dGluZ3M6IE9ic2lkaWFuU2V0dGluZ3M7XG5cdGFzdHJvQ29tcG9zZXJTZXR0aW5nczogQXN0cm9Db21wb3NlclNldHRpbmdzO1xuXHRpbWFnZU1hbmFnZXJTZXR0aW5nczogSW1hZ2VNYW5hZ2VyU2V0dGluZ3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzaWRpYW5TZXR0aW5ncyB7XG5cdGF0dGFjaG1lbnRMb2NhdGlvbjogJ3N1YmZvbGRlcicgfCAnc2FtZS1mb2xkZXInO1xuXHRzdWJmb2xkZXJOYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXN0cm9Db21wb3NlclNldHRpbmdzIHtcblx0Y3JlYXRpb25Nb2RlOiAnZmlsZScgfCAnZm9sZGVyJztcblx0aW5kZXhGaWxlTmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlTWFuYWdlclNldHRpbmdzIHtcblx0Y3VzdG9tUHJvcGVydHlMaW5rRm9ybWF0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFRlbXBsYXRlVHlwZSA9ICdzdGFuZGFyZCcgfCAnbWluaW1hbCcgfCAnY29tcGFjdCc7XG5cbmV4cG9ydCB0eXBlIFRoZW1lVHlwZSA9IFxuXHR8ICdveHlnZW4nIHwgJ21pbmltYWwnIHwgJ2F0b20nIHwgJ2F5dScgfCAnY2F0cHB1Y2NpbicgfCAnY2hhcmNvYWwnIHwgJ2RyYWN1bGEnIHwgJ2V2ZXJmb3Jlc3QnIHwgJ2ZsZXhva2knIHwgJ2dydXZib3gnXG5cdHwgJ21hY29zJyB8ICdub3JkJyB8ICdvYnNpZGlhbicgfCAncm9zZS1waW5lJyB8ICdza3knIHwgJ3NvbGFyaXplZCcgfCAndGhpbmdzJyB8ICdjdXN0b20nO1xuXG5leHBvcnQgdHlwZSBDb250ZW50T3JnYW5pemF0aW9uVHlwZSA9ICdmaWxlLWJhc2VkJyB8ICdmb2xkZXItYmFzZWQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByZXNldFRlbXBsYXRlIHtcblx0bmFtZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRmZWF0dXJlczogRmVhdHVyZVNldHRpbmdzO1xuXHR0aGVtZTogVGhlbWVUeXBlO1xuXHRjb250ZW50T3JnYW5pemF0aW9uOiBDb250ZW50T3JnYW5pemF0aW9uVHlwZTtcblx0Y29uZmlnOiBQYXJ0aWFsPEFzdHJvTW9kdWxhclNldHRpbmdzPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaXphcmRTdGVwIHtcblx0c3RlcE51bWJlcjogbnVtYmVyO1xuXHR0aXRsZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRjYW5Ta2lwOiBib29sZWFuO1xuXHRkZWZhdWx0VmFsdWU/OiB1bmtub3duO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lT3B0aW9uIHtcblx0aWQ6IFRoZW1lVHlwZTtcblx0bmFtZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRwcmV2aWV3Q29sb3JzOiBzdHJpbmdbXTtcblx0YmFja2dyb3VuZENvbG9yTGlnaHQ6IHN0cmluZztcblx0YmFja2dyb3VuZENvbG9yRGFyazogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlT3B0aW9uIHtcblx0aWQ6IFRlbXBsYXRlVHlwZTtcblx0bmFtZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRmZWF0dXJlczogc3RyaW5nW107XG5cdHJlY29tbWVuZGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsdWdpblN0YXR1cyB7XG5cdG5hbWU6IHN0cmluZztcblx0aW5zdGFsbGVkOiBib29sZWFuO1xuXHRlbmFibGVkOiBib29sZWFuO1xuXHRjb25maWd1cmFibGU6IGJvb2xlYW47XG5cdGN1cnJlbnRTZXR0aW5ncz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRvdXRPZlN5bmNDb250ZW50VHlwZXM/OiBzdHJpbmdbXTsgLy8gRm9yIEFzdHJvIENvbXBvc2VyOiBsaXN0IG9mIGNvbnRlbnQgdHlwZXMgdGhhdCBhcmUgb3V0IG9mIHN5bmNcblx0c2V0dGluZ3NNYXRjaD86IGJvb2xlYW47IC8vIEZvciBJbWFnZSBNYW5hZ2VyOiB3aGV0aGVyIHNldHRpbmdzIG1hdGNoIGNvbnRlbnQgb3JnYW5pemF0aW9uXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlnRmlsZUluZm8ge1xuXHRleGlzdHM6IGJvb2xlYW47XG5cdHBhdGg6IHN0cmluZztcblx0Y29udGVudDogc3RyaW5nO1xuXHRsYXN0TW9kaWZpZWQ6IERhdGU7XG5cdHZhbGlkOiBib29sZWFuO1xuXHRlcnJvcnM6IHN0cmluZ1tdO1xufVxuXG4vLyBPYnNpZGlhbiBpbnRlcm5hbCBBUEkgdHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgT2JzaWRpYW5BcHAge1xuXHRzZXR0aW5nOiB7XG5cdFx0b3BlbigpOiB2b2lkO1xuXHRcdG9wZW5UYWJCeUlkKGlkOiBzdHJpbmcpOiB2b2lkO1xuXHR9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9ic2lkaWFuVmF1bHRBZGFwdGVyIHtcblx0YmFzZVBhdGg/OiBzdHJpbmc7XG5cdHBhdGg/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzaWRpYW5QbHVnaW5zIHtcblx0cGx1Z2lucz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRlbmFibGVkUGx1Z2lucz86IFNldDxzdHJpbmc+O1xuXHRjb21tdW5pdHlQbHVnaW5zPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzaWRpYW5WYXVsdENvbmZpZyB7XG5cdGF0dGFjaG1lbnRGb2xkZXJQYXRoPzogc3RyaW5nO1xuXHRuZXdMaW5rRm9ybWF0Pzogc3RyaW5nO1xuXHR1c2VNYXJrZG93bkxpbmtzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYnNpZGlhbkFwcFNldHRpbmdzIHtcblx0YXR0YWNobWVudEZvbGRlclBhdGg/OiBzdHJpbmc7XG5cdG5ld0xpbmtGb3JtYXQ/OiBzdHJpbmc7XG5cdHVzZU1hcmtkb3duTGlua3M/OiBib29sZWFuO1xufVxuXG4vLyBUaGVtZSBjb2xvciBleHRyYWN0aW9uIHR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lQ29sb3JTZXR0aW5ncyB7XG5cdG1vZGU6ICdzaW1wbGUnIHwgJ2FkdmFuY2VkJztcblx0ZXh0cmFjdGVkQ29sb3JzPzogVGhlbWVDb2xvcnM7XG5cdHNpbXBsZUNvbG9ycz86IFNpbXBsZVRoZW1lQ29sb3JzO1xuXHRsYXN0RXh0cmFjdGVkPzogc3RyaW5nOyAvLyBJU08gdGltZXN0YW1wXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGhlbWVDb2xvcnMge1xuXHRwcmltYXJ5OiBDb2xvclNjYWxlO1xuXHRoaWdobGlnaHQ6IENvbG9yU2NhbGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxlVGhlbWVDb2xvcnMge1xuXHRhY2NlbnQ6IHN0cmluZztcblx0YmFja2dyb3VuZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFzdHJvTW9kdWxhclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncztcblx0Y29uZmlnTWFuYWdlcjogQ29uZmlnTWFuYWdlcjtcblx0cGx1Z2luTWFuYWdlcjogUGx1Z2luTWFuYWdlcjtcblx0bG9hZFNldHRpbmdzKCk6IFByb21pc2U8dm9pZD47XG5cdHRyaWdnZXJTZXR0aW5nc1JlZnJlc2goKTogUHJvbWlzZTx2b2lkPjtcblx0dXBkYXRlUmliYm9uSWNvbigpOiBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yU2NhbGUge1xuXHQ1MDogc3RyaW5nO1xuXHQxMDA6IHN0cmluZztcblx0MjAwOiBzdHJpbmc7XG5cdDMwMDogc3RyaW5nO1xuXHQ0MDA6IHN0cmluZztcblx0NTAwOiBzdHJpbmc7XG5cdDYwMDogc3RyaW5nO1xuXHQ3MDA6IHN0cmluZztcblx0ODAwOiBzdHJpbmc7XG5cdDkwMDogc3RyaW5nO1xuXHQ5NTA/OiBzdHJpbmc7IC8vIE9ubHkgZm9yIHByaW1hcnkgY29sb3JzXG59XG5cblxuZXhwb3J0IGNvbnN0IEZPTlRfT1BUSU9OUyA9IFtcblx0J0ludGVyJywgJ1JvYm90bycsICdPcGVuIFNhbnMnLCAnTGF0bycsICdQb3BwaW5zJywgJ1NvdXJjZSBTYW5zIFBybycsICdOdW5pdG8nLCAnTW9udHNlcnJhdCcsXG5cdCdQbGF5ZmFpciBEaXNwbGF5JywgJ01lcnJpd2VhdGhlcicsICdMb3JhJywgJ0NyaW1zb24gVGV4dCcsICdQVCBTZXJpZicsICdMaWJyZSBCYXNrZXJ2aWxsZScsXG5cdCdGaXJhIENvZGUnLCAnSmV0QnJhaW5zIE1vbm8nLCAnU291cmNlIENvZGUgUHJvJywgJ0lCTSBQbGV4IE1vbm8nLCAnQ2FzY2FkaWEgQ29kZSdcbl07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyA9IHtcblx0cnVuV2l6YXJkT25TdGFydHVwOiB0cnVlLFxuXHRjdXJyZW50VGVtcGxhdGU6ICdzdGFuZGFyZCcsXG5cdGN1cnJlbnRUaGVtZTogJ294eWdlbicsXG5cdGN1c3RvbVRoZW1lRmlsZTogJ2N1c3RvbScsXG5cdGNvbnRlbnRPcmdhbml6YXRpb246ICdmaWxlLWJhc2VkJyxcblx0dGhlbWVDb2xvcnM6IHtcblx0XHRtb2RlOiAnc2ltcGxlJyxcblx0XHRleHRyYWN0ZWRDb2xvcnM6IHVuZGVmaW5lZCxcblx0XHRzaW1wbGVDb2xvcnM6IHtcblx0XHRcdGFjY2VudDogJyM1ODY1ZjInLFxuXHRcdFx0YmFja2dyb3VuZDogJyMxZTFlMWUnXG5cdFx0fSxcblx0XHRsYXN0RXh0cmFjdGVkOiB1bmRlZmluZWRcblx0fSxcblx0c2l0ZUluZm86IHtcblx0XHRzaXRlOiAnaHR0cHM6Ly9hc3Ryby1tb2R1bGFyLm5ldGxpZnkuYXBwJyxcblx0XHR0aXRsZTogJ0FzdHJvIE1vZHVsYXInLFxuXHRcdGRlc2NyaXB0aW9uOiAnQSBmbGV4aWJsZSBibG9nIHRoZW1lIGRlc2lnbmVkIGZvciBPYnNpZGlhbiB1c2Vycy4nLFxuXHRcdGF1dGhvcjogJ0RhdmlkIFYuIEtpbWJhbGwnLFxuXHRcdGxhbmd1YWdlOiAnZW4nLFxuXHRcdGZhdmljb25UaGVtZUFkYXB0aXZlOiB0cnVlLFxuXHRcdGRlZmF1bHRPZ0ltYWdlQWx0OiAnQXN0cm8gTW9kdWxhciBsb2dvLicsXG5cdH0sXG5cdGxheW91dDoge1xuXHRcdGNvbnRlbnRXaWR0aDogJzQ1cmVtJyxcblx0fSxcblx0dGFibGVPZkNvbnRlbnRzOiB7XG5cdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRkZXB0aDogNCxcblx0fSxcblx0Zm9vdGVyOiB7XG5cdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRjb250ZW50OiAnXHUwMEE5IDIwMjUge2F1dGhvcn0uIEJ1aWx0IHdpdGggdGhlIDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyXCIgdGFyZ2V0PVwiX2JsYW5rXCI+QXN0cm8gTW9kdWxhcjwvYT4gdGhlbWUuJyxcblx0XHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogdHJ1ZSxcblx0fSxcblx0c2VvOiB7XG5cdFx0ZGVmYXVsdE9nSW1hZ2VBbHQ6ICdBc3RybyBNb2R1bGFyIGxvZ28uJyxcblx0fSxcblx0bmF2aWdhdGlvbjoge1xuXHRcdHNob3dOYXZpZ2F0aW9uOiB0cnVlLFxuXHRcdHN0eWxlOiAndHJhZGl0aW9uYWwnLFxuXHRcdHNob3dNb2JpbGVNZW51OiB0cnVlLFxuXHRcdHBhZ2VzOiBbXG5cdFx0XHR7IHRpdGxlOiAnUG9zdHMnLCB1cmw6ICcvcG9zdHMnIH0sXG5cdFx0XHR7IHRpdGxlOiAnUHJvamVjdHMnLCB1cmw6ICcvcHJvamVjdHMnIH0sXG5cdFx0XHR7IHRpdGxlOiAnRG9jcycsIHVybDogJy9kb2NzJyB9LFxuXHRcdFx0eyB0aXRsZTogJ0Fib3V0JywgdXJsOiAnL2Fib3V0JyB9LFxuXHRcdFx0eyB0aXRsZTogJ0dpdEh1YicsIHVybDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZHZraW1iYWxsL2FzdHJvLW1vZHVsYXInIH0sXG5cdFx0XSxcblx0XHRzb2NpYWw6IFtcblx0XHRcdHsgdGl0bGU6ICdYJywgdXJsOiAnaHR0cHM6Ly94LmNvbS9kYXZpZHZraW1iYWxsJywgaWNvbjogJ3gtdHdpdHRlcicgfSxcblx0XHRcdHsgdGl0bGU6ICdHaXRIdWInLCB1cmw6ICdodHRwczovL2dpdGh1Yi5jb20vZGF2aWR2a2ltYmFsbCcsIGljb246ICdnaXRodWInIH0sXG5cdFx0XSxcblx0fSxcblx0Y29tbWFuZFBhbGV0dGU6IHtcblx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdHNob3J0Y3V0OiAnY3RybCtLJyxcblx0XHRwbGFjZWhvbGRlcjogJ1NlYXJjaCBwb3N0cycsXG5cdFx0c2VhcmNoOiB7XG5cdFx0XHRwb3N0czogdHJ1ZSxcblx0XHRcdHBhZ2VzOiBmYWxzZSxcblx0XHRcdHByb2plY3RzOiBmYWxzZSxcblx0XHRcdGRvY3M6IGZhbHNlLFxuXHRcdH0sXG5cdFx0c2VjdGlvbnM6IHtcblx0XHRcdHF1aWNrQWN0aW9uczogdHJ1ZSxcblx0XHRcdHBhZ2VzOiB0cnVlLFxuXHRcdFx0c29jaWFsOiB0cnVlLFxuXHRcdH0sXG5cdFx0cXVpY2tBY3Rpb25zOiB7XG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0dG9nZ2xlTW9kZTogdHJ1ZSxcblx0XHRcdGdyYXBoVmlldzogdHJ1ZSxcblx0XHRcdGNoYW5nZVRoZW1lOiB0cnVlLFxuXHRcdH0sXG5cdH0sXG5cdGhvbWVPcHRpb25zOiB7XG5cdFx0ZmVhdHVyZWRQb3N0OiB7XG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0dHlwZTogJ2xhdGVzdCcsXG5cdFx0XHRzbHVnOiAnZ2V0dGluZy1zdGFydGVkJyxcblx0XHR9LFxuXHRcdHJlY2VudFBvc3RzOiB7XG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0Y291bnQ6IDcsXG5cdFx0fSxcblx0XHRwcm9qZWN0czoge1xuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdGNvdW50OiAyLFxuXHRcdH0sXG5cdFx0ZG9jczoge1xuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdGNvdW50OiAzLFxuXHRcdH0sXG5cdFx0Ymx1cmI6IHtcblx0XHRcdHBsYWNlbWVudDogJ2JlbG93Jyxcblx0XHR9LFxuXHR9LFxuXHRwb3N0T3B0aW9uczoge1xuXHRcdHBvc3RzUGVyUGFnZTogNixcblx0XHRyZWFkaW5nVGltZTogdHJ1ZSxcblx0XHR3b3JkQ291bnQ6IHRydWUsXG5cdFx0dGFnczogdHJ1ZSxcblx0XHRsaW5rZWRNZW50aW9uczoge1xuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UsXG5cdFx0fSxcblx0XHRncmFwaFZpZXc6IHtcblx0XHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0XHRzaG93SW5TaWRlYmFyOiB0cnVlLFxuXHRcdFx0bWF4Tm9kZXM6IDEwMCxcblx0XHRcdHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlLFxuXHRcdH0sXG5cdFx0cG9zdE5hdmlnYXRpb246IHRydWUsXG5cdFx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLFxuXHRcdHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsXG5cdFx0Y3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJyxcblx0XHRjb21tZW50czoge1xuXHRcdFx0ZW5hYmxlZDogZmFsc2UsXG5cdFx0XHRwcm92aWRlcjogJ2dpc2N1cycsXG5cdFx0XHRyYXdTY3JpcHQ6ICcnLFxuXHRcdFx0cmVwbzogJ2RhdmlkdmtpbWJhbGwvYXN0cm8tbW9kdWxhcicsXG5cdFx0XHRyZXBvSWQ6ICdSX2tnRE9QbGxmS3cnLFxuXHRcdFx0Y2F0ZWdvcnk6ICdHZW5lcmFsJyxcblx0XHRcdGNhdGVnb3J5SWQ6ICdESUNfa3dET1BsbGZLODRDdlVweCcsXG5cdFx0XHRtYXBwaW5nOiAncGF0aG5hbWUnLFxuXHRcdFx0c3RyaWN0OiAnMCcsXG5cdFx0XHRyZWFjdGlvbnM6ICcxJyxcblx0XHRcdG1ldGFkYXRhOiAnMCcsXG5cdFx0XHRpbnB1dFBvc2l0aW9uOiAnYm90dG9tJyxcblx0XHRcdHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsXG5cdFx0XHRsYW5nOiAnZW4nLFxuXHRcdFx0bG9hZGluZzogJ2xhenknLFxuXHRcdH0sXG5cdH0sXG5cdGZlYXR1cmVzOiB7XG5cdFx0Y29tbWFuZFBhbGV0dGU6IHRydWUsXG5cdFx0cmVhZGluZ1RpbWU6IHRydWUsXG5cdFx0bGlua2VkTWVudGlvbnM6IHRydWUsXG5cdFx0bGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSxcblx0XHRjb21tZW50czogZmFsc2UsXG5cdFx0Z3JhcGhWaWV3OiB0cnVlLFxuXHRcdHBvc3ROYXZpZ2F0aW9uOiB0cnVlLFxuXHRcdGhpZGVTY3JvbGxCYXI6IGZhbHNlLFxuXHRcdHNjcm9sbFRvVG9wOiB0cnVlLFxuXHRcdGZlYXR1cmVCdXR0b246ICdtb2RlJyxcblx0XHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogdHJ1ZSxcblx0XHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsXG5cdFx0cG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcblx0XHRwcm9maWxlUGljdHVyZTogZmFsc2UsXG5cdFx0cXVpY2tBY3Rpb25zOiB7XG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0dG9nZ2xlTW9kZTogdHJ1ZSxcblx0XHRcdGdyYXBoVmlldzogdHJ1ZSxcblx0XHRcdGNoYW5nZVRoZW1lOiB0cnVlLFxuXHRcdH0sXG5cdH0sXG5cdHR5cG9ncmFwaHk6IHtcblx0XHRoZWFkaW5nRm9udDogJ0ludGVyJyxcblx0XHRwcm9zZUZvbnQ6ICdJbnRlcicsXG5cdFx0bW9ub0ZvbnQ6ICdKZXRCcmFpbnMgTW9ubycsXG5cdFx0Zm9udFNvdXJjZTogJ2xvY2FsJyxcblx0XHRmb250RGlzcGxheTogJ3N3YXAnLFxuXHRcdGN1c3RvbUZvbnRzOiB7XG5cdFx0XHRoZWFkaW5nOiAnJyxcblx0XHRcdHByb3NlOiAnJyxcblx0XHRcdG1vbm86ICcnLFxuXHRcdFx0dXJsczogJycsXG5cdFx0fSxcblx0fSxcblx0b3B0aW9uYWxGZWF0dXJlczoge1xuXHRcdHByb2ZpbGVQaWN0dXJlOiB7XG5cdFx0XHRlbmFibGVkOiBmYWxzZSxcblx0XHRcdGltYWdlOiAnL3Byb2ZpbGUuanBnJyxcblx0XHRcdGFsdDogJ1Byb2ZpbGUgcGljdHVyZScsXG5cdFx0XHRzaXplOiAnbWQnLFxuXHRcdFx0dXJsOiAnJyxcblx0XHRcdHBsYWNlbWVudDogJ2Zvb3RlcicsXG5cdFx0XHRzdHlsZTogJ2NpcmNsZScsXG5cdFx0fSxcblx0XHRjb21tZW50czoge1xuXHRcdFx0ZW5hYmxlZDogZmFsc2UsXG5cdFx0XHRwcm92aWRlcjogJ2dpc2N1cycsXG5cdFx0XHRyYXdTY3JpcHQ6ICcnLFxuXHRcdFx0cmVwbzogJ2RhdmlkdmtpbWJhbGwvYXN0cm8tbW9kdWxhcicsXG5cdFx0XHRyZXBvSWQ6ICdSX2tnRE9QbGxmS3cnLFxuXHRcdFx0Y2F0ZWdvcnk6ICdHZW5lcmFsJyxcblx0XHRcdGNhdGVnb3J5SWQ6ICdESUNfa3dET1BsbGZLODRDdlVweCcsXG5cdFx0XHRtYXBwaW5nOiAncGF0aG5hbWUnLFxuXHRcdFx0c3RyaWN0OiAnMCcsXG5cdFx0XHRyZWFjdGlvbnM6ICcxJyxcblx0XHRcdG1ldGFkYXRhOiAnMCcsXG5cdFx0XHRpbnB1dFBvc2l0aW9uOiAnYm90dG9tJyxcblx0XHRcdHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsXG5cdFx0XHRsYW5nOiAnZW4nLFxuXHRcdFx0bG9hZGluZzogJ2xhenknLFxuXHRcdH0sXG5cdH0sXG5cdGRlcGxveW1lbnQ6IHtcblx0XHRwbGF0Zm9ybTogJ25ldGxpZnknLFxuXHR9LFxuXHRwbHVnaW5Db25maWc6IHtcblx0XHRvYnNpZGlhblNldHRpbmdzOiB7XG5cdFx0XHRhdHRhY2htZW50TG9jYXRpb246ICdzdWJmb2xkZXInLFxuXHRcdFx0c3ViZm9sZGVyTmFtZTogJ2F0dGFjaG1lbnRzJyxcblx0XHR9LFxuXHRcdGFzdHJvQ29tcG9zZXJTZXR0aW5nczoge1xuXHRcdFx0Y3JlYXRpb25Nb2RlOiAnZmlsZScsXG5cdFx0XHRpbmRleEZpbGVOYW1lOiAnaW5kZXgnLFxuXHRcdH0sXG5cdFx0aW1hZ2VNYW5hZ2VyU2V0dGluZ3M6IHtcblx0XHRcdGN1c3RvbVByb3BlcnR5TGlua0Zvcm1hdDogJ1tbYXR0YWNobWVudHMve2ltYWdlLXVybH1dXScsXG5cdFx0fSxcblx0fSxcblx0b3B0aW9uYWxDb250ZW50VHlwZXM6IHtcblx0XHRwcm9qZWN0czogdHJ1ZSwgLy8gV2lsbCBiZSBvdmVycmlkZGVuIGJhc2VkIG9uIHRlbXBsYXRlXG5cdFx0ZG9jczogdHJ1ZSwgLy8gV2lsbCBiZSBvdmVycmlkZGVuIGJhc2VkIG9uIHRlbXBsYXRlXG5cdH0sXG5cdGF2YWlsYWJsZVRoZW1lczogJ2RlZmF1bHQnLFxuXHRjdXN0b21UaGVtZXM6ICcnLFxuXHRjdXN0b21UaGVtZUdlbmVyYXRpb25FbmFibGVkOiBmYWxzZSxcblx0cmVtb3ZlUmliYm9uSWNvbjogZmFsc2UsXG59O1xuXG5leHBvcnQgY29uc3QgVEhFTUVfT1BUSU9OUzogVGhlbWVPcHRpb25bXSA9IFtcblx0e1xuXHRcdGlkOiAnb3h5Z2VuJyxcblx0XHRuYW1lOiAnT3h5Z2VuJyxcblx0XHRkZXNjcmlwdGlvbjogJ01vZGVybiwgY2xlYW4gZGVzaWduJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyMwNzU5ODUnLCAnIzM4YmRmOCddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2Y4ZmFmYycsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMwMjA2MTcnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdtaW5pbWFsJyxcblx0XHRuYW1lOiAnTWluaW1hbCcsXG5cdFx0ZGVzY3JpcHRpb246ICdVbmRlcnN0YXRlZCB3aXRoIGhpZ2ggY29udHJhc3QnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzJkMzgzYycsICcjODdiZmNmJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZmFmYWZhJyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzFhMWExYScsXG5cdH0sXG5cdHtcblx0XHRpZDogJ2F0b20nLFxuXHRcdG5hbWU6ICdBdG9tJyxcblx0XHRkZXNjcmlwdGlvbjogJ0RhcmsgdGhlbWUgd2l0aCB2aWJyYW50IGFjY2VudHMnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzA3NTk4NScsICcjNTc4YWYyJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZjhmYWZjJyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzE4MWExZicsXG5cdH0sXG5cdHtcblx0XHRpZDogJ2F5dScsXG5cdFx0bmFtZTogJ0F5dScsXG5cdFx0ZGVzY3JpcHRpb246ICdDbGVhbiB0aGVtZSB3aXRoIHdhcm0gY29sb3JzJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyM5OTUyMWEnLCAnI2ZmOTkzMyddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2Y4ZjhmMCcsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMwZjE0MTknLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdjYXRwcHVjY2luJyxcblx0XHRuYW1lOiAnQ2F0cHB1Y2NpbicsXG5cdFx0ZGVzY3JpcHRpb246ICdQYXN0ZWwgY29sb3IgcGFsZXR0ZScsXG5cdFx0cHJldmlld0NvbG9yczogWycjOTU2MjRmJywgJyNkZjc3NjMnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmZWY3ZWQnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMTgxODI1Jyxcblx0fSxcblx0e1xuXHRcdGlkOiAnY2hhcmNvYWwnLFxuXHRcdG5hbWU6ICdDaGFyY29hbCcsXG5cdFx0ZGVzY3JpcHRpb246ICdEYXJrLCBwcm9mZXNzaW9uYWwgbG9vaycsXG5cdFx0cHJldmlld0NvbG9yczogWycjMjAyMDIwJywgJyNjMGMwYzAnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmOGY4ZjgnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMDAwMDAwJyxcblx0fSxcblx0e1xuXHRcdGlkOiAnZHJhY3VsYScsXG5cdFx0bmFtZTogJ0RyYWN1bGEnLFxuXHRcdGRlc2NyaXB0aW9uOiAnRGFyayB0aGVtZSB3aXRoIHB1cnBsZSBhY2NlbnRzJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyM3YzNhZWQnLCAnI2E3OGJmYSddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2Y4ZjhmMicsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMxOTFhMjEnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdldmVyZm9yZXN0Jyxcblx0XHRuYW1lOiAnRXZlcmZvcmVzdCcsXG5cdFx0ZGVzY3JpcHRpb246ICdTb2Z0LCB3YXJtIGNvbG9ycycsXG5cdFx0cHJldmlld0NvbG9yczogWycjNWE3YTVhJywgJyM4M2MwOTInXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmN2Y2ZjMnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMmQzNTNiJyxcblx0fSxcblx0e1xuXHRcdGlkOiAnZmxleG9raScsXG5cdFx0bmFtZTogJ0ZsZXhva2knLFxuXHRcdGRlc2NyaXB0aW9uOiAnQmFzZWQgb24gTWF0ZXJpYWwgRGVzaWduIDMnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzE2NTA0YScsICcjNGRiZGI1J10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZmVmZWZlJyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzEwMGYwZicsXG5cdH0sXG5cdHtcblx0XHRpZDogJ2dydXZib3gnLFxuXHRcdG5hbWU6ICdHcnV2Ym94Jyxcblx0XHRkZXNjcmlwdGlvbjogJ1JldHJvIGdyb292ZSBjb2xvciBzY2hlbWUnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzdhNTQxMicsICcjZjc4YjMzJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZmJmMWM3Jyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzFkMjAyMScsXG5cdH0sXG5cdHtcblx0XHRpZDogJ21hY29zJyxcblx0XHRuYW1lOiAnbWFjT1MnLFxuXHRcdGRlc2NyaXB0aW9uOiAnTmF0aXZlIG1hY09TIGFwcGVhcmFuY2UnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzAwMmU2NicsICcjMzM5ZmZmJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZjVmNWY3Jyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzE0MTQxNCcsXG5cdH0sXG5cdHtcblx0XHRpZDogJ25vcmQnLFxuXHRcdG5hbWU6ICdOb3JkJyxcblx0XHRkZXNjcmlwdGlvbjogJ0FyY3RpYy1pbnNwaXJlZCBjb2xvciBwYWxldHRlJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyMyZTRjNjMnLCAnIzVlOTRiOCddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2Y4ZmFmYycsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMyZTM0NDAnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdvYnNpZGlhbicsXG5cdFx0bmFtZTogJ09ic2lkaWFuJyxcblx0XHRkZXNjcmlwdGlvbjogJ01hdGNoZXMgT2JzaWRpYW5cXCdzIGRlZmF1bHQgdGhlbWUnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzUyMjk5NCcsICcjOWM3NWZmJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZjhmOGY4Jyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzBhMGEwYScsXG5cdH0sXG5cdHtcblx0XHRpZDogJ3Jvc2UtcGluZScsXG5cdFx0bmFtZTogJ1Jvc1x1MDBFOSBQaW5lJyxcblx0XHRkZXNjcmlwdGlvbjogJ0FsbCBuYXR1cmFsIHBpbmUsIGZhdXggZmlyLCBhbmQgd2ludGVyJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyNhYjIxNDInLCAnI2VmOTdhOSddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2ZhZjRlZCcsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMxOTE3MjQnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdza3knLFxuXHRcdG5hbWU6ICdTa3knLFxuXHRcdGRlc2NyaXB0aW9uOiAnTGlnaHQsIGFpcnkgZGVzaWduJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyMxMzYxOTQnLCAnIzQ2YWFkMCddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2YwZjlmZicsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMyMzI3MjknLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdzb2xhcml6ZWQnLFxuXHRcdG5hbWU6ICdTb2xhcml6ZWQnLFxuXHRcdGRlc2NyaXB0aW9uOiAnUHJlY2lzaW9uIGNvbG9ycyBmb3IgbWFjaGluZXMgYW5kIHBlb3BsZScsXG5cdFx0cHJldmlld0NvbG9yczogWycjMGUzNzU0JywgJyMzMzlmZmYnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmZGY2ZTMnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMDAyYjM2Jyxcblx0fSxcblx0e1xuXHRcdGlkOiAndGhpbmdzJyxcblx0XHRuYW1lOiAnVGhpbmdzJyxcblx0XHRkZXNjcmlwdGlvbjogJ0NsZWFuLCBtaW5pbWFsIGRlc2lnbicsXG5cdFx0cHJldmlld0NvbG9yczogWycjMWUzYThhJywgJyM0ZDk1ZjcnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmOGZhZmMnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMTcxOTFjJyxcblx0fSxcblx0e1xuXHRcdGlkOiAnY3VzdG9tJyxcblx0XHRuYW1lOiAnQ3VzdG9tJyxcblx0XHRkZXNjcmlwdGlvbjogJ1VzZSBhIGN1c3RvbSB0aGVtZSBmaWxlJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyM2NjY2NjYnLCAnIzk5OTk5OSddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2ZmZmZmZicsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMwMDAwMDAnLFxuXHR9LFxuXTtcblxuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX09QVElPTlM6IFRlbXBsYXRlT3B0aW9uW10gPSBbXG5cdHtcblx0XHRpZDogJ3N0YW5kYXJkJyxcblx0XHRuYW1lOiAnU3RhbmRhcmQnLFxuXHRcdGRlc2NyaXB0aW9uOiAnRnVsbC1mZWF0dXJlZCBibG9nIHdpdGggYWxsIGRlZmF1bHQgb3B0aW9ucyBlbmFibGVkJyxcblx0XHRmZWF0dXJlczogWydDb21tYW5kIHBhbGV0dGUnLCAnVGFibGUgb2YgY29udGVudHMnLCAnUmVhZGluZyB0aW1lJywgJ0xpbmtlZCBtZW50aW9ucycsICdGb290ZXInLCAnU29jaWFsIGljb25zJywgJ1Njcm9sbCB0byB0b3AnLCAnRGFyayBtb2RlIHRvZ2dsZSddLFxuXHRcdHJlY29tbWVuZGVkOiB0cnVlLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdjb21wYWN0Jyxcblx0XHRuYW1lOiAnQ29tcGFjdCcsXG5cdFx0ZGVzY3JpcHRpb246ICdCYWxhbmNlZCBzZXR1cCBmb3Igc21hbGxlciBzaXRlcyB3aXRoIG9wdGltaXplZCBsYXlvdXQnLFxuXHRcdGZlYXR1cmVzOiBbJ0NvbW1hbmQgcGFsZXR0ZScsICdUYWJsZSBvZiBjb250ZW50cycsICdSZWFkaW5nIHRpbWUnLCAnQ29tcGFjdCBsaW5rZWQgbWVudGlvbnMnLCAnQ3VzdG9tIGFzcGVjdCByYXRpbyddLFxuXHRcdHJlY29tbWVuZGVkOiBmYWxzZSxcblx0fSxcblx0e1xuXHRcdGlkOiAnbWluaW1hbCcsXG5cdFx0bmFtZTogJ01pbmltYWwnLFxuXHRcdGRlc2NyaXB0aW9uOiAnQ2xlYW4sIHNpbXBsZSBibG9nIHdpdGggbWluaW1hbCBmZWF0dXJlcyBhbmQgY29udGVudCcsXG5cdFx0ZmVhdHVyZXM6IFsnQ29tbWFuZCBwYWxldHRlJywgJ1NlYXJjaCBwb3N0cy9wYWdlcycsICdNaW5pbWFsIG5hdmlnYXRpb24nXSxcblx0XHRyZWNvbW1lbmRlZDogZmFsc2UsXG5cdH0sXG5dO1xuIiwgImltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgVGVtcGxhdGVUeXBlLCBUaGVtZVR5cGUsIENvbnRlbnRPcmdhbml6YXRpb25UeXBlLCBTaXRlSW5mb3JtYXRpb24sIE5hdmlnYXRpb25TZXR0aW5ncywgRmVhdHVyZVNldHRpbmdzLCBUeXBvZ3JhcGh5U2V0dGluZ3MsIE9wdGlvbmFsRmVhdHVyZXMsIEFzdHJvTW9kdWxhclBsdWdpbiB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV2l6YXJkU3RhdGUge1xyXG5cdC8vIEN1cnJlbnQgc3RlcFxyXG5cdGN1cnJlbnRTdGVwOiBudW1iZXI7XHJcblx0dG90YWxTdGVwczogbnVtYmVyO1xyXG5cdFxyXG5cdC8vIFdpemFyZCBzZWxlY3Rpb25zXHJcblx0c2VsZWN0ZWRUZW1wbGF0ZTogVGVtcGxhdGVUeXBlO1xyXG5cdHNlbGVjdGVkVGhlbWU6IFRoZW1lVHlwZTtcclxuXHRzZWxlY3RlZENvbnRlbnRPcmc6IENvbnRlbnRPcmdhbml6YXRpb25UeXBlO1xyXG5cdHNlbGVjdGVkU2l0ZUluZm86IFNpdGVJbmZvcm1hdGlvbjtcclxuXHRzZWxlY3RlZE5hdmlnYXRpb246IE5hdmlnYXRpb25TZXR0aW5ncztcclxuXHRzZWxlY3RlZEZlYXR1cmVzOiBGZWF0dXJlU2V0dGluZ3M7XHJcblx0c2VsZWN0ZWRUeXBvZ3JhcGh5OiBUeXBvZ3JhcGh5U2V0dGluZ3M7XHJcblx0c2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzOiBPcHRpb25hbEZlYXR1cmVzO1xyXG5cdHNlbGVjdGVkT3B0aW9uYWxDb250ZW50VHlwZXM6IHtcclxuXHRcdHByb2plY3RzOiBib29sZWFuO1xyXG5cdFx0ZG9jczogYm9vbGVhbjtcclxuXHR9O1xyXG5cdHNlbGVjdGVkRGVwbG95bWVudDogJ25ldGxpZnknIHwgJ3ZlcmNlbCcgfCAnZ2l0aHViLXBhZ2VzJyB8ICdjbG91ZGZsYXJlLXdvcmtlcnMnO1xyXG5cdHJ1bldpemFyZE9uU3RhcnR1cDogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFdpemFyZFN0YXRlTWFuYWdlciB7XHJcblx0cHJpdmF0ZSBzdGF0ZTogV2l6YXJkU3RhdGU7XHJcblx0cHJpdmF0ZSBwbHVnaW46IFBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOiBQbHVnaW4pIHtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSAocGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuc2V0dGluZ3M7XHJcblx0XHR0aGlzLnN0YXRlID0ge1xyXG5cdFx0XHRjdXJyZW50U3RlcDogMSxcclxuXHRcdFx0dG90YWxTdGVwczogMTAsXHJcblx0XHRcdHNlbGVjdGVkVGVtcGxhdGU6IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSxcclxuXHRcdFx0c2VsZWN0ZWRUaGVtZTogc2V0dGluZ3MuY3VycmVudFRoZW1lLFxyXG5cdFx0XHRzZWxlY3RlZENvbnRlbnRPcmc6IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24sXHJcblx0XHRcdHNlbGVjdGVkU2l0ZUluZm86IHNldHRpbmdzLnNpdGVJbmZvLFxyXG5cdFx0XHRzZWxlY3RlZE5hdmlnYXRpb246IHNldHRpbmdzLm5hdmlnYXRpb24sXHJcblx0XHRcdHNlbGVjdGVkRmVhdHVyZXM6ICgoKSA9PiB7XHJcblx0XHRcdFx0Ly8gSW5pdGlhbGl6ZSBmZWF0dXJlcyBiYXNlZCBvbiBjdXJyZW50IHRlbXBsYXRlXHJcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGVGZWF0dXJlczogUmVjb3JkPHN0cmluZywgRmVhdHVyZVNldHRpbmdzPiA9IHtcclxuXHRcdFx0XHQnc3RhbmRhcmQnOiB7XHJcblx0XHRcdFx0XHRjb21tYW5kUGFsZXR0ZTogdHJ1ZSxcclxuXHRcdFx0XHRcdHJlYWRpbmdUaW1lOiB0cnVlLFxyXG5cdFx0XHRcdFx0bGlua2VkTWVudGlvbnM6IHRydWUsXHJcblx0XHRcdFx0XHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlLFxyXG5cdFx0XHRcdFx0Z3JhcGhWaWV3OiB0cnVlLFxyXG5cdFx0XHRcdFx0cG9zdE5hdmlnYXRpb246IHRydWUsXHJcblx0XHRcdFx0XHRoaWRlU2Nyb2xsQmFyOiBmYWxzZSxcclxuXHRcdFx0XHRcdHNjcm9sbFRvVG9wOiB0cnVlLFxyXG5cdFx0XHRcdFx0c2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IHRydWUsXHJcblx0XHRcdFx0XHRwcm9maWxlUGljdHVyZTogZmFsc2UsXHJcblx0XHRcdFx0XHRjb21tZW50czogZmFsc2UsXHJcblx0XHRcdFx0XHRmZWF0dXJlQnV0dG9uOiAnbW9kZScsXHJcblx0XHRcdFx0XHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsXHJcblx0XHRcdFx0XHRwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxyXG5cdFx0XHRcdFx0Y3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJyxcclxuXHRcdFx0XHRcdHF1aWNrQWN0aW9uczoge1xyXG5cdFx0XHRcdFx0XHRlbmFibGVkOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHR0b2dnbGVNb2RlOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRncmFwaFZpZXc6IHRydWUsXHJcblx0XHRcdFx0XHRcdGNoYW5nZVRoZW1lOiB0cnVlLFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQnY29tcGFjdCc6IHtcclxuXHRcdFx0XHRcdFx0Y29tbWFuZFBhbGV0dGU6IHRydWUsXHJcblx0XHRcdFx0XHRcdHJlYWRpbmdUaW1lOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRsaW5rZWRNZW50aW9uczogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0bGlua2VkTWVudGlvbnNDb21wYWN0OiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRncmFwaFZpZXc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRwb3N0TmF2aWdhdGlvbjogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0aGlkZVNjcm9sbEJhcjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHNjcm9sbFRvVG9wOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHByb2ZpbGVQaWN0dXJlOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0Y29tbWVudHM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRmZWF0dXJlQnV0dG9uOiAnbm9uZScsXHJcblx0XHRcdFx0XHRcdHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJyxcclxuXHRcdFx0XHRcdFx0cG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcclxuXHRcdFx0XHRcdFx0Y3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJyxcclxuXHRcdFx0XHRcdFx0cXVpY2tBY3Rpb25zOiB7XHJcblx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHR0b2dnbGVNb2RlOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGdyYXBoVmlldzogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRjaGFuZ2VUaGVtZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCdtaW5pbWFsJzoge1xyXG5cdFx0XHRcdFx0XHRjb21tYW5kUGFsZXR0ZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0cmVhZGluZ1RpbWU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRsaW5rZWRNZW50aW9uczogZmFsc2UsXHJcblx0XHRcdFx0XHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdGdyYXBoVmlldzogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHBvc3ROYXZpZ2F0aW9uOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0aGlkZVNjcm9sbEJhcjogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0c2Nyb2xsVG9Ub3A6IHRydWUsXHJcblx0XHRcdFx0XHRcdHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0cHJvZmlsZVBpY3R1cmU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRjb21tZW50czogZmFsc2UsXHJcblx0XHRcdFx0XHRcdGZlYXR1cmVCdXR0b246ICdub25lJyxcclxuXHRcdFx0XHRcdFx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLFxyXG5cdFx0XHRcdFx0XHRwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxyXG5cdFx0XHRcdFx0XHRjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLFxyXG5cdFx0XHRcdFx0XHRxdWlja0FjdGlvbnM6IHtcclxuXHRcdFx0XHRcdFx0XHRlbmFibGVkOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdHRvZ2dsZU1vZGU6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0Z3JhcGhWaWV3OiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGNoYW5nZVRoZW1lOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0J2N1c3RvbSc6IHtcclxuXHRcdFx0XHRcdFx0Ly8gRm9yIGN1c3RvbSwgdXNlIGN1cnJlbnQgc2V0dGluZ3NcclxuXHRcdFx0XHRcdFx0Li4uc2V0dGluZ3MuZmVhdHVyZXNcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGNvbnN0IHRlbXBsYXRlRmVhdHVyZXNSZXN1bHQgPSB0ZW1wbGF0ZUZlYXR1cmVzW3NldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZV0gfHwgdGVtcGxhdGVGZWF0dXJlc1snc3RhbmRhcmQnXTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBFbnN1cmUgcHJvZmlsZSBwaWN0dXJlIGFuZCBjb21tZW50cyBmZWF0dXJlcyBhcmUgc3luY2hyb25pemVkIHdpdGggZXhpc3Rpbmcgc2V0dGluZ3NcclxuXHRcdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmUpIHtcclxuXHRcdFx0XHRcdHRlbXBsYXRlRmVhdHVyZXNSZXN1bHQucHJvZmlsZVBpY3R1cmUgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmVuYWJsZWQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cykge1xyXG5cdFx0XHRcdFx0dGVtcGxhdGVGZWF0dXJlc1Jlc3VsdC5jb21tZW50cyA9IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0cmV0dXJuIHRlbXBsYXRlRmVhdHVyZXNSZXN1bHQ7XHJcblx0XHRcdH0pKCksXHJcblx0XHRcdHNlbGVjdGVkVHlwb2dyYXBoeTogc2V0dGluZ3MudHlwb2dyYXBoeSxcclxuXHRcdFx0c2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzOiB7XHJcblx0XHRcdFx0cHJvZmlsZVBpY3R1cmU6IHtcclxuXHRcdFx0XHRcdGVuYWJsZWQ6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5lbmFibGVkIHx8IGZhbHNlLFxyXG5cdFx0XHRcdFx0aW1hZ2U6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5pbWFnZSB8fCAnL3Byb2ZpbGUuanBnJyxcclxuXHRcdFx0XHRcdGFsdDogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LmFsdCB8fCAnUHJvZmlsZSBwaWN0dXJlJyxcclxuXHRcdFx0XHRcdHNpemU6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5zaXplIHx8ICdtZCcsXHJcblx0XHRcdFx0XHR1cmw6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy51cmwgfHwgJycsXHJcblx0XHRcdFx0XHRwbGFjZW1lbnQ6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5wbGFjZW1lbnQgfHwgJ2Zvb3RlcicsXHJcblx0XHRcdFx0XHRzdHlsZTogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LnN0eWxlIHx8ICdjaXJjbGUnLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y29tbWVudHM6ICgoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBjb21tZW50c0VuYWJsZWQgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cz8uZW5hYmxlZCB8fCBmYWxzZTtcclxuXHRcdFx0XHRcdGNvbnN0IGV4aXN0aW5nQ29tbWVudHMgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cztcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gSWYgY29tbWVudHMgYXJlIGRpc2FibGVkLCBwcmVzZXJ2ZSBleGlzdGluZyB2YWx1ZXMgKGRvbid0IHBvcHVsYXRlIGRlZmF1bHRzKVxyXG5cdFx0XHRcdFx0aWYgKCFjb21tZW50c0VuYWJsZWQpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0XHRlbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRwcm92aWRlcjogZXhpc3RpbmdDb21tZW50cz8ucHJvdmlkZXIgfHwgJ2dpc2N1cycsXHJcblx0XHRcdFx0XHRcdFx0cmF3U2NyaXB0OiBleGlzdGluZ0NvbW1lbnRzPy5yYXdTY3JpcHQgfHwgJycsXHJcblx0XHRcdFx0XHRcdFx0cmVwbzogZXhpc3RpbmdDb21tZW50cz8ucmVwbyB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZXBvSWQ6IGV4aXN0aW5nQ29tbWVudHM/LnJlcG9JZCB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRjYXRlZ29yeTogZXhpc3RpbmdDb21tZW50cz8uY2F0ZWdvcnkgfHwgJycsXHJcblx0XHRcdFx0XHRcdFx0Y2F0ZWdvcnlJZDogZXhpc3RpbmdDb21tZW50cz8uY2F0ZWdvcnlJZCB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRtYXBwaW5nOiBleGlzdGluZ0NvbW1lbnRzPy5tYXBwaW5nIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHN0cmljdDogZXhpc3RpbmdDb21tZW50cz8uc3RyaWN0IHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHJlYWN0aW9uczogZXhpc3RpbmdDb21tZW50cz8ucmVhY3Rpb25zIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBleGlzdGluZ0NvbW1lbnRzPy5tZXRhZGF0YSB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRpbnB1dFBvc2l0aW9uOiBleGlzdGluZ0NvbW1lbnRzPy5pbnB1dFBvc2l0aW9uIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHRoZW1lOiBleGlzdGluZ0NvbW1lbnRzPy50aGVtZSB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRsYW5nOiBleGlzdGluZ0NvbW1lbnRzPy5sYW5nIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRcdGxvYWRpbmc6IGV4aXN0aW5nQ29tbWVudHM/LmxvYWRpbmcgfHwgJycsXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIElmIGNvbW1lbnRzIGFyZSBlbmFibGVkLCB1c2UgZGVmYXVsdHMgZm9yIG1pc3NpbmcgdmFsdWVzXHJcblx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRlbmFibGVkOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRwcm92aWRlcjogZXhpc3RpbmdDb21tZW50cz8ucHJvdmlkZXIgfHwgJ2dpc2N1cycsXHJcblx0XHRcdFx0XHRcdHJhd1NjcmlwdDogZXhpc3RpbmdDb21tZW50cz8ucmF3U2NyaXB0IHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRyZXBvOiBleGlzdGluZ0NvbW1lbnRzPy5yZXBvIHx8ICdkYXZpZHZraW1iYWxsL2FzdHJvLW1vZHVsYXInLFxyXG5cdFx0XHRcdFx0XHRyZXBvSWQ6IGV4aXN0aW5nQ29tbWVudHM/LnJlcG9JZCB8fCAnUl9rZ0RPUGxsZkt3JyxcclxuXHRcdFx0XHRcdFx0Y2F0ZWdvcnk6IGV4aXN0aW5nQ29tbWVudHM/LmNhdGVnb3J5IHx8ICdHZW5lcmFsJyxcclxuXHRcdFx0XHRcdFx0Y2F0ZWdvcnlJZDogZXhpc3RpbmdDb21tZW50cz8uY2F0ZWdvcnlJZCB8fCAnRElDX2t3RE9QbGxmSzg0Q3ZVcHgnLFxyXG5cdFx0XHRcdFx0XHRtYXBwaW5nOiBleGlzdGluZ0NvbW1lbnRzPy5tYXBwaW5nIHx8ICdwYXRobmFtZScsXHJcblx0XHRcdFx0XHRcdHN0cmljdDogZXhpc3RpbmdDb21tZW50cz8uc3RyaWN0IHx8ICcwJyxcclxuXHRcdFx0XHRcdFx0cmVhY3Rpb25zOiBleGlzdGluZ0NvbW1lbnRzPy5yZWFjdGlvbnMgfHwgJzEnLFxyXG5cdFx0XHRcdFx0XHRtZXRhZGF0YTogZXhpc3RpbmdDb21tZW50cz8ubWV0YWRhdGEgfHwgJzAnLFxyXG5cdFx0XHRcdFx0XHRpbnB1dFBvc2l0aW9uOiBleGlzdGluZ0NvbW1lbnRzPy5pbnB1dFBvc2l0aW9uIHx8ICdib3R0b20nLFxyXG5cdFx0XHRcdFx0XHR0aGVtZTogZXhpc3RpbmdDb21tZW50cz8udGhlbWUgfHwgJ3ByZWZlcnJlZF9jb2xvcl9zY2hlbWUnLFxyXG5cdFx0XHRcdFx0XHRsYW5nOiBleGlzdGluZ0NvbW1lbnRzPy5sYW5nIHx8ICdlbicsXHJcblx0XHRcdFx0XHRcdGxvYWRpbmc6IGV4aXN0aW5nQ29tbWVudHM/LmxvYWRpbmcgfHwgJ2xhenknLFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9KSgpLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZWxlY3RlZE9wdGlvbmFsQ29udGVudFR5cGVzOiAoKCkgPT4ge1xyXG5cdFx0XHRcdC8vIFNldCBiYXNlZCBvbiBjdXJyZW50IHRlbXBsYXRlOiBlbmFibGVkIGZvciAnc3RhbmRhcmQnLCBkaXNhYmxlZCBmb3Igb3RoZXJzXHJcblx0XHRcdFx0Y29uc3QgaXNTdGFuZGFyZCA9IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSA9PT0gJ3N0YW5kYXJkJztcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0cHJvamVjdHM6IGlzU3RhbmRhcmQsXHJcblx0XHRcdFx0XHRkb2NzOiBpc1N0YW5kYXJkXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fSkoKSxcclxuXHRcdFx0c2VsZWN0ZWREZXBsb3ltZW50OiBzZXR0aW5ncy5kZXBsb3ltZW50LnBsYXRmb3JtLFxyXG5cdFx0XHRydW5XaXphcmRPblN0YXJ0dXA6IHNldHRpbmdzLnJ1bldpemFyZE9uU3RhcnR1cFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGdldFN0YXRlKCk6IFdpemFyZFN0YXRlIHtcclxuXHRcdHJldHVybiB0aGlzLnN0YXRlO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlU3RhdGUodXBkYXRlczogUGFydGlhbDxXaXphcmRTdGF0ZT4pOiB2b2lkIHtcclxuXHRcdHRoaXMuc3RhdGUgPSB7IC4uLnRoaXMuc3RhdGUsIC4uLnVwZGF0ZXMgfTtcclxuXHR9XHJcblxyXG5cdHNldFN0YXRlKHVwZGF0ZXM6IFBhcnRpYWw8V2l6YXJkU3RhdGU+KTogdm9pZCB7XHJcblx0XHR0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCAuLi51cGRhdGVzIH07XHJcblx0fVxyXG5cclxuXHRuZXh0U3RlcCgpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTdGVwIDwgdGhpcy5zdGF0ZS50b3RhbFN0ZXBzKSB7XHJcblx0XHRcdHRoaXMuc3RhdGUuY3VycmVudFN0ZXArKztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByZXZpb3VzU3RlcCgpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTdGVwID4gMSkge1xyXG5cdFx0XHR0aGlzLnN0YXRlLmN1cnJlbnRTdGVwLS07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjYW5Hb05leHQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50U3RlcCA8IHRoaXMuc3RhdGUudG90YWxTdGVwcztcclxuXHR9XHJcblxyXG5cdGNhbkdvUHJldmlvdXMoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50U3RlcCA+IDE7XHJcblx0fVxyXG5cclxuXHRnZXRQcm9ncmVzcygpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuICh0aGlzLnN0YXRlLmN1cnJlbnRTdGVwIC8gdGhpcy5zdGF0ZS50b3RhbFN0ZXBzKSAqIDEwMDtcclxuXHR9XHJcblxyXG5cdHJlZnJlc2hTdGF0ZSgpOiB2b2lkIHtcclxuXHRcdC8vIFJlZnJlc2ggdGhlIHdpemFyZCBzdGF0ZSB3aXRoIGN1cnJlbnQgcGx1Z2luIHNldHRpbmdzXHJcblx0XHRjb25zdCBzZXR0aW5ncyA9ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLnNldHRpbmdzO1xyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgdGhlIHN0YXRlIHdpdGggY3VycmVudCBzZXR0aW5nc1xyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZFRlbXBsYXRlID0gc2V0dGluZ3MuY3VycmVudFRlbXBsYXRlO1xyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZFRoZW1lID0gc2V0dGluZ3MuY3VycmVudFRoZW1lO1xyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZENvbnRlbnRPcmcgPSBzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uO1xyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZFNpdGVJbmZvID0gc2V0dGluZ3Muc2l0ZUluZm87XHJcblx0XHR0aGlzLnN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbiA9IHNldHRpbmdzLm5hdmlnYXRpb247XHJcblx0XHR0aGlzLnN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeSA9IHNldHRpbmdzLnR5cG9ncmFwaHk7XHJcblx0XHR0aGlzLnN0YXRlLnNlbGVjdGVkRGVwbG95bWVudCA9IHNldHRpbmdzLmRlcGxveW1lbnQucGxhdGZvcm07XHJcblx0XHR0aGlzLnN0YXRlLnJ1bldpemFyZE9uU3RhcnR1cCA9IHNldHRpbmdzLnJ1bldpemFyZE9uU3RhcnR1cDtcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIGZlYXR1cmVzIHdpdGggY3VycmVudCBzZXR0aW5ncywgcHJlc2VydmluZyB0ZW1wbGF0ZSBkZWZhdWx0cyBmb3IgbWlzc2luZyB2YWx1ZXNcclxuXHRcdGNvbnN0IHRlbXBsYXRlRmVhdHVyZXM6IFJlY29yZDxzdHJpbmcsIEZlYXR1cmVTZXR0aW5ncz4gPSB7XHJcblx0XHRcdCdzdGFuZGFyZCc6IHtcclxuXHRcdFx0XHRjb21tYW5kUGFsZXR0ZTogdHJ1ZSwgcmVhZGluZ1RpbWU6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB0cnVlLFxyXG5cdFx0XHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UsIGdyYXBoVmlldzogdHJ1ZSwgcG9zdE5hdmlnYXRpb246IHRydWUsIGhpZGVTY3JvbGxCYXI6IGZhbHNlLFxyXG5cdFx0XHRcdHNjcm9sbFRvVG9wOiB0cnVlLCBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogdHJ1ZSwgcHJvZmlsZVBpY3R1cmU6IGZhbHNlLCBjb21tZW50czogZmFsc2UsXHJcblx0XHRcdFx0ZmVhdHVyZUJ1dHRvbjogJ21vZGUnLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsXHJcblx0XHRcdFx0Y3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgcXVpY2tBY3Rpb25zOiB7IGVuYWJsZWQ6IHRydWUsIHRvZ2dsZU1vZGU6IHRydWUsIGdyYXBoVmlldzogdHJ1ZSwgY2hhbmdlVGhlbWU6IHRydWUgfVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQnY29tcGFjdCc6IHtcclxuXHRcdFx0XHRjb21tYW5kUGFsZXR0ZTogdHJ1ZSwgcmVhZGluZ1RpbWU6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB0cnVlLFxyXG5cdFx0XHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogdHJ1ZSwgZ3JhcGhWaWV3OiBmYWxzZSwgcG9zdE5hdmlnYXRpb246IHRydWUsIGhpZGVTY3JvbGxCYXI6IGZhbHNlLFxyXG5cdFx0XHRcdHNjcm9sbFRvVG9wOiB0cnVlLCBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogZmFsc2UsIHByb2ZpbGVQaWN0dXJlOiBmYWxzZSwgY29tbWVudHM6IGZhbHNlLFxyXG5cdFx0XHRcdGZlYXR1cmVCdXR0b246ICdub25lJywgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxyXG5cdFx0XHRcdGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIHF1aWNrQWN0aW9uczogeyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH1cclxuXHRcdFx0fSxcclxuXHRcdFx0J21pbmltYWwnOiB7XHJcblx0XHRcdFx0Y29tbWFuZFBhbGV0dGU6IHRydWUsIHJlYWRpbmdUaW1lOiBmYWxzZSwgbGlua2VkTWVudGlvbnM6IGZhbHNlLFxyXG5cdFx0XHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UsIGdyYXBoVmlldzogZmFsc2UsIHBvc3ROYXZpZ2F0aW9uOiBmYWxzZSwgaGlkZVNjcm9sbEJhcjogdHJ1ZSxcclxuXHRcdFx0XHRzY3JvbGxUb1RvcDogdHJ1ZSwgc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IGZhbHNlLCBwcm9maWxlUGljdHVyZTogZmFsc2UsIGNvbW1lbnRzOiBmYWxzZSxcclxuXHRcdFx0XHRmZWF0dXJlQnV0dG9uOiAnbm9uZScsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcclxuXHRcdFx0XHRjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBxdWlja0FjdGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgdG9nZ2xlTW9kZTogdHJ1ZSwgZ3JhcGhWaWV3OiB0cnVlLCBjaGFuZ2VUaGVtZTogdHJ1ZSB9XHJcblx0XHRcdH0sXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRjb25zdCB0ZW1wbGF0ZUZlYXR1cmVzUmVzdWx0ID0gdGVtcGxhdGVGZWF0dXJlc1tzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGVdIHx8IHRlbXBsYXRlRmVhdHVyZXNbJ3N0YW5kYXJkJ107XHJcblx0XHRcclxuXHRcdC8vIEVuc3VyZSBwcm9maWxlIHBpY3R1cmUgYW5kIGNvbW1lbnRzIGZlYXR1cmVzIGFyZSBzeW5jaHJvbml6ZWQgd2l0aCBleGlzdGluZyBzZXR0aW5nc1xyXG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlKSB7XHJcblx0XHRcdHRlbXBsYXRlRmVhdHVyZXNSZXN1bHQucHJvZmlsZVBpY3R1cmUgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmVuYWJsZWQ7XHJcblx0XHR9XHJcblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMpIHtcclxuXHRcdFx0dGVtcGxhdGVGZWF0dXJlc1Jlc3VsdC5jb21tZW50cyA9IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZEZlYXR1cmVzID0gdGVtcGxhdGVGZWF0dXJlc1Jlc3VsdDtcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIG9wdGlvbmFsIGZlYXR1cmVzIHdpdGggY3VycmVudCBzZXR0aW5nc1xyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXMgPSB7XHJcblx0XHRcdHByb2ZpbGVQaWN0dXJlOiB7XHJcblx0XHRcdFx0ZW5hYmxlZDogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LmVuYWJsZWQgfHwgZmFsc2UsXHJcblx0XHRcdFx0aW1hZ2U6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5pbWFnZSB8fCAnL3Byb2ZpbGUuanBnJyxcclxuXHRcdFx0XHRhbHQ6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5hbHQgfHwgJ1Byb2ZpbGUgcGljdHVyZScsXHJcblx0XHRcdFx0c2l6ZTogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LnNpemUgfHwgJ21kJyxcclxuXHRcdFx0XHR1cmw6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy51cmwgfHwgJycsXHJcblx0XHRcdFx0cGxhY2VtZW50OiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8ucGxhY2VtZW50IHx8ICdmb290ZXInLFxyXG5cdFx0XHRcdHN0eWxlOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8uc3R5bGUgfHwgJ2NpcmNsZScsXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbW1lbnRzOiAoKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGNvbW1lbnRzRW5hYmxlZCA9IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkIHx8IGZhbHNlO1xyXG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nQ29tbWVudHMgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cztcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBJZiBjb21tZW50cyBhcmUgZGlzYWJsZWQsIHByZXNlcnZlIGV4aXN0aW5nIHZhbHVlcyAoZG9uJ3QgcG9wdWxhdGUgZGVmYXVsdHMpXHJcblx0XHRcdFx0aWYgKCFjb21tZW50c0VuYWJsZWQpIHtcclxuXHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdGVuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRwcm92aWRlcjogZXhpc3RpbmdDb21tZW50cz8ucHJvdmlkZXIgfHwgJ2dpc2N1cycsXHJcblx0XHRcdFx0XHRcdHJhd1NjcmlwdDogZXhpc3RpbmdDb21tZW50cz8ucmF3U2NyaXB0IHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRyZXBvOiBleGlzdGluZ0NvbW1lbnRzPy5yZXBvIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRyZXBvSWQ6IGV4aXN0aW5nQ29tbWVudHM/LnJlcG9JZCB8fCAnJyxcclxuXHRcdFx0XHRcdFx0Y2F0ZWdvcnk6IGV4aXN0aW5nQ29tbWVudHM/LmNhdGVnb3J5IHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRjYXRlZ29yeUlkOiBleGlzdGluZ0NvbW1lbnRzPy5jYXRlZ29yeUlkIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRtYXBwaW5nOiBleGlzdGluZ0NvbW1lbnRzPy5tYXBwaW5nIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRzdHJpY3Q6IGV4aXN0aW5nQ29tbWVudHM/LnN0cmljdCB8fCAnJyxcclxuXHRcdFx0XHRcdFx0cmVhY3Rpb25zOiBleGlzdGluZ0NvbW1lbnRzPy5yZWFjdGlvbnMgfHwgJycsXHJcblx0XHRcdFx0XHRcdG1ldGFkYXRhOiBleGlzdGluZ0NvbW1lbnRzPy5tZXRhZGF0YSB8fCAnJyxcclxuXHRcdFx0XHRcdFx0aW5wdXRQb3NpdGlvbjogZXhpc3RpbmdDb21tZW50cz8uaW5wdXRQb3NpdGlvbiB8fCAnJyxcclxuXHRcdFx0XHRcdFx0dGhlbWU6IGV4aXN0aW5nQ29tbWVudHM/LnRoZW1lIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRsYW5nOiBleGlzdGluZ0NvbW1lbnRzPy5sYW5nIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRsb2FkaW5nOiBleGlzdGluZ0NvbW1lbnRzPy5sb2FkaW5nIHx8ICcnLFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gSWYgY29tbWVudHMgYXJlIGVuYWJsZWQsIHVzZSBkZWZhdWx0cyBmb3IgbWlzc2luZyB2YWx1ZXNcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdHByb3ZpZGVyOiBleGlzdGluZ0NvbW1lbnRzPy5wcm92aWRlciB8fCAnZ2lzY3VzJyxcclxuXHRcdFx0XHRcdHJhd1NjcmlwdDogZXhpc3RpbmdDb21tZW50cz8ucmF3U2NyaXB0IHx8ICcnLFxyXG5cdFx0XHRcdFx0cmVwbzogZXhpc3RpbmdDb21tZW50cz8ucmVwbyB8fCAnZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyJyxcclxuXHRcdFx0XHRcdHJlcG9JZDogZXhpc3RpbmdDb21tZW50cz8ucmVwb0lkIHx8ICdSX2tnRE9QbGxmS3cnLFxyXG5cdFx0XHRcdFx0Y2F0ZWdvcnk6IGV4aXN0aW5nQ29tbWVudHM/LmNhdGVnb3J5IHx8ICdHZW5lcmFsJyxcclxuXHRcdFx0XHRcdGNhdGVnb3J5SWQ6IGV4aXN0aW5nQ29tbWVudHM/LmNhdGVnb3J5SWQgfHwgJ0RJQ19rd0RPUGxsZks4NEN2VXB4JyxcclxuXHRcdFx0XHRcdG1hcHBpbmc6IGV4aXN0aW5nQ29tbWVudHM/Lm1hcHBpbmcgfHwgJ3BhdGhuYW1lJyxcclxuXHRcdFx0XHRcdHN0cmljdDogZXhpc3RpbmdDb21tZW50cz8uc3RyaWN0IHx8ICcwJyxcclxuXHRcdFx0XHRcdHJlYWN0aW9uczogZXhpc3RpbmdDb21tZW50cz8ucmVhY3Rpb25zIHx8ICcxJyxcclxuXHRcdFx0XHRcdG1ldGFkYXRhOiBleGlzdGluZ0NvbW1lbnRzPy5tZXRhZGF0YSB8fCAnMCcsXHJcblx0XHRcdFx0XHRpbnB1dFBvc2l0aW9uOiBleGlzdGluZ0NvbW1lbnRzPy5pbnB1dFBvc2l0aW9uIHx8ICdib3R0b20nLFxyXG5cdFx0XHRcdFx0dGhlbWU6IGV4aXN0aW5nQ29tbWVudHM/LnRoZW1lIHx8ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJyxcclxuXHRcdFx0XHRcdGxhbmc6IGV4aXN0aW5nQ29tbWVudHM/LmxhbmcgfHwgJ2VuJyxcclxuXHRcdFx0XHRcdGxvYWRpbmc6IGV4aXN0aW5nQ29tbWVudHM/LmxvYWRpbmcgfHwgJ2xhenknLFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0pKCksXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgb3B0aW9uYWwgY29udGVudCB0eXBlc1xyXG5cdFx0Y29uc3QgaXNTdGFuZGFyZCA9IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSA9PT0gJ3N0YW5kYXJkJztcclxuXHRcdHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25hbENvbnRlbnRUeXBlcyA9IHtcclxuXHRcdFx0cHJvamVjdHM6IGlzU3RhbmRhcmQsXHJcblx0XHRcdGRvY3M6IGlzU3RhbmRhcmRcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRidWlsZEZpbmFsU2V0dGluZ3MoKTogdm9pZCB7XHJcblx0XHQvLyBVcGRhdGUgcGx1Z2luLnNldHRpbmdzIGRpcmVjdGx5IGluc3RlYWQgb2YgcmV0dXJuaW5nIGEgbmV3IG9iamVjdFxyXG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5zZXR0aW5ncztcclxuXHRcdFxyXG5cdFx0Ly8gU3RvcmUgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRvIGRldGVjdCBpZiBpdCBjaGFuZ2VkXHJcblx0XHRjb25zdCBvcmlnaW5hbFRlbXBsYXRlID0gc2V0dGluZ3MuY3VycmVudFRlbXBsYXRlO1xyXG5cdFx0XHJcblx0XHRzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVGVtcGxhdGU7XHJcblx0XHRzZXR0aW5ncy5jdXJyZW50VGhlbWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVGhlbWU7XHJcblx0XHRzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uID0gdGhpcy5zdGF0ZS5zZWxlY3RlZENvbnRlbnRPcmc7XHJcblx0XHRzZXR0aW5ncy5zaXRlSW5mbyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRTaXRlSW5mbztcclxuXHRcdHNldHRpbmdzLm5hdmlnYXRpb24gPSB0aGlzLnN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbjtcclxuXHRcdHNldHRpbmdzLmZlYXR1cmVzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZlYXR1cmVzO1xyXG5cdFx0c2V0dGluZ3MudHlwb2dyYXBoeSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRUeXBvZ3JhcGh5O1xyXG5cdFx0c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzO1xyXG5cdFx0c2V0dGluZ3MuZGVwbG95bWVudC5wbGF0Zm9ybSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWREZXBsb3ltZW50O1xyXG5cdFx0c2V0dGluZ3MucnVuV2l6YXJkT25TdGFydHVwID0gdGhpcy5zdGF0ZS5ydW5XaXphcmRPblN0YXJ0dXA7XHJcblxyXG5cdFx0Ly8gQ1JJVElDQUw6IFN5bmMgcG9zdE9wdGlvbnMgYW5kIGNvbW1hbmRQYWxldHRlIHdpdGggZmVhdHVyZXMgYWZ0ZXIgd2l6YXJkIGNvbXBsZXRpb25cclxuXHRcdC8vIFRoaXMgZW5zdXJlcyBkYXRhLmpzb24gaGFzIGNvbnNpc3RlbnQgdmFsdWVzXHJcblx0XHRpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEZlYXR1cmVzKSB7XHJcblx0XHRcdC8vIFN5bmMgcG9zdE9wdGlvbnMuZ3JhcGhWaWV3IHdpdGggZmVhdHVyZXMuZ3JhcGhWaWV3XHJcblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3KSB7XHJcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkRmVhdHVyZXMuZ3JhcGhWaWV3ID8/IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTeW5jIGxpbmtlZCBtZW50aW9uc1xyXG5cdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmxpbmtlZE1lbnRpb25zKSB7XHJcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMuZW5hYmxlZCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRGZWF0dXJlcy5saW5rZWRNZW50aW9ucyA/PyBmYWxzZTtcclxuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPSB0aGlzLnN0YXRlLnNlbGVjdGVkRmVhdHVyZXMubGlua2VkTWVudGlvbnNDb21wYWN0ID8/IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTeW5jIGNvbW1hbmQgcGFsZXR0ZSBxdWljayBhY3Rpb25zXHJcblx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8ucXVpY2tBY3Rpb25zICYmIHRoaXMuc3RhdGUuc2VsZWN0ZWRGZWF0dXJlcy5xdWlja0FjdGlvbnMpIHtcclxuXHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgPSB7IFxyXG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zLCBcclxuXHRcdFx0XHRcdC4uLnRoaXMuc3RhdGUuc2VsZWN0ZWRGZWF0dXJlcy5xdWlja0FjdGlvbnMgXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE9OTFkgYXBwbHkgdGVtcGxhdGUgcHJlc2V0IGNoYW5nZXMgaWYgdGhlIHRlbXBsYXRlIHdhcyBhY3R1YWxseSBjaGFuZ2VkXHJcblx0XHQvLyBUaGlzIHByZXZlbnRzIHJldmVydGluZyB1c2VyIGN1c3RvbWl6YXRpb25zIHdoZW4gbmF2aWdhdGluZyB0aGUgd2l6YXJkXHJcblx0XHRpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZFRlbXBsYXRlICE9PSBvcmlnaW5hbFRlbXBsYXRlKSB7XHJcblx0XHRcdGNvbnN0IHRlbXBsYXRlUHJlc2V0ID0gKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuY29uZmlnTWFuYWdlci5nZXRUZW1wbGF0ZVByZXNldCh0aGlzLnN0YXRlLnNlbGVjdGVkVGVtcGxhdGUpO1xyXG5cdFx0XHRpZiAodGVtcGxhdGVQcmVzZXQgJiYgdGVtcGxhdGVQcmVzZXQuY29uZmlnKSB7XHJcblx0XHRcdFx0Ly8gVXBkYXRlIHRhYmxlIG9mIGNvbnRlbnRzIHNldHRpbmdzIGZyb20gcHJlc2V0XHJcblx0XHRcdFx0aWYgKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy50YWJsZU9mQ29udGVudHMpIHtcclxuXHRcdFx0XHRcdHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cyA9IHsgLi4uc2V0dGluZ3MudGFibGVPZkNvbnRlbnRzLCAuLi50ZW1wbGF0ZVByZXNldC5jb25maWcudGFibGVPZkNvbnRlbnRzIH07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU3luY2hyb25pemUgcHJvZmlsZSBwaWN0dXJlIHNldHRpbmdzIGJldHdlZW4gZmVhdHVyZXMgYW5kIG9wdGlvbmFsRmVhdHVyZXNcclxuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZSkge1xyXG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5wcm9maWxlUGljdHVyZSA9IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUuZW5hYmxlZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTeW5jaHJvbml6ZSBjb21tZW50cyBzZXR0aW5ncyBiZXR3ZWVuIGZlYXR1cmVzLCBvcHRpb25hbEZlYXR1cmVzLCBhbmQgcG9zdE9wdGlvbnNcclxuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cykge1xyXG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5jb21tZW50cyA9IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZDtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEFsc28gc3luYyBwb3N0T3B0aW9ucy5jb21tZW50cy5lbmFibGVkIHRvIGVuc3VyZSBjb25zaXN0ZW5jeVxyXG5cdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zKSB7XHJcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7IHBvc3RzUGVyUGFnZTogNiwgcmVhZGluZ1RpbWU6IHRydWUsIHdvcmRDb3VudDogdHJ1ZSwgdGFnczogdHJ1ZSwgbGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LCBncmFwaFZpZXc6IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfSwgcG9zdE5hdmlnYXRpb246IHRydWUsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJywgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgY29tbWVudHM6IHsgLi4uc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cyB9IH07XHJcblx0XHRcdH0gZWxzZSBpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zLmNvbW1lbnRzKSB7XHJcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuY29tbWVudHMgPSB7IC4uLnNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMgfTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBQcmVzZXJ2ZSBleGlzdGluZyBjb21tZW50IHNldHRpbmdzIGJ1dCB1cGRhdGUgZW5hYmxlZCBzdGF0ZVxyXG5cdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmNvbW1lbnRzLmVuYWJsZWQgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWQ7XHJcblx0XHRcdFx0Ly8gQWxzbyBzeW5jIGFsbCBvdGhlciBjb21tZW50IGZpZWxkcyBmcm9tIG9wdGlvbmFsRmVhdHVyZXNcclxuXHRcdFx0XHRPYmplY3QuYXNzaWduKHNldHRpbmdzLnBvc3RPcHRpb25zLmNvbW1lbnRzLCBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFN5bmMgb3B0aW9uYWwgY29udGVudCB0eXBlcyBmcm9tIHdpemFyZCBzdGF0ZVxyXG5cdFx0c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMgPSB0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uYWxDb250ZW50VHlwZXM7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFdpemFyZFN0YXRlTWFuYWdlciwgV2l6YXJkU3RhdGUgfSBmcm9tICcuL1dpemFyZFN0YXRlJztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlV2l6YXJkU3RlcCB7XHJcblx0cHJvdGVjdGVkIGFwcDogQXBwO1xyXG5cdHByb3RlY3RlZCBtb2RhbDogTW9kYWw7XHJcblx0cHJvdGVjdGVkIHN0YXRlTWFuYWdlcjogV2l6YXJkU3RhdGVNYW5hZ2VyO1xyXG5cdHByb3RlY3RlZCBwbHVnaW46IFBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRhcHA6IEFwcCxcclxuXHRcdG1vZGFsOiBNb2RhbCxcclxuXHRcdHN0YXRlTWFuYWdlcjogV2l6YXJkU3RhdGVNYW5hZ2VyLFxyXG5cdFx0cGx1Z2luOiBQbHVnaW5cclxuXHQpIHtcclxuXHRcdHRoaXMuYXBwID0gYXBwO1xyXG5cdFx0dGhpcy5tb2RhbCA9IG1vZGFsO1xyXG5cdFx0dGhpcy5zdGF0ZU1hbmFnZXIgPSBzdGF0ZU1hbmFnZXI7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGFic3RyYWN0IHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZDtcclxuXHJcblx0cHJvdGVjdGVkIG5leHRTdGVwKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5zdGF0ZU1hbmFnZXIubmV4dFN0ZXAoKTtcclxuXHRcdHRoaXMubW9kYWwuY2xvc2UoKTtcclxuXHRcdC8vIFRoZSBtb2RhbCB3aWxsIHJlLXJlbmRlciB3aXRoIHRoZSBuZXcgc3RlcFxyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIHByZXZpb3VzU3RlcCgpOiB2b2lkIHtcclxuXHRcdHRoaXMuc3RhdGVNYW5hZ2VyLnByZXZpb3VzU3RlcCgpO1xyXG5cdFx0dGhpcy5tb2RhbC5jbG9zZSgpO1xyXG5cdFx0Ly8gVGhlIG1vZGFsIHdpbGwgcmUtcmVuZGVyIHdpdGggdGhlIG5ldyBzdGVwXHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgdXBkYXRlU3RhdGUodXBkYXRlczogUGFydGlhbDxXaXphcmRTdGF0ZT4pOiB2b2lkIHtcclxuXHRcdHRoaXMuc3RhdGVNYW5hZ2VyLnVwZGF0ZVN0YXRlKHVwZGF0ZXMpO1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGdldFN0YXRlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBCYXNlV2l6YXJkU3RlcCB9IGZyb20gJy4vQmFzZVdpemFyZFN0ZXAnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdlbGNvbWVTdGVwIGV4dGVuZHMgQmFzZVdpemFyZFN0ZXAge1xyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFxyXG5cdFx0Y29uc3Qgd2VsY29tZUNvbnRlbnQgPSBjb250YWluZXIuY3JlYXRlRGl2KCd3ZWxjb21lLWNvbnRlbnQnKTtcclxuXHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkFzdHJvIE1vZHVsYXJcIiBpcyBhIHByb3BlciBub3VuICh0aGVtZSBuYW1lKVxyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0d2VsY29tZUNvbnRlbnQuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnV2VsY29tZSB0byBBc3RybyBNb2R1bGFyIScgfSk7XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJBc3RybyBNb2R1bGFyXCIgaXMgYSBwcm9wZXIgbm91biAodGhlbWUgbmFtZSlcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdHdlbGNvbWVDb250ZW50LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnVGhpcyB3aXphcmQgd2lsbCBoZWxwIHlvdSBzZXQgdXAgeW91ciBBc3RybyBNb2R1bGFyIHRoZW1lIHdpdGggdGhlIHBlcmZlY3QgY29uZmlndXJhdGlvbiBmb3IgeW91ciBuZWVkcy4nIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBjaGVja2JveE9wdGlvbiA9IHdlbGNvbWVDb250ZW50LmNyZWF0ZURpdignY2hlY2tib3gtb3B0aW9uJyk7XHJcblx0XHRjb25zdCBjaGVja2JveCA9IGNoZWNrYm94T3B0aW9uLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NoZWNrYm94JyB9KTtcclxuXHRcdGNoZWNrYm94LmlkID0gJ3J1bi13aXphcmQtc3RhcnR1cCc7XHJcblx0XHRpZiAoc3RhdGUucnVuV2l6YXJkT25TdGFydHVwKSB7XHJcblx0XHRcdGNoZWNrYm94LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICdjaGVja2VkJyk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBsYWJlbCA9IGNoZWNrYm94T3B0aW9uLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1J1biB0aGlzIHdpemFyZCBvbiBzdGFydHVwJyB9KTtcclxuXHRcdGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3J1bi13aXphcmQtc3RhcnR1cCcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBzaXRlSW5mb0Zvcm0gPSB3ZWxjb21lQ29udGVudC5jcmVhdGVEaXYoJ3NpdGUtaW5mby1mb3JtJyk7XHJcblx0XHRzaXRlSW5mb0Zvcm0uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnU2l0ZSBpbmZvcm1hdGlvbicgfSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHVybEdyb3VwID0gc2l0ZUluZm9Gb3JtLmNyZWF0ZURpdignZm9ybS1ncm91cCcpO1xyXG5cdFx0Y29uc3QgdXJsTGFiZWwgPSB1cmxHcm91cC5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdVUkwnIH0pO1xyXG5cdFx0dXJsTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAnc2l0ZS11cmwnKTtcclxuXHRcdGNvbnN0IHVybElucHV0ID0gdXJsR3JvdXAuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSk7XHJcblx0XHR1cmxJbnB1dC5pZCA9ICdzaXRlLXVybCc7XHJcblx0XHR1cmxJbnB1dC5wbGFjZWhvbGRlciA9ICdodHRwczovL2FzdHJvLW1vZHVsYXIubmV0bGlmeS5hcHAnO1xyXG5cdFx0dXJsSW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHN0YXRlLnNlbGVjdGVkU2l0ZUluZm8uc2l0ZSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHRpdGxlR3JvdXAgPSBzaXRlSW5mb0Zvcm0uY3JlYXRlRGl2KCdmb3JtLWdyb3VwJyk7XHJcblx0XHRjb25zdCB0aXRsZUxhYmVsID0gdGl0bGVHcm91cC5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdUaXRsZScgfSk7XHJcblx0XHR0aXRsZUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3NpdGUtdGl0bGUnKTtcclxuXHRcdGNvbnN0IHRpdGxlSW5wdXQgPSB0aXRsZUdyb3VwLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0pO1xyXG5cdFx0dGl0bGVJbnB1dC5pZCA9ICdzaXRlLXRpdGxlJztcclxuXHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkFzdHJvIE1vZHVsYXJcIiBpcyBhIHByb3BlciBub3VuICh0aGVtZSBuYW1lKSAtIHBsYWNlaG9sZGVyIHZhbHVlXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHR0aXRsZUlucHV0LnBsYWNlaG9sZGVyID0gJ0FzdHJvIE1vZHVsYXInO1xyXG5cdFx0dGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc3RhdGUuc2VsZWN0ZWRTaXRlSW5mby50aXRsZSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGRlc2NHcm91cCA9IHNpdGVJbmZvRm9ybS5jcmVhdGVEaXYoJ2Zvcm0tZ3JvdXAnKTtcclxuXHRcdGNvbnN0IGRlc2NMYWJlbCA9IGRlc2NHcm91cC5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdEZXNjcmlwdGlvbicgfSk7XHJcblx0XHRkZXNjTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAnc2l0ZS1kZXNjcmlwdGlvbicpO1xyXG5cdFx0Y29uc3QgZGVzY0lucHV0ID0gZGVzY0dyb3VwLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0pO1xyXG5cdFx0ZGVzY0lucHV0LmlkID0gJ3NpdGUtZGVzY3JpcHRpb24nO1xyXG5cdFx0ZGVzY0lucHV0LnBsYWNlaG9sZGVyID0gJ0EgZmxleGlibGUgYmxvZyB0aGVtZSBkZXNpZ25lZCBmb3IgT2JzaWRpYW4gdXNlcnMuJztcclxuXHRcdGRlc2NJbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc3RhdGUuc2VsZWN0ZWRTaXRlSW5mby5kZXNjcmlwdGlvbik7XHJcblx0XHRcclxuXHRcdGNvbnN0IGF1dGhvckdyb3VwID0gc2l0ZUluZm9Gb3JtLmNyZWF0ZURpdignZm9ybS1ncm91cCcpO1xyXG5cdFx0Y29uc3QgYXV0aG9yTGFiZWwgPSBhdXRob3JHcm91cC5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdBdXRob3IgbmFtZScgfSk7XHJcblx0XHRhdXRob3JMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdzaXRlLWF1dGhvcicpO1xyXG5cdFx0Y29uc3QgYXV0aG9ySW5wdXQgPSBhdXRob3JHcm91cC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9KTtcclxuXHRcdGF1dGhvcklucHV0LmlkID0gJ3NpdGUtYXV0aG9yJztcclxuXHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkRhdmlkIFYuIEtpbWJhbGxcIiBpcyBhIHByb3BlciBub3VuIChwZXJzb24ncyBuYW1lKSAtIHBsYWNlaG9sZGVyIHZhbHVlXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRhdXRob3JJbnB1dC5wbGFjZWhvbGRlciA9ICdEYXZpZCBWLiBLaW1iYWxsJztcclxuXHRcdGF1dGhvcklucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBzdGF0ZS5zZWxlY3RlZFNpdGVJbmZvLmF1dGhvcik7XHJcblx0XHRcclxuXHRcdGNvbnN0IGxhbmdHcm91cCA9IHNpdGVJbmZvRm9ybS5jcmVhdGVEaXYoJ2Zvcm0tZ3JvdXAnKTtcclxuXHRcdGNvbnN0IGxhbmdMYWJlbCA9IGxhbmdHcm91cC5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdMYW5ndWFnZScgfSk7XHJcblx0XHRsYW5nTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAnc2l0ZS1sYW5ndWFnZScpO1xyXG5cdFx0Y29uc3QgbGFuZ0lucHV0ID0gbGFuZ0dyb3VwLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0pO1xyXG5cdFx0bGFuZ0lucHV0LmlkID0gJ3NpdGUtbGFuZ3VhZ2UnO1xyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZSAtLSBMYW5ndWFnZSBjb2RlIHNob3VsZCByZW1haW4gbG93ZXJjYXNlXHJcblx0XHRsYW5nSW5wdXQucGxhY2Vob2xkZXIgPSAnZW4nO1xyXG5cdFx0bGFuZ0lucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBzdGF0ZS5zZWxlY3RlZFNpdGVJbmZvLmxhbmd1YWdlKTtcclxuXHJcblx0XHQvLyBBZGQgY2hhbmdlIGhhbmRsZXJzXHJcblx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvcignI3J1bi13aXphcmQtc3RhcnR1cCcpPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHsgcnVuV2l6YXJkT25TdGFydHVwOiB0YXJnZXQuY2hlY2tlZCB9KTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvcignI3NpdGUtdXJsJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuXHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0XHRzZWxlY3RlZFNpdGVJbmZvOiB7XHJcblx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRTaXRlSW5mbyxcclxuXHRcdFx0XHRcdHNpdGU6IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc2l0ZS10aXRsZScpPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdFx0c2VsZWN0ZWRTaXRlSW5mbzoge1xyXG5cdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkU2l0ZUluZm8sXHJcblx0XHRcdFx0XHR0aXRsZTogKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzaXRlLWRlc2NyaXB0aW9uJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuXHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0XHRzZWxlY3RlZFNpdGVJbmZvOiB7XHJcblx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRTaXRlSW5mbyxcclxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvcignI3NpdGUtYXV0aG9yJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuXHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0XHRzZWxlY3RlZFNpdGVJbmZvOiB7XHJcblx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRTaXRlSW5mbyxcclxuXHRcdFx0XHRcdGF1dGhvcjogKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzaXRlLWxhbmd1YWdlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuXHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0XHRzZWxlY3RlZFNpdGVJbmZvOiB7XHJcblx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRTaXRlSW5mbyxcclxuXHRcdFx0XHRcdGxhbmd1YWdlOiAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBCYXNlV2l6YXJkU3RlcCB9IGZyb20gJy4vQmFzZVdpemFyZFN0ZXAnO1xyXG5pbXBvcnQgeyBURU1QTEFURV9PUFRJT05TLCBBc3Ryb01vZHVsYXJQbHVnaW4gfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IE5vdGljZSwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZVN0ZXAgZXh0ZW5kcyBCYXNlV2l6YXJkU3RlcCB7XHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0ZW1wbGF0ZVNlbGVjdGlvbkRpdiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3RlbXBsYXRlLXNlbGVjdGlvbicpO1xyXG5cdFx0dGVtcGxhdGVTZWxlY3Rpb25EaXYuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnQ2hvb3NlIHlvdXIgcHJlc2V0JyB9KTtcclxuXHRcdHRlbXBsYXRlU2VsZWN0aW9uRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnU2VsZWN0IGEgcHJlc2V0IHRoYXQgYmVzdCBmaXRzIHlvdXIgY29udGVudCB0eXBlIGFuZCBnb2Fscy4nIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0ZW1wbGF0ZU9wdGlvbnMgPSB0ZW1wbGF0ZVNlbGVjdGlvbkRpdi5jcmVhdGVEaXYoJ3RlbXBsYXRlLW9wdGlvbnMnKTtcclxuXHRcdFxyXG5cdFx0VEVNUExBVEVfT1BUSU9OUy5mb3JFYWNoKHRlbXBsYXRlID0+IHtcclxuXHRcdFx0Y29uc3QgdGVtcGxhdGVPcHRpb24gPSB0ZW1wbGF0ZU9wdGlvbnMuY3JlYXRlRGl2KCd0ZW1wbGF0ZS1vcHRpb24nKTtcclxuXHRcdFx0aWYgKHN0YXRlLnNlbGVjdGVkVGVtcGxhdGUgPT09IHRlbXBsYXRlLmlkKSB7XHJcblx0XHRcdFx0dGVtcGxhdGVPcHRpb24uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGVtcGxhdGVPcHRpb24uc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJywgdGVtcGxhdGUuaWQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgdGVtcGxhdGVIZWFkZXIgPSB0ZW1wbGF0ZU9wdGlvbi5jcmVhdGVEaXYoJ3RlbXBsYXRlLWhlYWRlcicpO1xyXG5cdFx0XHR0ZW1wbGF0ZUhlYWRlci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHRlbXBsYXRlLm5hbWUgfSk7XHJcblx0XHRcdGlmICh0ZW1wbGF0ZS5yZWNvbW1lbmRlZCkge1xyXG5cdFx0XHRcdHRlbXBsYXRlSGVhZGVyLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiAnRGVmYXVsdCcsIGNsczogJ3JlY29tbWVuZGVkJyB9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0dGVtcGxhdGVPcHRpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IHRlbXBsYXRlLmRlc2NyaXB0aW9uLCBjbHM6ICd0ZW1wbGF0ZS1kZXNjcmlwdGlvbicgfSk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCB0ZW1wbGF0ZUZlYXR1cmVzID0gdGVtcGxhdGVPcHRpb24uY3JlYXRlRGl2KCd0ZW1wbGF0ZS1mZWF0dXJlcycpO1xyXG5cdFx0XHR0ZW1wbGF0ZS5mZWF0dXJlcy5mb3JFYWNoKGZlYXR1cmUgPT4ge1xyXG5cdFx0XHRcdHRlbXBsYXRlRmVhdHVyZXMuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGZlYXR1cmUsIGNsczogJ2ZlYXR1cmUtdGFnJyB9KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBBZGQgY2xpY2sgaGFuZGxlclxyXG5cdFx0XHR0ZW1wbGF0ZU9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCB0ZW1wbGF0ZUlkID0gdGVtcGxhdGUuaWQ7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7IHNlbGVjdGVkVGVtcGxhdGU6IHRlbXBsYXRlSWQgfSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gU3luYyBvcHRpb25hbCBjb250ZW50IHR5cGVzIGJhc2VkIG9uIHRlbXBsYXRlIHNlbGVjdGlvblxyXG5cdFx0XHRcdGNvbnN0IGlzU3RhbmRhcmQgPSB0ZW1wbGF0ZUlkID09PSAnc3RhbmRhcmQnO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGUoe1xyXG5cdFx0XHRcdFx0c2VsZWN0ZWRPcHRpb25hbENvbnRlbnRUeXBlczoge1xyXG5cdFx0XHRcdFx0XHRwcm9qZWN0czogaXNTdGFuZGFyZCxcclxuXHRcdFx0XHRcdFx0ZG9jczogaXNTdGFuZGFyZFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBTeW5jIGFsbCBmZWF0dXJlcyBiYXNlZCBvbiB0ZW1wbGF0ZSBzZWxlY3Rpb25cclxuXHRcdFx0XHR0aGlzLnN5bmNGZWF0dXJlc1dpdGhUZW1wbGF0ZSh0ZW1wbGF0ZUlkKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBSZS1yZW5kZXIgdG8gdXBkYXRlIHRoZSBVSVxyXG5cdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRWRpdCBjb25maWcudHMgZGlyZWN0bHkgc2V0dGluZyAoc3RhbmRhcmQgT2JzaWRpYW4gU2V0dGluZyBmb3JtYXQpXHJcblx0XHRjb25zdCB0ZW1wbGF0ZVNlbGVjdGlvbkVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50ZW1wbGF0ZS1zZWxlY3Rpb24nKTtcclxuXHRcdGlmICh0ZW1wbGF0ZVNlbGVjdGlvbkVsKSB7XHJcblx0XHRcdGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyh0ZW1wbGF0ZVNlbGVjdGlvbkVsIGFzIEhUTUxFbGVtZW50KVxyXG5cdFx0XHRcdC5zZXROYW1lKCdFZGl0IGNvbmZpZy50cyBkaXJlY3RseSAoYWR2YW5jZWQpJylcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlIC0tIFwiQXN0cm9cIiBpcyBhIHByb3BlciBub3VuXHJcblx0XHRcdFx0LnNldERlc2MoJ1NraXAgdGhlIHdpemFyZCBhbmQgZWRpdCB5b3VyIEFzdHJvIGNvbmZpZ3VyYXRpb24gZmlsZSBkaXJlY3RseS4nKVxyXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0VkaXQgY29uZmlnLnRzJylcclxuXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5vcGVuQ29uZmlnRmlsZSgpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQWRkIHNwYWNpbmcgYWJvdmUgdGhlIHNldHRpbmdcclxuXHRcdFx0Y29uc3Qgc2V0dGluZ0VsID0gc2V0dGluZy5zZXR0aW5nRWw7XHJcblx0XHRcdGlmIChzZXR0aW5nRWwpIHtcclxuXHRcdFx0XHRzZXR0aW5nRWwuc2V0Q3NzUHJvcHMoeyBtYXJnaW5Ub3A6ICcycmVtJyB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzeW5jRmVhdHVyZXNXaXRoVGVtcGxhdGUodGVtcGxhdGU6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0Ly8gTG9hZCBmZWF0dXJlcyBmcm9tIHByZXNldCBKU09OIChzaW5nbGUgc291cmNlIG9mIHRydXRoKVxyXG5cdFx0Y29uc3QgcGx1Z2luSW5zdGFuY2UgPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XHJcblx0XHRjb25zdCB0ZW1wbGF0ZVByZXNldCA9IHBsdWdpbkluc3RhbmNlLmNvbmZpZ01hbmFnZXIuZ2V0VGVtcGxhdGVQcmVzZXQodGVtcGxhdGUpO1xyXG5cdFx0aWYgKCF0ZW1wbGF0ZVByZXNldCB8fCAhdGVtcGxhdGVQcmVzZXQuY29uZmlnIHx8ICF0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignVGVtcGxhdGUgcHJlc2V0IG5vdCBmb3VuZDonLCB0ZW1wbGF0ZSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcGRhdGUgd2l6YXJkIHN0YXRlIHdpdGggZmVhdHVyZXMgZnJvbSBwcmVzZXQgSlNPTlxyXG5cdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdHNlbGVjdGVkRmVhdHVyZXM6IHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlc1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHVwZGF0ZVBsdWdpblNldHRpbmdzV2l0aFRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdC8vIEdldCB0aGUgY3VycmVudCBwbHVnaW4gc2V0dGluZ3NcclxuXHRcdGNvbnN0IHBsdWdpbkZvclVwZGF0ZSA9IHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbjtcclxuXHRcdGNvbnN0IHNldHRpbmdzID0gcGx1Z2luRm9yVXBkYXRlLnNldHRpbmdzO1xyXG5cdFx0XHJcblx0XHQvLyBMb2FkIHRoZSB0ZW1wbGF0ZSBwcmVzZXQgZnJvbSBKU09OIChzaW5nbGUgc291cmNlIG9mIHRydXRoKVxyXG5cdFx0Y29uc3QgdGVtcGxhdGVQcmVzZXQgPSBwbHVnaW5Gb3JVcGRhdGUuY29uZmlnTWFuYWdlci5nZXRUZW1wbGF0ZVByZXNldCh0ZW1wbGF0ZSk7XHJcblx0XHRpZiAoIXRlbXBsYXRlUHJlc2V0IHx8ICF0ZW1wbGF0ZVByZXNldC5jb25maWcpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignVGVtcGxhdGUgcHJlc2V0IG5vdCBmb3VuZDonLCB0ZW1wbGF0ZSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDUklUSUNBTDogR2V0IGZ1bGwgdGVtcGxhdGUgY29uZmlnIGluY2x1ZGluZyBhbGwgc2V0dGluZ3NcclxuXHRcdGNvbnN0IHRlbXBsYXRlQ29uZmlnID0gcGx1Z2luRm9yVXBkYXRlLmNvbmZpZ01hbmFnZXIuZ2V0VGVtcGxhdGVDb25maWcodGVtcGxhdGUsIHNldHRpbmdzKTtcclxuXHJcblx0XHQvLyBVcGRhdGUgc2V0dGluZ3MgZnJvbSB0aGUgcHJlc2V0J3MgY29uZmlnXHJcblx0XHQvLyBOT1RFOiBXZSBkbyBOT1QgdXBkYXRlIHRoZW1lIG9yIGNvbnRlbnRPcmdhbml6YXRpb24gLSB0aG9zZSBhcmUgc2VwYXJhdGUgdXNlciBjaG9pY2VzXHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBmZWF0dXJlcyBmcm9tIHByZXNldCAocHJlc2VydmluZyB1c2VyIHByZWZlcmVuY2VzIGZvciBjb21tZW50cy9wcm9maWxlUGljdHVyZSlcclxuXHRcdGlmICh0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMpIHtcclxuXHRcdFx0Y29uc3QgY3VycmVudENvbW1lbnRzID0gc2V0dGluZ3MuZmVhdHVyZXMuY29tbWVudHM7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRQcm9maWxlUGljdHVyZSA9IHNldHRpbmdzLmZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlO1xyXG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcyA9IHsgLi4uc2V0dGluZ3MuZmVhdHVyZXMsIC4uLnRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcyB9O1xyXG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5jb21tZW50cyA9IGN1cnJlbnRDb21tZW50cztcclxuXHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucHJvZmlsZVBpY3R1cmUgPSBjdXJyZW50UHJvZmlsZVBpY3R1cmU7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBDUklUSUNBTDogU3luYyBwb3N0T3B0aW9ucyB3aXRoIGZlYXR1cmVzIHRvIG1haW50YWluIGRhdGEgaW50ZWdyaXR5XHJcblx0XHRcdC8vIHBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkIGlzIHRoZSBzb3VyY2Ugb2YgdHJ1dGhcclxuXHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXcpIHtcclxuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZCA9IHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcy5ncmFwaFZpZXcgPz8gZmFsc2U7XHJcblx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuZ3JhcGhWaWV3ID0gc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQ7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIFN5bmMgbGlua2VkIG1lbnRpb25zXHJcblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucz8ubGlua2VkTWVudGlvbnMpIHtcclxuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5lbmFibGVkID0gdGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLmxpbmtlZE1lbnRpb25zID8/IGZhbHNlO1xyXG5cdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zLmxpbmtlZE1lbnRpb25zQ29tcGFjdCA9IHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPz8gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIFN5bmMgY29tbWFuZCBwYWxldHRlIHF1aWNrIGFjdGlvbnNcclxuXHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5xdWlja0FjdGlvbnMgJiYgdGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLnF1aWNrQWN0aW9ucykge1xyXG5cdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyA9IHsgLi4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zLCAuLi50ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMucXVpY2tBY3Rpb25zIH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gQ1JJVElDQUw6IFVwZGF0ZSBBTEwgc2V0dGluZ3MgZnJvbSB0ZW1wbGF0ZSBjb25maWcgKHNhbWUgYXMgQ29uZmlnVGFiKVxyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgY29tbWFuZCBwYWxldHRlXHJcblx0XHRpZiAodGVtcGxhdGVDb25maWcuY29tbWFuZFBhbGV0dGUgJiYgdHlwZW9mIHRlbXBsYXRlQ29uZmlnLmNvbW1hbmRQYWxldHRlID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRjb25zdCBjb21tYW5kUGFsZXR0ZSA9IHRlbXBsYXRlQ29uZmlnLmNvbW1hbmRQYWxldHRlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG5cdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSA9IHtcclxuXHRcdFx0XHQuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSxcclxuXHRcdFx0XHRlbmFibGVkOiAoY29tbWFuZFBhbGV0dGUuZW5hYmxlZCBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5lbmFibGVkLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiAoY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXIgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlcixcclxuXHRcdFx0XHRzaG9ydGN1dDogKGNvbW1hbmRQYWxldHRlLnNob3J0Y3V0IGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2hvcnRjdXQsXHJcblx0XHRcdFx0c2VhcmNoOiB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gsXHJcblx0XHRcdFx0XHQuLi4oY29tbWFuZFBhbGV0dGUuc2VhcmNoICYmIHR5cGVvZiBjb21tYW5kUGFsZXR0ZS5zZWFyY2ggPT09ICdvYmplY3QnID8gY29tbWFuZFBhbGV0dGUuc2VhcmNoIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IDoge30pXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRzZWN0aW9uczoge1xyXG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMsXHJcblx0XHRcdFx0XHQuLi4oY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgJiYgdHlwZW9mIGNvbW1hbmRQYWxldHRlLnNlY3Rpb25zID09PSAnb2JqZWN0JyA/IGNvbW1hbmRQYWxldHRlLnNlY3Rpb25zIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IDoge30pXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRxdWlja0FjdGlvbnM6IHtcclxuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyxcclxuXHRcdFx0XHRcdC4uLih0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXM/LnF1aWNrQWN0aW9ucyB8fCB7fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAodGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzICYmIHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcy5xdWlja0FjdGlvbnMpIHtcclxuXHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMgPSB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMsXHJcblx0XHRcdFx0XHQuLi50ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMucXVpY2tBY3Rpb25zXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgaG9tZSBvcHRpb25zXHJcblx0XHRpZiAodGVtcGxhdGVDb25maWcuaG9tZU9wdGlvbnMgJiYgdHlwZW9mIHRlbXBsYXRlQ29uZmlnLmhvbWVPcHRpb25zID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRjb25zdCBob21lT3B0aW9ucyA9IHRlbXBsYXRlQ29uZmlnLmhvbWVPcHRpb25zIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG5cdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucyA9IHtcclxuXHRcdFx0XHQuLi5zZXR0aW5ncy5ob21lT3B0aW9ucyxcclxuXHRcdFx0XHRmZWF0dXJlZFBvc3Q6IHtcclxuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCxcclxuXHRcdFx0XHRcdC4uLihob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QgJiYgdHlwZW9mIGhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCA9PT0gJ29iamVjdCcgPyBob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gOiB7fSlcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHJlY2VudFBvc3RzOiB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5ob21lT3B0aW9ucy5yZWNlbnRQb3N0cyxcclxuXHRcdFx0XHRcdC4uLihob21lT3B0aW9ucy5yZWNlbnRQb3N0cyAmJiB0eXBlb2YgaG9tZU9wdGlvbnMucmVjZW50UG9zdHMgPT09ICdvYmplY3QnID8gaG9tZU9wdGlvbnMucmVjZW50UG9zdHMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gOiB7fSlcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHByb2plY3RzOiB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cyxcclxuXHRcdFx0XHRcdC4uLihob21lT3B0aW9ucy5wcm9qZWN0cyAmJiB0eXBlb2YgaG9tZU9wdGlvbnMucHJvamVjdHMgPT09ICdvYmplY3QnID8gaG9tZU9wdGlvbnMucHJvamVjdHMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gOiB7fSlcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGRvY3M6IHtcclxuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmhvbWVPcHRpb25zLmRvY3MsXHJcblx0XHRcdFx0XHQuLi4oaG9tZU9wdGlvbnMuZG9jcyAmJiB0eXBlb2YgaG9tZU9wdGlvbnMuZG9jcyA9PT0gJ29iamVjdCcgPyBob21lT3B0aW9ucy5kb2NzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IDoge30pXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRibHVyYjoge1xyXG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuaG9tZU9wdGlvbnMuYmx1cmIsXHJcblx0XHRcdFx0XHQuLi4oaG9tZU9wdGlvbnMuYmx1cmIgJiYgdHlwZW9mIGhvbWVPcHRpb25zLmJsdXJiID09PSAnb2JqZWN0JyA/IGhvbWVPcHRpb25zLmJsdXJiIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IDoge30pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgcG9zdCBvcHRpb25zXHJcblx0XHRpZiAodGVtcGxhdGVDb25maWcucG9zdE9wdGlvbnMgJiYgdHlwZW9mIHRlbXBsYXRlQ29uZmlnLnBvc3RPcHRpb25zID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRjb25zdCBwb3N0T3B0aW9ucyA9IHRlbXBsYXRlQ29uZmlnLnBvc3RPcHRpb25zIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG5cdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHtcclxuXHRcdFx0XHQuLi5zZXR0aW5ncy5wb3N0T3B0aW9ucyxcclxuXHRcdFx0XHRwb3N0c1BlclBhZ2U6IChwb3N0T3B0aW9ucy5wb3N0c1BlclBhZ2UgYXMgbnVtYmVyIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5wb3N0c1BlclBhZ2UsXHJcblx0XHRcdFx0cmVhZGluZ1RpbWU6IChwb3N0T3B0aW9ucy5yZWFkaW5nVGltZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5yZWFkaW5nVGltZSxcclxuXHRcdFx0XHR3b3JkQ291bnQ6IChwb3N0T3B0aW9ucy53b3JkQ291bnQgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMud29yZENvdW50LFxyXG5cdFx0XHRcdHRhZ3M6IChwb3N0T3B0aW9ucy50YWdzIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLnRhZ3MsXHJcblx0XHRcdFx0cG9zdE5hdmlnYXRpb246IChwb3N0T3B0aW9ucy5wb3N0TmF2aWdhdGlvbiBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5wb3N0TmF2aWdhdGlvbixcclxuXHRcdFx0XHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogKChwb3N0T3B0aW9ucy5zaG93UG9zdENhcmRDb3ZlckltYWdlcyBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLnNob3dQb3N0Q2FyZENvdmVySW1hZ2VzKSBhcyAnYWxsJyB8ICdmZWF0dXJlZCcgfCAnaG9tZScgfCAncG9zdHMnIHwgJ2ZlYXR1cmVkLWFuZC1wb3N0cycgfCAnbm9uZScsXHJcblx0XHRcdFx0cG9zdENhcmRBc3BlY3RSYXRpbzogKChwb3N0T3B0aW9ucy5wb3N0Q2FyZEFzcGVjdFJhdGlvIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdENhcmRBc3BlY3RSYXRpbykgYXMgJ29nJyB8ICcxNjo5JyB8ICc0OjMnIHwgJzM6MicgfCAnc3F1YXJlJyB8ICdnb2xkZW4nIHwgJ2N1c3RvbScsXHJcblx0XHRcdFx0bGlua2VkTWVudGlvbnM6IHtcclxuXHRcdFx0XHRcdC4uLnNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zLFxyXG5cdFx0XHRcdFx0Li4uKHBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyA9PT0gJ29iamVjdCcgPyBwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA6IHt9KVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Z3JhcGhWaWV3OiB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcsXHJcblx0XHRcdFx0XHRlbmFibGVkOiAocG9zdE9wdGlvbnMuZ3JhcGhWaWV3ICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5ncmFwaFZpZXcgPT09ICdvYmplY3QnID8gKHBvc3RPcHRpb25zLmdyYXBoVmlldyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuZW5hYmxlZCBhcyBib29sZWFuIHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZCxcclxuXHRcdFx0XHRcdHNob3dJblNpZGViYXI6IChwb3N0T3B0aW9ucy5ncmFwaFZpZXcgJiYgdHlwZW9mIHBvc3RPcHRpb25zLmdyYXBoVmlldyA9PT0gJ29iamVjdCcgPyAocG9zdE9wdGlvbnMuZ3JhcGhWaWV3IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5zaG93SW5TaWRlYmFyIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQgOiB1bmRlZmluZWQpID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5zaG93SW5TaWRlYmFyLFxyXG5cdFx0XHRcdFx0bWF4Tm9kZXM6IChwb3N0T3B0aW9ucy5ncmFwaFZpZXcgJiYgdHlwZW9mIHBvc3RPcHRpb25zLmdyYXBoVmlldyA9PT0gJ29iamVjdCcgPyAocG9zdE9wdGlvbnMuZ3JhcGhWaWV3IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5tYXhOb2RlcyBhcyBudW1iZXIgfCB1bmRlZmluZWQgOiB1bmRlZmluZWQpID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5tYXhOb2RlcyxcclxuXHRcdFx0XHRcdHNob3dPcnBoYW5lZFBvc3RzOiAocG9zdE9wdGlvbnMuZ3JhcGhWaWV3ICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5ncmFwaFZpZXcgPT09ICdvYmplY3QnID8gKHBvc3RPcHRpb25zLmdyYXBoVmlldyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuc2hvd09ycGhhbmVkUG9zdHMgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LnNob3dPcnBoYW5lZFBvc3RzXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRjb21tZW50czogc2V0dGluZ3MucG9zdE9wdGlvbnMuY29tbWVudHMgIC8vIFByZXNlcnZlIGNvbW1lbnRzXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBuYXZpZ2F0aW9uXHJcblx0XHRpZiAodGVtcGxhdGVDb25maWcubmF2aWdhdGlvbiAmJiB0eXBlb2YgdGVtcGxhdGVDb25maWcubmF2aWdhdGlvbiA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Y29uc3QgbmF2aWdhdGlvbiA9IHRlbXBsYXRlQ29uZmlnLm5hdmlnYXRpb24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XHJcblx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24gPSB7XHJcblx0XHRcdFx0Li4uc2V0dGluZ3MubmF2aWdhdGlvbixcclxuXHRcdFx0XHRzaG93TmF2aWdhdGlvbjogKG5hdmlnYXRpb24uc2hvd05hdmlnYXRpb24gYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TmF2aWdhdGlvbixcclxuXHRcdFx0XHRzaG93TW9iaWxlTWVudTogKG5hdmlnYXRpb24uc2hvd01vYmlsZU1lbnUgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TW9iaWxlTWVudSxcclxuXHRcdFx0XHRzdHlsZTogKChuYXZpZ2F0aW9uLnN0eWxlIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MubmF2aWdhdGlvbi5zdHlsZSkgYXMgJ21pbmltYWwnIHwgJ3RyYWRpdGlvbmFsJ1xyXG5cdFx0XHRcdC8vIFByZXNlcnZlIHBhZ2VzIGFuZCBzb2NpYWwgYXJyYXlzIGZyb20gdXNlciBzZXR0aW5nc1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgdGFibGUgb2YgY29udGVudHMgc2V0dGluZ3MgZnJvbSBwcmVzZXRcclxuXHRcdGlmICh0ZW1wbGF0ZVByZXNldC5jb25maWcudGFibGVPZkNvbnRlbnRzKSB7XHJcblx0XHRcdHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cyA9IHsgLi4uc2V0dGluZ3MudGFibGVPZkNvbnRlbnRzLCAuLi50ZW1wbGF0ZVByZXNldC5jb25maWcudGFibGVPZkNvbnRlbnRzIH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBvcHRpb25hbCBjb250ZW50IHR5cGVzIGZyb20gdGVtcGxhdGUgY29uZmlnXHJcblx0XHRpZiAodGVtcGxhdGVDb25maWcub3B0aW9uYWxDb250ZW50VHlwZXMgJiYgdHlwZW9mIHRlbXBsYXRlQ29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRjb25zdCBvcHRpb25hbENvbnRlbnRUeXBlcyA9IHRlbXBsYXRlQ29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG5cdFx0XHRzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcyA9IHtcclxuXHRcdFx0XHRwcm9qZWN0czogKG9wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IGZhbHNlLFxyXG5cdFx0XHRcdGRvY3M6IChvcHRpb25hbENvbnRlbnRUeXBlcy5kb2NzIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IGZhbHNlXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIENSSVRJQ0FMOiBVcGRhdGUgZm9vdGVyIHNldHRpbmdzIGZyb20gdGVtcGxhdGUgY29uZmlnXHJcblx0XHRpZiAodGVtcGxhdGVDb25maWcuZm9vdGVyICYmIHR5cGVvZiB0ZW1wbGF0ZUNvbmZpZy5mb290ZXIgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGNvbnN0IGZvb3RlciA9IHRlbXBsYXRlQ29uZmlnLmZvb3RlciBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxuXHRcdFx0Y29uc3Qgc2hvd1NvY2lhbEljb25zSW5Gb290ZXIgPSAoZm9vdGVyLnNob3dTb2NpYWxJY29uc0luRm9vdGVyIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3RlcjtcclxuXHRcdFx0c2V0dGluZ3MuZm9vdGVyID0ge1xyXG5cdFx0XHRcdC4uLnNldHRpbmdzLmZvb3RlcixcclxuXHRcdFx0XHRzaG93U29jaWFsSWNvbnNJbkZvb3RlclxyXG5cdFx0XHR9O1xyXG5cdFx0XHQvLyBTeW5jIGZlYXR1cmVzLnNob3dTb2NpYWxJY29uc0luRm9vdGVyXHJcblx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnNob3dTb2NpYWxJY29uc0luRm9vdGVyID0gc2hvd1NvY2lhbEljb25zSW5Gb290ZXI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2F2ZSB0aGUgdXBkYXRlZCBzZXR0aW5nc1xyXG5cdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHJcblx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRjb25zdCBwbHVnaW5JbnN0YW5jZSA9IHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbjtcclxuXHRcdGF3YWl0IHBsdWdpbkluc3RhbmNlLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHJcblx0XHQvLyBUcmlnZ2VyIGEgcmVmcmVzaCBvZiB0aGUgc2V0dGluZ3MgdGFiIGlmIGl0J3Mgb3BlblxyXG5cdFx0dGhpcy5yZWZyZXNoU2V0dGluZ3NUYWIoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVmcmVzaFNldHRpbmdzVGFiKCk6IHZvaWQge1xyXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHNldHRpbmdzIHRhYiBpcyBjdXJyZW50bHkgb3BlbiBhbmQgcmVmcmVzaCBpdFxyXG5cdFx0Y29uc3QgcGx1Z2luID0gdGhpcy5wbHVnaW4gYXMgdW5rbm93biBhcyB7IHNldHRpbmdzVGFiPzogeyBkaXNwbGF5PzogKCkgPT4gdm9pZCB9IH07XHJcblx0XHRjb25zdCBzZXR0aW5nc1RhYiA9IHBsdWdpbi5zZXR0aW5nc1RhYjtcclxuXHRcdGlmIChzZXR0aW5nc1RhYiAmJiB0eXBlb2Ygc2V0dGluZ3NUYWIuZGlzcGxheSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRzZXR0aW5nc1RhYi5kaXNwbGF5KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIG9wZW5Db25maWdGaWxlKCk6IHZvaWQge1xyXG5cdFx0Ly8gT3BlbiBjb25maWcudHMgZmlsZSAtIGl0J3Mgb25lIGxldmVsIHVwIGZyb20gdGhlIHZhdWx0XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcclxuXHRcdFx0Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpIGFzIHR5cGVvZiBpbXBvcnQoJ2ZzJyk7XHJcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxyXG5cdFx0XHRjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpIGFzIHR5cGVvZiBpbXBvcnQoJ3BhdGgnKTtcclxuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciAtIGVsZWN0cm9uIGlzIG9ubHkgYXZhaWxhYmxlIGluIEVsZWN0cm9uIGVudmlyb25tZW50XHJcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxyXG5cdFx0XHRjb25zdCBlbGVjdHJvbk1vZHVsZSA9IHJlcXVpcmUoJ2VsZWN0cm9uJykgYXMgdW5rbm93biBhcyB7IHNoZWxsPzogdHlwZW9mIGltcG9ydCgnZWxlY3Ryb24nKS5zaGVsbCB9O1xyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XHJcblx0XHRcdGNvbnN0IHNoZWxsUmF3ID0gZWxlY3Ryb25Nb2R1bGUuc2hlbGw7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBHZXQgdGhlIGFjdHVhbCB2YXVsdCBwYXRoIHN0cmluZyBmcm9tIHRoZSBhZGFwdGVyXHJcblx0XHRcdGNvbnN0IHZhdWx0QWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgdW5rbm93biBhcyB7IGJhc2VQYXRoPzogc3RyaW5nOyBwYXRoPzogc3RyaW5nIH07XHJcblx0XHRcdGNvbnN0IHZhdWx0UGF0aCA9IHZhdWx0QWRhcHRlci5iYXNlUGF0aCB8fCB2YXVsdEFkYXB0ZXIucGF0aDtcclxuXHRcdFx0Y29uc3QgdmF1bHRQYXRoU3RyaW5nID0gdHlwZW9mIHZhdWx0UGF0aCA9PT0gJ3N0cmluZycgPyB2YXVsdFBhdGggOiAodmF1bHRQYXRoID8gU3RyaW5nKHZhdWx0UGF0aCkgOiAnJyk7XHJcblx0XHRcdGlmICghc2hlbGxSYXcgfHwgdHlwZW9mIHNoZWxsUmF3ICE9PSAnb2JqZWN0JyB8fCAhKCdvcGVuUGF0aCcgaW4gc2hlbGxSYXcpIHx8IHR5cGVvZiAoc2hlbGxSYXcgYXMgeyBvcGVuUGF0aD86IHVua25vd24gfSkub3BlblBhdGggIT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VsZWN0cm9uIHNoZWxsIEFQSSBub3QgYXZhaWxhYmxlJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudCAtLSBSdW50aW1lIHR5cGUgZ3VhcmQgZW5zdXJlcyBzYWZldHlcclxuXHRcdFx0Y29uc3Qgc2hlbGwgPSBzaGVsbFJhdztcclxuXHRcdFx0Y29uc3QgY29uZmlnUGF0aCA9IHBhdGguam9pbih2YXVsdFBhdGhTdHJpbmcsICcuLicsICdjb25maWcudHMnKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmIChmcy5leGlzdHNTeW5jKGNvbmZpZ1BhdGgpKSB7XHJcblx0XHRcdFx0Ly8gVXNlIEVsZWN0cm9uJ3Mgc2hlbGwgdG8gb3BlbiB0aGUgZmlsZSB3aXRoIHRoZSBkZWZhdWx0IGVkaXRvclxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWNhbGwsIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xyXG5cdFx0XHRcdHNoZWxsLm9wZW5QYXRoKGNvbmZpZ1BhdGgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIENyZWF0ZSB0aGUgZmlsZSBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcblx0XHRcdFx0ZnMud3JpdGVGaWxlU3luYyhjb25maWdQYXRoLCAnLy8gQXN0cm8gTW9kdWxhciBDb25maWd1cmF0aW9uXFxuLy8gQ3VzdG9taXplIHlvdXIgc2V0dGluZ3MgaGVyZVxcblxcbmV4cG9ydCBjb25zdCBzaXRlQ29uZmlnID0ge1xcbiAgLy8gQWRkIHlvdXIgY29uZmlndXJhdGlvbiBoZXJlXFxufTtcXG4nKTtcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1jYWxsLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcclxuXHRcdFx0XHRzaGVsbC5vcGVuUGF0aChjb25maWdQYXRoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRuZXcgTm90aWNlKCdPcGVuaW5nIGNvbmZpZy50cyBmb3IgZGlyZWN0IGVkaXRpbmcnKTtcclxuXHRcdFx0dGhpcy5tb2RhbC5jbG9zZSgpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0bmV3IE5vdGljZShgRXJyb3Igb3BlbmluZyBjb25maWcgZmlsZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBCYXNlV2l6YXJkU3RlcCB9IGZyb20gJy4vQmFzZVdpemFyZFN0ZXAnO1xyXG5pbXBvcnQgeyBUSEVNRV9PUFRJT05TIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRoZW1lU3RlcCBleHRlbmRzIEJhc2VXaXphcmRTdGVwIHtcclxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRjb25zdCBpc0RhcmtNb2RlID0gdGhpcy5pc09ic2lkaWFuRGFya01vZGUoKTtcclxuXHRcdFxyXG5cdFx0Ly8gRmlsdGVyIG91dCAnY3VzdG9tJyB0aGVtZSBmcm9tIHdpemFyZCAtIGl0J3Mgb25seSBmb3IgYWR2YW5jZWQgdXNlcnMgaW4gc2V0dGluZ3NcclxuXHRcdGNvbnN0IHdpemFyZFRoZW1lcyA9IFRIRU1FX09QVElPTlMuZmlsdGVyKHRoZW1lID0+IHRoZW1lLmlkICE9PSAnY3VzdG9tJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHRoZW1lU2VsZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdigndGhlbWUtc2VsZWN0aW9uJyk7XHJcblx0XHR0aGVtZVNlbGVjdGlvbi5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdDaG9vc2UgeW91ciB0aGVtZScgfSk7XHJcblx0XHR0aGVtZVNlbGVjdGlvbi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1NlbGVjdCBhIGNvbG9yIHNjaGVtZSB0aGF0IG1hdGNoZXMgeW91ciBzdHlsZSBhbmQgY29udGVudC4nIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0aGVtZU9wdGlvbnMgPSB0aGVtZVNlbGVjdGlvbi5jcmVhdGVEaXYoJ3RoZW1lLW9wdGlvbnMnKTtcclxuXHRcdFxyXG5cdFx0d2l6YXJkVGhlbWVzLmZvckVhY2godGhlbWUgPT4ge1xyXG5cdFx0XHRjb25zdCB0aGVtZU9wdGlvbiA9IHRoZW1lT3B0aW9ucy5jcmVhdGVEaXYoJ3RoZW1lLW9wdGlvbicpO1xyXG5cdFx0XHRpZiAoc3RhdGUuc2VsZWN0ZWRUaGVtZSA9PT0gdGhlbWUuaWQpIHtcclxuXHRcdFx0XHR0aGVtZU9wdGlvbi5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGVtZU9wdGlvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCB0aGVtZS5pZCk7XHJcblx0XHRcdC8vIFNldCBkeW5hbWljIGJhY2tncm91bmRcclxuXHRcdFx0dGhlbWVPcHRpb24uc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGJhY2tncm91bmQ6IGlzRGFya01vZGUgPyB0aGVtZS5iYWNrZ3JvdW5kQ29sb3JEYXJrIDogdGhlbWUuYmFja2dyb3VuZENvbG9yTGlnaHRcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCB0aGVtZVByZXZpZXcgPSB0aGVtZU9wdGlvbi5jcmVhdGVEaXYoJ3RoZW1lLXByZXZpZXcnKTtcclxuXHRcdFx0Ly8gU2V0IGR5bmFtaWMgYmFja2dyb3VuZFxyXG5cdFx0XHR0aGVtZVByZXZpZXcuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGJhY2tncm91bmQ6IGBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAke3RoZW1lLnByZXZpZXdDb2xvcnMuam9pbignLCAnKX0pYFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IHByZXZpZXdDb250ZW50ID0gdGhlbWVQcmV2aWV3LmNyZWF0ZURpdigndGhlbWUtcHJldmlldy1jb250ZW50Jyk7XHJcblx0XHRcdGNvbnN0IHByZXZpZXdUZXh0ID0gcHJldmlld0NvbnRlbnQuY3JlYXRlRGl2KCdwcmV2aWV3LXRleHQnKTtcclxuXHRcdFx0cHJldmlld1RleHQudGV4dENvbnRlbnQgPSAnU2FtcGxlIHRleHQnO1xyXG5cdFx0XHRjb25zdCBwcmV2aWV3QWNjZW50ID0gcHJldmlld0NvbnRlbnQuY3JlYXRlRGl2KCdwcmV2aWV3LWFjY2VudCcpO1xyXG5cdFx0XHRwcmV2aWV3QWNjZW50LnRleHRDb250ZW50ID0gJ0FjY2VudCc7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCB0aGVtZUluZm8gPSB0aGVtZU9wdGlvbi5jcmVhdGVEaXYoJ3RoZW1lLWluZm8nKTtcclxuXHRcdFx0dGhlbWVJbmZvLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogdGhlbWUubmFtZSB9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEFkZCBjbGljayBoYW5kbGVyXHJcblx0XHRcdHRoZW1lT3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGUoeyBzZWxlY3RlZFRoZW1lOiB0aGVtZS5pZCB9KTtcclxuXHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpc09ic2lkaWFuRGFya01vZGUoKTogYm9vbGVhbiB7XHJcblx0XHQvLyBDaGVjayBpZiBPYnNpZGlhbiBpcyBpbiBkYXJrIG1vZGUgYnkgbG9va2luZyBhdCB0aGUgYm9keSBjbGFzcyBvciBDU1MgY3VzdG9tIHByb3BlcnRpZXNcclxuXHRcdGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG5cdFx0Y29uc3QgaXNEYXJrQ2xhc3MgPSBib2R5LmNsYXNzTGlzdC5jb250YWlucygndGhlbWUtZGFyaycpIHx8IGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrJyk7XHJcblx0XHRcclxuXHRcdC8vIEFsc28gY2hlY2sgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzIGFzIGEgZmFsbGJhY2tcclxuXHRcdGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XHJcblx0XHRjb25zdCBjb2xvclNjaGVtZSA9IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnY29sb3Itc2NoZW1lJykudHJpbSgpO1xyXG5cdFx0Y29uc3QgaXNEYXJrUHJvcGVydHkgPSBjb2xvclNjaGVtZSA9PT0gJ2RhcmsnO1xyXG5cdFx0XHJcblx0XHQvLyBDaGVjayBpZiB0aGUgYmFja2dyb3VuZCBpcyBkYXJrIGJ5IGxvb2tpbmcgYXQgdGhlIHByaW1hcnkgYmFja2dyb3VuZCBjb2xvclxyXG5cdFx0Y29uc3QgYmdDb2xvciA9IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1iYWNrZ3JvdW5kLXByaW1hcnknKS50cmltKCk7XHJcblx0XHRjb25zdCBpc0RhcmtCYWNrZ3JvdW5kID0gQm9vbGVhbihiZ0NvbG9yICYmIChcclxuXHRcdFx0YmdDb2xvci5pbmNsdWRlcygnIycpICYmIHBhcnNlSW50KGJnQ29sb3Iuc2xpY2UoMSwgMyksIDE2KSA8IDEyOCB8fFxyXG5cdFx0XHRiZ0NvbG9yLmluY2x1ZGVzKCdyZ2InKSAmJiBiZ0NvbG9yLmluY2x1ZGVzKCcwLCAwLCAwJykgfHxcclxuXHRcdFx0YmdDb2xvci5pbmNsdWRlcygnaHNsJykgJiYgYmdDb2xvci5pbmNsdWRlcygnMCwgMCUsIDAlJylcclxuXHRcdCkpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gaXNEYXJrQ2xhc3MgfHwgaXNEYXJrUHJvcGVydHkgfHwgaXNEYXJrQmFja2dyb3VuZDtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEJhc2VXaXphcmRTdGVwIH0gZnJvbSAnLi9CYXNlV2l6YXJkU3RlcCc7XHJcbmltcG9ydCB7IEZPTlRfT1BUSU9OUyB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgU2V0dGluZywgRHJvcGRvd25Db21wb25lbnQsIFRleHRDb21wb25lbnQgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFdpemFyZFN0YXRlIH0gZnJvbSAnLi9XaXphcmRTdGF0ZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9udFN0ZXAgZXh0ZW5kcyBCYXNlV2l6YXJkU3RlcCB7XHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmb250U2VsZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignZm9udC1zZWxlY3Rpb24nKTtcclxuXHRcdGZvbnRTZWxlY3Rpb24uY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnQ2hvb3NlIHlvdXIgZm9udHMnIH0pO1xyXG5cdFx0Zm9udFNlbGVjdGlvbi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1NlbGVjdCBmb250cyBmb3IgaGVhZGluZ3MsIGJvZHkgdGV4dCwgYW5kIGNvZGUuJyB9KTtcclxuXHJcblx0XHQvLyBDcmVhdGUgdGhlIGZvbnQgb3B0aW9ucyBjb250YWluZXJcclxuXHRcdGNvbnN0IGZvbnRPcHRpb25zID0gZm9udFNlbGVjdGlvbi5jcmVhdGVEaXYoJ2ZvbnQtb3B0aW9ucycpO1xyXG5cclxuXHRcdC8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgZm9udCBkcm9wZG93bnNcclxuXHRcdGNvbnN0IGNyZWF0ZUZvbnREcm9wZG93biA9IChuYW1lOiBzdHJpbmcsIGRlc2M6IHN0cmluZywgY3VycmVudFZhbHVlOiBzdHJpbmcsIG9uQ2hhbmdlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZCkgPT4ge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhmb250T3B0aW9ucylcclxuXHRcdFx0XHQuc2V0TmFtZShuYW1lKVxyXG5cdFx0XHRcdC5zZXREZXNjKGRlc2MpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bjogRHJvcGRvd25Db21wb25lbnQpID0+IHtcclxuXHRcdFx0XHRcdEZPTlRfT1BUSU9OUy5mb3JFYWNoKGZvbnQgPT4ge1xyXG5cdFx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oZm9udCwgZm9udCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKGN1cnJlbnRWYWx1ZSlcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKG9uQ2hhbmdlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGZvbnQgZHJvcGRvd25zXHJcblx0XHRjcmVhdGVGb250RHJvcGRvd24oJ0hlYWRpbmcgRm9udCcsICdGb250IGZvciBoZWFkaW5ncyBhbmQgdGl0bGVzJywgXHJcblx0XHRcdHN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeS5oZWFkaW5nRm9udCwgXHJcblx0XHRcdCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnVwZGF0ZVR5cG9ncmFwaHlTZXR0aW5nKCdoZWFkaW5nRm9udCcsIHZhbHVlLCBzdGF0ZSkpO1xyXG5cclxuXHRcdGNyZWF0ZUZvbnREcm9wZG93bignQm9keSBGb250JywgJ0ZvbnQgZm9yIGJvZHkgdGV4dCBhbmQgcGFyYWdyYXBocycsIFxyXG5cdFx0XHRzdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHkucHJvc2VGb250LCBcclxuXHRcdFx0KHZhbHVlOiBzdHJpbmcpID0+IHRoaXMudXBkYXRlVHlwb2dyYXBoeVNldHRpbmcoJ3Byb3NlRm9udCcsIHZhbHVlLCBzdGF0ZSkpO1xyXG5cclxuXHRcdGNyZWF0ZUZvbnREcm9wZG93bignTW9ub3NwYWNlIEZvbnQnLCAnRm9udCBmb3IgY29kZSBibG9ja3MgYW5kIGlubGluZSBjb2RlJywgXHJcblx0XHRcdHN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeS5tb25vRm9udCwgXHJcblx0XHRcdCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnVwZGF0ZVR5cG9ncmFwaHlTZXR0aW5nKCdtb25vRm9udCcsIHZhbHVlLCBzdGF0ZSkpO1xyXG5cclxuXHRcdC8vIEZvbnQgc291cmNlIGRyb3Bkb3duXHJcblx0XHRuZXcgU2V0dGluZyhmb250T3B0aW9ucylcclxuXHRcdFx0LnNldE5hbWUoJ0ZvbnQgc291cmNlJylcclxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSBob3cgZm9udHMgYXJlIGxvYWRlZCcpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50KSA9PiB7XHJcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiR29vZ2xlIEZvbnRzXCIgaXMgYSBwcm9wZXIgbm91biAoc2VydmljZSBuYW1lKVxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJ2xvY2FsJywgJ0xvY2FsIChHb29nbGUgRm9udHMpJyk7XHJcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiQ0ROXCIgaXMgYW4gYWNyb255bVxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJ2NkbicsICdDRE4gKEN1c3RvbSknKTtcclxuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShzdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHkuZm9udFNvdXJjZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZVR5cG9ncmFwaHlTZXR0aW5nKCdmb250U291cmNlJywgdmFsdWUgYXMgJ2xvY2FsJyB8ICdjZG4nLCBzdGF0ZSk7XHJcblx0XHRcdFx0XHRcdC8vIFJlLXJlbmRlciB0byBzaG93L2hpZGUgY3VzdG9tIGlucHV0c1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIEN1c3RvbSBmb250IGlucHV0cyAob25seSBzaG93IHdoZW4gQ0ROIGlzIHNlbGVjdGVkKVxyXG5cdFx0aWYgKHN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeS5mb250U291cmNlID09PSAnY2RuJykge1xyXG5cdFx0XHRuZXcgU2V0dGluZyhmb250T3B0aW9ucylcclxuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJVUkxzXCIgaXMgYW4gYWNyb255bSBhbmQgc2hvdWxkIGJlIHVwcGVyY2FzZVxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIGZvbnQgVVJMcycpXHJcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiVVJMc1wiIGlzIGFuIGFjcm9ueW0gYW5kIHNob3VsZCBiZSB1cHBlcmNhc2VcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0LnNldERlc2MoJ0NvbW1hLXNlcGFyYXRlZCBVUkxzIGZvciBjdXN0b20gZm9udHMnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0OiBUZXh0Q29tcG9uZW50KSA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc3RhdGUuc2VsZWN0ZWRUeXBvZ3JhcGh5LmN1c3RvbUZvbnRzPy51cmxzIHx8ICcnKVxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUN1c3RvbStGb250OndnaHRANDAwOzYwMCZkaXNwbGF5PXN3YXAnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnVwZGF0ZUN1c3RvbUZvbnRTZXR0aW5nKCd1cmxzJywgdmFsdWUsIHN0YXRlKSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoZm9udE9wdGlvbnMpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBoZWFkaW5nIGZvbnQgbmFtZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ0ZvbnQgZmFtaWx5IG5hbWUgZm9yIGhlYWRpbmdzJylcclxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dDogVGV4dENvbXBvbmVudCkgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeS5jdXN0b21Gb250cz8uaGVhZGluZyB8fCAnJylcclxuXHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBQbGFjZWhvbGRlciB0ZXh0IGZvciBmb250IG5hbWVcclxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignQ3VzdG9tIEhlYWRpbmcgRm9udCcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHRoaXMudXBkYXRlQ3VzdG9tRm9udFNldHRpbmcoJ2hlYWRpbmcnLCB2YWx1ZSwgc3RhdGUpKSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhmb250T3B0aW9ucylcclxuXHRcdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIGJvZHkgZm9udCBuYW1lJylcclxuXHRcdFx0XHQuc2V0RGVzYygnRm9udCBmYW1pbHkgbmFtZSBmb3IgYm9keSB0ZXh0JylcclxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dDogVGV4dENvbXBvbmVudCkgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeS5jdXN0b21Gb250cz8ucHJvc2UgfHwgJycpXHJcblx0XHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogUGxhY2Vob2xkZXIgdGV4dCBmb3IgZm9udCBuYW1lXHJcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0N1c3RvbSBCb2R5IEZvbnQnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnVwZGF0ZUN1c3RvbUZvbnRTZXR0aW5nKCdwcm9zZScsIHZhbHVlLCBzdGF0ZSkpKTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGZvbnRPcHRpb25zKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdDdXN0b20gbW9ub3NwYWNlIGZvbnQgbmFtZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ0ZvbnQgZmFtaWx5IG5hbWUgZm9yIGNvZGUnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0OiBUZXh0Q29tcG9uZW50KSA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc3RhdGUuc2VsZWN0ZWRUeXBvZ3JhcGh5LmN1c3RvbUZvbnRzPy5tb25vIHx8ICcnKVxyXG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFBsYWNlaG9sZGVyIHRleHQgZm9yIGZvbnQgbmFtZVxyXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdDdXN0b20gTW9ub3NwYWNlIEZvbnQnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnVwZGF0ZUN1c3RvbUZvbnRTZXR0aW5nKCdtb25vJywgdmFsdWUsIHN0YXRlKSkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB1cGRhdGVUeXBvZ3JhcGh5U2V0dGluZyhrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgc3RhdGU6IFdpemFyZFN0YXRlKTogdm9pZCB7XHJcblx0XHRjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0c2VsZWN0ZWRUeXBvZ3JhcGh5OiB7XHJcblx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeSxcclxuXHRcdFx0XHRba2V5XTogdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZUN1c3RvbUZvbnRTZXR0aW5nKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBzdGF0ZTogV2l6YXJkU3RhdGUpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdHRoaXMudXBkYXRlU3RhdGUoe1xyXG5cdFx0XHRzZWxlY3RlZFR5cG9ncmFwaHk6IHtcclxuXHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRUeXBvZ3JhcGh5LFxyXG5cdFx0XHRcdGN1c3RvbUZvbnRzOiB7XHJcblx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRUeXBvZ3JhcGh5LmN1c3RvbUZvbnRzLFxyXG5cdFx0XHRcdFx0W2tleV06IHZhbHVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEJhc2VXaXphcmRTdGVwIH0gZnJvbSAnLi9CYXNlV2l6YXJkU3RlcCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGVudE9yZ1N0ZXAgZXh0ZW5kcyBCYXNlV2l6YXJkU3RlcCB7XHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBjb250ZW50T3JnU2VsZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignY29udGVudC1vcmctc2VsZWN0aW9uJyk7XHJcblx0XHRjb250ZW50T3JnU2VsZWN0aW9uLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0NvbnRlbnQgb3JnYW5pemF0aW9uJyB9KTtcclxuXHRcdGNvbnRlbnRPcmdTZWxlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaG9vc2UgaG93IHlvdSB3YW50IHRvIG9yZ2FuaXplIHlvdXIgY29udGVudCBhbmQgYXNzZXRzLicgfSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IG9yZ09wdGlvbnMgPSBjb250ZW50T3JnU2VsZWN0aW9uLmNyZWF0ZURpdignb3JnLW9wdGlvbnMnKTtcclxuXHRcdFxyXG5cdFx0Ly8gRmlsZS1iYXNlZCBvcHRpb25cclxuXHRcdGNvbnN0IGZpbGVCYXNlZE9wdGlvbiA9IG9yZ09wdGlvbnMuY3JlYXRlRGl2KCdvcmctb3B0aW9uJyk7XHJcblx0XHRpZiAoc3RhdGUuc2VsZWN0ZWRDb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcpIHtcclxuXHRcdFx0ZmlsZUJhc2VkT3B0aW9uLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG5cdFx0fVxyXG5cdFx0ZmlsZUJhc2VkT3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1vcmcnLCAnZmlsZS1iYXNlZCcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmaWxlQmFzZWRIZWFkZXIgPSBmaWxlQmFzZWRPcHRpb24uY3JlYXRlRGl2KCdvcmctaGVhZGVyJyk7XHJcblx0XHRmaWxlQmFzZWRIZWFkZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnRmlsZS1iYXNlZCcgfSk7XHJcblx0XHRmaWxlQmFzZWRIZWFkZXIuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6ICdEZWZhdWx0JywgY2xzOiAnZGVmYXVsdC1iYWRnZScgfSk7XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogVGV4dCBpcyBhbHJlYWR5IGluIHNlbnRlbmNlIGNhc2VcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdGZpbGVCYXNlZE9wdGlvbi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1NpbmdsZSBtYXJrZG93biBmaWxlcyB3aXRoIGltYWdlcyBpbiBhdHRhY2htZW50cyBzdWJmb2xkZXInIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmaWxlQmFzZWRFeGFtcGxlID0gZmlsZUJhc2VkT3B0aW9uLmNyZWF0ZURpdignb3JnLWV4YW1wbGUnKTtcclxuXHRcdGNvbnN0IGZpbGVCYXNlZFByZSA9IGZpbGVCYXNlZEV4YW1wbGUuY3JlYXRlRWwoJ3ByZScpO1xyXG5cdFx0ZmlsZUJhc2VkUHJlLmNyZWF0ZUVsKCdjb2RlJywgeyB0ZXh0OiAncG9zdHMvXFxuXHUyNTFDXHUyNTAwXHUyNTAwIG15LXBvc3QubWRcXG5cdTI1MTRcdTI1MDBcdTI1MDAgYXR0YWNobWVudHMvXFxuICAgIFx1MjUxNFx1MjUwMFx1MjUwMCBpbWFnZS5qcGcnIH0pO1xyXG5cdFx0XHJcblx0XHQvLyBGb2xkZXItYmFzZWQgb3B0aW9uXHJcblx0XHRjb25zdCBmb2xkZXJCYXNlZE9wdGlvbiA9IG9yZ09wdGlvbnMuY3JlYXRlRGl2KCdvcmctb3B0aW9uJyk7XHJcblx0XHRpZiAoc3RhdGUuc2VsZWN0ZWRDb250ZW50T3JnID09PSAnZm9sZGVyLWJhc2VkJykge1xyXG5cdFx0XHRmb2xkZXJCYXNlZE9wdGlvbi5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcclxuXHRcdH1cclxuXHRcdGZvbGRlckJhc2VkT3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1vcmcnLCAnZm9sZGVyLWJhc2VkJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZvbGRlckJhc2VkSGVhZGVyID0gZm9sZGVyQmFzZWRPcHRpb24uY3JlYXRlRGl2KCdvcmctaGVhZGVyJyk7XHJcblx0XHRmb2xkZXJCYXNlZEhlYWRlci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdGb2xkZXItYmFzZWQnIH0pO1xyXG5cdFx0Zm9sZGVyQmFzZWRPcHRpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdFYWNoIHBvc3QgZ2V0cyBpdHMgb3duIGZvbGRlciB3aXRoIGNvLWxvY2F0ZWQgYXNzZXRzJyB9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgZm9sZGVyQmFzZWRFeGFtcGxlID0gZm9sZGVyQmFzZWRPcHRpb24uY3JlYXRlRGl2KCdvcmctZXhhbXBsZScpO1xyXG5cdFx0Y29uc3QgZm9sZGVyQmFzZWRQcmUgPSBmb2xkZXJCYXNlZEV4YW1wbGUuY3JlYXRlRWwoJ3ByZScpO1xyXG5cdFx0Zm9sZGVyQmFzZWRQcmUuY3JlYXRlRWwoJ2NvZGUnLCB7IHRleHQ6ICdwb3N0cy9cXG5cdTI1MUNcdTI1MDBcdTI1MDAgbXktcG9zdC9cXG5cdTI1MDIgICBcdTI1MUNcdTI1MDBcdTI1MDAgaW5kZXgubWRcXG5cdTI1MDIgICBcdTI1MTRcdTI1MDBcdTI1MDAgaW1hZ2UuanBnXFxuXHUyNTE0XHUyNTAwXHUyNTAwIGFub3RoZXItcG9zdC9cXG4gICAgXHUyNTFDXHUyNTAwXHUyNTAwIGluZGV4Lm1kXFxuICAgIFx1MjUxNFx1MjUwMFx1MjUwMCBpbWFnZS5qcGcnIH0pO1xyXG5cdFx0XHJcblx0XHQvLyBBZGQgY2xpY2sgaGFuZGxlcnNcclxuXHRcdGZpbGVCYXNlZE9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7IHNlbGVjdGVkQ29udGVudE9yZzogJ2ZpbGUtYmFzZWQnIH0pO1xyXG5cdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdGZvbGRlckJhc2VkT3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHsgc2VsZWN0ZWRDb250ZW50T3JnOiAnZm9sZGVyLWJhc2VkJyB9KTtcclxuXHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQmFzZVdpemFyZFN0ZXAgfSBmcm9tICcuL0Jhc2VXaXphcmRTdGVwJztcclxuaW1wb3J0IHsgc2V0SWNvbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgTmF2aWdhdGlvbkl0ZW0gfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcblxyXG4vLyBUeXBlIGZvciBlbGVtZW50cyB3aXRoIGN1c3RvbSBldmVudCBoYW5kbGVyc1xyXG5pbnRlcmZhY2UgRWxlbWVudFdpdGhIYW5kbGVycyBleHRlbmRzIEhUTUxFbGVtZW50IHtcclxuXHRfaW5wdXRIYW5kbGVyPzogKGU6IEV2ZW50KSA9PiB2b2lkO1xyXG5cdF9jbGlja0hhbmRsZXI/OiAoKSA9PiB2b2lkO1xyXG5cdF9yZW1vdmVIYW5kbGVyPzogKGU6IE1vdXNlRXZlbnQpID0+IHZvaWQ7XHJcblx0X2RyYWdTdGFydEhhbmRsZXI/OiAoZTogRHJhZ0V2ZW50KSA9PiB2b2lkO1xyXG5cdF9kcmFnRW5kSGFuZGxlcj86IChlOiBEcmFnRXZlbnQpID0+IHZvaWQ7XHJcblx0X2RyYWdPdmVySGFuZGxlcj86IChlOiBEcmFnRXZlbnQpID0+IHZvaWQ7XHJcblx0X2RyYWdMZWF2ZUhhbmRsZXI/OiAoZTogRHJhZ0V2ZW50KSA9PiB2b2lkO1xyXG5cdF9kcm9wSGFuZGxlcj86IChlOiBEcmFnRXZlbnQpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uU3RlcCBleHRlbmRzIEJhc2VXaXphcmRTdGVwIHtcclxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IG5hdmlnYXRpb25TZWxlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KCduYXZpZ2F0aW9uLXNlbGVjdGlvbicpO1xyXG5cdFx0bmF2aWdhdGlvblNlbGVjdGlvbi5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdOYXZpZ2F0aW9uIHNldHVwJyB9KTtcclxuXHRcdG5hdmlnYXRpb25TZWxlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDb25maWd1cmUgeW91ciBzaXRlIG5hdmlnYXRpb24gYW5kIHNvY2lhbCBsaW5rcy4nIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBuYXZpZ2F0aW9uU2VjdGlvbnMgPSBuYXZpZ2F0aW9uU2VsZWN0aW9uLmNyZWF0ZURpdignbmF2aWdhdGlvbi1zZWN0aW9ucycpO1xyXG5cdFx0XHJcblx0XHQvLyBOYXZpZ2F0aW9uIFBhZ2VzIHNlY3Rpb25cclxuXHRcdGNvbnN0IHBhZ2VzU2VjdGlvbiA9IG5hdmlnYXRpb25TZWN0aW9ucy5jcmVhdGVEaXYoJ25hdi1zZWN0aW9uJyk7XHJcblx0XHRwYWdlc1NlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnTmF2aWdhdGlvbiBwYWdlcycgfSk7XHJcblx0XHRwYWdlc1NlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdBZGQgcGFnZXMgdG8geW91ciBtYWluIG5hdmlnYXRpb24gbWVudS4gTGVhdmUgVVJMIGVtcHR5IHRvIGNyZWF0ZSBkcm9wZG93bi1vbmx5IHBhcmVudHMuJyB9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgcGFnZXNMaXN0ID0gcGFnZXNTZWN0aW9uLmNyZWF0ZURpdignbmF2LWl0ZW1zJyk7XHJcblx0XHRwYWdlc0xpc3QuaWQgPSAncGFnZXMtbGlzdCc7XHJcblx0XHRcclxuXHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlcy5mb3JFYWNoKChwYWdlOiBOYXZpZ2F0aW9uSXRlbSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG5cdFx0XHR0aGlzLnJlbmRlclBhZ2VJdGVtKHBhZ2VzTGlzdCwgcGFnZSwgaW5kZXgpO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIisgQWRkIHBhZ2VcIiBpcyBhbHJlYWR5IGluIHNlbnRlbmNlIGNhc2UgKHRoZSBcIitcIiBpcyBhIFVJIGNvbnZlbnRpb24pXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRjb25zdCBhZGRQYWdlQnRuID0gcGFnZXNTZWN0aW9uLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrIEFkZCBwYWdlJywgY2xzOiAnbmF2LWFkZCcgfSk7XHJcblx0XHRhZGRQYWdlQnRuLmlkID0gJ2FkZC1wYWdlJztcclxuXHRcdFxyXG5cdFx0Ly8gU29jaWFsIExpbmtzIHNlY3Rpb25cclxuXHRcdGNvbnN0IHNvY2lhbFNlY3Rpb24gPSBuYXZpZ2F0aW9uU2VjdGlvbnMuY3JlYXRlRGl2KCduYXYtc2VjdGlvbicpO1xyXG5cdFx0c29jaWFsU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdTb2NpYWwgbGlua3MnIH0pO1xyXG5cdFx0c29jaWFsU2VjdGlvbi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0FkZCBzb2NpYWwgbWVkaWEgbGlua3MgZm9yIHlvdXIgZm9vdGVyLicgfSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHNvY2lhbExpc3QgPSBzb2NpYWxTZWN0aW9uLmNyZWF0ZURpdignbmF2LWl0ZW1zJyk7XHJcblx0XHRzb2NpYWxMaXN0LmlkID0gJ3NvY2lhbC1saXN0JztcclxuXHRcdFxyXG5cdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnNvY2lhbC5mb3JFYWNoKChzb2NpYWw6IHsgdGl0bGU6IHN0cmluZzsgdXJsOiBzdHJpbmc7IGljb246IHN0cmluZyB9LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdHRoaXMucmVuZGVyU29jaWFsSXRlbShzb2NpYWxMaXN0LCBzb2NpYWwsIGluZGV4KTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCIrIEFkZCBzb2NpYWwgbGlua1wiIGlzIGFscmVhZHkgaW4gc2VudGVuY2UgY2FzZSAodGhlIFwiK1wiIGlzIGEgVUkgY29udmVudGlvbilcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdGNvbnN0IGFkZFNvY2lhbEJ0biA9IHNvY2lhbFNlY3Rpb24uY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysgQWRkIHNvY2lhbCBsaW5rJywgY2xzOiAnbmF2LWFkZCcgfSk7XHJcblx0XHRhZGRTb2NpYWxCdG4uaWQgPSAnYWRkLXNvY2lhbCc7XHJcblxyXG5cdFx0dGhpcy5zZXR1cEV2ZW50SGFuZGxlcnMoY29udGFpbmVyKTtcclxuXHR9XHJcblx0XHJcblx0cHJpdmF0ZSByZW5kZXJQYWdlSXRlbShjb250YWluZXI6IEhUTUxFbGVtZW50LCBwYWdlOiBOYXZpZ2F0aW9uSXRlbSwgaW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0Y29uc3QgaGFzQ2hpbGRyZW4gPSBwYWdlLmNoaWxkcmVuICYmIHBhZ2UuY2hpbGRyZW4ubGVuZ3RoID4gMDtcclxuXHRcdFxyXG5cdFx0Y29uc3QgbmF2SXRlbSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ25hdi1pdGVtJyk7XHJcblx0XHRuYXZJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0bmF2SXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGl0ZW1Db250ZW50ID0gbmF2SXRlbS5jcmVhdGVEaXYoJ25hdi1pdGVtLWNvbnRlbnQnKTtcclxuXHRcdGNvbnN0IGl0ZW1GaWVsZHMgPSBpdGVtQ29udGVudC5jcmVhdGVEaXYoJ25hdi1pdGVtLWZpZWxkcycpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0aXRsZUlucHV0ID0gaXRlbUZpZWxkcy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LXRpdGxlJyxcclxuXHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFBsYWNlaG9sZGVyIHRleHQgZm9yIGlucHV0IGZpZWxkXHJcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJ1BhZ2UgVGl0bGUnLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR0aXRsZUlucHV0LnZhbHVlID0gcGFnZS50aXRsZSB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgdXJsSW5wdXQgPSBpdGVtRmllbGRzLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtdXJsJyxcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJy9wYWdlLXVybCAobGVhdmUgZW1wdHkgZm9yIGRyb3Bkb3duLW9ubHkpJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0dXJsSW5wdXQudmFsdWUgPSBwYWdlLnVybCB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgaXRlbUFjdGlvbnMgPSBpdGVtQ29udGVudC5jcmVhdGVEaXYoJ25hdi1pdGVtLWFjdGlvbnMnKTtcclxuXHRcdGl0ZW1BY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XHJcblx0XHRcdHRleHQ6ICcrIGNoaWxkJyxcclxuXHRcdFx0Y2xzOiAnbmF2LWFkZC1jaGlsZCcsXHJcblx0XHRcdGF0dHI6IHsgJ2RhdGEtaW5kZXgnOiBpbmRleC50b1N0cmluZygpLCB0aXRsZTogJ0FkZCBjaGlsZCBwYWdlJyB9XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgcmVtb3ZlQnRuID0gaXRlbUFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuXHRcdFx0Y2xzOiAnbmF2LXJlbW92ZSBtb2Qtd2FybmluZycsXHJcblx0XHRcdGF0dHI6IHsgJ2RhdGEtaW5kZXgnOiBpbmRleC50b1N0cmluZygpLCAnZGF0YS1pY29uJzogJ3RyYXNoJywgdGl0bGU6ICdSZW1vdmUnLCAnYXJpYS1sYWJlbCc6ICdSZW1vdmUnIH1cclxuXHRcdH0pO1xyXG5cdFx0c2V0SWNvbihyZW1vdmVCdG4sICd0cmFzaCcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBjaGlsZHJlbkNvbnRhaW5lciA9IG5hdkl0ZW0uY3JlYXRlRGl2KCduYXYtY2hpbGRyZW4tY29udGFpbmVyJyk7XHJcblx0XHRjaGlsZHJlbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGFyZW50LWluZGV4JywgaW5kZXgudG9TdHJpbmcoKSk7XHJcblx0XHRpZiAoIWhhc0NoaWxkcmVuKSB7XHJcblx0XHRcdGNoaWxkcmVuQ29udGFpbmVyLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjaGlsZHJlbkNvbnRhaW5lci5jcmVhdGVEaXYoJ25hdi1jaGlsZHJlbi1sYWJlbCcpLnRleHRDb250ZW50ID0gJ0NoaWxkIHBhZ2VzOic7XHJcblx0XHRjb25zdCBjaGlsZHJlbkRpdiA9IGNoaWxkcmVuQ29udGFpbmVyLmNyZWF0ZURpdignbmF2LWNoaWxkcmVuJyk7XHJcblx0XHRjaGlsZHJlbkRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGFyZW50LWluZGV4JywgaW5kZXgudG9TdHJpbmcoKSk7XHJcblx0XHRcclxuXHRcdGlmIChoYXNDaGlsZHJlbiAmJiBwYWdlLmNoaWxkcmVuKSB7XHJcblx0XHRcdHBhZ2UuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IE5hdmlnYXRpb25JdGVtLCBjaGlsZEluZGV4OiBudW1iZXIpID0+IHtcclxuXHRcdFx0XHR0aGlzLnJlbmRlckNoaWxkSXRlbShjaGlsZHJlbkRpdiwgY2hpbGQsIGluZGV4LCBjaGlsZEluZGV4KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHByaXZhdGUgcmVuZGVyQ2hpbGRJdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNoaWxkOiBOYXZpZ2F0aW9uSXRlbSwgcGFyZW50SW5kZXg6IG51bWJlciwgY2hpbGRJbmRleDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHRjb25zdCBjaGlsZEl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KCduYXYtY2hpbGQtaXRlbScpO1xyXG5cdFx0Y2hpbGRJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIHBhcmVudEluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0Y2hpbGRJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1jaGlsZC1pbmRleCcsIGNoaWxkSW5kZXgudG9TdHJpbmcoKSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGl0ZW1GaWVsZHMgPSBjaGlsZEl0ZW0uY3JlYXRlRGl2KCduYXYtaXRlbS1maWVsZHMnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGl0bGVJbnB1dCA9IGl0ZW1GaWVsZHMuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi1jaGlsZC10aXRsZScsXHJcblx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBQbGFjZWhvbGRlciB0ZXh0IGZvciBpbnB1dCBmaWVsZFxyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICdDaGlsZCBUaXRsZScsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdHRpdGxlSW5wdXQudmFsdWUgPSBjaGlsZC50aXRsZSB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgdXJsSW5wdXQgPSBpdGVtRmllbGRzLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtY2hpbGQtdXJsJyxcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJy9jaGlsZC11cmwnLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR1cmxJbnB1dC52YWx1ZSA9IGNoaWxkLnVybCB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgcmVtb3ZlQnRuID0gY2hpbGRJdGVtLmNyZWF0ZUVsKCdidXR0b24nLCB7XHJcblx0XHRcdGNsczogJ25hdi1jaGlsZC1yZW1vdmUgbW9kLXdhcm5pbmcnLFxyXG5cdFx0XHRhdHRyOiB7XHJcblx0XHRcdFx0J2RhdGEtaW5kZXgnOiBwYXJlbnRJbmRleC50b1N0cmluZygpLFxyXG5cdFx0XHRcdCdkYXRhLWNoaWxkLWluZGV4JzogY2hpbGRJbmRleC50b1N0cmluZygpLFxyXG5cdFx0XHRcdCdkYXRhLWljb24nOiAndHJhc2gnLFxyXG5cdFx0XHRcdHRpdGxlOiAnUmVtb3ZlJyxcclxuXHRcdFx0XHQnYXJpYS1sYWJlbCc6ICdSZW1vdmUnXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0c2V0SWNvbihyZW1vdmVCdG4sICd0cmFzaCcpO1xyXG5cdH1cclxuXHRcclxuXHRwcml2YXRlIHJlbmRlclNvY2lhbEl0ZW0oY29udGFpbmVyOiBIVE1MRWxlbWVudCwgc29jaWFsOiB7IHRpdGxlOiBzdHJpbmc7IHVybDogc3RyaW5nOyBpY29uOiBzdHJpbmcgfSwgaW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0Y29uc3QgbmF2SXRlbSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ25hdi1pdGVtJyk7XHJcblx0XHRuYXZJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0bmF2SXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGl0ZW1Db250ZW50ID0gbmF2SXRlbS5jcmVhdGVEaXYoJ25hdi1pdGVtLWNvbnRlbnQnKTtcclxuXHRcdGNvbnN0IGl0ZW1GaWVsZHMgPSBpdGVtQ29udGVudC5jcmVhdGVEaXYoJ25hdi1pdGVtLWZpZWxkcycpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0aXRsZUlucHV0ID0gaXRlbUZpZWxkcy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LXRpdGxlJyxcclxuXHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFBsYWNlaG9sZGVyIHRleHQgZm9yIGlucHV0IGZpZWxkXHJcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJ1NvY2lhbCBUaXRsZScsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdHRpdGxlSW5wdXQudmFsdWUgPSBzb2NpYWwudGl0bGUgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IHVybElucHV0ID0gaXRlbUZpZWxkcy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LXVybCcsXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICdodHRwczovL2V4YW1wbGUuY29tJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0dXJsSW5wdXQudmFsdWUgPSBzb2NpYWwudXJsIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCByZW1vdmVCdG4gPSBpdGVtQ29udGVudC5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRjbHM6ICduYXYtcmVtb3ZlIG1vZC13YXJuaW5nJyxcclxuXHRcdFx0YXR0cjogeyAnZGF0YS1pbmRleCc6IGluZGV4LnRvU3RyaW5nKCksICdkYXRhLWljb24nOiAndHJhc2gnLCB0aXRsZTogJ1JlbW92ZScsICdhcmlhLWxhYmVsJzogJ1JlbW92ZScgfVxyXG5cdFx0fSk7XHJcblx0XHRzZXRJY29uKHJlbW92ZUJ0biwgJ3RyYXNoJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGljb25Sb3cgPSBuYXZJdGVtLmNyZWF0ZURpdignbmF2LWljb24tcm93Jyk7XHJcblx0XHRjb25zdCBpY29uSW5wdXQgPSBpY29uUm93LmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtaWNvbicsXHJcblx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBQbGFjZWhvbGRlciB0ZXh0IGZvciBpbnB1dCBmaWVsZCAoa2ViYWItY2FzZSBmb3JtYXQpXHJcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJ2ljb24tbmFtZScsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdGljb25JbnB1dC52YWx1ZSA9IHNvY2lhbC5pY29uIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpY29uSGVscCA9IGljb25Sb3cuY3JlYXRlRGl2KCduYXYtaWNvbi1oZWxwJyk7XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJGb250QXdlc29tZSBCcmFuZHNcIiBpcyBhIHByb3BlciBub3VuIChwcm9kdWN0IG5hbWUpXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRpY29uSGVscC5jcmVhdGVFbCgnc21hbGwnLCB7IHRleHQ6ICdJY29uIG5hbWVzIGZyb20gRm9udEF3ZXNvbWUgQnJhbmRzJyB9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2V0dXBFdmVudEhhbmRsZXJzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cclxuXHRcdC8vIFBhZ2UgaGFuZGxlcnMgLSB3b3JrIHdpdGggc2VsZWN0ZWQgbmF2aWdhdGlvblxyXG5cdFx0Y29uc3QgcGFnZXNMaXN0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwYWdlcy1saXN0Jyk7XHJcblx0XHRpZiAocGFnZXNMaXN0KSB7XHJcblx0XHRcdGNvbnN0IHBhZ2VzSW5wdXRIYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXRpdGxlJykpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLm5hdi1pdGVtJyk7XHJcblx0XHRcdFx0XHRjb25zdCBpbmRleCA9IHBhcnNlSW50KGl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbaW5kZXhdLnRpdGxlID0gdGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXVybCcpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBwYXJzZUludChpdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0Ly8gSWYgVVJMIGlzIGVtcHR5LCByZW1vdmUgaXQgKG1ha2VzIGl0IGRyb3Bkb3duLW9ubHkpLiBPdGhlcndpc2UsIHNldCBpdC5cclxuXHRcdFx0XHRcdGlmICh0YXJnZXQudmFsdWUudHJpbSgpID09PSAnJykge1xyXG5cdFx0XHRcdFx0XHRkZWxldGUgc3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS51cmw7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbaW5kZXhdLnVybCA9IHRhcmdldC52YWx1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1jaGlsZC10aXRsZScpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBjaGlsZEl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLm5hdi1jaGlsZC1pdGVtJyk7XHJcblx0XHRcdFx0XHRjb25zdCBwYXJlbnRJbmRleCA9IHBhcnNlSW50KGNoaWxkSXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdGNvbnN0IGNoaWxkSW5kZXggPSBwYXJzZUludChjaGlsZEl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1jaGlsZC1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRpZiAoIXN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4pIHtcclxuXHRcdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdKSB7XHJcblx0XHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW5bY2hpbGRJbmRleF0gPSB7IHRpdGxlOiAnJywgdXJsOiAnJyB9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbltjaGlsZEluZGV4XS50aXRsZSA9IHRhcmdldC52YWx1ZTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1jaGlsZC11cmwnKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRJdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtY2hpbGQtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50SW5kZXggPSBwYXJzZUludChjaGlsZEl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRjb25zdCBjaGlsZEluZGV4ID0gcGFyc2VJbnQoY2hpbGRJdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2hpbGQtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0aWYgKCFzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuKSB7XHJcblx0XHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4gPSBbXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghc3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbltjaGlsZEluZGV4XSkge1xyXG5cdFx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdID0geyB0aXRsZTogJycsIHVybDogJycgfTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW5bY2hpbGRJbmRleF0udXJsID0gdGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFx0Ly8gUmVtb3ZlIG9sZCBoYW5kbGVyIGlmIGV4aXN0c1xyXG5cdFx0XHRjb25zdCBwYWdlc0xpc3RXaXRoSGFuZGxlcnMgPSBwYWdlc0xpc3QgYXMgRWxlbWVudFdpdGhIYW5kbGVycztcclxuXHRcdFx0aWYgKHBhZ2VzTGlzdFdpdGhIYW5kbGVycy5faW5wdXRIYW5kbGVyKSB7XHJcblx0XHRcdFx0cGFnZXNMaXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgcGFnZXNMaXN0V2l0aEhhbmRsZXJzLl9pbnB1dEhhbmRsZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHBhZ2VzTGlzdFdpdGhIYW5kbGVycy5faW5wdXRIYW5kbGVyID0gcGFnZXNJbnB1dEhhbmRsZXI7XHJcblx0XHRcdHBhZ2VzTGlzdC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHBhZ2VzSW5wdXRIYW5kbGVyKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTb2NpYWwgaGFuZGxlcnMgLSB3b3JrIHdpdGggc2VsZWN0ZWQgbmF2aWdhdGlvblxyXG5cdFx0Y29uc3Qgc29jaWFsTGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc29jaWFsLWxpc3QnKTtcclxuXHRcdGlmIChzb2NpYWxMaXN0KSB7XHJcblx0XHRcdGNvbnN0IHNvY2lhbElucHV0SGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi10aXRsZScpIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi11cmwnKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtaWNvbicpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBwYXJzZUludChpdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZmllbGQgPSB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtdGl0bGUnKSA/ICd0aXRsZScgOiBcclxuXHRcdFx0XHRcdFx0XHRcdCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtdXJsJykgPyAndXJsJyA6ICdpY29uJztcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnNvY2lhbFtpbmRleF1bZmllbGRdID0gdGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFx0Ly8gUmVtb3ZlIG9sZCBoYW5kbGVyIGlmIGV4aXN0c1xyXG5cdFx0XHRjb25zdCBzb2NpYWxMaXN0V2l0aEhhbmRsZXJzID0gc29jaWFsTGlzdCBhcyBFbGVtZW50V2l0aEhhbmRsZXJzO1xyXG5cdFx0XHRpZiAoc29jaWFsTGlzdFdpdGhIYW5kbGVycy5faW5wdXRIYW5kbGVyKSB7XHJcblx0XHRcdFx0c29jaWFsTGlzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHNvY2lhbExpc3RXaXRoSGFuZGxlcnMuX2lucHV0SGFuZGxlcik7XHJcblx0XHRcdH1cclxuXHRcdFx0c29jaWFsTGlzdFdpdGhIYW5kbGVycy5faW5wdXRIYW5kbGVyID0gc29jaWFsSW5wdXRIYW5kbGVyO1xyXG5cdFx0XHRzb2NpYWxMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc29jaWFsSW5wdXRIYW5kbGVyKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBZGQgcGFnZSBidXR0b25cclxuXHRcdGNvbnN0IGFkZFBhZ2VCdG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignI2FkZC1wYWdlJyk7XHJcblx0XHRpZiAoYWRkUGFnZUJ0bikge1xyXG5cdFx0XHRjb25zdCBhZGRQYWdlSGFuZGxlciA9ICgpID0+IHtcclxuXHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXMucHVzaCh7IHRpdGxlOiAnTmV3IFBhZ2UnLCB1cmw6ICcvbmV3LXBhZ2UnIH0pO1xyXG5cdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHRcdH07XHJcblx0XHRcdC8vIFJlbW92ZSBvbGQgaGFuZGxlciBpZiBleGlzdHNcclxuXHRcdFx0Y29uc3QgYWRkUGFnZUJ0bldpdGhIYW5kbGVycyA9IGFkZFBhZ2VCdG4gYXMgRWxlbWVudFdpdGhIYW5kbGVycztcclxuXHRcdFx0aWYgKGFkZFBhZ2VCdG5XaXRoSGFuZGxlcnMuX2NsaWNrSGFuZGxlcikge1xyXG5cdFx0XHRcdGFkZFBhZ2VCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRQYWdlQnRuV2l0aEhhbmRsZXJzLl9jbGlja0hhbmRsZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGFkZFBhZ2VCdG5XaXRoSGFuZGxlcnMuX2NsaWNrSGFuZGxlciA9IGFkZFBhZ2VIYW5kbGVyO1xyXG5cdFx0XHRhZGRQYWdlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUGFnZUhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFkZCBzb2NpYWwgYnV0dG9uXHJcblx0XHRjb25zdCBhZGRTb2NpYWxCdG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignI2FkZC1zb2NpYWwnKTtcclxuXHRcdGlmIChhZGRTb2NpYWxCdG4pIHtcclxuXHRcdFx0Y29uc3QgYWRkU29jaWFsSGFuZGxlciA9ICgpID0+IHtcclxuXHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24uc29jaWFsLnB1c2goeyB0aXRsZTogJ05ldyBTb2NpYWwnLCB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tJywgaWNvbjogJycgfSk7XHJcblx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0fTtcclxuXHRcdFx0Ly8gUmVtb3ZlIG9sZCBoYW5kbGVyIGlmIGV4aXN0c1xyXG5cdFx0XHRjb25zdCBhZGRTb2NpYWxCdG5XaXRoSGFuZGxlcnMgPSBhZGRTb2NpYWxCdG4gYXMgRWxlbWVudFdpdGhIYW5kbGVycztcclxuXHRcdFx0aWYgKGFkZFNvY2lhbEJ0bldpdGhIYW5kbGVycy5fY2xpY2tIYW5kbGVyKSB7XHJcblx0XHRcdFx0YWRkU29jaWFsQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkU29jaWFsQnRuV2l0aEhhbmRsZXJzLl9jbGlja0hhbmRsZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGFkZFNvY2lhbEJ0bldpdGhIYW5kbGVycy5fY2xpY2tIYW5kbGVyID0gYWRkU29jaWFsSGFuZGxlcjtcclxuXHRcdFx0YWRkU29jaWFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkU29jaWFsSGFuZGxlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIGJ1dHRvbnMgYW5kIGFkZCBjaGlsZCAtIHdvcmsgd2l0aCBzZWxlY3RlZCBuYXZpZ2F0aW9uXHJcblx0XHQvLyBVc2UgZXZlbnQgZGVsZWdhdGlvbiB0byBwcmV2ZW50IGR1cGxpY2F0ZSBoYW5kbGVyc1xyXG5cdFx0Y29uc3QgcmVtb3ZlSGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1yZW1vdmUnKSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0Y29uc3QgaXNQYWdlID0gdGFyZ2V0LmNsb3Nlc3QoJyNwYWdlcy1saXN0Jyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGlzUGFnZSkge1xyXG5cdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5zb2NpYWwuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtY2hpbGQtcmVtb3ZlJykpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjb25zdCBwYXJlbnRJbmRleCA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdGNvbnN0IGNoaWxkSW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNoaWxkLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoc3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbikge1xyXG5cdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XHJcblx0XHRcdFx0XHRpZiAoc3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0ZGVsZXRlIHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBIaWRlIGNoaWxkcmVuIGNvbnRhaW5lciBpZiBubyBjaGlsZHJlbiBsZWZ0XHJcblx0XHRcdFx0XHRjb25zdCBuYXZJdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRyZW5Db250YWluZXIgPSBuYXZJdGVtPy5xdWVyeVNlbGVjdG9yKCcubmF2LWNoaWxkcmVuLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdFx0XHRcdGlmIChjaGlsZHJlbkNvbnRhaW5lciAmJiAoIXN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4gfHwgc3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbi5sZW5ndGggPT09IDApKSB7XHJcblx0XHRcdFx0XHRcdGNoaWxkcmVuQ29udGFpbmVyLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1hZGQtY2hpbGQnKSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKCFzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbaW5kZXhdLmNoaWxkcmVuKSB7XHJcblx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbaW5kZXhdLmNoaWxkcmVuID0gW107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1tpbmRleF0uY2hpbGRyZW4ucHVzaCh7IHRpdGxlOiAnTmV3IENoaWxkJywgdXJsOiAnL25ldy1jaGlsZCcgfSk7XHJcblx0XHRcdFx0Ly8gU2hvdyB0aGUgY2hpbGRyZW4gY29udGFpbmVyIGlmIGl0IHdhcyBoaWRkZW5cclxuXHRcdFx0XHRjb25zdCBuYXZJdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdGNvbnN0IGNoaWxkcmVuQ29udGFpbmVyID0gbmF2SXRlbT8ucXVlcnlTZWxlY3RvcignLm5hdi1jaGlsZHJlbi1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRpZiAoY2hpbGRyZW5Db250YWluZXIpIHtcclxuXHRcdFx0XHRcdGNoaWxkcmVuQ29udGFpbmVyLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ2Jsb2NrJyB9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVtb3ZlIG9sZCBoYW5kbGVyIGlmIGV4aXN0c1xyXG5cdFx0Y29uc3QgY29udGFpbmVyV2l0aEhhbmRsZXJzID0gY29udGFpbmVyIGFzIEVsZW1lbnRXaXRoSGFuZGxlcnM7XHJcblx0XHRpZiAoY29udGFpbmVyV2l0aEhhbmRsZXJzLl9yZW1vdmVIYW5kbGVyKSB7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fcmVtb3ZlSGFuZGxlcik7XHJcblx0XHR9XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX3JlbW92ZUhhbmRsZXIgPSByZW1vdmVIYW5kbGVyO1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XHJcblxyXG5cdFx0Ly8gRHJhZyBhbmQgZHJvcCBmdW5jdGlvbmFsaXR5XHJcblx0XHR0aGlzLnNldHVwRHJhZ0FuZERyb3AoY29udGFpbmVyKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2V0dXBEcmFnQW5kRHJvcChjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdGxldCBkcmFnZ2VkRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcblx0XHQvLyBDcmVhdGUgaGFuZGxlcnNcclxuXHRcdGNvbnN0IGRyYWdTdGFydEhhbmRsZXIgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWl0ZW0nKSkge1xyXG5cdFx0XHRcdGRyYWdnZWRFbGVtZW50ID0gdGFyZ2V0O1xyXG5cdFx0XHRcdHRhcmdldC5zZXRDc3NQcm9wcyh7IG9wYWNpdHk6ICcwLjUnIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGRyYWdFbmRIYW5kbGVyID0gKGU6IERyYWdFdmVudCkgPT4ge1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1pdGVtJykpIHtcclxuXHRcdFx0XHR0YXJnZXQuc2V0Q3NzUHJvcHMoeyBvcGFjaXR5OiAnMScgfSk7XHJcblx0XHRcdFx0ZHJhZ2dlZEVsZW1lbnQgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGRyYWdPdmVySGFuZGxlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1pdGVtJykgJiYgZHJhZ2dlZEVsZW1lbnQgJiYgdGFyZ2V0ICE9PSBkcmFnZ2VkRWxlbWVudCkge1xyXG5cdFx0XHRcdGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblx0XHRcdFx0Y29uc3QgbWlkcG9pbnQgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoZS5jbGllbnRZIDwgbWlkcG9pbnQpIHtcclxuXHRcdFx0XHRcdHRhcmdldC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0XHRcdGJvcmRlclRvcDogJzJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJyxcclxuXHRcdFx0XHRcdFx0Ym9yZGVyQm90dG9tOiAnbm9uZSdcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0YXJnZXQuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0XHRib3JkZXJCb3R0b206ICcycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KScsXHJcblx0XHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgZHJhZ0xlYXZlSGFuZGxlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtaXRlbScpKSB7XHJcblx0XHRcdFx0dGFyZ2V0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxyXG5cdFx0XHRcdFx0Ym9yZGVyQm90dG9tOiAnbm9uZSdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBkcm9wSGFuZGxlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtaXRlbScpICYmIGRyYWdnZWRFbGVtZW50KSB7XHJcblx0XHRcdFx0Y29uc3QgdGFyZ2V0SW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRjb25zdCBkcmFnZ2VkSW5kZXggPSBwYXJzZUludChkcmFnZ2VkRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdGNvbnN0IGlzUGFnZSA9IHRhcmdldC5jbG9zZXN0KCcjcGFnZXMtbGlzdCcpO1xyXG5cdFx0XHRcdGNvbnN0IGlzU29jaWFsID0gdGFyZ2V0LmNsb3Nlc3QoJyNzb2NpYWwtbGlzdCcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIENsZWFyIHZpc3VhbCBpbmRpY2F0b3JzXHJcblx0XHRcdFx0dGFyZ2V0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxyXG5cdFx0XHRcdFx0Ym9yZGVyQm90dG9tOiAnbm9uZSdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAodGFyZ2V0SW5kZXggIT09IGRyYWdnZWRJbmRleCkge1xyXG5cdFx0XHRcdFx0aWYgKGlzUGFnZSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBkcmFnZ2VkSXRlbSA9IHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlcy5zcGxpY2UoZHJhZ2dlZEluZGV4LCAxKVswXTtcclxuXHRcdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzLnNwbGljZSh0YXJnZXRJbmRleCwgMCwgZHJhZ2dlZEl0ZW0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpc1NvY2lhbCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBkcmFnZ2VkSXRlbSA9IHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5zb2NpYWwuc3BsaWNlKGRyYWdnZWRJbmRleCwgMSlbMF07XHJcblx0XHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5zb2NpYWwuc3BsaWNlKHRhcmdldEluZGV4LCAwLCBkcmFnZ2VkSXRlbSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBSZW1vdmUgb2xkIGhhbmRsZXJzIGlmIHRoZXkgZXhpc3RcclxuXHRcdGNvbnN0IGNvbnRhaW5lcldpdGhIYW5kbGVycyA9IGNvbnRhaW5lciBhcyBFbGVtZW50V2l0aEhhbmRsZXJzO1xyXG5cdFx0aWYgKGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ1N0YXJ0SGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnU3RhcnRIYW5kbGVyKTtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdFbmRIYW5kbGVyKSB7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnRW5kSGFuZGxlcik7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnT3ZlckhhbmRsZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnT3ZlckhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ0xlYXZlSGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnTGVhdmVIYW5kbGVyKTtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2Ryb3BIYW5kbGVyKSB7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdkcm9wJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcm9wSGFuZGxlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU3RvcmUgaGFuZGxlcnMgZm9yIGxhdGVyIHJlbW92YWxcclxuXHRcdGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ1N0YXJ0SGFuZGxlciA9IGRyYWdTdGFydEhhbmRsZXI7XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdFbmRIYW5kbGVyID0gZHJhZ0VuZEhhbmRsZXI7XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdPdmVySGFuZGxlciA9IGRyYWdPdmVySGFuZGxlcjtcclxuXHRcdGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ0xlYXZlSGFuZGxlciA9IGRyYWdMZWF2ZUhhbmRsZXI7XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2Ryb3BIYW5kbGVyID0gZHJvcEhhbmRsZXI7XHJcblxyXG5cdFx0Ly8gQWRkIG5ldyBoYW5kbGVyc1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGRyYWdTdGFydEhhbmRsZXIpO1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBkcmFnRW5kSGFuZGxlcik7XHJcblx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBkcmFnT3ZlckhhbmRsZXIpO1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGRyYWdMZWF2ZUhhbmRsZXIpO1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBkcm9wSGFuZGxlcik7XHJcblx0fVxyXG59XHJcbiIsICJleHBvcnQgaW50ZXJmYWNlIFBhcnNlZEdpc2N1c0NvbmZpZyB7XHJcblx0cmVwbzogc3RyaW5nO1xyXG5cdHJlcG9JZDogc3RyaW5nO1xyXG5cdGNhdGVnb3J5OiBzdHJpbmc7XHJcblx0Y2F0ZWdvcnlJZDogc3RyaW5nO1xyXG5cdG1hcHBpbmc6IHN0cmluZztcclxuXHRzdHJpY3Q6IHN0cmluZztcclxuXHRyZWFjdGlvbnM6IHN0cmluZztcclxuXHRtZXRhZGF0YTogc3RyaW5nO1xyXG5cdGlucHV0UG9zaXRpb246IHN0cmluZztcclxuXHR0aGVtZTogc3RyaW5nO1xyXG5cdGxhbmc6IHN0cmluZztcclxuXHRsb2FkaW5nOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHaXNjdXNTY3JpcHRQYXJzZXIge1xyXG5cdC8qKlxyXG5cdCAqIFBhcnNlIGEgR2lzY3VzIHNjcmlwdCB0YWcgYW5kIGV4dHJhY3QgYWxsIGRhdGEgYXR0cmlidXRlc1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBwYXJzZVNjcmlwdChzY3JpcHRDb250ZW50OiBzdHJpbmcpOiBQYXJzZWRHaXNjdXNDb25maWcgfCBudWxsIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIFJlbW92ZSBhbnkgZXh0cmEgd2hpdGVzcGFjZSBhbmQgbm9ybWFsaXplIHRoZSBzY3JpcHRcclxuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZFNjcmlwdCA9IHNjcmlwdENvbnRlbnQudHJpbSgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQ2hlY2sgaWYgaXQgbG9va3MgbGlrZSBhIEdpc2N1cyBzY3JpcHRcclxuXHRcdFx0aWYgKCFub3JtYWxpemVkU2NyaXB0LmluY2x1ZGVzKCdnaXNjdXMuYXBwL2NsaWVudC5qcycpKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIEV4dHJhY3QgZGF0YSBhdHRyaWJ1dGVzIHVzaW5nIHJlZ2V4XHJcblx0XHRcdGNvbnN0IGRhdGFBdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBNYXRjaCBhbGwgZGF0YS0qIGF0dHJpYnV0ZXNcclxuXHRcdFx0Y29uc3QgZGF0YUF0dHJpYnV0ZVJlZ2V4ID0gL2RhdGEtKFthLXotXSspPVwiKFteXCJdKilcIi9nO1xyXG5cdFx0XHRsZXQgbWF0Y2g7XHJcblx0XHRcdFxyXG5cdFx0XHR3aGlsZSAoKG1hdGNoID0gZGF0YUF0dHJpYnV0ZVJlZ2V4LmV4ZWMobm9ybWFsaXplZFNjcmlwdCkpICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgWywgYXR0cmlidXRlTmFtZSwgdmFsdWVdID0gbWF0Y2g7XHJcblx0XHRcdFx0ZGF0YUF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gTWFwIHRoZSBhdHRyaWJ1dGVzIHRvIG91ciBleHBlY3RlZCBmb3JtYXRcclxuXHRcdFx0Ly8gT25seSB1c2UgZGVmYXVsdHMgZm9yIHRydWx5IHJlcXVpcmVkIGZpZWxkcywgbGVhdmUgb3B0aW9uYWwgb25lcyBlbXB0eSBpZiBtaXNzaW5nXHJcblx0XHRcdGNvbnN0IGNvbmZpZzogUGFyc2VkR2lzY3VzQ29uZmlnID0ge1xyXG5cdFx0XHRcdHJlcG86IGRhdGFBdHRyaWJ1dGVzWydyZXBvJ10gfHwgJycsXHJcblx0XHRcdFx0cmVwb0lkOiBkYXRhQXR0cmlidXRlc1sncmVwby1pZCddIHx8ICcnLFxyXG5cdFx0XHRcdGNhdGVnb3J5OiBkYXRhQXR0cmlidXRlc1snY2F0ZWdvcnknXSB8fCAnJyxcclxuXHRcdFx0XHRjYXRlZ29yeUlkOiBkYXRhQXR0cmlidXRlc1snY2F0ZWdvcnktaWQnXSB8fCAnJyxcclxuXHRcdFx0XHQvLyBPcHRpb25hbCBhdHRyaWJ1dGVzIC0gdXNlIGVtcHR5IHN0cmluZyBpZiBub3QgcHJlc2VudCAoc28gdGhleSBjYW4gYmUgY2xlYXJlZClcclxuXHRcdFx0XHRtYXBwaW5nOiBkYXRhQXR0cmlidXRlc1snbWFwcGluZyddICE9PSB1bmRlZmluZWQgPyBkYXRhQXR0cmlidXRlc1snbWFwcGluZyddIDogJycsXHJcblx0XHRcdFx0c3RyaWN0OiBkYXRhQXR0cmlidXRlc1snc3RyaWN0J10gIT09IHVuZGVmaW5lZCA/IGRhdGFBdHRyaWJ1dGVzWydzdHJpY3QnXSA6ICcnLFxyXG5cdFx0XHRcdHJlYWN0aW9uczogZGF0YUF0dHJpYnV0ZXNbJ3JlYWN0aW9ucy1lbmFibGVkJ10gIT09IHVuZGVmaW5lZCA/IGRhdGFBdHRyaWJ1dGVzWydyZWFjdGlvbnMtZW5hYmxlZCddIDogJycsXHJcblx0XHRcdFx0bWV0YWRhdGE6IGRhdGFBdHRyaWJ1dGVzWydlbWl0LW1ldGFkYXRhJ10gIT09IHVuZGVmaW5lZCA/IGRhdGFBdHRyaWJ1dGVzWydlbWl0LW1ldGFkYXRhJ10gOiAnJyxcclxuXHRcdFx0XHRpbnB1dFBvc2l0aW9uOiBkYXRhQXR0cmlidXRlc1snaW5wdXQtcG9zaXRpb24nXSAhPT0gdW5kZWZpbmVkID8gZGF0YUF0dHJpYnV0ZXNbJ2lucHV0LXBvc2l0aW9uJ10gOiAnJyxcclxuXHRcdFx0XHR0aGVtZTogZGF0YUF0dHJpYnV0ZXNbJ3RoZW1lJ10gIT09IHVuZGVmaW5lZCA/IGRhdGFBdHRyaWJ1dGVzWyd0aGVtZSddIDogJycsXHJcblx0XHRcdFx0bGFuZzogZGF0YUF0dHJpYnV0ZXNbJ2xhbmcnXSAhPT0gdW5kZWZpbmVkID8gZGF0YUF0dHJpYnV0ZXNbJ2xhbmcnXSA6ICcnLFxyXG5cdFx0XHRcdGxvYWRpbmc6IGRhdGFBdHRyaWJ1dGVzWydsb2FkaW5nJ10gIT09IHVuZGVmaW5lZCA/IGRhdGFBdHRyaWJ1dGVzWydsb2FkaW5nJ10gOiAnJ1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gVmFsaWRhdGUgdGhhdCB3ZSBoYXZlIHRoZSBlc3NlbnRpYWwgZmllbGRzXHJcblx0XHRcdGlmICghY29uZmlnLnJlcG8gfHwgIWNvbmZpZy5yZXBvSWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIGNvbmZpZztcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgR2lzY3VzIHNjcmlwdDonLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSB0aGF0IGEgc2NyaXB0IGxvb2tzIGxpa2UgYSB2YWxpZCBHaXNjdXMgc2NyaXB0XHJcblx0ICovXHJcblx0c3RhdGljIHZhbGlkYXRlU2NyaXB0KHNjcmlwdENvbnRlbnQ6IHN0cmluZyk6IHsgdmFsaWQ6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0ge1xyXG5cdFx0Y29uc3Qgbm9ybWFsaXplZFNjcmlwdCA9IHNjcmlwdENvbnRlbnQudHJpbSgpO1xyXG5cdFx0XHJcblx0XHQvLyBDaGVjayBpZiBpdCBjb250YWlucyB0aGUgZ2lzY3VzIHNjcmlwdCBzb3VyY2VcclxuXHRcdGlmICghbm9ybWFsaXplZFNjcmlwdC5pbmNsdWRlcygnZ2lzY3VzLmFwcC9jbGllbnQuanMnKSkge1xyXG5cdFx0XHRyZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiAnU2NyaXB0IG11c3QgY29udGFpbiBnaXNjdXMuYXBwL2NsaWVudC5qcycgfTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gQ2hlY2sgaWYgaXQgaGFzIHRoZSBiYXNpYyBzdHJ1Y3R1cmVcclxuXHRcdGlmICghbm9ybWFsaXplZFNjcmlwdC5pbmNsdWRlcygnPHNjcmlwdCcpIHx8ICFub3JtYWxpemVkU2NyaXB0LmluY2x1ZGVzKCc8L3NjcmlwdD4nKSkge1xyXG5cdFx0XHRyZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiAnU2NyaXB0IG11c3QgYmUgYSB2YWxpZCBIVE1MIHNjcmlwdCB0YWcnIH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIFRyeSB0byBwYXJzZSBpdFxyXG5cdFx0Y29uc3QgcGFyc2VkID0gdGhpcy5wYXJzZVNjcmlwdChzY3JpcHRDb250ZW50KTtcclxuXHRcdGlmICghcGFyc2VkKSB7XHJcblx0XHRcdHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdDb3VsZCBub3QgcGFyc2UgR2lzY3VzIGNvbmZpZ3VyYXRpb24gZnJvbSBzY3JpcHQnIH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIENoZWNrIGZvciByZXF1aXJlZCBmaWVsZHNcclxuXHRcdGlmICghcGFyc2VkLnJlcG8pIHtcclxuXHRcdFx0cmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ1JlcG9zaXRvcnkgKGRhdGEtcmVwbykgaXMgcmVxdWlyZWQnIH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmICghcGFyc2VkLnJlcG9JZCkge1xyXG5cdFx0XHRyZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiAnUmVwb3NpdG9yeSBJRCAoZGF0YS1yZXBvLWlkKSBpcyByZXF1aXJlZCcgfTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIHsgdmFsaWQ6IHRydWUgfTtcclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogR2VuZXJhdGUgYSBzYW1wbGUgR2lzY3VzIHNjcmlwdCBmb3IgcGxhY2Vob2xkZXIgdGV4dFxyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXRTYW1wbGVTY3JpcHQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBgPHNjcmlwdCBzcmM9XCJodHRwczovL2dpc2N1cy5hcHAvY2xpZW50LmpzXCJcclxuICAgICAgICBkYXRhLXJlcG89XCJkYXZpZHZraW1iYWxsL2FzdHJvLW1vZHVsYXJcIlxyXG4gICAgICAgIGRhdGEtcmVwby1pZD1cIlJfa2dET1BsbGZLd1wiXHJcbiAgICAgICAgZGF0YS1jYXRlZ29yeT1cIkdlbmVyYWxcIlxyXG4gICAgICAgIGRhdGEtY2F0ZWdvcnktaWQ9XCJESUNfa3dET1BsbGZLODRDdlVweFwiXHJcbiAgICAgICAgZGF0YS1tYXBwaW5nPVwicGF0aG5hbWVcIlxyXG4gICAgICAgIGRhdGEtc3RyaWN0PVwiMFwiXHJcbiAgICAgICAgZGF0YS1yZWFjdGlvbnMtZW5hYmxlZD1cIjFcIlxyXG4gICAgICAgIGRhdGEtZW1pdC1tZXRhZGF0YT1cIjBcIlxyXG4gICAgICAgIGRhdGEtaW5wdXQtcG9zaXRpb249XCJib3R0b21cIlxyXG4gICAgICAgIGRhdGEtdGhlbWU9XCJwcmVmZXJyZWRfY29sb3Jfc2NoZW1lXCJcclxuICAgICAgICBkYXRhLWxhbmc9XCJlblwiXHJcbiAgICAgICAgZGF0YS1sb2FkaW5nPVwibGF6eVwiXHJcbiAgICAgICAgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIlxyXG4gICAgICAgIGFzeW5jPlxyXG48L3NjcmlwdD5gO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQmFzZVdpemFyZFN0ZXAgfSBmcm9tICcuL0Jhc2VXaXphcmRTdGVwJztcclxuaW1wb3J0IHsgU2V0dGluZywgVG9nZ2xlQ29tcG9uZW50LCBUZXh0Q29tcG9uZW50LCBEcm9wZG93bkNvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgV2l6YXJkU3RhdGUgfSBmcm9tICcuL1dpemFyZFN0YXRlJztcclxuaW1wb3J0IHsgUHJvZmlsZVBpY3R1cmVTZXR0aW5ncywgQ29tbWVudHNTZXR0aW5ncyB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25hbEZlYXR1cmVzU3RlcCBleHRlbmRzIEJhc2VXaXphcmRTdGVwIHtcclxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZlYXR1cmVzU2VsZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignZmVhdHVyZXMtc2VsZWN0aW9uJyk7XHJcblx0XHRmZWF0dXJlc1NlbGVjdGlvbi5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdPcHRpb25hbCBmZWF0dXJlcycgfSk7XHJcblx0XHRmZWF0dXJlc1NlbGVjdGlvbi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0VuYWJsZSBvciBkaXNhYmxlIHNwZWNpZmljIGZlYXR1cmVzIGZvciB5b3VyIHNpdGUuJyB9KTtcclxuXHJcblx0XHQvLyBDcmVhdGUgdGhlIGZlYXR1cmVzIGxpc3QgY29udGFpbmVyXHJcblx0XHRjb25zdCBmZWF0dXJlc0xpc3QgPSBmZWF0dXJlc1NlbGVjdGlvbi5jcmVhdGVEaXYoJ2ZlYXR1cmVzLWxpc3QnKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVuZGVyIHByb2ZpbGUgcGljdHVyZSBmZWF0dXJlIHVzaW5nIG5hdGl2ZSBjb21wb25lbnRzXHJcblx0XHR0aGlzLnJlbmRlclByb2ZpbGVQaWN0dXJlRmVhdHVyZU5hdGl2ZShmZWF0dXJlc0xpc3QsIHN0YXRlKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVuZGVyIGNvbW1lbnRzIGZlYXR1cmUgdXNpbmcgbmF0aXZlIGNvbXBvbmVudHMgIFxyXG5cdFx0dGhpcy5yZW5kZXJDb21tZW50c0ZlYXR1cmVOYXRpdmUoZmVhdHVyZXNMaXN0LCBzdGF0ZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclByb2ZpbGVQaWN0dXJlRmVhdHVyZU5hdGl2ZShjb250YWluZXI6IEhUTUxFbGVtZW50LCBzdGF0ZTogV2l6YXJkU3RhdGUpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGlzRW5hYmxlZCA9IHN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LmVuYWJsZWQgfHwgZmFsc2U7XHJcblx0XHRjb25zdCBwcm9maWxlU2V0dGluZ3MgPSBzdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlIHx8IHtcclxuXHRcdFx0ZW5hYmxlZDogZmFsc2UsIGltYWdlOiAnL3Byb2ZpbGUuanBnJywgYWx0OiAnUHJvZmlsZSBwaWN0dXJlJywgc2l6ZTogJ21kJyxcclxuXHRcdFx0dXJsOiAnJywgcGxhY2VtZW50OiAnZm9vdGVyJywgc3R5bGU6ICdjaXJjbGUnXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIE1haW4gdG9nZ2xlXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXIpXHJcblx0XHRcdC5zZXROYW1lKCdQcm9maWxlIHBpY3R1cmUnKVxyXG5cdFx0XHQuc2V0RGVzYygnU2hvdyBwcm9maWxlIHBpY3R1cmUgaW4gaGVhZGVyIG9yIGZvb3RlcicpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZTogVG9nZ2xlQ29tcG9uZW50KSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUoaXNFbmFibGVkKVxyXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWU6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRcdC8vIEdldCBmcmVzaCBzdGF0ZSB0byBhdm9pZCBzdGFsZSBjbG9zdXJlIGlzc3Vlc1xyXG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkRmVhdHVyZXM6IHsgLi4uY3VycmVudFN0YXRlLnNlbGVjdGVkRmVhdHVyZXMsIHByb2ZpbGVQaWN0dXJlOiB2YWx1ZSB9LFxyXG5cdFx0XHRcdFx0XHRzZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM6IHtcclxuXHRcdFx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzLFxyXG5cdFx0XHRcdFx0XHRcdHByb2ZpbGVQaWN0dXJlOiB7IC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlLCBlbmFibGVkOiB2YWx1ZSB9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Ly8gU2hvdy9oaWRlIG9wdGlvbnNcclxuXHRcdFx0XHRcdGNvbnN0IG9wdGlvbnNEaXYgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtcGljdHVyZS1vcHRpb25zJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRpZiAob3B0aW9uc0Rpdikgb3B0aW9uc0Rpdi5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gT3B0aW9ucyBjb250YWluZXJcclxuXHRcdGNvbnN0IG9wdGlvbnNDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdwcm9maWxlLXBpY3R1cmUtb3B0aW9ucycpO1xyXG5cdFx0b3B0aW9uc0NvbnRhaW5lci5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IGlzRW5hYmxlZCA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRvcHRpb25zQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdwcm9maWxlLXBpY3R1cmUtb3B0aW9ucyc7XHJcblxyXG5cdFx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBzZXR0aW5nc1xyXG5cdFx0Y29uc3QgY3JlYXRlU2V0dGluZyA9IChuYW1lOiBrZXlvZiBQcm9maWxlUGljdHVyZVNldHRpbmdzLCBkZXNjOiBzdHJpbmcsIHR5cGU6ICd0ZXh0JyB8ICdkcm9wZG93bicsIG9wdGlvbnM/OiBBcnJheTx7dmFsdWU6IHN0cmluZywgbGFiZWw6IHN0cmluZ30+KSA9PiB7XHJcblx0XHRcdGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhvcHRpb25zQ29udGFpbmVyKS5zZXROYW1lKG5hbWUpLnNldERlc2MoZGVzYyk7XHJcblx0XHRcdGlmICh0eXBlID09PSAndGV4dCcpIHtcclxuXHRcdFx0XHRzZXR0aW5nLmFkZFRleHQoKHRleHQ6IFRleHRDb21wb25lbnQpID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShTdHJpbmcocHJvZmlsZVNldHRpbmdzW25hbWVdID8/ICcnKSlcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihvcHRpb25zPy5bMF0/LnZhbHVlIHx8ICcnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy51cGRhdGVQcm9maWxlU2V0dGluZyhuYW1lLCB2YWx1ZSwgc3RhdGUpO1xyXG5cdFx0XHRcdFx0fSkpOyBcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZXR0aW5nLmFkZERyb3Bkb3duKChkcm9wZG93bjogRHJvcGRvd25Db21wb25lbnQpID0+IHtcclxuXHRcdFx0XHRcdGlmIChvcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdGZvciAoY29uc3Qgb3B0IG9mIG9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24ob3B0LnZhbHVlLCBvcHQubGFiZWwpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShTdHJpbmcocHJvZmlsZVNldHRpbmdzW25hbWVdID8/ICcnKSlcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLnVwZGF0ZVByb2ZpbGVTZXR0aW5nKG5hbWUsIHZhbHVlLCBzdGF0ZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIENyZWF0ZSBhbGwgc2V0dGluZ3NcclxuXHRcdGNyZWF0ZVNldHRpbmcoJ2ltYWdlJywgJ0ltYWdlIHBhdGgnLCAndGV4dCcsIFt7dmFsdWU6ICcvcHJvZmlsZS5qcGcnLCBsYWJlbDogJy9wcm9maWxlLmpwZyd9XSk7XHJcblx0XHRjcmVhdGVTZXR0aW5nKCdhbHQnLCAnQWx0IHRleHQnLCAndGV4dCcsIFt7dmFsdWU6ICdQcm9maWxlIHBpY3R1cmUnLCBsYWJlbDogJ1Byb2ZpbGUgcGljdHVyZSd9XSk7XHJcblx0XHRjcmVhdGVTZXR0aW5nKCdzaXplJywgJ1NpemUnLCAnZHJvcGRvd24nLCBbXHJcblx0XHRcdHt2YWx1ZTogJ3NtJywgbGFiZWw6ICdTbWFsbCd9LCB7dmFsdWU6ICdtZCcsIGxhYmVsOiAnTWVkaXVtJ30sIHt2YWx1ZTogJ2xnJywgbGFiZWw6ICdMYXJnZSd9XHJcblx0XHRdKTtcclxuXHRcdGNyZWF0ZVNldHRpbmcoJ3VybCcsICdVUkwgKG9wdGlvbmFsKScsICd0ZXh0JywgW3t2YWx1ZTogJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCBsYWJlbDogJ2h0dHBzOi8vZXhhbXBsZS5jb20nfV0pO1xyXG5cdFx0Y3JlYXRlU2V0dGluZygncGxhY2VtZW50JywgJ1BsYWNlbWVudCcsICdkcm9wZG93bicsIFtcclxuXHRcdFx0e3ZhbHVlOiAnZm9vdGVyJywgbGFiZWw6ICdGb290ZXInfSwge3ZhbHVlOiAnaGVhZGVyJywgbGFiZWw6ICdIZWFkZXInfVxyXG5cdFx0XSk7XHJcblx0XHRjcmVhdGVTZXR0aW5nKCdzdHlsZScsICdTdHlsZScsICdkcm9wZG93bicsIFtcclxuXHRcdFx0e3ZhbHVlOiAnY2lyY2xlJywgbGFiZWw6ICdDaXJjbGUnfSwge3ZhbHVlOiAnc3F1YXJlJywgbGFiZWw6ICdTcXVhcmUnfSwge3ZhbHVlOiAnbm9uZScsIGxhYmVsOiAnTm9uZSd9XHJcblx0XHRdKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlUHJvZmlsZVNldHRpbmcoa2V5OiBrZXlvZiBQcm9maWxlUGljdHVyZVNldHRpbmdzLCB2YWx1ZTogc3RyaW5nLCBzdGF0ZTogV2l6YXJkU3RhdGUpOiB2b2lkIHtcclxuXHRcdC8vIEdldCBmcmVzaCBzdGF0ZSB0byBhdm9pZCBzdGFsZSBjbG9zdXJlIGlzc3Vlc1xyXG5cdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdHNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlczoge1xyXG5cdFx0XHRcdC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXMsXHJcblx0XHRcdFx0cHJvZmlsZVBpY3R1cmU6IHsgLi4uY3VycmVudFN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmUsIFtrZXldOiB2YWx1ZSB9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJDb21tZW50c0ZlYXR1cmVOYXRpdmUoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgc3RhdGU6IFdpemFyZFN0YXRlKTogdm9pZCB7XHJcblx0XHRjb25zdCBpc0VuYWJsZWQgPSBzdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkIHx8IGZhbHNlO1xyXG5cdFx0Y29uc3QgY29tbWVudHNTZXR0aW5ncyA9IHN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwge1xyXG5cdFx0XHRlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByYXdTY3JpcHQ6ICcnLFxyXG5cdFx0XHRyZXBvOiAnZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyJywgcmVwb0lkOiAnUl9rZ0RPUGxsZkt3JywgXHJcblx0XHRcdGNhdGVnb3J5OiAnR2VuZXJhbCcsIGNhdGVnb3J5SWQ6ICdESUNfa3dET1BsbGZLODRDdlVweCcsXHJcblx0XHRcdG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJyxcclxuXHRcdFx0aW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5J1xyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0Ly8gTWFpbiB0b2dnbGVcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcclxuXHRcdFx0LnNldE5hbWUoJ0NvbW1lbnRzJylcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZSAtLSBcIkdpc2N1c1wiIGlzIGEgcHJvcGVyIG5vdW5cclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBHaXNjdXMgY29tbWVudCBzeXN0ZW0gZm9yIHBvc3RzJylcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlOiBUb2dnbGVDb21wb25lbnQpID0+IHtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUoaXNFbmFibGVkKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogYm9vbGVhbikgPT4ge1xyXG5cdFx0XHRcdFx0XHQvLyBHZXQgZnJlc2ggc3RhdGUgdG8gYXZvaWQgc3RhbGUgY2xvc3VyZSBpc3N1ZXNcclxuXHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZEZlYXR1cmVzOiB7IC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZEZlYXR1cmVzLCBjb21tZW50czogdmFsdWUgfSxcclxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM6IHtcclxuXHRcdFx0XHRcdFx0XHRcdC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXMsXHJcblx0XHRcdFx0XHRcdFx0XHRjb21tZW50czogeyAuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cywgZW5hYmxlZDogdmFsdWUgfVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG9wdGlvbnNEaXYgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNvbW1lbnRzLW9wdGlvbnMnKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnNEaXYpIG9wdGlvbnNEaXYuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gT3B0aW9ucyBjb250YWluZXJcclxuXHRcdGNvbnN0IG9wdGlvbnNDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdjb21tZW50cy1vcHRpb25zJyk7XHJcblx0XHRvcHRpb25zQ29udGFpbmVyLnNldENzc1Byb3BzKHsgZGlzcGxheTogaXNFbmFibGVkID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdG9wdGlvbnNDb250YWluZXIuY2xhc3NOYW1lID0gJ2NvbW1lbnRzLW9wdGlvbnMnO1xyXG5cclxuXHRcdC8vIEluc3RydWN0aW9uc1xyXG5cdFx0Y29uc3QgaW5zdHJ1Y3Rpb25zRGl2ID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbW1lbnRzLWluc3RydWN0aW9ucycpO1xyXG5cdFx0aW5zdHJ1Y3Rpb25zRGl2LnNldENzc1Byb3BzKHtcclxuXHRcdFx0bWFyZ2luQm90dG9tOiAnMTVweCcsXHJcblx0XHRcdHBhZGRpbmc6ICcxMHB4JyxcclxuXHRcdFx0YmFja2dyb3VuZDogJ3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKScsXHJcblx0XHRcdGJvcmRlclJhZGl1czogJzRweCcsXHJcblx0XHRcdGJvcmRlckxlZnQ6ICczcHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSdcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpbnN0cnVjdGlvbnNUZXh0ID0gaW5zdHJ1Y3Rpb25zRGl2LmNyZWF0ZUVsKCdwJyk7XHJcblx0XHRpbnN0cnVjdGlvbnNUZXh0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0bWFyZ2luOiAnMCcsXHJcblx0XHRcdGZvbnRTaXplOiAnMTNweCcsXHJcblx0XHRcdGNvbG9yOiAndmFyKC0tdGV4dC1tdXRlZCknLFxyXG5cdFx0XHR3aGl0ZVNwYWNlOiAncHJlLWxpbmUnXHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Ly8gQ3JlYXRlIHRoZSB0ZXh0IHdpdGggcHJvcGVyIGxpbmsgcGxhY2VtZW50XHJcblx0XHRpbnN0cnVjdGlvbnNUZXh0LmFwcGVuZFRleHQoJzEuIEdvIHRvICcpO1xyXG5cdFx0Y29uc3QgZ2lzY3VzTGluayA9IGluc3RydWN0aW9uc1RleHQuY3JlYXRlRWwoJ2EnLCB7XHJcblx0XHRcdGhyZWY6ICdodHRwczovL2dpc2N1cy5hcHAvJyxcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZSAtLSBVUkwgc2hvdWxkIHJlbWFpbiBsb3dlcmNhc2VcclxuXHRcdFx0dGV4dDogJ2dpc2N1cy5hcHAnLFxyXG5cdFx0XHRhdHRyOiB7XHJcblx0XHRcdFx0dGFyZ2V0OiAnX2JsYW5rJyxcclxuXHRcdFx0XHRyZWw6ICdub29wZW5lciBub3JlZmVycmVyJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdGdpc2N1c0xpbmsuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRjb2xvcjogJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknLFxyXG5cdFx0XHR0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXHJcblx0XHR9KTtcclxuXHRcdGluc3RydWN0aW9uc1RleHQuYXBwZW5kVGV4dCgnIGFuZCBjb25maWd1cmUgeW91ciBjb21tZW50c1xcbjIuIENvcHkgdGhlIGdlbmVyYXRlZCBzY3JpcHRcXG4zLiBQYXN0ZSBpdCBiZWxvdycpO1xyXG5cdFx0XHJcblx0XHQvLyBBZGQgaG92ZXIgZWZmZWN0cyB0byB0aGUgbGlua1xyXG5cdFx0Z2lzY3VzTGluay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xyXG5cdFx0XHRnaXNjdXNMaW5rLnNldENzc1Byb3BzKHsgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnIH0pO1xyXG5cdFx0fSk7XHJcblx0XHRnaXNjdXNMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcblx0XHRcdGdpc2N1c0xpbmsuc2V0Q3NzUHJvcHMoeyB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnIH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gU2NyaXB0IHRleHRhcmVhXHJcblx0XHRjb25zdCBzY3JpcHRTZXR0aW5nID0gbmV3IFNldHRpbmcob3B0aW9uc0NvbnRhaW5lcilcclxuXHRcdFx0LnNldE5hbWUoJ0dpc2N1cyBzY3JpcHQnKVxyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlIC0tIFwiR2lzY3VzXCIgaXMgYSBwcm9wZXIgbm91blxyXG5cdFx0XHQuc2V0RGVzYygnUGFzdGUgeW91ciBHaXNjdXMgc2NyaXB0IGhlcmUgKHRoZSBwbHVnaW4gd2lsbCBhdXRvbWF0aWNhbGx5IHBhcnNlIGFsbCBzZXR0aW5ncyknKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGV4dGFyZWEgPSBzY3JpcHRTZXR0aW5nLmNvbnRyb2xFbC5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XHJcblx0XHRcdGF0dHI6IHtcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogYDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9naXNjdXMuYXBwL2NsaWVudC5qc1wiXHJcbiAgICAgICAgZGF0YS1yZXBvPVwiZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyXCJcclxuICAgICAgICBkYXRhLXJlcG8taWQ9XCJSX2tnRE9QbGxmS3dcIlxyXG4gICAgICAgIGRhdGEtY2F0ZWdvcnk9XCJHZW5lcmFsXCJcclxuICAgICAgICBkYXRhLWNhdGVnb3J5LWlkPVwiRElDX2t3RE9QbGxmSzg0Q3ZVcHhcIlxyXG4gICAgICAgIGRhdGEtbWFwcGluZz1cInBhdGhuYW1lXCJcclxuICAgICAgICBkYXRhLXN0cmljdD1cIjBcIlxyXG4gICAgICAgIGRhdGEtcmVhY3Rpb25zLWVuYWJsZWQ9XCIxXCJcclxuICAgICAgICBkYXRhLWVtaXQtbWV0YWRhdGE9XCIwXCJcclxuICAgICAgICBkYXRhLWlucHV0LXBvc2l0aW9uPVwiYm90dG9tXCJcclxuICAgICAgICBkYXRhLXRoZW1lPVwicHJlZmVycmVkX2NvbG9yX3NjaGVtZVwiXHJcbiAgICAgICAgZGF0YS1sYW5nPVwiZW5cIlxyXG4gICAgICAgIGRhdGEtbG9hZGluZz1cImxhenlcIlxyXG4gICAgICAgIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCJcclxuICAgICAgICBhc3luYz5cclxuPC9zY3JpcHQ+YCxcclxuXHRcdFx0XHRyb3dzOiAnOCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdHRleHRhcmVhLnNldENzc1Byb3BzKHtcclxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcclxuXHRcdFx0Zm9udEZhbWlseTogJ3ZhcigtLWZvbnQtbW9ub3NwYWNlKScsXHJcblx0XHRcdGZvbnRTaXplOiAnMTJweCcsXHJcblx0XHRcdHBhZGRpbmc6ICc4cHgnLFxyXG5cdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJyxcclxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAnNHB4JyxcclxuXHRcdFx0YmFja2dyb3VuZDogJ3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeSknLFxyXG5cdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtbm9ybWFsKScsXHJcblx0XHRcdHJlc2l6ZTogJ25vbmUnXHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Ly8gU2V0IGN1cnJlbnQgdmFsdWVcclxuXHRcdHRleHRhcmVhLnZhbHVlID0gY29tbWVudHNTZXR0aW5ncy5yYXdTY3JpcHQgfHwgJyc7XHJcblx0XHRcclxuXHRcdC8vIFZhbGlkYXRpb24gYW5kIHBhcnNpbmdcclxuXHRcdGNvbnN0IHZhbGlkYXRpb25EaXYgPSBvcHRpb25zQ29udGFpbmVyLmNyZWF0ZURpdignc2NyaXB0LXZhbGlkYXRpb24nKTtcclxuXHRcdHZhbGlkYXRpb25EaXYuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRtYXJnaW5Ub3A6ICc4cHgnLFxyXG5cdFx0XHRmb250U2l6ZTogJzEycHgnXHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdXBkYXRlVmFsaWRhdGlvbiA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0Y29uc3Qgc2NyaXB0Q29udGVudCA9IHRleHRhcmVhLnZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmICghc2NyaXB0Q29udGVudCkge1xyXG5cdFx0XHRcdHZhbGlkYXRpb25EaXYuZW1wdHkoKTtcclxuXHRcdFx0XHQvLyBDbGVhciBhbGwgY29tbWVudCBzZXR0aW5ncyB3aGVuIHNjcmlwdCBpcyBkZWxldGVkLCBidXQgcHJlc2VydmUgZW5hYmxlZCBzdGF0ZVxyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50RW5hYmxlZCA9IGN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkID8/IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGUoe1xyXG5cdFx0XHRcdFx0c2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzOiB7XHJcblx0XHRcdFx0XHRcdC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXMsXHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzOiB7XHJcblx0XHRcdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMsXHJcblx0XHRcdFx0XHRcdFx0cmF3U2NyaXB0OiAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZXBvOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZXBvSWQ6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdGNhdGVnb3J5OiAnJyxcclxuXHRcdFx0XHRcdFx0XHRjYXRlZ29yeUlkOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRtYXBwaW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRzdHJpY3Q6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHJlYWN0aW9uczogJycsXHJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdGlucHV0UG9zaXRpb246ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHRoZW1lOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRsYW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRsb2FkaW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRlbmFibGVkOiBjdXJyZW50RW5hYmxlZCAvLyBQcmVzZXJ2ZSBlbmFibGVkIHN0YXRlXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIEltcG9ydCB0aGUgcGFyc2VyIGR5bmFtaWNhbGx5XHJcblx0XHRcdGNvbnN0IHsgR2lzY3VzU2NyaXB0UGFyc2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL0dpc2N1c1NjcmlwdFBhcnNlcicpO1xyXG5cdFx0XHRjb25zdCB2YWxpZGF0aW9uID0gR2lzY3VzU2NyaXB0UGFyc2VyLnZhbGlkYXRlU2NyaXB0KHNjcmlwdENvbnRlbnQpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHZhbGlkYXRpb24udmFsaWQpIHtcclxuXHRcdFx0XHR2YWxpZGF0aW9uRGl2LmVtcHR5KCk7XHJcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiR2lzY3VzXCIgaXMgYSBwcm9wZXIgbm91biAoc2VydmljZSBuYW1lKVxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRjb25zdCBzdWNjZXNzU3BhbiA9IHZhbGlkYXRpb25EaXYuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6ICdcdTI3MTMgVmFsaWQgR2lzY3VzIHNjcmlwdCBkZXRlY3RlZCcgfSk7XHJcblx0XHRcdFx0c3VjY2Vzc1NwYW4uc2V0Q3NzUHJvcHMoeyBjb2xvcjogJ3ZhcigtLXRleHQtc3VjY2VzcyknIH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIFBhcnNlIGFuZCB1cGRhdGUgc2NyaXB0IHNldHRpbmdzIHdpdGhvdXQgZm9yY2luZyBjb21tZW50cyB0byBiZSBlbmFibGVkXHJcblx0XHRcdFx0Y29uc3QgcGFyc2VkID0gR2lzY3VzU2NyaXB0UGFyc2VyLnBhcnNlU2NyaXB0KHNjcmlwdENvbnRlbnQpO1xyXG5cdFx0XHRcdGlmIChwYXJzZWQpIHtcclxuXHRcdFx0XHRcdC8vIEdldCB0aGUgY3VycmVudCBlbmFibGVkIHN0YXRlIHRvIHByZXNlcnZlIGl0XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50RW5hYmxlZCA9IGN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkID8/IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBVcGRhdGUgc2NyaXB0IGRhdGEgYnV0IHByZXNlcnZlIHRoZSBjdXJyZW50IGVuYWJsZWQgc3RhdGVcclxuXHRcdFx0XHRcdHRoaXMudXBkYXRlU3RhdGUoe1xyXG5cdFx0XHRcdFx0XHRzZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM6IHtcclxuXHRcdFx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzLFxyXG5cdFx0XHRcdFx0XHRcdGNvbW1lbnRzOiB7IFxyXG5cdFx0XHRcdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMsIFxyXG5cdFx0XHRcdFx0XHRcdFx0cmF3U2NyaXB0OiBzY3JpcHRDb250ZW50LFxyXG5cdFx0XHRcdFx0XHRcdFx0cmVwbzogcGFyc2VkLnJlcG8sXHJcblx0XHRcdFx0XHRcdFx0XHRyZXBvSWQ6IHBhcnNlZC5yZXBvSWQsXHJcblx0XHRcdFx0XHRcdFx0XHRjYXRlZ29yeTogcGFyc2VkLmNhdGVnb3J5LFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2F0ZWdvcnlJZDogcGFyc2VkLmNhdGVnb3J5SWQsXHJcblx0XHRcdFx0XHRcdFx0XHRtYXBwaW5nOiBwYXJzZWQubWFwcGluZyxcclxuXHRcdFx0XHRcdFx0XHRcdHN0cmljdDogcGFyc2VkLnN0cmljdCxcclxuXHRcdFx0XHRcdFx0XHRcdHJlYWN0aW9uczogcGFyc2VkLnJlYWN0aW9ucyxcclxuXHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBwYXJzZWQubWV0YWRhdGEsXHJcblx0XHRcdFx0XHRcdFx0XHRpbnB1dFBvc2l0aW9uOiBwYXJzZWQuaW5wdXRQb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdHRoZW1lOiBwYXJzZWQudGhlbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRsYW5nOiBwYXJzZWQubGFuZyxcclxuXHRcdFx0XHRcdFx0XHRcdGxvYWRpbmc6IHBhcnNlZC5sb2FkaW5nLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogY3VycmVudEVuYWJsZWQgLy8gUHJlc2VydmUgZW5hYmxlZCBzdGF0ZVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIERvbid0IGZvcmNlIHRoZSB0b2dnbGUgLSBsZXQgdGhlIHVzZXIgZGVjaWRlIHdoZXRoZXIgdG8gZW5hYmxlIGNvbW1lbnRzXHJcblx0XHRcdFx0XHQvLyBUaGUgdG9nZ2xlIHNob3VsZCByZWZsZWN0IHRoZSBjdXJyZW50IHN0YXRlLCBub3QgYmUgZm9yY2VkIHRvIHRydWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFsaWRhdGlvbkRpdi5lbXB0eSgpO1xyXG5cdFx0XHRcdGNvbnN0IGVycm9yU3BhbiA9IHZhbGlkYXRpb25EaXYuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGBcdTI3MTcgJHt2YWxpZGF0aW9uLmVycm9yfWAgfSk7XHJcblx0XHRcdFx0ZXJyb3JTcGFuLnNldENzc1Byb3BzKHsgY29sb3I6ICd2YXIoLS10ZXh0LWVycm9yKScgfSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRcclxuXHRcdHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG5cdFx0XHR2b2lkIHVwZGF0ZVZhbGlkYXRpb24oKTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBJbml0aWFsIHZhbGlkYXRpb25cclxuXHRcdHZvaWQgdXBkYXRlVmFsaWRhdGlvbigpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB1cGRhdGVDb21tZW50U2V0dGluZyhrZXk6IGtleW9mIENvbW1lbnRzU2V0dGluZ3MsIHZhbHVlOiBzdHJpbmcsIHN0YXRlOiBXaXphcmRTdGF0ZSk6IHZvaWQge1xyXG5cdFx0Ly8gR2V0IGZyZXNoIHN0YXRlIHRvIGF2b2lkIHN0YWxlIGNsb3N1cmUgaXNzdWVzXHJcblx0XHRjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0c2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzOiB7XHJcblx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcyxcclxuXHRcdFx0XHRjb21tZW50czogeyAuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cywgW2tleV06IHZhbHVlIH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59IiwgImltcG9ydCB7IEJhc2VXaXphcmRTdGVwIH0gZnJvbSAnLi9CYXNlV2l6YXJkU3RlcCc7XG5cbmV4cG9ydCBjbGFzcyBEZXBsb3ltZW50U3RlcCBleHRlbmRzIEJhc2VXaXphcmRTdGVwIHtcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcblx0XHRcblx0XHRjb25zdCBkZXBsb3ltZW50U2VsZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignZGVwbG95bWVudC1zZWxlY3Rpb24nKTtcblx0XHRkZXBsb3ltZW50U2VsZWN0aW9uLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0RlcGxveW1lbnQgcGxhdGZvcm0nIH0pO1xuXHRcdGRlcGxveW1lbnRTZWxlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaG9vc2UgeW91ciBwcmVmZXJyZWQgZGVwbG95bWVudCBwbGF0Zm9ybS4nIH0pO1xuXHRcdFxuXHRcdGNvbnN0IGRlcGxveW1lbnRPcHRpb25zID0gZGVwbG95bWVudFNlbGVjdGlvbi5jcmVhdGVEaXYoJ2RlcGxveW1lbnQtb3B0aW9ucycpO1xuXHRcdFxuXHRcdGNvbnN0IGRlcGxveW1lbnRzID0gW1xuXHRcdFx0eyBpZDogJ25ldGxpZnknLCBuYW1lOiAnTmV0bGlmeScsIGRlc2M6ICdaZXJvLWNvbmZpZyBkZXBsb3ltZW50cyB3aXRoIGJ1aWx0LWluIENJL0NEIGFuZCBzZXJ2ZXJsZXNzIGZ1bmN0aW9ucy4nIH0sXG5cdFx0XHR7IGlkOiAndmVyY2VsJywgbmFtZTogJ1ZlcmNlbCcsIGRlc2M6ICdFZGdlLW9wdGltaXplZCBwbGF0Zm9ybSB3aXRoIGluc3RhbnQgZGVwbG95bWVudHMgYW5kIGdsb2JhbCBDRE4uJyB9LFxuXHRcdFx0eyBpZDogJ2dpdGh1Yi1wYWdlcycsIG5hbWU6ICdHaXRIdWIgUGFnZXMnLCBkZXNjOiAnRnJlZSBzdGF0aWMgaG9zdGluZyBpbnRlZ3JhdGVkIGRpcmVjdGx5IHdpdGggeW91ciBHaXRIdWIgcmVwb3NpdG9yeS4nIH0sXG5cdFx0XHR7IGlkOiAnY2xvdWRmbGFyZS13b3JrZXJzJywgbmFtZTogJ0Nsb3VkZmxhcmUgV29ya2VycycsIGRlc2M6ICdHbG9iYWwgZWRnZSBuZXR3b3JrIHdpdGggdW5saW1pdGVkIGJhbmR3aWR0aCBhbmQgY3VzdG9tIGhlYWRlcnMgb24gYWxsIHBsYW5zLicgfVxuXHRcdF07XG5cdFx0XG5cdFx0ZGVwbG95bWVudHMuZm9yRWFjaChkZXBsb3ltZW50ID0+IHtcblx0XHRcdGNvbnN0IG9wdGlvbiA9IGRlcGxveW1lbnRPcHRpb25zLmNyZWF0ZURpdignZGVwbG95bWVudC1vcHRpb24nKTtcblx0XHRcdGlmIChzdGF0ZS5zZWxlY3RlZERlcGxveW1lbnQgPT09IGRlcGxveW1lbnQuaWQpIHtcblx0XHRcdFx0b3B0aW9uLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuXHRcdFx0fVxuXHRcdFx0b3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kZXBsb3ltZW50JywgZGVwbG95bWVudC5pZCk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGhlYWRlciA9IG9wdGlvbi5jcmVhdGVEaXYoJ2RlcGxveW1lbnQtaGVhZGVyJyk7XG5cdFx0XHRoZWFkZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiBkZXBsb3ltZW50Lm5hbWUgfSk7XG5cdFx0XHRvcHRpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IGRlcGxveW1lbnQuZGVzYyB9KTtcblx0XHRcdFxuXHRcdFx0b3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHsgXG5cdFx0XHRcdFx0c2VsZWN0ZWREZXBsb3ltZW50OiBkZXBsb3ltZW50LmlkIGFzICduZXRsaWZ5JyB8ICd2ZXJjZWwnIHwgJ2dpdGh1Yi1wYWdlcycgfCAnY2xvdWRmbGFyZS13b3JrZXJzJyBcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxufVxuIiwgImltcG9ydCB7IEJhc2VXaXphcmRTdGVwIH0gZnJvbSAnLi9CYXNlV2l6YXJkU3RlcCc7XG5pbXBvcnQgeyBOb3RpY2UsIHNldEljb24sIE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQXN0cm9Nb2R1bGFyUGx1Z2luLCBQbHVnaW5TdGF0dXMsIFBsdWdpbkNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBQbHVnaW5Db25maWdTdGVwIGV4dGVuZHMgQmFzZVdpemFyZFN0ZXAge1xuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xuXHRcdFxuXHRcdC8vIEdldCBwbHVnaW4gc3RhdHVzIChwYXNzIGNvbnRlbnQgb3JnIGZyb20gd2l6YXJkIHN0YXRlKVxuXHRcdGNvbnN0IGNvbnRlbnRPcmcgPSBzdGF0ZS5zZWxlY3RlZENvbnRlbnRPcmc7XG5cdFx0KCgpID0+IHtcblx0XHRcdGNvbnN0IHBsdWdpblN0YXR1cyA9ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLnBsdWdpbk1hbmFnZXIuZ2V0UGx1Z2luU3RhdHVzKGNvbnRlbnRPcmcpO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBwbHVnaW5Db25maWcgPSBjb250YWluZXIuY3JlYXRlRGl2KCdwbHVnaW4tY29uZmlnJyk7XG5cdFx0XHRwbHVnaW5Db25maWcuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnUGx1Z2luIGNvbmZpZ3VyYXRpb24nIH0pO1xuXHRcdFx0cGx1Z2luQ29uZmlnLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQ29uZmlndXJlIHlvdXIgT2JzaWRpYW4gcGx1Z2lucyBmb3Igb3B0aW1hbCBpbnRlZ3JhdGlvbi4nIH0pO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBwbHVnaW5TdGF0dXNEaXYgPSBwbHVnaW5Db25maWcuY3JlYXRlRGl2KCdwbHVnaW4tc3RhdHVzJyk7XG5cdFx0XHRcblx0XHRcdC8vIFJlbmRlciBlYWNoIHBsdWdpbiBzdGF0dXMgaXRlbVxuXHRcdFx0Zm9yIChjb25zdCBwbHVnaW4gb2YgcGx1Z2luU3RhdHVzKSB7XG5cdFx0XHRcdHRoaXMucmVuZGVyUGx1Z2luU3RhdHVzSXRlbShwbHVnaW5TdGF0dXNEaXYsIHBsdWdpbik7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IGNvbmZpZ09wdGlvbnMgPSBwbHVnaW5Db25maWcuY3JlYXRlRGl2KCdjb25maWctb3B0aW9ucycpO1xuXHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiQXV0b21hdGljYWxseVwiIGFuZCBcIk1hbnVhbCBJbnN0cnVjdGlvbnNcIiBhcmUgVUkgYWN0aW9uIGxhYmVsc1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0Y29uc3QgYXV0b0J0biA9IGNvbmZpZ09wdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NvbmZpZ3VyZSBBdXRvbWF0aWNhbGx5JywgY2xzOiAnbW9kLWJ1dHRvbiBtb2QtY3RhJyB9KTtcblx0XHRcdGF1dG9CdG4uaWQgPSAnY29uZmlndXJlLXBsdWdpbnMnO1xuXHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiTWFudWFsIEluc3RydWN0aW9uc1wiIGlzIGEgVUkgYWN0aW9uIGxhYmVsXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRjb25zdCBtYW51YWxCdG4gPSBjb25maWdPcHRpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdTaG93IE1hbnVhbCBJbnN0cnVjdGlvbnMnLCBjbHM6ICdtb2QtYnV0dG9uJyB9KTtcblx0XHRcdG1hbnVhbEJ0bi5pZCA9ICdzaG93LWluc3RydWN0aW9ucyc7XG5cblx0XHRcdHRoaXMuc2V0dXBFdmVudEhhbmRsZXJzKGNvbnRhaW5lcik7XG5cdFx0fSkoKTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyUGx1Z2luU3RhdHVzSXRlbShjb250YWluZXI6IEhUTUxFbGVtZW50LCBwbHVnaW46IFBsdWdpblN0YXR1cyk6IHZvaWQge1xuXHRcdGNvbnN0IGlzU2V0dGluZ3NDaGVjayA9IHBsdWdpbi5uYW1lID09PSAnQXR0YWNobWVudCBzZXR0aW5ncyc7XG5cdFx0Y29uc3QgaXNDb25maWd1cmVkID0gcGx1Z2luLmluc3RhbGxlZDsgLy8gRm9yIHNldHRpbmdzLCBpbnN0YWxsZWQgbWVhbnMgY29uZmlndXJlZFxuXHRcdGNvbnN0IGhhc1N5bmNJc3N1ZXMgPSBwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzICYmIHBsdWdpbi5vdXRPZlN5bmNDb250ZW50VHlwZXMubGVuZ3RoID4gMDtcblx0XHQvLyBJZiBBTEwgY29udGVudCB0eXBlcyBhcmUgb3V0IG9mIHN5bmMgKDQgb3V0IG9mIDQpLCBpdCdzIFwiRG9lc24ndCBtYXRjaFwiLCBub3QgXCJQYXJ0aWFsbHkgY29uZmlndXJlZFwiXG5cdFx0Y29uc3QgYWxsT3V0T2ZTeW5jID0gaGFzU3luY0lzc3VlcyAmJiBwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzICYmIHBsdWdpbi5vdXRPZlN5bmNDb250ZW50VHlwZXMubGVuZ3RoID09PSA0O1xuXHRcdGNvbnN0IGlzUGFydGlhbGx5Q29uZmlndXJlZCA9IGhhc1N5bmNJc3N1ZXMgJiYgIWFsbE91dE9mU3luYyAmJiBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkO1xuXHRcdGNvbnN0IGFsbE1pc21hdGNoZWQgPSBhbGxPdXRPZlN5bmMgJiYgcGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZDtcblx0XHQvLyBDaGVjayBpZiB0aGlzIGlzIEltYWdlIE1hbmFnZXIgYW5kIHNldHRpbmdzIGRvbid0IG1hdGNoXG5cdFx0Y29uc3QgaXNJbWFnZU1hbmFnZXIgPSBwbHVnaW4ubmFtZSA9PT0gJ0ltYWdlIE1hbmFnZXInO1xuXHRcdGNvbnN0IGltYWdlTWFuYWdlck1pc21hdGNoID0gaXNJbWFnZU1hbmFnZXIgJiYgcGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZCAmJiBwbHVnaW4uc2V0dGluZ3NNYXRjaCA9PT0gZmFsc2U7XG5cdFx0XG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHBsdWdpbiBpcyBwcm9wZXJseSBjb25maWd1cmVkIChub3QganVzdCBlbmFibGVkKVxuXHRcdGNvbnN0IGlzUHJvcGVybHlDb25maWd1cmVkID0gcGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZCAmJiBcblx0XHRcdCFpbWFnZU1hbmFnZXJNaXNtYXRjaCAmJiAhYWxsTWlzbWF0Y2hlZCAmJiAhaXNQYXJ0aWFsbHlDb25maWd1cmVkO1xuXHRcdFxuXHRcdC8vIERldGVybWluZSBzdGF0dXMgdGV4dFxuXHRcdGxldCBzdGF0dXNUZXh0OiBzdHJpbmc7XG5cdFx0aWYgKGlzU2V0dGluZ3NDaGVjaykge1xuXHRcdFx0c3RhdHVzVGV4dCA9IGlzQ29uZmlndXJlZCA/ICdDb25maWd1cmVkJyA6ICdEb2VzblxcJ3QgbWF0Y2gnO1xuXHRcdH0gZWxzZSBpZiAoIXBsdWdpbi5pbnN0YWxsZWQpIHtcblx0XHRcdHN0YXR1c1RleHQgPSAnTm90IGluc3RhbGxlZCc7XG5cdFx0fSBlbHNlIGlmICghcGx1Z2luLmVuYWJsZWQpIHtcblx0XHRcdHN0YXR1c1RleHQgPSAnRGlzYWJsZWQnO1xuXHRcdH0gZWxzZSBpZiAoaW1hZ2VNYW5hZ2VyTWlzbWF0Y2ggfHwgYWxsTWlzbWF0Y2hlZCkge1xuXHRcdFx0c3RhdHVzVGV4dCA9ICdEb2VzblxcJ3QgbWF0Y2gnO1xuXHRcdH0gZWxzZSBpZiAoaXNQYXJ0aWFsbHlDb25maWd1cmVkKSB7XG5cdFx0XHRzdGF0dXNUZXh0ID0gJ1BhcnRpYWxseSBjb25maWd1cmVkJztcblx0XHR9IGVsc2UgaWYgKGlzUHJvcGVybHlDb25maWd1cmVkKSB7XG5cdFx0XHRzdGF0dXNUZXh0ID0gJ0NvbmZpZ3VyZWQnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBGYWxsYmFjayAtIHNob3VsZCBub3QgaGFwcGVuLCBidXQganVzdCBpbiBjYXNlXG5cdFx0XHRzdGF0dXNUZXh0ID0gJ0NvbmZpZ3VyZWQnO1xuXHRcdH1cblx0XHRcblx0XHQvLyBEZXRlcm1pbmUgaXRlbSBjbGFzc1xuXHRcdGxldCBpdGVtQ2xhc3MgPSAncGx1Z2luLWl0ZW0nO1xuXHRcdGlmIChpc1NldHRpbmdzQ2hlY2spIHtcblx0XHRcdGl0ZW1DbGFzcyArPSBpc0NvbmZpZ3VyZWQgPyAnIGluc3RhbGxlZCcgOiAnIG1pc3NpbmcnO1xuXHRcdH0gZWxzZSBpZiAoaW1hZ2VNYW5hZ2VyTWlzbWF0Y2ggfHwgYWxsTWlzbWF0Y2hlZCkge1xuXHRcdFx0Ly8gSW1hZ2UgTWFuYWdlciBzZXR0aW5ncyBkb24ndCBtYXRjaCBvciBhbGwgY29udGVudCB0eXBlcyBhcmUgb3V0IG9mIHN5bmMgLSBzaG93IGFzIFwibWlzc2luZ1wiIChyZWQgWClcblx0XHRcdGl0ZW1DbGFzcyArPSAnIG1pc3NpbmcnO1xuXHRcdH0gZWxzZSBpZiAoaXNQYXJ0aWFsbHlDb25maWd1cmVkKSB7XG5cdFx0XHRpdGVtQ2xhc3MgKz0gJyBwYXJ0aWFsbHktY29uZmlndXJlZCc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGl0ZW1DbGFzcyArPSAocGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZCkgPyAnIGluc3RhbGxlZCcgOiAnIG1pc3NpbmcnO1xuXHRcdH1cblx0XHRcblx0XHRjb25zdCBwbHVnaW5JdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdihpdGVtQ2xhc3MpO1xuXHRcdGNvbnN0IGljb25EaXYgPSBwbHVnaW5JdGVtLmNyZWF0ZURpdigncGx1Z2luLWljb24nKTtcblx0XHRcblx0XHQvLyBTZXQgaWNvbiBiYXNlZCBvbiBzdGF0dXMgdXNpbmcgc2V0SWNvblxuXHRcdGlmIChpc1NldHRpbmdzQ2hlY2spIHtcblx0XHRcdHNldEljb24oaWNvbkRpdiwgaXNDb25maWd1cmVkID8gJ2NoZWNrJyA6ICd4Jyk7XG5cdFx0fSBlbHNlIGlmIChpbWFnZU1hbmFnZXJNaXNtYXRjaCB8fCBhbGxNaXNtYXRjaGVkKSB7XG5cdFx0XHRzZXRJY29uKGljb25EaXYsICd4Jyk7XG5cdFx0fSBlbHNlIGlmIChpc1BhcnRpYWxseUNvbmZpZ3VyZWQpIHtcblx0XHRcdHNldEljb24oaWNvbkRpdiwgJ2FsZXJ0LXRyaWFuZ2xlJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNldEljb24oaWNvbkRpdiwgKHBsdWdpbi5pbnN0YWxsZWQgJiYgcGx1Z2luLmVuYWJsZWQpID8gJ2NoZWNrJyA6ICd4Jyk7XG5cdFx0fVxuXHRcdFxuXHRcdGNvbnN0IGluZm8gPSBwbHVnaW5JdGVtLmNyZWF0ZURpdigncGx1Z2luLWluZm8nKTtcblx0XHRpbmZvLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogcGx1Z2luLm5hbWUgfSk7XG5cdFx0aW5mby5jcmVhdGVFbCgncCcsIHsgdGV4dDogc3RhdHVzVGV4dCB9KTtcblx0XHRcblx0XHQvLyBBZGQgc3luYyBpc3N1ZXMgZGV0YWlscyBpZiBwcmVzZW50XG5cdFx0aWYgKGhhc1N5bmNJc3N1ZXMgJiYgcGx1Z2luLm91dE9mU3luY0NvbnRlbnRUeXBlcykge1xuXHRcdFx0Y29uc3Qgc3luY0RldGFpbHMgPSBpbmZvLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBgT3V0IG9mIHN5bmM6ICR7cGx1Z2luLm91dE9mU3luY0NvbnRlbnRUeXBlcy5qb2luKCcsICcpfWAsIGNsczogJ3N5bmMtZGV0YWlscycgfSk7XG5cdFx0XHQvLyBTZXQgZHluYW1pYyBzdHlsZXNcblx0XHRcdHN5bmNEZXRhaWxzLnNldENzc1Byb3BzKHtcblx0XHRcdFx0Zm9udFNpemU6ICcwLjllbScsXG5cdFx0XHRcdG9wYWNpdHk6ICcwLjgnLFxuXHRcdFx0XHRtYXJnaW5Ub3A6ICc0cHgnXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHNldHVwRXZlbnRIYW5kbGVycyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XG5cblx0XHQvLyBDb25maWd1cmUgYXV0b21hdGljYWxseSBidXR0b25cblx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvcignI2NvbmZpZ3VyZS1wbHVnaW5zJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBDcmVhdGUgY29uZmlndXJhdGlvbiBiYXNlZCBvbiBjdXJyZW50IGNvbnRlbnQgb3JnYW5pemF0aW9uIGNob2ljZVxuXHRcdFx0XHRjb25zdCBjb250ZW50T3JnID0gc3RhdGUuc2VsZWN0ZWRDb250ZW50T3JnO1xuXHRcdFx0XHRjb25zdCBjb25maWc6IFBsdWdpbkNvbmZpZ3VyYXRpb24gPSB7XG5cdFx0XHRcdFx0b2JzaWRpYW5TZXR0aW5nczoge1xuXHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0YXR0YWNobWVudExvY2F0aW9uOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ3N1YmZvbGRlcicgOiAnc2FtZS1mb2xkZXInKSBhcyAnc3ViZm9sZGVyJyB8ICdzYW1lLWZvbGRlcicsXG5cdFx0XHRcdFx0XHRzdWJmb2xkZXJOYW1lOiAnYXR0YWNobWVudHMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRhc3Ryb0NvbXBvc2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cblx0XHRcdFx0XHRcdGNyZWF0aW9uTW9kZTogKGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdmaWxlJyA6ICdmb2xkZXInKSBhcyAnZmlsZScgfCAnZm9sZGVyJyxcblx0XHRcdFx0XHRcdGluZGV4RmlsZU5hbWU6ICdpbmRleCdcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGltYWdlTWFuYWdlclNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRjdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXQ6IGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyBcblx0XHRcdFx0XHRcdFx0PyAnW1thdHRhY2htZW50cy97aW1hZ2UtdXJsfV1dJyBcblx0XHRcdFx0XHRcdFx0OiAnW1t7aW1hZ2UtdXJsfV1dJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHRjb25zdCBzdWNjZXNzID0gYXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikucGx1Z2luTWFuYWdlci5jb25maWd1cmVQbHVnaW5zKGNvbmZpZyk7XG5cdFx0XHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRcdFx0Ly8gUmVsb2FkIHBsdWdpbiBzdGF0dXMgdG8gcmVmbGVjdCBjaGFuZ2VzXG5cdFx0XHRcdFx0Y29uc3QgdXBkYXRlZFN0YXR1cyA9ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLnBsdWdpbk1hbmFnZXIuZ2V0UGx1Z2luU3RhdHVzKHN0YXRlLnNlbGVjdGVkQ29udGVudE9yZyk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gUmUtcmVuZGVyIHRoZSBzdGF0dXMgZGlzcGxheVxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cblx0XHRcdFx0XHRjb25zdCBzdGF0dXNDb250YWluZXJFbCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucGx1Z2luLXN0YXR1cycpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcblx0XHRcdFx0XHRpZiAoc3RhdHVzQ29udGFpbmVyRWwpIHtcblx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lckVsLmVtcHR5KCk7IC8vIENsZWFyIGV4aXN0aW5nIGl0ZW1zXG5cdFx0XHRcdFx0XHR1cGRhdGVkU3RhdHVzLmZvckVhY2gocGx1Z2luID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5yZW5kZXJQbHVnaW5TdGF0dXNJdGVtKHN0YXR1c0NvbnRhaW5lckVsLCBwbHVnaW4pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFNob3cgZGV0YWlsZWQgc3VjY2VzcyBtZXNzYWdlXG5cdFx0XHRcdFx0Y29uc3QgY29udGVudE9yZyA9IHN0YXRlLnNlbGVjdGVkQ29udGVudE9yZztcblx0XHRcdFx0XHRjb25zdCBhdHRhY2htZW50TG9jYXRpb24gPSBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnc3ViZm9sZGVyIChhdHRhY2htZW50cy8pJyA6ICdzYW1lIGZvbGRlcic7XG5cdFx0XHRcdFx0Y29uc3QgY3JlYXRpb25Nb2RlID0gY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ2ZpbGUnIDogJ2ZvbGRlcic7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0bmV3IE5vdGljZShgUGx1Z2lucyBjb25maWd1cmVkIHN1Y2Nlc3NmdWxseSFcXG5cXG5cdTIwMjIgT2JzaWRpYW46IEF0dGFjaG1lbnRzIFx1MjE5MiAke2F0dGFjaG1lbnRMb2NhdGlvbn1cXG5cdTIwMjIgQXN0cm8gQ29tcG9zZXI6IENyZWF0aW9uIG1vZGUgXHUyMTkyICR7Y3JlYXRpb25Nb2RlfVxcblx1MjAyMiBJbWFnZSBNYW5hZ2VyOiBGb3JtYXQgdXBkYXRlZCBmb3IgJHtjb250ZW50T3JnfWAsIDgwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcImF1dG9tYXRpY2FsbHlcIiBpcyBhbiBhZHZlcmIgaW4gVUkgdGV4dFxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgU29tZSBwbHVnaW5zIGNvdWxkIG5vdCBiZSBjb25maWd1cmVkIGF1dG9tYXRpY2FsbHkuIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuJywgNTAwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yIGNvbmZpZ3VyaW5nIHBsdWdpbnM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0fVxuXHRcdFx0fSkoKTtcblx0XHR9KTtcblxuXHRcdC8vIFNob3cgbWFudWFsIGluc3RydWN0aW9ucyBidXR0b25cblx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvcignI3Nob3ctaW5zdHJ1Y3Rpb25zJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0KCgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIENyZWF0ZSBjb25maWd1cmF0aW9uIGJhc2VkIG9uIGN1cnJlbnQgY29udGVudCBvcmdhbml6YXRpb24gY2hvaWNlXG5cdFx0XHRcdGNvbnN0IGNvbnRlbnRPcmcgPSBzdGF0ZS5zZWxlY3RlZENvbnRlbnRPcmc7XG5cdFx0XHRcdGNvbnN0IGNvbmZpZzogUGx1Z2luQ29uZmlndXJhdGlvbiA9IHtcblx0XHRcdFx0XHRvYnNpZGlhblNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG5cdFx0XHRcdFx0XHRhdHRhY2htZW50TG9jYXRpb246IChjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnc3ViZm9sZGVyJyA6ICdzYW1lLWZvbGRlcicpIGFzICdzdWJmb2xkZXInIHwgJ3NhbWUtZm9sZGVyJyxcblx0XHRcdFx0XHRcdHN1YmZvbGRlck5hbWU6ICdhdHRhY2htZW50cydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGFzdHJvQ29tcG9zZXJTZXR0aW5nczoge1xuXHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0Y3JlYXRpb25Nb2RlOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ2ZpbGUnIDogJ2ZvbGRlcicpIGFzICdmaWxlJyB8ICdmb2xkZXInLFxuXHRcdFx0XHRcdFx0aW5kZXhGaWxlTmFtZTogJ2luZGV4J1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aW1hZ2VNYW5hZ2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdGN1c3RvbVByb3BlcnR5TGlua0Zvcm1hdDogY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnIFxuXHRcdFx0XHRcdFx0XHQ/ICdbW2F0dGFjaG1lbnRzL3tpbWFnZS11cmx9XV0nIFxuXHRcdFx0XHRcdFx0XHQ6ICdbW3tpbWFnZS11cmx9XV0nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IGluc3RydWN0aW9ucyA9ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLnBsdWdpbk1hbmFnZXIuZ2V0TWFudWFsQ29uZmlndXJhdGlvbkluc3RydWN0aW9ucyhjb25maWcpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gQ3JlYXRlIGEgbW9kYWwgdG8gc2hvdyBpbnN0cnVjdGlvbnNcblx0XHRcdFx0Y29uc3QgaW5zdHJ1Y3Rpb25Nb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmFwcCk7XG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIk1hbnVhbCBDb25maWd1cmF0aW9uIEluc3RydWN0aW9uc1wiIGlzIGEgdGl0bGUvaGVhZGluZ1xuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdGluc3RydWN0aW9uTW9kYWwudGl0bGVFbC5zZXRUZXh0KCdNYW51YWwgQ29uZmlndXJhdGlvbiBJbnN0cnVjdGlvbnMnKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIENyZWF0ZSBhIGNvbnRhaW5lciBmb3IgdGhlIGluc3RydWN0aW9uc1xuXHRcdFx0XHRjb25zdCBjb250ZW50RGl2ID0gaW5zdHJ1Y3Rpb25Nb2RhbC5jb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0XHRcdGNvbnRlbnREaXYuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdHBhZGRpbmc6ICcyMHB4Jyxcblx0XHRcdFx0XHRsaW5lSGVpZ2h0OiAnMS42J1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFBhcnNlIGluc3RydWN0aW9ucyBsaW5lIGJ5IGxpbmUgYW5kIGNyZWF0ZSBwcm9wZXIgRE9NIGVsZW1lbnRzXG5cdFx0XHRcdGNvbnN0IGxpbmVzID0gaW5zdHJ1Y3Rpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0bGV0IGN1cnJlbnRMaXN0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcbiAgICAgbGluZXMuZm9yRWFjaCgobGluZTogc3RyaW5nKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgdHJpbW1lZExpbmUgPSBsaW5lLnRyaW0oKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAodHJpbW1lZExpbmUgPT09ICcnKSB7XG5cdFx0XHRcdFx0XHQvLyBFbXB0eSBsaW5lIC0gYWRkIHNwYWNpbmdcblx0XHRcdFx0XHRcdGNvbnRlbnREaXYuY3JlYXRlRWwoJ2JyJyk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICh0cmltbWVkTGluZS5zdGFydHNXaXRoKCcjIyAnKSkge1xuXHRcdFx0XHRcdFx0Ly8gU3ViIGhlYWRpbmdcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50TGlzdCA9IG51bGw7IC8vIEVuZCBjdXJyZW50IGxpc3Rcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNvbnN0IGgyID0gY29udGVudERpdi5jcmVhdGVFbCgnaDInKTtcblx0XHRcdFx0XHRcdGgyLnNldFRleHQodHJpbW1lZExpbmUuc3Vic3RyaW5nKDMpKTtcblx0XHRcdFx0XHRcdGgyLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0bWFyZ2luVG9wOiAnMjBweCcsXG5cdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzEwcHgnLFxuXHRcdFx0XHRcdFx0XHRmb250U2l6ZTogJzEuMmVtJyxcblx0XHRcdFx0XHRcdFx0Zm9udFdlaWdodDogJ2JvbGQnXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodHJpbW1lZExpbmUubWF0Y2goL15cXGQrXFwuXFxzLykpIHtcblx0XHRcdFx0XHRcdFx0Ly8gTnVtYmVyZWQgbGlzdCBpdGVtXG5cdFx0XHRcdFx0XHRcdGlmICghY3VycmVudExpc3QpIHtcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50TGlzdCA9IGNvbnRlbnREaXYuY3JlYXRlRWwoJ29sJyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50TGlzdC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkxlZnQ6ICcyMHB4Jyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiAnMTVweCdcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoY3VycmVudExpc3QpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBsaSA9IGN1cnJlbnRMaXN0LmNyZWF0ZUVsKCdsaScpO1xuXHRcdFx0XHRcdFx0XHRcdGxpLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzVweCdcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHQvLyBQYXJzZSBib2xkIHRleHQgaW4gdGhlIGxpbmVcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBhcnNlQm9sZFRleHQobGksIHRyaW1tZWRMaW5lLnJlcGxhY2UoL15cXGQrXFwuXFxzLywgJycpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0cmltbWVkTGluZS5zdGFydHNXaXRoKCctICcpIHx8IHRyaW1tZWRMaW5lLnN0YXJ0c1dpdGgoJyogJykpIHtcblx0XHRcdFx0XHRcdFx0Ly8gQnVsbGV0IGxpc3QgaXRlbVxuXHRcdFx0XHRcdFx0XHRpZiAoIWN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3QgPSBjb250ZW50RGl2LmNyZWF0ZUVsKCd1bCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3Quc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5MZWZ0OiAnMjBweCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzE1cHgnXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgbGkgPSBjdXJyZW50TGlzdC5jcmVhdGVFbCgnbGknKTtcblx0XHRcdFx0XHRcdFx0XHRsaS5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICc1cHgnXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUGFyc2UgYm9sZCB0ZXh0IGluIHRoZSBsaW5lXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wYXJzZUJvbGRUZXh0KGxpLCB0cmltbWVkTGluZS5zdWJzdHJpbmcoMikpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIFJlZ3VsYXIgcGFyYWdyYXBoXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudExpc3QpIHtcblx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3QgPSBudWxsOyAvLyBFbmQgY3VycmVudCBsaXN0XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjb25zdCBwID0gY29udGVudERpdi5jcmVhdGVFbCgncCcpO1xuXHRcdFx0XHRcdFx0cC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzEwcHgnXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdC8vIFBhcnNlIGJvbGQgdGV4dCBpbiB0aGUgbGluZVxuXHRcdFx0XHRcdFx0dGhpcy5wYXJzZUJvbGRUZXh0KHAsIHRyaW1tZWRMaW5lKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0aW5zdHJ1Y3Rpb25Nb2RhbC5vcGVuKCk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRuZXcgTm90aWNlKGBFcnJvciBnZXR0aW5nIGluc3RydWN0aW9uczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHR9XG5cdFx0XHR9KSgpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBwYXJzZUJvbGRUZXh0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHRleHQ6IHN0cmluZyk6IHZvaWQge1xuXHRcdC8vIFNpbXBsZSBib2xkIHRleHQgcGFyc2VyIC0gaGFuZGxlcyAqKnRleHQqKiBwYXR0ZXJuc1xuXHRcdGNvbnN0IHBhcnRzID0gdGV4dC5zcGxpdCgvKFxcKlxcKi4qP1xcKlxcKikvZyk7XG5cdFx0XG5cdFx0cGFydHMuZm9yRWFjaChwYXJ0ID0+IHtcblx0XHRcdGlmIChwYXJ0LnN0YXJ0c1dpdGgoJyoqJykgJiYgcGFydC5lbmRzV2l0aCgnKionKSkge1xuXHRcdFx0XHQvLyBCb2xkIHRleHRcblx0XHRcdFx0Y29uc3Qgc3Ryb25nID0gY29udGFpbmVyLmNyZWF0ZUVsKCdzdHJvbmcnKTtcblx0XHRcdFx0c3Ryb25nLnNldFRleHQocGFydC5zdWJzdHJpbmcoMiwgcGFydC5sZW5ndGggLSAyKSk7XG5cdFx0XHR9IGVsc2UgaWYgKHBhcnQudHJpbSgpICE9PSAnJykge1xuXHRcdFx0XHQvLyBSZWd1bGFyIHRleHRcblx0XHRcdFx0Y29udGFpbmVyLmFwcGVuZFRleHQocGFydCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBCYXNlV2l6YXJkU3RlcCB9IGZyb20gJy4vQmFzZVdpemFyZFN0ZXAnO1xyXG5pbXBvcnQgeyBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFRFTVBMQVRFX09QVElPTlMsIFRIRU1FX09QVElPTlMsIEFzdHJvTW9kdWxhclBsdWdpbiB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaW5hbGl6ZVN0ZXAgZXh0ZW5kcyBCYXNlV2l6YXJkU3RlcCB7XHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHJcblx0XHQvLyBGb3JtYXQgdGhlIHZhbHVlc1xyXG5cdFx0Y29uc3QgdGVtcGxhdGVOYW1lID0gdGhpcy5mb3JtYXRUZW1wbGF0ZU5hbWUoc3RhdGUuc2VsZWN0ZWRUZW1wbGF0ZSk7XHJcblx0XHRjb25zdCB0aGVtZU5hbWUgPSB0aGlzLmZvcm1hdFRoZW1lTmFtZShzdGF0ZS5zZWxlY3RlZFRoZW1lKTtcclxuXHRcdGNvbnN0IGNvbnRlbnRPcmdOYW1lID0gdGhpcy5mb3JtYXRDb250ZW50T3JnYW5pemF0aW9uKHN0YXRlLnNlbGVjdGVkQ29udGVudE9yZyk7XHJcblx0XHRjb25zdCBkZXBsb3ltZW50TmFtZSA9IHRoaXMuZm9ybWF0RGVwbG95bWVudE5hbWUoc3RhdGUuc2VsZWN0ZWREZXBsb3ltZW50KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgZmluYWxpemVEaXYgPSBjb250YWluZXIuY3JlYXRlRGl2KCdmaW5hbGl6ZS1zdGVwJyk7XHJcblx0XHRmaW5hbGl6ZURpdi5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdGaW5hbGl6ZSB5b3VyIGNvbmZpZ3VyYXRpb24nIH0pO1xyXG5cdFx0ZmluYWxpemVEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdSZXZpZXcgeW91ciBzZXR0aW5ncyBhbmQgY29tcGxldGUgdGhlIHNldHVwLicgfSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGNvbmZpZ1N1bW1hcnkgPSBmaW5hbGl6ZURpdi5jcmVhdGVEaXYoJ2NvbmZpZy1zdW1tYXJ5Jyk7XHJcblx0XHRjb25maWdTdW1tYXJ5LmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0NvbmZpZ3VyYXRpb24gc3VtbWFyeScgfSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGNyZWF0ZUNvbmZpZ0l0ZW0gPSAobGFiZWw6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRjb25zdCBpdGVtID0gY29uZmlnU3VtbWFyeS5jcmVhdGVEaXYoJ2NvbmZpZy1pdGVtJyk7XHJcblx0XHRcdGl0ZW0uY3JlYXRlRWwoJ3N0cm9uZycsIHsgdGV4dDogYCR7bGFiZWx9OiBgIH0pO1xyXG5cdFx0XHRpdGVtLmFwcGVuZFRleHQodmFsdWUpO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Y3JlYXRlQ29uZmlnSXRlbSgnVGVtcGxhdGUnLCB0ZW1wbGF0ZU5hbWUpO1xyXG5cdFx0Y3JlYXRlQ29uZmlnSXRlbSgnVGhlbWUnLCB0aGVtZU5hbWUpO1xyXG5cdFx0Y3JlYXRlQ29uZmlnSXRlbSgnQ29udGVudCBPcmdhbml6YXRpb24nLCBjb250ZW50T3JnTmFtZSk7XHJcblx0XHRjcmVhdGVDb25maWdJdGVtKCdEZXBsb3ltZW50JywgZGVwbG95bWVudE5hbWUpO1xyXG5cdFx0Y3JlYXRlQ29uZmlnSXRlbSgnU2l0ZSBUaXRsZScsIHN0YXRlLnNlbGVjdGVkU2l0ZUluZm8udGl0bGUpO1xyXG5cdFx0Y3JlYXRlQ29uZmlnSXRlbSgnU2l0ZSBVUkwnLCBzdGF0ZS5zZWxlY3RlZFNpdGVJbmZvLnNpdGUpO1xyXG5cclxuXHRcdHRoaXMuc2V0dXBFdmVudEhhbmRsZXJzKGNvbnRhaW5lcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldHVwRXZlbnRIYW5kbGVycyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHQvLyBObyBldmVudCBoYW5kbGVycyBuZWVkZWQgZm9yIGZpbmFsaXplIHN0ZXBcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNvbXBsZXRlV2l6YXJkKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gQnVpbGQgZmluYWwgc2V0dGluZ3MgLSB0aGlzIG5vdyB1cGRhdGVzIHBsdWdpbi5zZXR0aW5ncyBkaXJlY3RseVxyXG5cdFx0XHR0aGlzLnN0YXRlTWFuYWdlci5idWlsZEZpbmFsU2V0dGluZ3MoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFNhdmUgdGhlIHNldHRpbmdzIHRvIGRpc2tcclxuXHRcdFx0Y29uc3QgcGx1Z2luID0gdGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luO1xyXG5cdFx0XHRhd2FpdCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyB0byBlbnN1cmUgdGhlIHBsdWdpbiBoYXMgdGhlIGxhdGVzdCB2YWx1ZXNcclxuXHRcdFx0YXdhaXQgcGx1Z2luLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQWx3YXlzIGFwcGx5IHRoZSBjb25maWd1cmF0aW9uXHJcblx0XHRcdGNvbnN0IHNldHRpbmdzID0gcGx1Z2luLnNldHRpbmdzO1xyXG5cdFx0XHRjb25zdCBwcmVzZXRTdWNjZXNzID0gcGx1Z2luLmNvbmZpZ01hbmFnZXIuYXBwbHlQcmVzZXQoe1xyXG5cdFx0XHRcdG5hbWU6IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSxcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogJycsXHJcblx0XHRcdFx0ZmVhdHVyZXM6IHNldHRpbmdzLmZlYXR1cmVzLFxyXG5cdFx0XHRcdHRoZW1lOiBzZXR0aW5ncy5jdXJyZW50VGhlbWUsXHJcblx0XHRcdFx0Y29udGVudE9yZ2FuaXphdGlvbjogc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbixcclxuXHRcdFx0XHRjb25maWc6IHNldHRpbmdzXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aWYgKHByZXNldFN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdDb25maWd1cmF0aW9uIGFwcGxpZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBhcHBseSBjb25maWd1cmF0aW9uLiBDaGVjayB0aGUgY29uc29sZSBmb3IgZXJyb3JzLicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBDYWxsIHRoZSBjb21wbGV0aW9uIGNhbGxiYWNrXHJcblx0XHRcdHRoaXMuc3RhdGVNYW5hZ2VyLnVwZGF0ZVN0YXRlKHsgY3VycmVudFN0ZXA6IHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkudG90YWxTdGVwcyB9KTtcclxuXHRcdFx0XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRuZXcgTm90aWNlKGBFcnJvciBjb21wbGV0aW5nIHdpemFyZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGZvcm1hdFRlbXBsYXRlTmFtZSh0ZW1wbGF0ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IG9wdGlvbiA9IFRFTVBMQVRFX09QVElPTlMuZmluZCh0ID0+IHQuaWQgPT09IHRlbXBsYXRlKTtcclxuXHRcdHJldHVybiBvcHRpb24gPyBvcHRpb24ubmFtZSA6IHRlbXBsYXRlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmb3JtYXRUaGVtZU5hbWUodGhlbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBvcHRpb24gPSBUSEVNRV9PUFRJT05TLmZpbmQodCA9PiB0LmlkID09PSB0aGVtZSk7XHJcblx0XHRyZXR1cm4gb3B0aW9uID8gb3B0aW9uLm5hbWUgOiB0aGVtZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0Q29udGVudE9yZ2FuaXphdGlvbihvcmc6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gb3JnID09PSAnZmlsZS1iYXNlZCcgPyAnRmlsZS1iYXNlZCcgOiAnRm9sZGVyLWJhc2VkJztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0RGVwbG95bWVudE5hbWUoZGVwbG95bWVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdHN3aXRjaCAoZGVwbG95bWVudCkge1xyXG5cdFx0XHRjYXNlICduZXRsaWZ5JzpcclxuXHRcdFx0XHRyZXR1cm4gJ05ldGxpZnknO1xyXG5cdFx0XHRjYXNlICd2ZXJjZWwnOlxyXG5cdFx0XHRcdHJldHVybiAnVmVyY2VsJztcclxuXHRcdFx0Y2FzZSAnZ2l0aHViLXBhZ2VzJzpcclxuXHRcdFx0XHRyZXR1cm4gJ0dpdEh1YiBQYWdlcyc7XHJcblx0XHRcdGNhc2UgJ2Nsb3VkZmxhcmUtd29ya2Vycyc6XHJcblx0XHRcdFx0cmV0dXJuICdDbG91ZGZsYXJlIFdvcmtlcnMnO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBkZXBsb3ltZW50O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBXaXphcmRTdGF0ZU1hbmFnZXIgfSBmcm9tICcuL3dpemFyZC9XaXphcmRTdGF0ZSc7XHJcbmltcG9ydCB7IEJhc2VXaXphcmRTdGVwIH0gZnJvbSAnLi93aXphcmQvQmFzZVdpemFyZFN0ZXAnO1xyXG5pbXBvcnQgeyBXZWxjb21lU3RlcCB9IGZyb20gJy4vd2l6YXJkL1dlbGNvbWVTdGVwJztcclxuaW1wb3J0IHsgVGVtcGxhdGVTdGVwIH0gZnJvbSAnLi93aXphcmQvVGVtcGxhdGVTdGVwJztcclxuaW1wb3J0IHsgVGhlbWVTdGVwIH0gZnJvbSAnLi93aXphcmQvVGhlbWVTdGVwJztcclxuaW1wb3J0IHsgRm9udFN0ZXAgfSBmcm9tICcuL3dpemFyZC9Gb250U3RlcCc7XHJcbmltcG9ydCB7IENvbnRlbnRPcmdTdGVwIH0gZnJvbSAnLi93aXphcmQvQ29udGVudE9yZ1N0ZXAnO1xyXG5pbXBvcnQgeyBOYXZpZ2F0aW9uU3RlcCB9IGZyb20gJy4vd2l6YXJkL05hdmlnYXRpb25TdGVwJztcclxuaW1wb3J0IHsgT3B0aW9uYWxGZWF0dXJlc1N0ZXAgfSBmcm9tICcuL3dpemFyZC9PcHRpb25hbEZlYXR1cmVzU3RlcCc7XHJcbmltcG9ydCB7IERlcGxveW1lbnRTdGVwIH0gZnJvbSAnLi93aXphcmQvRGVwbG95bWVudFN0ZXAnO1xyXG5pbXBvcnQgeyBQbHVnaW5Db25maWdTdGVwIH0gZnJvbSAnLi93aXphcmQvUGx1Z2luQ29uZmlnU3RlcCc7XHJcbmltcG9ydCB7IEZpbmFsaXplU3RlcCB9IGZyb20gJy4vd2l6YXJkL0ZpbmFsaXplU3RlcCc7XHJcbmltcG9ydCB7IEFzdHJvTW9kdWxhclBsdWdpbiwgQXN0cm9Nb2R1bGFyU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dXBXaXphcmRNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuXHRwcml2YXRlIHN0YXRlTWFuYWdlcjogV2l6YXJkU3RhdGVNYW5hZ2VyO1xyXG5cdHByaXZhdGUgcGx1Z2luOiBBc3Ryb01vZHVsYXJQbHVnaW47XHJcblx0cHJpdmF0ZSBzdGVwczogQmFzZVdpemFyZFN0ZXBbXTtcclxuXHRwcml2YXRlIGlzQ29tcGxldGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHByaXZhdGUgaW5pdGlhbFNldHRpbmdzU25hcHNob3Q6IFBhcnRpYWw8QXN0cm9Nb2R1bGFyU2V0dGluZ3M+IHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEFzdHJvTW9kdWxhclBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5zdGF0ZU1hbmFnZXIgPSBuZXcgV2l6YXJkU3RhdGVNYW5hZ2VyKHBsdWdpbik7XHJcblx0XHRcclxuXHRcdC8vIEluaXRpYWxpemUgc3RlcCBpbnN0YW5jZXNcclxuXHRcdHRoaXMuc3RlcHMgPSBbXHJcblx0XHRcdG5ldyBXZWxjb21lU3RlcChhcHAsIHRoaXMsIHRoaXMuc3RhdGVNYW5hZ2VyLCB0aGlzLnBsdWdpbiksXHJcblx0XHRcdG5ldyBUZW1wbGF0ZVN0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pLFxyXG5cdFx0XHRuZXcgVGhlbWVTdGVwKGFwcCwgdGhpcywgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMucGx1Z2luKSxcclxuXHRcdFx0bmV3IEZvbnRTdGVwKGFwcCwgdGhpcywgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMucGx1Z2luKSxcclxuXHRcdFx0bmV3IENvbnRlbnRPcmdTdGVwKGFwcCwgdGhpcywgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMucGx1Z2luKSxcclxuXHRcdFx0bmV3IE5hdmlnYXRpb25TdGVwKGFwcCwgdGhpcywgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMucGx1Z2luKSxcclxuXHRcdFx0bmV3IE9wdGlvbmFsRmVhdHVyZXNTdGVwKGFwcCwgdGhpcywgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMucGx1Z2luKSxcclxuXHRcdFx0bmV3IERlcGxveW1lbnRTdGVwKGFwcCwgdGhpcywgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMucGx1Z2luKSxcclxuXHRcdFx0bmV3IFBsdWdpbkNvbmZpZ1N0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pLFxyXG5cdFx0XHRuZXcgRmluYWxpemVTdGVwKGFwcCwgdGhpcywgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMucGx1Z2luKVxyXG5cdFx0XTtcclxuXHR9XHJcblxyXG5cdG9uT3BlbigpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0XHRjb250ZW50RWwuYWRkQ2xhc3MoJ2FzdHJvLW1vZHVsYXItd2l6YXJkJyk7XHJcblx0XHRcclxuXHRcdC8vIFJlZnJlc2ggdGhlIHdpemFyZCBzdGF0ZSB3aXRoIGN1cnJlbnQgc2V0dGluZ3NcclxuXHRcdHRoaXMuc3RhdGVNYW5hZ2VyLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0XHJcblx0XHQvLyBTdG9yZSBhIHNuYXBzaG90IG9mIGluaXRpYWwgc2V0dGluZ3MgdG8gZGV0ZWN0IGNoYW5nZXMgbGF0ZXJcclxuXHRcdHRoaXMuaW5pdGlhbFNldHRpbmdzU25hcHNob3QgPSB0aGlzLmNyZWF0ZVNldHRpbmdzU25hcHNob3QoKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVuZGVyIGN1cnJlbnQgc3RlcCAobWF5IGJlIGFzeW5jLCBidXQgd2UgZG9uJ3QgYXdhaXQgaXQpXHJcblx0XHR2b2lkIHRoaXMucmVuZGVyQ3VycmVudFN0ZXAoKTtcclxuXHR9XHJcblxyXG5cdG9uQ2xvc2UoKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdFx0XHJcblx0XHQvLyBTYXZlIGFueSB3aXphcmQgc3RhdGUgY2hhbmdlcyB0byBkYXRhLmpzb24gYW5kIGNvbmZpZy50cyBpZiBtb2RhbCBpcyBjbG9zZWRcclxuXHRcdC8vIFRoaXMgZW5zdXJlcyBjaGFuZ2VzIGFyZSBwcmVzZXJ2ZWQgZXZlbiBpZiB1c2VyIGNsb3NlcyBtb2RhbCB3aXRob3V0IGNvbXBsZXRpbmcgd2l6YXJkXHJcblx0XHQvLyBPbmx5IHNob3cgbm90aWZpY2F0aW9uIGlmIG5vdCBjb21wbGV0aW5nIChDb21wbGV0ZSBTZXR1cCBhbHJlYWR5IHNob3dzIGl0cyBvd24gbm90aWZpY2F0aW9uKVxyXG5cdFx0dm9pZCB0aGlzLnNhdmVXaXphcmRTdGF0ZVRvRGF0YUpzb24oIXRoaXMuaXNDb21wbGV0aW5nKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVzZXQgdGhlIGZsYWdcclxuXHRcdHRoaXMuaXNDb21wbGV0aW5nID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNjcm9sbFRvVG9wKCkge1xyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRcclxuXHRcdC8vIE1ldGhvZCAxOiBGaW5kIGFuZCBzY3JvbGwgdGhlIGFjdHVhbCBzY3JvbGxhYmxlIHBhcmVudFxyXG5cdFx0bGV0IHNjcm9sbGFibGVQYXJlbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGNvbnRlbnRFbDtcclxuXHRcdHdoaWxlIChzY3JvbGxhYmxlUGFyZW50ICYmIHNjcm9sbGFibGVQYXJlbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcclxuXHRcdFx0Y29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShzY3JvbGxhYmxlUGFyZW50KTtcclxuXHRcdFx0aWYgKHNjcm9sbGFibGVQYXJlbnQuc2Nyb2xsSGVpZ2h0ID4gc2Nyb2xsYWJsZVBhcmVudC5jbGllbnRIZWlnaHQgJiYgXHJcblx0XHRcdFx0KHN0eWxlLm92ZXJmbG93WSA9PT0gJ2F1dG8nIHx8IHN0eWxlLm92ZXJmbG93WSA9PT0gJ3Njcm9sbCcgfHwgc3R5bGUub3ZlcmZsb3cgPT09ICdhdXRvJyB8fCBzdHlsZS5vdmVyZmxvdyA9PT0gJ3Njcm9sbCcpKSB7XHJcblx0XHRcdFx0c2Nyb2xsYWJsZVBhcmVudC5zY3JvbGxUb3AgPSAwO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNjcm9sbGFibGVQYXJlbnQgPSBzY3JvbGxhYmxlUGFyZW50LnBhcmVudEVsZW1lbnQ7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIE1ldGhvZCAyOiBUcnkgY29tbW9uIE9ic2lkaWFuIG1vZGFsIGNvbnRhaW5lcnNcclxuXHRcdGNvbnN0IG1vZGFsQ29udGVudCA9IGNvbnRlbnRFbC5jbG9zZXN0KCcubW9kYWwtY29udGVudCcpO1xyXG5cdFx0aWYgKG1vZGFsQ29udGVudCkge1xyXG5cdFx0XHQobW9kYWxDb250ZW50IGFzIEhUTUxFbGVtZW50KS5zY3JvbGxUb3AgPSAwO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBtb2RhbENvbnRhaW5lciA9IGNvbnRlbnRFbC5jbG9zZXN0KCcubW9kYWwtY29udGFpbmVyJyk7XHJcblx0XHRpZiAobW9kYWxDb250YWluZXIpIHtcclxuXHRcdFx0KG1vZGFsQ29udGFpbmVyIGFzIEhUTUxFbGVtZW50KS5zY3JvbGxUb3AgPSAwO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBBbHNvIHRyeSBjb250ZW50RWwgaXRzZWxmXHJcblx0XHRjb250ZW50RWwuc2Nyb2xsVG9wID0gMDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVuZGVyQ3VycmVudFN0ZXAoKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdFxyXG5cdFx0Ly8gU2Nyb2xsIHRvIHRvcCBJTU1FRElBVEVMWSBiZWZvcmUgY2xlYXJpbmcgY29udGVudCB0byBwcmV2ZW50IHZpc3VhbCBqdW1wXHJcblx0XHR0aGlzLnNjcm9sbFRvVG9wKCk7XHJcblx0XHRcclxuXHRcdC8vIENsZWFyIGNvbnRlbnRcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdFx0Y29udGVudEVsLmFkZENsYXNzKCdhc3Ryby1tb2R1bGFyLXdpemFyZCcpO1xyXG5cclxuXHRcdC8vIFNjcm9sbCB0byB0b3AgYWdhaW4gYWZ0ZXIgY2xlYXJpbmcgKGluIGNhc2UgY2xlYXJpbmcgY2hhbmdlZCBzY3JvbGwgcG9zaXRpb24pXHJcblx0XHR0aGlzLnNjcm9sbFRvVG9wKCk7XHJcblxyXG5cdFx0Ly8gUmVuZGVyIHByb2dyZXNzXHJcblx0XHR0aGlzLnJlbmRlclByb2dyZXNzKGNvbnRlbnRFbCk7XHJcblxyXG5cdFx0Ly8gUmVuZGVyIHN0ZXAgY29udGVudCAobWF5IGJlIGFzeW5jLCBidXQgd2UgZG9uJ3QgYXdhaXQgaXQpXHJcblx0XHRjb25zdCBzdGVwQ29udGVudCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ3dpemFyZC1jb250ZW50Jyk7XHJcblx0XHR0aGlzLnJlbmRlclN0ZXBDb250ZW50KHN0ZXBDb250ZW50KTtcclxuXHJcblx0XHQvLyBSZW5kZXIgZm9vdGVyXHJcblx0XHR0aGlzLnJlbmRlckZvb3Rlcihjb250ZW50RWwpO1xyXG5cdFx0XHJcblx0XHQvLyBGaW5hbCBzY3JvbGwgdG8gdG9wIGFmdGVyIGFsbCByZW5kZXJpbmcgaXMgY29tcGxldGVcclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcblx0XHRcdHRoaXMuc2Nyb2xsVG9Ub3AoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJIZWFkZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG5cdFx0Y29uc3QgaGVhZGVyID0gY29udGFpbmVyLmNyZWF0ZURpdignd2l6YXJkLWhlYWRlcicpO1xyXG5cdFx0aGVhZGVyLmNyZWF0ZUVsKCdoMScsIHsgdGV4dDogJ0FzdHJvIG1vZHVsYXIgc2V0dXAnIH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJQcm9ncmVzcyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XHJcblx0XHRjb25zdCBwcm9ncmVzcyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3dpemFyZC1wcm9ncmVzcycpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBwcm9ncmVzc0JhciA9IHByb2dyZXNzLmNyZWF0ZURpdigncHJvZ3Jlc3MtYmFyJyk7XHJcblx0XHRjb25zdCBwcm9ncmVzc0ZpbGwgPSBwcm9ncmVzc0Jhci5jcmVhdGVEaXYoJ3Byb2dyZXNzLWZpbGwnKTtcclxuXHRcdC8vIFNldCBkeW5hbWljIHdpZHRoIHVzaW5nIHNldENzc1Byb3BzXHJcblx0XHRwcm9ncmVzc0ZpbGwuc2V0Q3NzUHJvcHMoeyB3aWR0aDogYCR7dGhpcy5zdGF0ZU1hbmFnZXIuZ2V0UHJvZ3Jlc3MoKX0lYCB9KTtcclxuXHRcdFxyXG5cdFx0Ly8gQWRkIHN0ZXAgdGV4dCBiZWxvdyB0aGUgcHJvZ3Jlc3MgYmFyXHJcblx0XHRjb25zdCBwcm9ncmVzc1RleHQgPSBwcm9ncmVzcy5jcmVhdGVEaXYoJ3Byb2dyZXNzLXRleHQnKTtcclxuXHRcdHByb2dyZXNzVGV4dC50ZXh0Q29udGVudCA9IGBTdGVwICR7c3RhdGUuY3VycmVudFN0ZXB9IG9mICR7c3RhdGUudG90YWxTdGVwc31gO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJTdGVwQ29udGVudChjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XHJcblx0XHRjb25zdCBzdGVwSW5kZXggPSBzdGF0ZS5jdXJyZW50U3RlcCAtIDE7XHJcblx0XHRcclxuXHRcdGlmIChzdGVwSW5kZXggPj0gMCAmJiBzdGVwSW5kZXggPCB0aGlzLnN0ZXBzLmxlbmd0aCkge1xyXG5cdFx0XHQvLyBSZW5kZXIgc3RlcCAobWF5IGJlIGFzeW5jLCBidXQgd2UgZG9uJ3QgYXdhaXQgaXQpXHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IHRoaXMuc3RlcHNbc3RlcEluZGV4XS5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0Ly8gSWYgcmVuZGVyIHJldHVybnMgYSBwcm9taXNlLCBoYW5kbGUgaXRcclxuXHRcdFx0aWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdCAhPT0gbnVsbCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAndGhlbicgaW4gcmVzdWx0KSB7XHJcblx0XHRcdFx0dm9pZCAocmVzdWx0IGFzIFByb21pc2U8dm9pZD4pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlckZvb3Rlcihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcblx0XHRjb25zdCBmb290ZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCd3aXphcmQtZm9vdGVyJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGJ1dHRvbnMgPSBmb290ZXIuY3JlYXRlRGl2KCd3aXphcmQtYnV0dG9ucycpO1xyXG5cdFx0XHJcblx0XHQvLyBQcmV2aW91cyBidXR0b25cclxuXHRcdGlmICh0aGlzLnN0YXRlTWFuYWdlci5jYW5Hb1ByZXZpb3VzKCkpIHtcclxuXHRcdFx0Y29uc3QgcHJldkJ0biA9IGJ1dHRvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuXHRcdFx0XHR0ZXh0OiAnUHJldmlvdXMnLFxyXG5cdFx0XHRcdGNsczogJ21vZC1idXR0b24nXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIERpc2NhcmQgYW55IGNoYW5nZXMgbWFkZSBvbiBjdXJyZW50IHN0ZXAgYW5kIGdvIGJhY2tcclxuXHRcdFx0XHR0aGlzLmRpc2NhcmRDdXJyZW50U3RlcENoYW5nZXMoKTtcclxuXHRcdFx0XHR0aGlzLnN0YXRlTWFuYWdlci5wcmV2aW91c1N0ZXAoKTtcclxuXHRcdFx0XHR2b2lkIHRoaXMucmVuZGVyQ3VycmVudFN0ZXAoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTmV4dC9Db21wbGV0ZSBidXR0b25cclxuXHRcdGlmICh0aGlzLnN0YXRlTWFuYWdlci5jYW5Hb05leHQoKSkge1xyXG5cdFx0XHRjb25zdCBuZXh0QnRuID0gYnV0dG9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRcdHRleHQ6ICdOZXh0JyxcclxuXHRcdFx0XHRjbHM6ICdtb2QtYnV0dG9uIG1vZC1jdGEnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIFNhdmUgY3VycmVudCBzdGVwIGNoYW5nZXMgdG8gd2l6YXJkIHN0YXRlLCBkYXRhLmpzb24sIGFuZCBjb25maWcudHNcclxuXHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnNhdmVDdXJyZW50U3RlcFRvV2l6YXJkU3RhdGUoKTtcclxuXHRcdFx0XHRcdHRoaXMuc3RhdGVNYW5hZ2VyLm5leHRTdGVwKCk7XHJcblx0XHRcdFx0XHR0aGlzLnJlbmRlckN1cnJlbnRTdGVwKCk7XHJcblx0XHRcdFx0fSkoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zdCBjb21wbGV0ZUJ0biA9IGJ1dHRvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuXHRcdFx0XHR0ZXh0OiAnQ29tcGxldGUgc2V0dXAnLFxyXG5cdFx0XHRcdGNsczogJ21vZC1idXR0b24gbW9kLWN0YSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdGNvbXBsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIE1hcmsgdGhhdCB3ZSdyZSBjb21wbGV0aW5nIHRoZSB3aXphcmQgdG8gYXZvaWQgZHVwbGljYXRlIG5vdGlmaWNhdGlvbnNcclxuXHRcdFx0XHR0aGlzLmlzQ29tcGxldGluZyA9IHRydWU7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gQ29tcGxldGUgdGhlIHdpemFyZCAoZmlyZSBhbmQgZm9yZ2V0KVxyXG5cdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdC8vIENvbXBsZXRlIHRoZSB3aXphcmRcclxuXHRcdFx0XHRcdGNvbnN0IGZpbmFsU3RlcCA9IHRoaXMuc3RlcHNbdGhpcy5zdGVwcy5sZW5ndGggLSAxXSBhcyBGaW5hbGl6ZVN0ZXA7XHJcblx0XHRcdFx0XHRhd2FpdCBmaW5hbFN0ZXAuY29tcGxldGVXaXphcmQoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gU2F2ZSB0aGUgZmluYWwgc2V0dGluZ3NcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMucGx1Z2luLnNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gQ1JJVElDQUw6IFJlbG9hZCBzZXR0aW5ncyBmcm9tIGRpc2sgdG8gZW5zdXJlIGV2ZXJ5dGhpbmcgaXMgc3luY2hyb25pemVkXHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gVHJpZ2dlciBzZXR0aW5ncyB0YWIgcmVmcmVzaCB0byBzaG93IHVwZGF0ZWQgdmFsdWVzXHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi50cmlnZ2VyU2V0dGluZ3NSZWZyZXNoKCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0XHR9KSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTa2lwIGJ1dHRvbiAoZm9yIGFsbCBzdGVwcyBleGNlcHQgdGhlIGxhc3QpXHJcblx0XHRpZiAodGhpcy5zdGF0ZU1hbmFnZXIuY2FuR29OZXh0KCkpIHtcclxuXHRcdFx0Y29uc3Qgc2tpcEJ0biA9IGJ1dHRvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuXHRcdFx0XHR0ZXh0OiAnU2tpcCcsXHJcblx0XHRcdFx0Y2xzOiAnbW9kLWJ1dHRvbidcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNraXBCdG4uYWRkQ2xhc3MoJ3dpemFyZC1za2lwLWJ1dHRvbicpO1xyXG5cdFx0XHRza2lwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIFNraXAgd2l0aG91dCBzYXZpbmcgY3VycmVudCBzdGVwIGNoYW5nZXMgdG8gd2l6YXJkIHN0YXRlXHJcblx0XHRcdFx0dGhpcy5zdGF0ZU1hbmFnZXIubmV4dFN0ZXAoKTtcclxuXHRcdFx0XHR0aGlzLnJlbmRlckN1cnJlbnRTdGVwKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBzYXZlQ3VycmVudFN0ZXBUb1dpemFyZFN0YXRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Ly8gU2F2ZSBjdXJyZW50IHN0ZXAgY2hhbmdlcyB0byB3aXphcmQgc3RhdGUsIGRhdGEuanNvbiwgYW5kIGNvbmZpZy50c1xyXG5cdFx0Ly8gVGhpcyBpcyBjYWxsZWQgd2hlbiBORVhUIGlzIGNsaWNrZWQgdG8gZW5zdXJlIGRhdGEuanNvbiBhbmQgY29uZmlnLnRzIHN0YXkgaW4gc3luY1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gQnVpbGQgZmluYWwgc2V0dGluZ3MgZnJvbSB3aXphcmQgc3RhdGUgKHVwZGF0ZXMgcGx1Z2luLnNldHRpbmdzKVxyXG5cdFx0XHR0aGlzLnN0YXRlTWFuYWdlci5idWlsZEZpbmFsU2V0dGluZ3MoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFNhdmUgdG8gZGF0YS5qc29uXHJcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMucGx1Z2luLnNldHRpbmdzKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyB0byBlbnN1cmUgdGhlIHBsdWdpbiBoYXMgdGhlIGxhdGVzdCB2YWx1ZXNcclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBBcHBseSB0byBjb25maWcudHMgdG8ga2VlcCBpdCBpbiBzeW5jXHJcblx0XHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XHJcblx0XHRcdHRoaXMucGx1Z2luLmNvbmZpZ01hbmFnZXIuYXBwbHlQcmVzZXQoe1xyXG5cdFx0XHRcdG5hbWU6IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSxcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogJycsXHJcblx0XHRcdFx0ZmVhdHVyZXM6IHNldHRpbmdzLmZlYXR1cmVzLFxyXG5cdFx0XHRcdHRoZW1lOiBzZXR0aW5ncy5jdXJyZW50VGhlbWUsXHJcblx0XHRcdFx0Y29udGVudE9yZ2FuaXphdGlvbjogc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbixcclxuXHRcdFx0XHRjb25maWc6IHNldHRpbmdzXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGN1cnJlbnQgc3RlcCB0byBkYXRhLmpzb24gYW5kIGNvbmZpZy50czonLCBlcnJvcik7XHJcblx0XHRcdC8vIERvbid0IHNob3cgZXJyb3IgdG8gdXNlciAtIGp1c3QgbG9nIGl0LCBhcyB0aGlzIHNob3VsZG4ndCBibG9jayBuYXZpZ2F0aW9uXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRpc2NhcmRDdXJyZW50U3RlcENoYW5nZXMoKTogdm9pZCB7XHJcblx0XHQvLyBEaXNjYXJkIGNoYW5nZXMgbWFkZSBvbiBjdXJyZW50IHN0ZXAgLSB0aGlzIGlzIGNhbGxlZCB3aGVuIFBSRVZJT1VTIGlzIGNsaWNrZWRcclxuXHRcdC8vIFJlZnJlc2ggdGhlIHdpemFyZCBzdGF0ZSB0byBzaG93IG9yaWdpbmFsIHZhbHVlcyBmcm9tIGRhdGEuanNvblxyXG5cdFx0dGhpcy5zdGF0ZU1hbmFnZXIucmVmcmVzaFN0YXRlKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHNhdmVXaXphcmRTdGF0ZVRvRGF0YUpzb24oc2hvd05vdGlmaWNhdGlvbjogYm9vbGVhbiA9IHRydWUpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdC8vIFNhdmUgd2l6YXJkIHN0YXRlIGNoYW5nZXMgdG8gZGF0YS5qc29uIGFuZCBjb25maWcudHMgd2hlbiBtb2RhbCBpcyBjbG9zZWRcclxuXHRcdC8vIFRoaXMgZW5zdXJlcyBjaGFuZ2VzIGFyZSBwcmVzZXJ2ZWQgZXZlbiBpZiB1c2VyIGNsb3NlcyBtb2RhbCB3aXRob3V0IGNvbXBsZXRpbmcgd2l6YXJkXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBCdWlsZCBmaW5hbCBzZXR0aW5ncyBmcm9tIHdpemFyZCBzdGF0ZVxyXG5cdFx0XHR0aGlzLnN0YXRlTWFuYWdlci5idWlsZEZpbmFsU2V0dGluZ3MoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIENoZWNrIGlmIGFueSBjaGFuZ2VzIHdlcmUgYWN0dWFsbHkgbWFkZVxyXG5cdFx0XHRjb25zdCBoYXNDaGFuZ2VzID0gdGhpcy5oYXNTZXR0aW5nc0NoYW5nZWQoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIE9ubHkgc2F2ZSB0byBkYXRhLmpzb24gYW5kIGNvbmZpZy50cyBpZiB0aGVyZSB3ZXJlIGFjdHVhbCBjaGFuZ2VzXHJcblx0XHRcdGlmICghaGFzQ2hhbmdlcykge1xyXG5cdFx0XHRcdHJldHVybjsgLy8gTm8gY2hhbmdlcywgZG9uJ3Qgc2F2ZSBhbnl0aGluZ1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTYXZlIHRvIGRhdGEuanNvblxyXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLnBsdWdpbi5zZXR0aW5ncyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQXBwbHkgdG8gY29uZmlnLnRzXHJcblx0XHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XHJcblx0XHRcdGNvbnN0IHByZXNldFN1Y2Nlc3MgPSB0aGlzLnBsdWdpbi5jb25maWdNYW5hZ2VyLmFwcGx5UHJlc2V0KHtcclxuXHRcdFx0XHRuYW1lOiBzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUsXHJcblx0XHRcdFx0ZGVzY3JpcHRpb246ICcnLFxyXG5cdFx0XHRcdGZlYXR1cmVzOiBzZXR0aW5ncy5mZWF0dXJlcyxcclxuXHRcdFx0XHR0aGVtZTogc2V0dGluZ3MuY3VycmVudFRoZW1lLFxyXG5cdFx0XHRcdGNvbnRlbnRPcmdhbml6YXRpb246IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24sXHJcblx0XHRcdFx0Y29uZmlnOiBzZXR0aW5nc1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIE9ubHkgc2hvdyBub3RpZmljYXRpb24gaWYgcmVxdWVzdGVkXHJcblx0XHRcdGlmIChzaG93Tm90aWZpY2F0aW9uKSB7XHJcblx0XHRcdFx0aWYgKHByZXNldFN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0NvbmZpZ3VyYXRpb24gc2F2ZWQgdG8gY29uZmlnLnRzJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBzYXZlIGNvbmZpZ3VyYXRpb24gdG8gY29uZmlnLnRzJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgd2l6YXJkIHN0YXRlIHRvIGRhdGEuanNvbiBhbmQgY29uZmlnLnRzOicsIGVycm9yKTtcclxuXHRcdFx0aWYgKHNob3dOb3RpZmljYXRpb24pIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gc2F2ZSBjb25maWd1cmF0aW9uOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRwcml2YXRlIGNyZWF0ZVNldHRpbmdzU25hcHNob3QoKTogUGFydGlhbDxBc3Ryb01vZHVsYXJTZXR0aW5ncz4ge1xyXG5cdFx0Ly8gQ3JlYXRlIGEgZGVlcCBjb3B5IG9mIGN1cnJlbnQgc2V0dGluZ3MgZm9yIGNvbXBhcmlzb25cclxuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cclxuXHRcdHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0Y3VycmVudFRlbXBsYXRlOiBzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUsXHJcblx0XHRcdGN1cnJlbnRUaGVtZTogc2V0dGluZ3MuY3VycmVudFRoZW1lLFxyXG5cdFx0XHRjb250ZW50T3JnYW5pemF0aW9uOiBzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uLFxyXG5cdFx0XHRzaXRlSW5mbzogc2V0dGluZ3Muc2l0ZUluZm8sXHJcblx0XHRcdG5hdmlnYXRpb246IHNldHRpbmdzLm5hdmlnYXRpb24sXHJcblx0XHRcdGZlYXR1cmVzOiBzZXR0aW5ncy5mZWF0dXJlcyxcclxuXHRcdFx0dHlwb2dyYXBoeTogc2V0dGluZ3MudHlwb2dyYXBoeSxcclxuXHRcdFx0b3B0aW9uYWxGZWF0dXJlczogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcyxcclxuXHRcdFx0ZGVwbG95bWVudDogc2V0dGluZ3MuZGVwbG95bWVudCxcclxuXHRcdFx0b3B0aW9uYWxDb250ZW50VHlwZXM6IHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzXHJcblx0XHR9KSk7XHJcblx0fVxyXG5cdFxyXG5cdHByaXZhdGUgaGFzU2V0dGluZ3NDaGFuZ2VkKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCF0aGlzLmluaXRpYWxTZXR0aW5nc1NuYXBzaG90KSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgY3VycmVudFNuYXBzaG90ID0gdGhpcy5jcmVhdGVTZXR0aW5nc1NuYXBzaG90KCk7XHJcblx0XHRcclxuXHRcdC8vIENvbXBhcmUga2V5IHNldHRpbmdzIHRoYXQgY2FuIGJlIGNoYW5nZWQgaW4gdGhlIHdpemFyZFxyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0Y3VycmVudFNuYXBzaG90LmN1cnJlbnRUZW1wbGF0ZSAhPT0gdGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdC5jdXJyZW50VGVtcGxhdGUgfHxcclxuXHRcdFx0Y3VycmVudFNuYXBzaG90LmN1cnJlbnRUaGVtZSAhPT0gdGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdC5jdXJyZW50VGhlbWUgfHxcclxuXHRcdFx0Y3VycmVudFNuYXBzaG90LmNvbnRlbnRPcmdhbml6YXRpb24gIT09IHRoaXMuaW5pdGlhbFNldHRpbmdzU25hcHNob3QuY29udGVudE9yZ2FuaXphdGlvbiB8fFxyXG5cdFx0XHRKU09OLnN0cmluZ2lmeShjdXJyZW50U25hcHNob3Quc2l0ZUluZm8pICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLmluaXRpYWxTZXR0aW5nc1NuYXBzaG90LnNpdGVJbmZvKSB8fFxyXG5cdFx0XHRKU09OLnN0cmluZ2lmeShjdXJyZW50U25hcHNob3QubmF2aWdhdGlvbikgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuaW5pdGlhbFNldHRpbmdzU25hcHNob3QubmF2aWdhdGlvbikgfHxcclxuXHRcdFx0SlNPTi5zdHJpbmdpZnkoY3VycmVudFNuYXBzaG90LmZlYXR1cmVzKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdC5mZWF0dXJlcykgfHxcclxuXHRcdFx0SlNPTi5zdHJpbmdpZnkoY3VycmVudFNuYXBzaG90LnR5cG9ncmFwaHkpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLmluaXRpYWxTZXR0aW5nc1NuYXBzaG90LnR5cG9ncmFwaHkpIHx8XHJcblx0XHRcdEpTT04uc3RyaW5naWZ5KGN1cnJlbnRTbmFwc2hvdC5vcHRpb25hbEZlYXR1cmVzKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdC5vcHRpb25hbEZlYXR1cmVzKSB8fFxyXG5cdFx0XHRKU09OLnN0cmluZ2lmeShjdXJyZW50U25hcHNob3QuZGVwbG95bWVudCkgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuaW5pdGlhbFNldHRpbmdzU25hcHNob3QuZGVwbG95bWVudCkgfHxcclxuXHRcdFx0SlNPTi5zdHJpbmdpZnkoY3VycmVudFNuYXBzaG90Lm9wdGlvbmFsQ29udGVudFR5cGVzKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdC5vcHRpb25hbENvbnRlbnRUeXBlcylcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFwcGx5RGVmYXVsdFZhbHVlc0ZvckN1cnJlbnRTdGVwKCkge1xyXG5cdFx0Ly8gU2tpcCBidXR0b24gc2hvdWxkIHByZXNlcnZlIGN1cnJlbnQgdmFsdWVzIGZvciBhbGwgc3RlcHNcclxuXHRcdC8vIFRoaXMgbWVhbnMgbm90IGFwcGx5aW5nIGFueSBjaGFuZ2VzIC0ganVzdCBtb3ZlIHRvIHRoZSBuZXh0IHN0ZXBcclxuXHRcdC8vIFRoZSBjdXJyZW50IHN0YXRlIGFscmVhZHkgaGFzIHRoZSBjb3JyZWN0IHZhbHVlcyBmcm9tIHJlZnJlc2hTdGF0ZSgpXHJcblx0XHQvLyBObyBzdGF0ZSBtb2RpZmljYXRpb25zIG5lZWRlZFxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBBc3Ryb01vZHVsYXJTZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vc2V0dGluZ3MnO1xyXG5pbXBvcnQgeyByZWdpc3RlckNvbW1hbmRzIH0gZnJvbSAnLi9jb21tYW5kcyc7XHJcbmltcG9ydCB7IEFzdHJvTW9kdWxhclNldHRpbmdzVGFiIH0gZnJvbSAnLi91aS9TZXR0aW5nc1RhYic7XHJcbmltcG9ydCB7IENvbmZpZ01hbmFnZXIgfSBmcm9tICcuL3V0aWxzL0NvbmZpZ01hbmFnZXInO1xyXG5pbXBvcnQgeyBQbHVnaW5NYW5hZ2VyIH0gZnJvbSAnLi91dGlscy9QbHVnaW5NYW5hZ2VyJztcclxuaW1wb3J0IHsgUmliYm9uSWNvbk1hbmFnZXIgfSBmcm9tICcuL3V0aWxzL1JpYmJvbkljb25NYW5hZ2VyJztcclxuaW1wb3J0IHsgT2JzaWRpYW5BcHAgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzdHJvTW9kdWxhclNldHRpbmdzUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5ncyE6IEFzdHJvTW9kdWxhclNldHRpbmdzO1xyXG5cdHByaXZhdGUgc2V0dGluZ3NUYWIhOiBBc3Ryb01vZHVsYXJTZXR0aW5nc1RhYjtcclxuXHRwcml2YXRlIHN0YXJ0dXBUaW1lb3V0SWQ/OiBudW1iZXI7XHJcblx0Y29uZmlnTWFuYWdlciE6IENvbmZpZ01hbmFnZXI7XHJcblx0cGx1Z2luTWFuYWdlciE6IFBsdWdpbk1hbmFnZXI7XHJcblx0cHJpdmF0ZSByaWJib25NYW5hZ2VyITogUmliYm9uSWNvbk1hbmFnZXI7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbGl6ZSBtYW5hZ2Vyc1xyXG5cdFx0dGhpcy5jb25maWdNYW5hZ2VyID0gbmV3IENvbmZpZ01hbmFnZXIodGhpcy5hcHApO1xyXG5cdFx0dGhpcy5wbHVnaW5NYW5hZ2VyID0gbmV3IFBsdWdpbk1hbmFnZXIodGhpcy5hcHAsICgpID0+IHRoaXMuc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbik7XHJcblxyXG5cdFx0Ly8gUmVnaXN0ZXIgY29tbWFuZHNcclxuXHRcdHJlZ2lzdGVyQ29tbWFuZHModGhpcyk7XHJcblxyXG5cdFx0Ly8gQWRkIHNldHRpbmdzIHRhYlxyXG5cdFx0dGhpcy5zZXR0aW5nc1RhYiA9IG5ldyBBc3Ryb01vZHVsYXJTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcyk7XHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIodGhpcy5zZXR0aW5nc1RhYik7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbGl6ZSByaWJib24gaWNvbiBtYW5hZ2VyXHJcblx0XHR0aGlzLnJpYmJvbk1hbmFnZXIgPSBuZXcgUmliYm9uSWNvbk1hbmFnZXIodGhpcywgYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLm9wZW5XaXphcmQoKTtcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5yaWJib25NYW5hZ2VyLnVwZGF0ZSh0aGlzLnNldHRpbmdzLnJlbW92ZVJpYmJvbkljb24pO1xyXG5cclxuXHRcdC8vIENoZWNrIGlmIHdlIHNob3VsZCBydW4gdGhlIHdpemFyZCBvbiBzdGFydHVwXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5ydW5XaXphcmRPblN0YXJ0dXApIHtcclxuXHRcdFx0Ly8gRGVsYXkgdGhlIHdpemFyZCB0byBsZXQgT2JzaWRpYW4gZnVsbHkgbG9hZFxyXG5cdFx0XHR0aGlzLnN0YXJ0dXBUaW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnJ1bldpemFyZE9uU3RhcnR1cCkge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLm9wZW5XaXphcmQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KSgpO1xyXG5cdFx0XHR9LCAyMDAwKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBObyB3ZWxjb21lIG5vdGljZSBuZWVkZWQgLSBtb2RhbCBpcyB0aGUgaW50cm9cclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0Ly8gQ2xlYXIgc3RhcnR1cCB0aW1lb3V0IGlmIGl0IGV4aXN0c1xyXG5cdFx0aWYgKHRoaXMuc3RhcnR1cFRpbWVvdXRJZCkge1xyXG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc3RhcnR1cFRpbWVvdXRJZCk7XHJcblx0XHRcdHRoaXMuc3RhcnR1cFRpbWVvdXRJZCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDbGVhbnVwIHJpYmJvbiBpY29uIG1hbmFnZXJcclxuXHRcdHRoaXMucmliYm9uTWFuYWdlcj8uZGVzdHJveSgpO1xyXG5cclxuXHRcdC8vIE90aGVyIGNsZWFudXAgaXMgaGFuZGxlZCBhdXRvbWF0aWNhbGx5IGJ5IE9ic2lkaWFuXHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpIGFzIFBhcnRpYWw8QXN0cm9Nb2R1bGFyU2V0dGluZ3M+IHwgbnVsbDtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBkYXRhKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gUHVibGljIG1ldGhvZCB0byBvcGVuIHNldHRpbmdzIChjYWxsZWQgYnkgY29tbWFuZHMpXHJcblx0b3BlblNldHRpbmdzKCkge1xyXG5cdFx0Ly8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNldHRpbmdzIHRhYlxyXG5cdFx0Ly8gVGhlIHNldHRpbmdzIHRhYiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQsIHNvIHdlIGp1c3QgbmVlZCB0byBmb2N1cyBpdFxyXG5cdFx0KHRoaXMuYXBwIGFzIHVua25vd24gYXMgT2JzaWRpYW5BcHApLnNldHRpbmcub3BlbigpO1xyXG5cdFx0KHRoaXMuYXBwIGFzIHVua25vd24gYXMgT2JzaWRpYW5BcHApLnNldHRpbmcub3BlblRhYkJ5SWQodGhpcy5tYW5pZmVzdC5pZCk7XHJcblx0fVxyXG5cclxuXHQvLyBNZXRob2QgdG8gdHJpZ2dlciBzZXR0aW5ncyByZWZyZXNoXHJcblx0YXN5bmMgdHJpZ2dlclNldHRpbmdzUmVmcmVzaCgpIHtcclxuXHRcdC8vIEZvcmNlIHRoZSBzZXR0aW5ncyB0YWIgdG8gcmUtcmVuZGVyIHdpdGggdXBkYXRlZCBzZXR0aW5nc1xyXG5cdFx0Ly8gRmlyc3QgcmVsb2FkIHNldHRpbmdzIGZyb20gZGlzayB0byBlbnN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3NUYWIpIHtcclxuXHRcdFx0Ly8gUmUtcmVuZGVyIHRoZSBzZXR0aW5ncyB0YWIgd2l0aCB1cGRhdGVkIHNldHRpbmdzXHJcblx0XHRcdHRoaXMuc2V0dGluZ3NUYWIucmVuZGVyKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBNZXRob2QgdG8gdXBkYXRlIHJpYmJvbiBpY29uIGJhc2VkIG9uIHNldHRpbmdzXHJcblx0cHVibGljIGFzeW5jIHVwZGF0ZVJpYmJvbkljb24oKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5yaWJib25NYW5hZ2VyLnVwZGF0ZSh0aGlzLnNldHRpbmdzLnJlbW92ZVJpYmJvbkljb24pO1xyXG5cdH1cclxuXHJcblx0Ly8gTGF6eS1sb2FkIGFuZCBvcGVuIHRoZSBzZXR1cCB3aXphcmRcclxuXHRhc3luYyBvcGVuV2l6YXJkKCkge1xyXG5cdFx0Y29uc3QgeyBTZXR1cFdpemFyZE1vZGFsIH0gPSBhd2FpdCBpbXBvcnQoJy4vdWkvU2V0dXBXaXphcmRNb2RhbCcpO1xyXG5cdFx0Y29uc3Qgd2l6YXJkID0gbmV3IFNldHVwV2l6YXJkTW9kYWwodGhpcy5hcHAsIHRoaXMpO1xyXG5cdFx0d2l6YXJkLm9wZW4oKTtcclxuXHR9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBBc3Ryb01vZHVsYXJTZXR0aW5ncyB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSB7IEFzdHJvTW9kdWxhclNldHRpbmdzIH07XHJcbmV4cG9ydCB7IERFRkFVTFRfU0VUVElOR1MgfTtcclxuIiwgImltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IE9ic2lkaWFuQXBwLCBBc3Ryb01vZHVsYXJQbHVnaW4sIEFzdHJvTW9kdWxhclNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb21tYW5kcyhwbHVnaW46IFBsdWdpbikge1xuXHQvLyBPcGVuIHNldHRpbmdzIGNvbW1hbmRcblx0cGx1Z2luLmFkZENvbW1hbmQoe1xuXHRcdGlkOiAnb3Blbi1zZXR0aW5ncycsXG5cdFx0bmFtZTogJ09wZW4gc2V0dGluZ3MnLFxuXHRcdGljb246ICdzZXR0aW5ncy0yJyxcblx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0Ly8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNldHRpbmdzIHRhYlxuXHRcdFx0KHBsdWdpbi5hcHAgYXMgdW5rbm93biBhcyBPYnNpZGlhbkFwcCkuc2V0dGluZy5vcGVuKCk7XG5cdFx0XHQocGx1Z2luLmFwcCBhcyB1bmtub3duIGFzIE9ic2lkaWFuQXBwKS5zZXR0aW5nLm9wZW5UYWJCeUlkKHBsdWdpbi5tYW5pZmVzdC5pZCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBSdW4gc2V0dXAgd2l6YXJkIGNvbW1hbmRcblx0cGx1Z2luLmFkZENvbW1hbmQoe1xuXHRcdGlkOiAncnVuLXNldHVwLXdpemFyZCcsXG5cdFx0bmFtZTogJ1J1biBzZXR1cCB3aXphcmQnLFxuXHRcdGljb246ICd3YW5kJyxcblx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB3ZSBoYXZlIHRoZSBsYXRlc3QgdmFsdWVzXG5cdFx0XHRhd2FpdCBwbHVnaW4ubG9hZERhdGEoKS50aGVuKChkYXRhOiBQYXJ0aWFsPEFzdHJvTW9kdWxhclNldHRpbmdzPiB8IG51bGwpID0+IHtcblx0XHRcdFx0aWYgKGRhdGEgJiYgJ3NldHRpbmdzJyBpbiBwbHVnaW4pIHtcblx0XHRcdFx0XHRPYmplY3QuYXNzaWduKChwbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5zZXR0aW5ncywgZGF0YSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Ly8gTGF6eS1sb2FkIHRoZSB3aXphcmQgbW9kYWxcblx0XHRcdGNvbnN0IHsgU2V0dXBXaXphcmRNb2RhbCB9ID0gYXdhaXQgaW1wb3J0KCcuLi91aS9TZXR1cFdpemFyZE1vZGFsJyk7XG5cdFx0XHRjb25zdCB3aXphcmQgPSBuZXcgU2V0dXBXaXphcmRNb2RhbChwbHVnaW4uYXBwLCBwbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKTtcblx0XHRcdHdpemFyZC5vcGVuKCk7XG5cdFx0fVxuXHR9KTtcbn1cbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgR2VuZXJhbFRhYiB9IGZyb20gJy4vdGFicy9HZW5lcmFsVGFiJztcclxuaW1wb3J0IHsgU2l0ZUluZm9UYWIgfSBmcm9tICcuL3RhYnMvU2l0ZUluZm9UYWInO1xyXG5pbXBvcnQgeyBOYXZpZ2F0aW9uVGFiIH0gZnJvbSAnLi90YWJzL05hdmlnYXRpb25UYWInO1xyXG5pbXBvcnQgeyBDb25maWdUYWIgfSBmcm9tICcuL3RhYnMvQ29uZmlnVGFiJztcclxuaW1wb3J0IHsgU3R5bGVUYWIgfSBmcm9tICcuL3RhYnMvU3R5bGVUYWInO1xyXG5pbXBvcnQgeyBGZWF0dXJlc1RhYiB9IGZyb20gJy4vdGFicy9GZWF0dXJlc1RhYic7XHJcbmltcG9ydCB7IEFkdmFuY2VkVGFiIH0gZnJvbSAnLi90YWJzL0FkdmFuY2VkVGFiJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBc3Ryb01vZHVsYXJTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogUGx1Z2luO1xyXG5cdHB1YmxpYyBpY29uID0gJ2x1Y2lkZS1zZXR0aW5ncy0yJztcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHR0aGlzLnJlbmRlcigpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblx0XHRjb250YWluZXJFbC5hZGRDbGFzcygnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xyXG5cclxuXHRcdC8vIENyZWF0ZSBlbmhhbmNlZCB0YWIgbmF2aWdhdGlvblxyXG5cdFx0Y29uc3QgdGFiQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd0YWItY29udGFpbmVyJyk7XHJcblx0XHRjb25zdCB0YWJOYXYgPSB0YWJDb250YWluZXIuY3JlYXRlRGl2KCd0YWItbmF2Jyk7XHJcblx0XHRjb25zdCB0YWJDb250ZW50ID0gdGFiQ29udGFpbmVyLmNyZWF0ZURpdigndGFiLWNvbnRlbnQnKTtcclxuXHJcblx0XHQvLyBUYWIgZGVmaW5pdGlvbnNcclxuXHRcdGNvbnN0IHRhYnMgPSBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZDogJ2dlbmVyYWwnLFxyXG5cdFx0XHRcdG5hbWU6ICdHZW5lcmFsJyxcclxuXHRcdFx0XHRyZW5kZXJlcjogbmV3IEdlbmVyYWxUYWIodGhpcy5hcHAsIHRoaXMucGx1Z2luKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aWQ6ICdzaXRlLWluZm8nLFxyXG5cdFx0XHRcdG5hbWU6ICdTaXRlIEluZm8nLFxyXG5cdFx0XHRcdHJlbmRlcmVyOiBuZXcgU2l0ZUluZm9UYWIodGhpcy5hcHAsIHRoaXMucGx1Z2luKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aWQ6ICduYXZpZ2F0aW9uJyxcclxuXHRcdFx0XHRuYW1lOiAnTmF2aWdhdGlvbicsXHJcblx0XHRcdFx0cmVuZGVyZXI6IG5ldyBOYXZpZ2F0aW9uVGFiKHRoaXMuYXBwLCB0aGlzLnBsdWdpbilcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlkOiAnY29uZmlnJyxcclxuXHRcdFx0XHRuYW1lOiAnQ29uZmlnJyxcclxuXHRcdFx0XHRyZW5kZXJlcjogbmV3IENvbmZpZ1RhYih0aGlzLmFwcCwgdGhpcy5wbHVnaW4pXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZDogJ3N0eWxlJyxcclxuXHRcdFx0XHRuYW1lOiAnU3R5bGUnLFxyXG5cdFx0XHRcdHJlbmRlcmVyOiBuZXcgU3R5bGVUYWIodGhpcy5hcHAsIHRoaXMucGx1Z2luKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aWQ6ICdmZWF0dXJlcycsXHJcblx0XHRcdFx0bmFtZTogJ0ZlYXR1cmVzJyxcclxuXHRcdFx0XHRyZW5kZXJlcjogbmV3IEZlYXR1cmVzVGFiKHRoaXMuYXBwLCB0aGlzLnBsdWdpbilcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlkOiAnYWR2YW5jZWQnLFxyXG5cdFx0XHRcdG5hbWU6ICdBZHZhbmNlZCcsXHJcblx0XHRcdFx0cmVuZGVyZXI6IG5ldyBBZHZhbmNlZFRhYih0aGlzLmFwcCwgdGhpcy5wbHVnaW4pXHJcblx0XHRcdH1cclxuXHRcdF07XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIHRhYiBidXR0b25zIHdpdGggY2xlYW4gc3R5bGluZ1xyXG5cdFx0dGFicy5mb3JFYWNoKCh0YWIsIGluZGV4KSA9PiB7XHJcblx0XHRcdGNvbnN0IGJ1dHRvbiA9IHRhYk5hdi5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRcdHRleHQ6IHRhYi5uYW1lLFxyXG5cdFx0XHRcdGNsczogYHRhYi1idXR0b24gJHtpbmRleCA9PT0gMCA/ICdhY3RpdmUnIDogJyd9YFxyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCBidXR0b25zXHJcblx0XHRcdFx0dGFiTmF2LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYnV0dG9uJykuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuXHRcdFx0XHQvLyBBZGQgYWN0aXZlIGNsYXNzIHRvIGNsaWNrZWQgYnV0dG9uXHJcblx0XHRcdFx0YnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdC8vIFJlbmRlciB0YWIgY29udGVudCBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdHRhYkNvbnRlbnQuZW1wdHkoKTtcclxuXHRcdFx0XHR2b2lkIHRhYi5yZW5kZXJlci5yZW5kZXIodGFiQ29udGVudCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUmVuZGVyIHRoZSBmaXJzdCB0YWIgYnkgZGVmYXVsdCAoZXJyb3JzIGFyZSBoYW5kbGVkIGJ5IHJlbmRlcmVyKVxyXG5cdFx0dm9pZCB0YWJzWzBdLnJlbmRlcmVyLnJlbmRlcih0YWJDb250ZW50KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgU2V0dGluZywgTm90aWNlLCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBBc3Ryb01vZHVsYXJTZXR0aW5ncywgQXN0cm9Nb2R1bGFyUGx1Z2luIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVGFiUmVuZGVyZXIge1xuXHRwcm90ZWN0ZWQgYXBwOiBBcHA7XG5cdHByb3RlY3RlZCBwbHVnaW46IFBsdWdpbjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRhcHA6IEFwcCxcblx0XHRwbHVnaW46IFBsdWdpblxuXHQpIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGFic3RyYWN0IHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB8IFByb21pc2U8dm9pZD47XG5cblx0cHJvdGVjdGVkIGdldFNldHRpbmdzKCk6IEFzdHJvTW9kdWxhclNldHRpbmdzIHtcblx0XHQvLyBBbHdheXMgZ2V0IHRoZSBwbHVnaW4ncyBjdXJyZW50IHNldHRpbmdzIC0gcmVsb2FkIGZyb20gZGF0YSB0byBlbnN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0XG5cdFx0Y29uc3QgcGx1Z2luID0gdGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luO1xuXHRcdHJldHVybiBwbHVnaW4uc2V0dGluZ3MgfHwge307XG5cdH1cblxuXHRwcm90ZWN0ZWQgYXN5bmMgYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbihzaG93Tm90aWNlOiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XG5cdFx0XHRcblx0XHRcdC8vIEFwcGx5IHRoZSBjdXJyZW50IHNldHRpbmdzIHRvIHRoZSBjb25maWcgZmlsZSB1c2luZyBpbmRpdmlkdWFsIGZlYXR1cmVzXG5cdFx0XHRjb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XG5cdFx0XHRjb25zdCBzdWNjZXNzID0gcGx1Z2luLmNvbmZpZ01hbmFnZXIudXBkYXRlSW5kaXZpZHVhbEZlYXR1cmVzKHNldHRpbmdzKTtcblxuXHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0aWYgKHNob3dOb3RpY2UpIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdDb25maWd1cmF0aW9uIGFwcGxpZWQgc3VjY2Vzc2Z1bGx5IScpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF3YWl0IHBsdWdpbi5jb25maWdNYW5hZ2VyLnRyaWdnZXJSZWJ1aWxkKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoc2hvd05vdGljZSkge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBhcHBseSBjb25maWd1cmF0aW9uLiBDaGVjayB0aGUgY29uc29sZSBmb3IgZXJyb3JzLicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGlmIChzaG93Tm90aWNlKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yIGFwcGx5aW5nIGNvbmZpZ3VyYXRpb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByb3RlY3RlZCBjcmVhdGVEcm9wZG93blNldHRpbmcoXG5cdFx0Y29udGFpbmVyOiBIVE1MRWxlbWVudCxcblx0XHRuYW1lOiBzdHJpbmcsXG5cdFx0ZGVzY3JpcHRpb246IHN0cmluZyxcblx0XHR2YWx1ZTogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG5cdFx0b25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkXG5cdCk6IFNldHRpbmcge1xuXHRcdHJldHVybiBuZXcgU2V0dGluZyhjb250YWluZXIpXG5cdFx0XHQuc2V0TmFtZShuYW1lKVxuXHRcdFx0LnNldERlc2MoZGVzY3JpcHRpb24pXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRPYmplY3QuZW50cmllcyhvcHRpb25zKS5mb3JFYWNoKChba2V5LCBsYWJlbF0pID0+IHtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oa2V5LCBsYWJlbCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdG9uQ2hhbmdlKHZhbHVlKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLmdldFNldHRpbmdzKCkpO1xuXHRcdFx0XHRcdC8vIE5vdGU6IGFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24gc2hvdWxkIGJlIGNhbGxlZCBleHBsaWNpdGx5IGJ5IHRoZSBzZXR0aW5nIGltcGxlbWVudGF0aW9uXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gZHJvcGRvd247XG5cdFx0XHR9KTtcblx0fVxuXG5cdHByb3RlY3RlZCBjcmVhdGVUZXh0U2V0dGluZyhcblx0XHRjb250YWluZXI6IEhUTUxFbGVtZW50LFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRkZXNjcmlwdGlvbjogc3RyaW5nLFxuXHRcdHZhbHVlOiBzdHJpbmcsXG5cdFx0b25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkLFxuXHRcdGRlYm91bmNlTXM6IG51bWJlciA9IDEwMDAsXG5cdFx0b25BcHBseUNvbmZpZz86ICgpID0+IFByb21pc2U8dm9pZD4sXG5cdFx0cGxhY2Vob2xkZXI/OiBzdHJpbmdcblx0KTogU2V0dGluZyB7XG5cdFx0cmV0dXJuIG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcblx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHQuc2V0RGVzYyhkZXNjcmlwdGlvbilcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHR0ZXh0LnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0aWYgKHBsYWNlaG9sZGVyKSB7XG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihwbGFjZWhvbGRlcik7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdC8vIENsZWFyIGV4aXN0aW5nIHRpbWVvdXRcblx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHRoZSB2YWx1ZSBpbW1lZGlhdGVseSBmb3IgVUkgcmVzcG9uc2l2ZW5lc3Ncblx0XHRcdFx0XHRvbkNoYW5nZSh2YWx1ZSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gU2F2ZSBzZXR0aW5ncyBpbW1lZGlhdGVseSAoZmlyZSBhbmQgZm9yZ2V0KVxuXHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5nZXRTZXR0aW5ncygpKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBEZWJvdW5jZSB0aGUgY29uZmlndXJhdGlvbiBhcHBsaWNhdGlvblxuXHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdGlmIChvbkFwcGx5Q29uZmlnKSB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgb25BcHBseUNvbmZpZygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGRlYm91bmNlTXMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIEFsc28gYXBwbHkgb24gYmx1ciAod2hlbiB1c2VyIGxlYXZlcyB0aGUgZmllbGQpXG5cdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0aWYgKG9uQXBwbHlDb25maWcpIHtcblx0XHRcdFx0XHRcdFx0dm9pZCBvbkFwcGx5Q29uZmlnKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdFx0fSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgY3JlYXRlVG9nZ2xlU2V0dGluZyhcblx0XHRjb250YWluZXI6IEhUTUxFbGVtZW50LFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRkZXNjcmlwdGlvbjogc3RyaW5nLFxuXHRcdHZhbHVlOiBib29sZWFuLFxuXHRcdG9uQ2hhbmdlOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWRcblx0KTogU2V0dGluZyB7XG5cdFx0cmV0dXJuIG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcblx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHQuc2V0RGVzYyhkZXNjcmlwdGlvbilcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0dG9nZ2xlLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdG9uQ2hhbmdlKHZhbHVlKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLmdldFNldHRpbmdzKCkpO1xuXHRcdFx0XHRcdC8vIE5vdGU6IGFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24gc2hvdWxkIGJlIGNhbGxlZCBleHBsaWNpdGx5IGJ5IHRoZSBzZXR0aW5nIGltcGxlbWVudGF0aW9uXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gdG9nZ2xlO1xuXHRcdFx0fSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBUYWJSZW5kZXJlciB9IGZyb20gJy4uL2NvbW1vbi9UYWJSZW5kZXJlcic7XHJcbmltcG9ydCB7IFRFTVBMQVRFX09QVElPTlMsIFRIRU1FX09QVElPTlMsIEFzdHJvTW9kdWxhclBsdWdpbiwgQXN0cm9Nb2R1bGFyU2V0dGluZ3MgfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IGNyZWF0ZVNldHRpbmdzR3JvdXAgfSBmcm9tICcuLi8uLi91dGlscy9zZXR0aW5ncy1jb21wYXQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdlbmVyYWxUYWIgZXh0ZW5kcyBUYWJSZW5kZXJlciB7XHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0XHJcblx0XHQvLyBBbHdheXMgdXNlIHRoZSBwbHVnaW4ncyBjdXJyZW50IHNldHRpbmdzXHJcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuXHJcblx0XHQvLyBDdXJyZW50IGNvbmZpZ3VyYXRpb24gYXMgYSBzZXR0aW5ncyBncm91cFxyXG5cdFx0Y29uc3QgY29uZmlnR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ0N1cnJlbnQgY29uZmlndXJhdGlvbicsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XHJcblx0XHRcclxuXHRcdC8vIENyZWF0ZSBjb25maWcgaXRlbXMgZGlzcGxheSBpbiB0aGUgb3JpZ2luYWwgZm9ybWF0XHJcblx0XHRjb25maWdHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdC8vIEhpZGUgZGVmYXVsdCBVSSBlbGVtZW50c1xyXG5cdFx0XHRjb25zdCBuYW1lRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLW5hbWUnKTtcclxuXHRcdFx0Y29uc3QgZGVzY0VsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbicpO1xyXG5cdFx0XHRjb25zdCBjb250cm9sRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLWNvbnRyb2wnKTtcclxuXHRcdFx0aWYgKG5hbWVFbCkgKG5hbWVFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XHJcblx0XHRcdGlmIChkZXNjRWwpIChkZXNjRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRpZiAoY29udHJvbEVsKSAoY29udHJvbEVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxyXG5cdFx0XHRcdHBhZGRpbmdUb3A6ICcwJyxcclxuXHRcdFx0XHRwYWRkaW5nQm90dG9tOiAnMCcsXHJcblx0XHRcdFx0ZGlzcGxheTogJ2Jsb2NrJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIENyZWF0ZSBjb25maWcgaXRlbXMgY29udGFpbmVyIC0gZnVsbCB3aWR0aCwgbGVmdCBhbGlnbmVkXHJcblx0XHRcdGNvbnN0IGNvbmZpZ0l0ZW1zID0gc2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCdjb25maWctaXRlbXMnKTtcclxuXHRcdFx0Y29uZmlnSXRlbXMuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdHdpZHRoOiAnMTAwJScsXHJcblx0XHRcdFx0bWFyZ2luQm90dG9tOiAnMCdcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBUZW1wbGF0ZVxyXG5cdFx0XHRjb25zdCB0ZW1wbGF0ZUl0ZW0gPSBjb25maWdJdGVtcy5jcmVhdGVEaXYoJ2NvbmZpZy1pdGVtJyk7XHJcblx0XHRcdHRlbXBsYXRlSXRlbS5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnVGVtcGxhdGU6ICcgfSk7XHJcblx0XHRcdHRlbXBsYXRlSXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogVEVNUExBVEVfT1BUSU9OUy5maW5kKHQgPT4gdC5pZCA9PT0gc2V0dGluZ3MuY3VycmVudFRlbXBsYXRlKT8ubmFtZSB8fCAnVW5rbm93bicgfSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBUaGVtZVxyXG5cdFx0XHRjb25zdCB0aGVtZUl0ZW0gPSBjb25maWdJdGVtcy5jcmVhdGVEaXYoJ2NvbmZpZy1pdGVtJyk7XHJcblx0XHRcdHRoZW1lSXRlbS5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnVGhlbWU6ICcgfSk7XHJcblx0XHRcdHRoZW1lSXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogVEhFTUVfT1BUSU9OUy5maW5kKHQgPT4gdC5pZCA9PT0gc2V0dGluZ3MuY3VycmVudFRoZW1lKT8ubmFtZSB8fCAnVW5rbm93bicgfSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBPcmdhbml6YXRpb25cclxuXHRcdFx0Y29uc3Qgb3JnSXRlbSA9IGNvbmZpZ0l0ZW1zLmNyZWF0ZURpdignY29uZmlnLWl0ZW0nKTtcclxuXHRcdFx0b3JnSXRlbS5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnT3JnYW5pemF0aW9uOiAnIH0pO1xyXG5cdFx0XHRvcmdJdGVtLmNyZWF0ZVNwYW4oeyB0ZXh0OiBzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uID09PSAnZmlsZS1iYXNlZCcgPyAnRmlsZS1iYXNlZCcgOiAnRm9sZGVyLWJhc2VkJyB9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIERlcGxveW1lbnRcclxuXHRcdFx0Y29uc3QgZGVwbG95bWVudEl0ZW0gPSBjb25maWdJdGVtcy5jcmVhdGVEaXYoJ2NvbmZpZy1pdGVtJyk7XHJcblx0XHRcdGRlcGxveW1lbnRJdGVtLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdEZXBsb3ltZW50OiAnIH0pO1xyXG5cdFx0XHRkZXBsb3ltZW50SXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogdGhpcy5mb3JtYXREZXBsb3ltZW50TmFtZShzZXR0aW5ncy5kZXBsb3ltZW50LnBsYXRmb3JtKSB9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFNpdGUgdGl0bGVcclxuXHRcdFx0Y29uc3Qgc2l0ZVRpdGxlSXRlbSA9IGNvbmZpZ0l0ZW1zLmNyZWF0ZURpdignY29uZmlnLWl0ZW0nKTtcclxuXHRcdFx0c2l0ZVRpdGxlSXRlbS5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnU2l0ZSB0aXRsZTogJyB9KTtcclxuXHRcdFx0c2l0ZVRpdGxlSXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogc2V0dGluZ3Muc2l0ZUluZm8udGl0bGUgfSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTaXRlIFVSTFxyXG5cdFx0XHRjb25zdCBzaXRlVXJsSXRlbSA9IGNvbmZpZ0l0ZW1zLmNyZWF0ZURpdignY29uZmlnLWl0ZW0nKTtcclxuXHRcdFx0c2l0ZVVybEl0ZW0uY3JlYXRlRWwoJ3N0cm9uZycsIHsgdGV4dDogJ1NpdGUgVVJMOiAnIH0pOyAvLyBVUkwgaXMgYW4gYWNyb255bSwga2VlcCB1cHBlcmNhc2VcclxuXHRcdFx0c2l0ZVVybEl0ZW0uY3JlYXRlU3Bhbih7IHRleHQ6IHNldHRpbmdzLnNpdGVJbmZvLnNpdGUgfSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBXaXphcmQgc2V0dGluZ3MgZ3JvdXBcclxuXHRcdGNvbnN0IHdpemFyZEdyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXIsICdXaXphcmQnLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xyXG5cdFx0XHJcblx0XHQvLyBSdW4gc2V0dXAgd2l6YXJkIGJ1dHRvblxyXG5cdFx0d2l6YXJkR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1NldHVwIHdpemFyZCcpXHJcblx0XHRcdFx0LnNldERlc2MoJ1J1biB0aGUgc2V0dXAgd2l6YXJkIHRvIHJlY29uZmlndXJlIHlvdXIgdGhlbWUnKVxyXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1J1biBzZXR1cCB3aXphcmQnKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyB0byBlbnN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0XHRcdFx0XHRjb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmxvYWREYXRhKCkudGhlbigoZGF0YTogUGFydGlhbDxBc3Ryb01vZHVsYXJTZXR0aW5ncz4gfCBudWxsKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdE9iamVjdC5hc3NpZ24ocGx1Z2luLnNldHRpbmdzLCBkYXRhKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHQvLyBMYXp5LWxvYWQgdGhlIHdpemFyZCBtb2RhbFxyXG5cdFx0XHRcdFx0XHRjb25zdCB7IFNldHVwV2l6YXJkTW9kYWwgfSA9IGF3YWl0IGltcG9ydCgnLi4vU2V0dXBXaXphcmRNb2RhbCcpO1xyXG5cdFx0XHRcdFx0XHRjb25zdCB3aXphcmQgPSBuZXcgU2V0dXBXaXphcmRNb2RhbCh0aGlzLmFwcCwgcGx1Z2luKTtcclxuXHRcdFx0XHRcdFx0d2l6YXJkLm9wZW4oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFJ1biB3aXphcmQgb24gc3RhcnR1cFxyXG5cdFx0d2l6YXJkR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1J1biB3aXphcmQgb24gc3RhcnR1cCcpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgdGhlIHNldHVwIHdpemFyZCB3aGVuIE9ic2lkaWFuIHN0YXJ0cyAoaWYgbm90IGRpc2FibGVkKScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucnVuV2l6YXJkT25TdGFydHVwKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5ydW5XaXphcmRPblN0YXJ0dXAgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIHJpYmJvbiBpY29uIHRvZ2dsZVxyXG5cdFx0d2l6YXJkR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1JlbW92ZSByaWJib24gaWNvbicpXHJcblx0XHRcdFx0LnNldERlc2MoJ1JlbW92ZSB0aGUgd2l6YXJkIGljb24gZnJvbSB0aGUgbGVmdCByaWJib24nKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnJlbW92ZVJpYmJvbkljb24gPz8gZmFsc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnJlbW92ZVJpYmJvbkljb24gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgcmliYm9uIGljb24gaW1tZWRpYXRlbHlcclxuXHRcdFx0XHRcdFx0Y29uc3QgcGx1Z2luID0gdGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luO1xyXG5cdFx0XHRcdFx0XHRpZiAocGx1Z2luLnVwZGF0ZVJpYmJvbkljb24pIHtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBwbHVnaW4udXBkYXRlUmliYm9uSWNvbigpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0RGVwbG95bWVudE5hbWUoZGVwbG95bWVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdHN3aXRjaCAoZGVwbG95bWVudCkge1xyXG5cdFx0XHRjYXNlICduZXRsaWZ5JzpcclxuXHRcdFx0XHRyZXR1cm4gJ05ldGxpZnknO1xyXG5cdFx0XHRjYXNlICd2ZXJjZWwnOlxyXG5cdFx0XHRcdHJldHVybiAnVmVyY2VsJztcclxuXHRcdFx0Y2FzZSAnZ2l0aHViLXBhZ2VzJzpcclxuXHRcdFx0XHRyZXR1cm4gJ0dpdEh1YiBQYWdlcyc7XHJcblx0XHRcdGNhc2UgJ2Nsb3VkZmxhcmUtd29ya2Vycyc6XHJcblx0XHRcdFx0cmV0dXJuICdDbG91ZGZsYXJlIFdvcmtlcnMnO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBkZXBsb3ltZW50O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiLyoqXHJcbiAqIENvbXBhdGliaWxpdHkgdXRpbGl0aWVzIGZvciBzZXR0aW5nc1xyXG4gKiBQcm92aWRlcyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciBTZXR0aW5nR3JvdXAgKHJlcXVpcmVzIEFQSSAxLjExLjArKVxyXG4gKi9cclxuaW1wb3J0IHsgU2V0dGluZywgcmVxdWlyZUFwaVZlcnNpb24gfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG4vKipcclxuICogVHlwZSBkZWZpbml0aW9uIGZvciBTZXR0aW5nR3JvdXAgY29uc3RydWN0b3JcclxuICogTm90ZTogU2V0dGluZ0dyb3VwIG1heSBleGlzdCBhdCBydW50aW1lIGluIDEuMTEuMCsgYnV0IG1heSBub3QgYmUgaW4gVHlwZVNjcmlwdCBkZWZpbml0aW9uc1xyXG4gKi9cclxudHlwZSBTZXR0aW5nR3JvdXBDb25zdHJ1Y3RvciA9IG5ldyAoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgc2V0SGVhZGluZz8oaGVhZGluZzogc3RyaW5nKToge1xyXG4gICAgYWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpOiB2b2lkO1xyXG4gIH07XHJcbiAgYWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpOiB2b2lkO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSB0aGF0IHdvcmtzIHdpdGggYm90aCBTZXR0aW5nR3JvdXAgYW5kIGZhbGxiYWNrIGNvbnRhaW5lclxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nc0NvbnRhaW5lciB7XHJcbiAgYWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpOiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHNldHRpbmdzIGNvbnRhaW5lciB0aGF0IHVzZXMgU2V0dGluZ0dyb3VwIGlmIGF2YWlsYWJsZSAoQVBJIDEuMTEuMCspLFxyXG4gKiBvdGhlcndpc2UgZmFsbHMgYmFjayB0byBjcmVhdGluZyBhIGhlYWRpbmcgKGlmIHByb3ZpZGVkKSBhbmQgdXNpbmcgdGhlIGNvbnRhaW5lciBkaXJlY3RseS5cclxuICogXHJcbiAqIFVzZXMgcmVxdWlyZUFwaVZlcnNpb24oJzEuMTEuMCcpIHRvIGNoZWNrIGlmIFNldHRpbmdHcm91cCBpcyBhdmFpbGFibGUuXHJcbiAqIFxyXG4gKiBAcGFyYW0gY29udGFpbmVyRWwgLSBUaGUgY29udGFpbmVyIGVsZW1lbnQgZm9yIHNldHRpbmdzXHJcbiAqIEBwYXJhbSBoZWFkaW5nIC0gT3B0aW9uYWwgaGVhZGluZyB0ZXh0IGZvciB0aGUgc2V0dGluZ3MgZ3JvdXAuIElmIG9taXR0ZWQsIG5vIGhlYWRpbmcgaXMgY3JlYXRlZC5cclxuICogQHBhcmFtIG1hbmlmZXN0SWQgLSBUaGUgcGx1Z2luJ3MgbWFuaWZlc3QgSUQgZm9yIENTUyBzY29waW5nIChyZXF1aXJlZCBmb3IgZmFsbGJhY2sgbW9kZSlcclxuICogQHJldHVybnMgQSBjb250YWluZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgc2V0dGluZ3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXR0aW5nc0dyb3VwKFxyXG4gIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCxcclxuICBoZWFkaW5nPzogc3RyaW5nLFxyXG4gIG1hbmlmZXN0SWQ/OiBzdHJpbmdcclxuKTogU2V0dGluZ3NDb250YWluZXIge1xyXG4gIC8vIENoZWNrIGlmIFNldHRpbmdHcm91cCBpcyBhdmFpbGFibGUgKEFQSSAxLjExLjArKVxyXG4gIGlmIChyZXF1aXJlQXBpVmVyc2lvbignMS4xMS4wJykpIHtcclxuICAgIC8vIFVzZSBkeW5hbWljIHJlcXVpcmUoKSB0byBhY2Nlc3MgU2V0dGluZ0dyb3VwIGF0IHJ1bnRpbWVcclxuICAgIC8vIFRoaXMgYXZvaWRzIFR5cGVTY3JpcHQgZXJyb3JzIHdoZW4gU2V0dGluZ0dyb3VwIGlzbid0IGluIHR5cGUgZGVmaW5pdGlvbnNcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxyXG4gICAgY29uc3Qgb2JzaWRpYW4gPSByZXF1aXJlKCdvYnNpZGlhbicpIGFzIHsgU2V0dGluZ0dyb3VwOiBTZXR0aW5nR3JvdXBDb25zdHJ1Y3RvciB9O1xyXG4gICAgY29uc3QgU2V0dGluZ0dyb3VwID0gb2JzaWRpYW4uU2V0dGluZ0dyb3VwO1xyXG4gICAgXHJcbiAgICAvLyBVc2UgU2V0dGluZ0dyb3VwIC0gaXQncyBndWFyYW50ZWVkIHRvIGV4aXN0IGlmIHJlcXVpcmVBcGlWZXJzaW9uIHJldHVybnMgdHJ1ZVxyXG4gICAgY29uc3QgZ3JvdXAgPSBoZWFkaW5nIFxyXG4gICAgICA/IG5ldyBTZXR0aW5nR3JvdXAoY29udGFpbmVyRWwpLnNldEhlYWRpbmchKGhlYWRpbmcpXHJcbiAgICAgIDogbmV3IFNldHRpbmdHcm91cChjb250YWluZXJFbCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGFkZFNldHRpbmcoY2I6IChzZXR0aW5nOiBTZXR0aW5nKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgZ3JvdXAuYWRkU2V0dGluZyhjYik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEZhbGxiYWNrIHBhdGggKGVpdGhlciBBUEkgPCAxLjExLjAgb3IgU2V0dGluZ0dyb3VwIG5vdCBmb3VuZClcclxuICAgIC8vIEFkZCBzY29waW5nIGNsYXNzIHRvIGNvbnRhaW5lckVsIHRvIHNjb3BlIENTUyB0byBvbmx5IHRoaXMgcGx1Z2luJ3Mgc2V0dGluZ3NcclxuICAgIGlmIChtYW5pZmVzdElkKSB7XHJcbiAgICAgIGNvbnRhaW5lckVsLmFkZENsYXNzKGAke21hbmlmZXN0SWR9LXNldHRpbmdzLWNvbXBhdGApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGYWxsYmFjazogQ3JlYXRlIGEgaGVhZGluZyBtYW51YWxseSAoaWYgcHJvdmlkZWQpIGFuZCB1c2UgY29udGFpbmVyIGRpcmVjdGx5XHJcbiAgICBpZiAoaGVhZGluZykge1xyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0SGVhZGluZygpXHJcbiAgICAgICAgLnNldE5hbWUoaGVhZGluZyk7XHJcbiAgICB9XHJcbiAgICAgICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbCk7XHJcbiAgICAgICAgY2Ioc2V0dGluZyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4iLCAiaW1wb3J0IHsgTm90aWNlLCBNb2RhbCwgc2V0SWNvbiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFRhYlJlbmRlcmVyIH0gZnJvbSAnLi4vY29tbW9uL1RhYlJlbmRlcmVyJztcbmltcG9ydCB7IEFzdHJvTW9kdWxhclBsdWdpbiwgT2JzaWRpYW5WYXVsdEFkYXB0ZXIgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0dGluZ3MtY29tcGF0Jztcbi8vIEJ1ZmZlciBpcyBhdmFpbGFibGUgaW4gTm9kZS5qcyBlbnZpcm9ubWVudFxuLy8gQnVmZmVyIGlzIGF2YWlsYWJsZSBpbiBOb2RlLmpzIGVudmlyb25tZW50XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWYsIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG5jb25zdCBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG5cbmV4cG9ydCBjbGFzcyBTaXRlSW5mb1RhYiBleHRlbmRzIFRhYlJlbmRlcmVyIHtcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcblxuXHRcdC8vIEZpcnN0IGdyb3VwOiBHcm91cCBpbml0aWFsIHNldHRpbmdzIHdpdGggbm8gaGVhZGluZ1xuXHRcdGNvbnN0IHNpdGVJbmZvR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgdW5kZWZpbmVkLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xuXG5cdFx0Ly8gU2l0ZSBVUkxcblx0XHRzaXRlSW5mb0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ1NpdGUgVVJMJylcblx0XHRcdFx0LnNldERlc2MoJ1lvdXIgc2l0ZVxcJ3MgYmFzZSBVUkwgKGUuZy4sIGh0dHBzOi8veW91cnNpdGUuY29tKScpXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3Muc2l0ZUluZm8uc2l0ZSk7XG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5zaXRlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBTaXRlIFRpdGxlXG5cdFx0c2l0ZUluZm9Hcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdTaXRlIHRpdGxlJylcblx0XHRcdFx0LnNldERlc2MoJ1lvdXIgc2l0ZVxcJ3MgdGl0bGUnKVxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLnNpdGVJbmZvLnRpdGxlKTtcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLnRpdGxlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBTaXRlIERlc2NyaXB0aW9uXG5cdFx0c2l0ZUluZm9Hcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdTaXRlIGRlc2NyaXB0aW9uJylcblx0XHRcdFx0LnNldERlc2MoJ0EgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBzaXRlJylcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy5zaXRlSW5mby5kZXNjcmlwdGlvbik7XG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5kZXNjcmlwdGlvbiA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQXV0aG9yIE5hbWVcblx0XHRzaXRlSW5mb0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0F1dGhvciBuYW1lJylcblx0XHRcdFx0LnNldERlc2MoJ1lvdXIgbmFtZSBvciB0aGUgc2l0ZSBhdXRob3JcXCdzIG5hbWUnKVxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLnNpdGVJbmZvLmF1dGhvcik7XG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5hdXRob3IgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIExhbmd1YWdlIC0gbGFzdCBzZXR0aW5nIGluIGdyb3VwIHdpdGhvdXQgaGVhZGluZywgYWRkIGJvdHRvbSBtYXJnaW5cblx0XHRzaXRlSW5mb0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0xhbmd1YWdlIGNvZGUnKVxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdC5zZXREZXNjKCdZb3VyIHNpdGVcXCdzIHByaW1hcnkgbGFuZ3VhZ2UgKElTTyA2MzktMSBjb2RlKScpXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3Muc2l0ZUluZm8ubGFuZ3VhZ2UpO1xuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8ubGFuZ3VhZ2UgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdC8vIEFkZCBib3R0b20gbWFyZ2luIHRvIGxhc3Qgc2V0dGluZyBpbiBncm91cCB3aXRob3V0IGhlYWRpbmcgdG8gY3JlYXRlIHNwYWNlIGJlZm9yZSBuZXh0IGhlYWRpbmdcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0bWFyZ2luQm90dG9tOiAndmFyKC0tc2l6ZS00LTYpJ1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBBc3NldHMgJiBNZXRhZGF0YSBzZWN0aW9uIC0gY3JlYXRlIGhlYWRlciB3aXRoIGZsb2F0aW5nIGJ1dHRvbiB1c2luZyBTZXR0aW5nIHBhdHRlcm5cblx0XHRjb25zdCBhc3NldHNTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignYXNzZXRzLXNlY3Rpb24nKTtcblx0XHRjb25zdCBhc3NldHNIZWFkZXJTZXR0aW5nID0gbmV3IFNldHRpbmcoYXNzZXRzU2VjdGlvbilcblx0XHRcdC5zZXRIZWFkaW5nKClcblx0XHRcdC5zZXROYW1lKCdBc3NldHMgJiBtZXRhZGF0YScpO1xuXHRcdGFzc2V0c0hlYWRlclNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcblx0XHRcdG1hcmdpblRvcDogJ3ZhcigtLXNpemUtNC02KScsXG5cdFx0XHRtYXJnaW5Cb3R0b206ICd2YXIoLS1zaXplLTQtMiknLFxuXHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcblx0XHR9KTtcblx0XHRcblx0XHQvLyBBZGQgZm9sZGVyIGJ1dHRvbiB0byB0aGUgaGVhZGluZydzIGNvbnRyb2wgYXJlYVxuXHRcdGNvbnN0IHNoYXJlZEZvbGRlckJ1dHRvbiA9IGFzc2V0c0hlYWRlclNldHRpbmcuY29udHJvbEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRjbHM6ICdjbGlja2FibGUtaWNvbicsXG5cdFx0XHRhdHRyOiB7ICdhcmlhLWxhYmVsJzogJ09wZW4gcHVibGljIGZvbGRlcicgfVxuXHRcdH0pO1xuXHRcdHNoYXJlZEZvbGRlckJ1dHRvbi5zZXRDc3NQcm9wcyh7XG5cdFx0XHRwYWRkaW5nOiAnNHB4Jyxcblx0XHRcdGJvcmRlcjogJ25vbmUnLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW5vcm1hbCknLFxuXHRcdFx0ZGlzcGxheTogJ2ZsZXgnLFxuXHRcdFx0YWxpZ25JdGVtczogJ2NlbnRlcicsXG5cdFx0XHRqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdHJpZ2h0OiAnMCcsXG5cdFx0XHR0b3A6ICc1MCUnLFxuXHRcdFx0dHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNTAlKSdcblx0XHR9KTtcblx0XHRcblx0XHRzZXRJY29uKHNoYXJlZEZvbGRlckJ1dHRvbiwgJ2ZvbGRlcicpO1xuXHRcdFxuXHRcdHNoYXJlZEZvbGRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdGNvbnN0IHB1YmxpY1BhdGggPSAnLi4vLi4vcHVibGljJztcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWNhbGwsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuXHRcdFx0dm9pZCAoKHRoaXMuYXBwIGFzIGFueSkub3BlbldpdGhEZWZhdWx0QXBwPy4ocHVibGljUGF0aCkgPz8gUHJvbWlzZS5yZXNvbHZlKCkpLmNhdGNoKChlcnJvcjogdW5rbm93bikgPT4ge1xuXHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gb3BlbiBwdWJsaWMgZm9sZGVyOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQXNzZXRzICYgTWV0YWRhdGEgZ3JvdXAgd2l0aG91dCBoZWFkaW5nIChoZWFkaW5nIGlzIG5vdyBzZXBhcmF0ZSlcblx0XHRjb25zdCBhc3NldHNHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoYXNzZXRzU2VjdGlvbiwgdW5kZWZpbmVkLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xuXG5cdFx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvcHkgZmlsZSB0byBwdWJsaWMgZm9sZGVyXG5cdFx0Y29uc3QgY29weUltYWdlVG9QdWJsaWMgPSAoc291cmNlUGF0aDogc3RyaW5nLCB0YXJnZXRGaWxlTmFtZTogc3RyaW5nKTogdm9pZCA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcblx0XHRcdFx0Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpIGFzIHR5cGVvZiBpbXBvcnQoJ2ZzJyk7XG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxuXHRcdFx0XHRjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpIGFzIHR5cGVvZiBpbXBvcnQoJ3BhdGgnKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIEdldCB2YXVsdCBwYXRoXG5cdFx0XHRcdGNvbnN0IHZhdWx0QWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgdW5rbm93biBhcyBPYnNpZGlhblZhdWx0QWRhcHRlcjtcblx0XHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gdmF1bHRBZGFwdGVyLmJhc2VQYXRoIHx8IHZhdWx0QWRhcHRlci5wYXRoO1xuXHRcdFx0XHRjb25zdCB2YXVsdFBhdGhTdHJpbmcgPSB0eXBlb2YgdmF1bHRQYXRoID09PSAnc3RyaW5nJyA/IHZhdWx0UGF0aCA6IFN0cmluZyh2YXVsdFBhdGggPz8gJycpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gUHVibGljIGZvbGRlciBwYXRoICh0d28gbGV2ZWxzIHVwIGZyb20gdmF1bHQsIHRoZW4gaW50byBwdWJsaWMpXG5cdFx0XHRcdGNvbnN0IHB1YmxpY0ZvbGRlclBhdGggPSBwYXRoLmpvaW4odmF1bHRQYXRoU3RyaW5nLCAnLi4nLCAnLi4nLCAncHVibGljJyk7XG5cdFx0XHRcdGNvbnN0IHRhcmdldFBhdGggPSBwYXRoLmpvaW4ocHVibGljRm9sZGVyUGF0aCwgdGFyZ2V0RmlsZU5hbWUpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gRW5zdXJlIHB1YmxpYyBmb2xkZXIgZXhpc3RzXG5cdFx0XHRcdGlmICghZnMuZXhpc3RzU3luYyhwdWJsaWNGb2xkZXJQYXRoKSkge1xuXHRcdFx0XHRcdGZzLm1rZGlyU3luYyhwdWJsaWNGb2xkZXJQYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Ly8gQ29weSBmaWxlXG5cdFx0XHRcdGZzLmNvcHlGaWxlU3luYyhzb3VyY2VQYXRoLCB0YXJnZXRQYXRoKTtcblx0XHRcdFx0bmV3IE5vdGljZShgU3VjY2Vzc2Z1bGx5IGNvcGllZCAke3RhcmdldEZpbGVOYW1lfSB0byBwdWJsaWMgZm9sZGVyYCk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjb3B5IGZpbGU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvLyBIZWxwZXIgZnVuY3Rpb24gdG8gc2hvdyBmaWxlIHBpY2tlciBkaWFsb2dcblx0XHRjb25zdCBzaG93RmlsZVBpY2tlciA9ICh0YXJnZXRGaWxlTmFtZTogc3RyaW5nKTogdm9pZCA9PiB7XG5cdFx0XHRjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXHRcdFx0ZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XG5cdFx0XHRmaWxlSW5wdXQuYWNjZXB0ID0gJy5wbmcnO1xuXHRcdFx0XG5cdFx0XHQvLyBTdG9yZSBmaWxlIHJlZmVyZW5jZSBvdXRzaWRlIHRoZSBldmVudCBoYW5kbGVyXG5cdFx0XHRsZXQgc2VsZWN0ZWRGaWxlOiBGaWxlIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcblx0XHRcdGZpbGVJbnB1dC5vbmNoYW5nZSA9IChlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuZmlsZXM/LlswXTtcblx0XHRcdFx0aWYgKGZpbGUpIHtcblx0XHRcdFx0XHRpZiAoIWZpbGUubmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcucG5nJykpIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1BsZWFzZSBzZWxlY3QgYSBQTkcgZmlsZScpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBTdG9yZSB0aGUgZmlsZSByZWZlcmVuY2Vcblx0XHRcdFx0XHRzZWxlY3RlZEZpbGUgPSBmaWxlO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFNob3cgY29uZmlybWF0aW9uIG1vZGFsIGJlZm9yZSBjb3B5aW5nXG5cdFx0XHRcdFx0Ly8gVXNlIHNldFRpbWVvdXQgdG8gZW5zdXJlIGZpbGUgcGlja2VyIGRpYWxvZyBoYXMgY2xvc2VkXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBjb25maXJtTW9kYWwgPSBuZXcgTW9kYWwodGhpcy5hcHApO1xuXHRcdFx0XHRcdFx0Y29uZmlybU1vZGFsLnRpdGxlRWwuc2V0VGV4dCgnUmVwbGFjZSBpbWFnZScpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRjb25zdCBjb250ZW50RGl2ID0gY29uZmlybU1vZGFsLmNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRcdFx0XHRcdGNvbnRlbnREaXYuY3JlYXRlRWwoJ3AnLCB7IFxuXHRcdFx0XHRcdFx0XHR0ZXh0OiBgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlcGxhY2UgJHt0YXJnZXRGaWxlTmFtZX0gaW4gdGhlIHB1YmxpYyBmb2xkZXIgd2l0aCB0aGUgbmV3IGltYWdlP2AgXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Y29uc3QgYnV0dG9uQ29udGFpbmVyID0gY29udGVudERpdi5jcmVhdGVEaXYoKTtcblx0XHRcdFx0XHRcdGJ1dHRvbkNvbnRhaW5lci5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdG1hcmdpblRvcDogJzIwcHgnLFxuXHRcdFx0XHRcdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRcdFx0XHRcdGdhcDogJzEwcHgnLFxuXHRcdFx0XHRcdFx0XHRqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJ1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIENhbmNlbCBidXR0b25cblx0XHRcdFx0XHRcdGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJyB9KTtcblx0XHRcdFx0XHRcdGNhbmNlbEJ1dHRvbi5jbGFzc05hbWUgPSAnbW9kLWJ1dHRvbic7XG5cdFx0XHRcdFx0XHRjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIENvbmZpcm0gYnV0dG9uXG5cdFx0XHRcdFx0XHRjb25zdCBjb25maXJtQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdSZXBsYWNlJyB9KTtcblx0XHRcdFx0XHRcdGNvbmZpcm1CdXR0b24uY2xhc3NOYW1lID0gJ21vZC13YXJuaW5nJztcblx0XHRcdFx0XHRcdGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0aWYgKCFzZWxlY3RlZEZpbGUpIHtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdGaWxlIHNlbGVjdGlvbiB3YXMgbG9zdC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIG5vLXVuZGVmXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJykgYXMgdHlwZW9mIGltcG9ydCgnZnMnKTtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKSBhcyB0eXBlb2YgaW1wb3J0KCdwYXRoJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFRyeSB0byBnZXQgcGF0aCBmcm9tIGZpbGUgb2JqZWN0ICh3b3JrcyBpbiBFbGVjdHJvbilcblx0XHRcdFx0XHRcdFx0XHRcdC8vIE5vdGU6IFRGaWxlIGRvZXNuJ3QgaGF2ZSBhIHBhdGggcHJvcGVydHkgaW4gT2JzaWRpYW4gQVBJLCBidXQgc29tZSBpbXBsZW1lbnRhdGlvbnMgbWF5IGhhdmUgaXRcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZpbGVQYXRoID0gKHNlbGVjdGVkRmlsZSBhcyB1bmtub3duIGFzIHsgcGF0aD86IHN0cmluZyB9KS5wYXRoO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGZpbGVQYXRoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvcHlJbWFnZVRvUHVibGljKGZpbGVQYXRoLCB0YXJnZXRGaWxlTmFtZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZiBubyBwYXRoLCByZWFkIGZpbGUgY29udGVudCBhbmQgd3JpdGUgaXRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBzZWxlY3RlZEZpbGUuYXJyYXlCdWZmZXIoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1jYWxsLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3Ncblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgYnVmZmVyID0gQnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdmF1bHRBZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyB1bmtub3duIGFzIE9ic2lkaWFuVmF1bHRBZGFwdGVyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB2YXVsdFBhdGggPSB2YXVsdEFkYXB0ZXIuYmFzZVBhdGggfHwgdmF1bHRBZGFwdGVyLnBhdGg7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHZhdWx0UGF0aFN0cmluZyA9IHR5cGVvZiB2YXVsdFBhdGggPT09ICdzdHJpbmcnID8gdmF1bHRQYXRoIDogU3RyaW5nKHZhdWx0UGF0aCA/PyAnJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHB1YmxpY0ZvbGRlclBhdGggPSBwYXRoLmpvaW4odmF1bHRQYXRoU3RyaW5nLCAnLi4nLCAnLi4nLCAncHVibGljJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRhcmdldFBhdGggPSBwYXRoLmpvaW4ocHVibGljRm9sZGVyUGF0aCwgdGFyZ2V0RmlsZU5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFmcy5leGlzdHNTeW5jKHB1YmxpY0ZvbGRlclBhdGgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZnMubWtkaXJTeW5jKHB1YmxpY0ZvbGRlclBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmcy53cml0ZUZpbGVTeW5jKHRhcmdldFBhdGgsIGJ1ZmZlcik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFN1Y2Nlc3NmdWxseSBjb3BpZWQgJHt0YXJnZXRGaWxlTmFtZX0gdG8gcHVibGljIGZvbGRlcmApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGNvcHkgZmlsZTogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogU3RyaW5nKGVycil9YCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIE9wZW4gdGhlIG1vZGFsXG5cdFx0XHRcdFx0XHRjb25maXJtTW9kYWwub3BlbigpO1xuXHRcdFx0XHRcdH0sIDEwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRcblx0XHRcdGZpbGVJbnB1dC5jbGljaygpO1xuXHRcdH07XG5cblx0XHQvLyBPcGVuIEdyYXBoIEltYWdlXG5cdFx0YXNzZXRzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnT3BlbiBncmFwaCBpbWFnZScpXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIlBOR1wiIGlzIGFuIGFjcm9ueW0gYW5kIHNob3VsZCBiZSB1cHBlcmNhc2Vcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHQuc2V0RGVzYygnU2VsZWN0IGEgUE5HIGltYWdlIHRvIHJlcGxhY2Ugb3Blbi1ncmFwaC5wbmcgaW4gdGhlIHB1YmxpYyBmb2xkZXIgKHJlY29tbWVuZGVkOiAxMjAwIHggNjMwIHBpeGVscyknKTtcblx0XHRcdFxuXHRcdFx0Y29uc3Qgb2dJbWFnZUJ1dHRvbiA9IHNldHRpbmcuY29udHJvbEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRcdHRleHQ6ICdTZWxlY3QgUE5HIGZpbGUnLFxuXHRcdFx0XHRjbHM6ICdtb2QtY3RhJ1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdG9nSW1hZ2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdHZvaWQgc2hvd0ZpbGVQaWNrZXIoJ29wZW4tZ3JhcGgucG5nJyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIE9wZW4gR3JhcGggSW1hZ2UgQWx0IFRleHRcblx0XHRhc3NldHNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIk9wZW4gR3JhcGhcIiBpcyBhIHByb3BlciBub3VuIChPRyBmb3JtYXQgc3RhbmRhcmQpXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0LnNldE5hbWUoJ09wZW4gR3JhcGggaW1hZ2UgYWx0IHRleHQnKVxuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJPcGVuIEdyYXBoXCIgaXMgYSB0ZWNobmljYWwgdGVybSAoT0cgaW1hZ2Ugc3RhbmRhcmQpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHQuc2V0RGVzYygnQWx0ZXJuYXRpdmUgdGV4dCBmb3IgdGhlIE9wZW4gR3JhcGggaW1hZ2UnKVxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLnNpdGVJbmZvLmRlZmF1bHRPZ0ltYWdlQWx0IHx8IHNldHRpbmdzLnNlbz8uZGVmYXVsdE9nSW1hZ2VBbHQgfHwgJ0FzdHJvIE1vZHVsYXIgbG9nby4nKTtcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLmRlZmF1bHRPZ0ltYWdlQWx0ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnNlbykge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zZW8gPSB7IGRlZmF1bHRPZ0ltYWdlQWx0OiAnJyB9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2V0dGluZ3Muc2VvLmRlZmF1bHRPZ0ltYWdlQWx0ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJPcGVuIEdyYXBoXCIgaXMgYSB0ZWNobmljYWwgdGVybSAoT0cgaW1hZ2Ugc3RhbmRhcmQpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcblx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnT3BlbiBHcmFwaCBpbWFnZSBhbHQgdGV4dCB1cGRhdGVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJPcGVuIEdyYXBoXCIgaXMgYSB0ZWNobmljYWwgdGVybSAoT0cgaW1hZ2Ugc3RhbmRhcmQpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcblx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnT3BlbiBHcmFwaCBpbWFnZSBhbHQgdGV4dCB1cGRhdGVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBGYXZpY29uIChhbHdheXMgdmlzaWJsZSAtIHVzZWQgYXMgZmFsbGJhY2sgd2hlbiB0aGVtZS1hZGFwdGl2ZSBpcyBlbmFibGVkKVxuXHRcdGFzc2V0c0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0Zhdmljb24nKVxuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJQTkdcIiBpcyBhbiBhY3JvbnltIGFuZCBzaG91bGQgYmUgdXBwZXJjYXNlXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0LnNldERlc2MoJ1NlbGVjdCBhIFBORyBpbWFnZSB0byByZXBsYWNlIGZhdmljb24ucG5nIGluIHRoZSBwdWJsaWMgZm9sZGVyIChyZWNvbW1lbmRlZDogMjU2IHggMjU2IHBpeGVscykuIFN0YW5kYXJkIGZhdmljb24gaXMgdXNlZCB3aGVuIGJyb3dzZXIgcHJlZmVyZW5jZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZC4nKTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgZmF2aWNvbkJ1dHRvbiA9IHNldHRpbmcuY29udHJvbEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRcdHRleHQ6ICdTZWxlY3QgUE5HIGZpbGUnLFxuXHRcdFx0XHRjbHM6ICdtb2QtY3RhJ1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdGZhdmljb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdHZvaWQgc2hvd0ZpbGVQaWNrZXIoJ2Zhdmljb24ucG5nJyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIFRoZW1lLWFkYXB0aXZlIGZhdmljb24gdG9nZ2xlXG5cdFx0YXNzZXRzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnVGhlbWUtYWRhcHRpdmUgZmF2aWNvbicpXG5cdFx0XHRcdC5zZXREZXNjKCdJZiBlbmFibGVkLCBmYXZpY29uIHN3aXRjaGVzIGJldHdlZW4gbGlnaHQgYW5kIGRhcmsgdmFyaWFudHMgYmFzZWQgb24gYnJvd3NlciB0aGVtZSBwcmVmZXJlbmNlLiBTdGFuZGFyZCBmYXZpY29uIGlzIHVzZWQgd2hlbiBicm93c2VyXFwncyBwcmVmZXJlbmNlIGNhbm5vdCBiZSBkZXRlcm1pbmVkLicpXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5zaXRlSW5mby5mYXZpY29uVGhlbWVBZGFwdGl2ZSA/PyB0cnVlKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLmZhdmljb25UaGVtZUFkYXB0aXZlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFRoZW1lLWFkYXB0aXZlIGZhdmljb24gJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xuXHRcdFx0XHRcdH0pKTtcblx0XHR9KTtcblxuXHRcdC8vIExpZ2h0L0RhcmsgZmF2aWNvbiBmaWVsZHMgKG9ubHkgc2hvd24gd2hlbiB0aGVtZS1hZGFwdGl2ZSBpcyBlbmFibGVkKVxuXHRcdGlmIChzZXR0aW5ncy5zaXRlSW5mby5mYXZpY29uVGhlbWVBZGFwdGl2ZSA/PyB0cnVlKSB7XG5cdFx0XHQvLyBMaWdodCB0aGVtZSBmYXZpY29uXG5cdFx0XHRhc3NldHNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRcdHNldHRpbmdcblx0XHRcdFx0XHQuc2V0TmFtZSgnTGlnaHQgdGhlbWUgZmF2aWNvbicpXG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiUE5HXCIgaXMgYW4gYWNyb255bSBhbmQgc2hvdWxkIGJlIHVwcGVyY2FzZVxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0XHQuc2V0RGVzYygnU2VsZWN0IGEgUE5HIGltYWdlIHRvIHJlcGxhY2UgZmF2aWNvbi1saWdodC5wbmcgaW4gdGhlIHB1YmxpYyBmb2xkZXIgKHJlY29tbWVuZGVkOiAyNTYgeCAyNTYgcGl4ZWxzKScpO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgZmF2aWNvbkxpZ2h0QnV0dG9uID0gc2V0dGluZy5jb250cm9sRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdFx0XHR0ZXh0OiAnU2VsZWN0IFBORyBmaWxlJyxcblx0XHRcdFx0XHRjbHM6ICdtb2QtY3RhJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGZhdmljb25MaWdodEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHR2b2lkIHNob3dGaWxlUGlja2VyKCdmYXZpY29uLWxpZ2h0LnBuZycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBEYXJrIHRoZW1lIGZhdmljb25cblx0XHRcdGFzc2V0c0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdFx0c2V0dGluZ1xuXHRcdFx0XHRcdC5zZXROYW1lKCdEYXJrIHRoZW1lIGZhdmljb24nKVxuXHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIlBOR1wiIGlzIGFuIGFjcm9ueW0gYW5kIHNob3VsZCBiZSB1cHBlcmNhc2Vcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdFx0LnNldERlc2MoJ1NlbGVjdCBhIFBORyBpbWFnZSB0byByZXBsYWNlIGZhdmljb24tZGFyay5wbmcgaW4gdGhlIHB1YmxpYyBmb2xkZXIgKHJlY29tbWVuZGVkOiAyNTYgeCAyNTYgcGl4ZWxzKScpO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgZmF2aWNvbkRhcmtCdXR0b24gPSBzZXR0aW5nLmNvbnRyb2xFbC5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0XHRcdHRleHQ6ICdTZWxlY3QgUE5HIGZpbGUnLFxuXHRcdFx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0ZmF2aWNvbkRhcmtCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0dm9pZCBzaG93RmlsZVBpY2tlcignZmF2aWNvbi1kYXJrLnBuZycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxufVxuIiwgImltcG9ydCB7IFNldHRpbmcsIE5vdGljZSwgc2V0SWNvbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgQXN0cm9Nb2R1bGFyUGx1Z2luLCBOYXZpZ2F0aW9uSXRlbSB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgVGFiUmVuZGVyZXIgfSBmcm9tICcuLi9jb21tb24vVGFiUmVuZGVyZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0dGluZ3MtY29tcGF0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uVGFiIGV4dGVuZHMgVGFiUmVuZGVyZXIge1xyXG5cdHByaXZhdGUgc2F2ZVRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcblx0cHJpdmF0ZSBsaXN0ZW5lcnNBdHRhY2hlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Ly8gQ2xlYXIgdGhlIGNvbnRhaW5lciBhbmQgcmVzZXQgbGlzdGVuZXJzIGZsYWdcclxuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0dGhpcy5saXN0ZW5lcnNBdHRhY2hlZCA9IGZhbHNlO1xyXG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcblxyXG5cdFx0Ly8gTmF2aWdhdGlvbiBwYWdlcyBzZWN0aW9uXHJcblx0XHRjb25zdCBwYWdlc1NlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KCdzZXR0aW5ncy1zZWN0aW9uJyk7XHJcblx0XHRcclxuXHRcdC8vIE5hdmlnYXRpb24gUGFnZXMgaGVhZGluZ1xyXG5cdFx0bmV3IFNldHRpbmcocGFnZXNTZWN0aW9uKVxyXG5cdFx0XHQuc2V0SGVhZGluZygpXHJcblx0XHRcdC5zZXROYW1lKCdOYXZpZ2F0aW9uIHBhZ2VzJylcclxuXHRcdFx0LnNldERlc2MoJ0FkZCBvciByZW1vdmUgcGFnZXMgZnJvbSB5b3VyIG1haW4gbmF2aWdhdGlvbiBtZW51LicpO1xyXG5cclxuXHRcdC8vIERpc3BsYXkgZXhpc3RpbmcgcGFnZXMgdXNpbmcgcHJvZ3JhbW1hdGljIERPTSBjcmVhdGlvblxyXG5cdFx0Y29uc3QgcGFnZXNMaXN0ID0gcGFnZXNTZWN0aW9uLmNyZWF0ZURpdignbmF2LWl0ZW1zJyk7XHJcblx0XHRwYWdlc0xpc3QuaWQgPSAncGFnZXMtbGlzdCc7XHJcblx0XHRcclxuXHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXMuZm9yRWFjaCgocGFnZSwgaW5kZXgpID0+IHtcclxuXHRcdFx0dGhpcy5yZW5kZXJQYWdlSXRlbShwYWdlc0xpc3QsIHBhZ2UsIGluZGV4KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFkZCBwYWdlIGJ1dHRvblxyXG5cdFx0bmV3IFNldHRpbmcocGFnZXNTZWN0aW9uKVxyXG5cdFx0XHQuc2V0TmFtZSgnQWRkIHBhZ2UnKVxyXG5cdFx0XHQuc2V0RGVzYygnQWRkIGEgbmV3IHBhZ2UgdG8geW91ciBuYXZpZ2F0aW9uJylcclxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHRcdC8vIFwiKyBBZGQgcGFnZVwiIGlzIGEgYnV0dG9uIGxhYmVsLCBrZWVwIGFzIGlzXHJcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnKyBBZGQgcGFnZScpXHJcblx0XHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlcy5wdXNoKHsgdGl0bGU6ICdOZXcgUGFnZScsIHVybDogJy9uZXctcGFnZScgfSk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnTmF2aWdhdGlvbiBwYWdlIGFkZGVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpOyAvLyBSZS1yZW5kZXJcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBTb2NpYWwgbGlua3Mgc2VjdGlvblxyXG5cdFx0Y29uc3Qgc29jaWFsU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3NldHRpbmdzLXNlY3Rpb24nKTtcclxuXHRcdFxyXG5cdFx0Ly8gU29jaWFsIExpbmtzIGhlYWRpbmdcclxuXHRcdG5ldyBTZXR0aW5nKHNvY2lhbFNlY3Rpb24pXHJcblx0XHRcdC5zZXRIZWFkaW5nKClcclxuXHRcdFx0LnNldE5hbWUoJ1NvY2lhbCBsaW5rcycpXHJcblx0XHRcdC5zZXREZXNjKCdBZGQgb3IgcmVtb3ZlIHNvY2lhbCBtZWRpYSBsaW5rcy4nKTtcclxuXHJcblx0XHQvLyBEaXNwbGF5IGV4aXN0aW5nIHNvY2lhbCBsaW5rcyB1c2luZyBwcm9ncmFtbWF0aWMgRE9NIGNyZWF0aW9uXHJcblx0XHRjb25zdCBzb2NpYWxMaXN0ID0gc29jaWFsU2VjdGlvbi5jcmVhdGVEaXYoJ25hdi1pdGVtcycpO1xyXG5cdFx0c29jaWFsTGlzdC5pZCA9ICdzb2NpYWwtbGlzdCc7XHJcblx0XHRcclxuXHRcdHNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsLmZvckVhY2goKHNvY2lhbCwgaW5kZXgpID0+IHtcclxuXHRcdFx0dGhpcy5yZW5kZXJTb2NpYWxJdGVtKHNvY2lhbExpc3QsIHNvY2lhbCwgaW5kZXgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIHNvY2lhbCBsaW5rIGJ1dHRvblxyXG5cdFx0bmV3IFNldHRpbmcoc29jaWFsU2VjdGlvbilcclxuXHRcdFx0LnNldE5hbWUoJ0FkZCBzb2NpYWwgbGluaycpXHJcblx0XHRcdC5zZXREZXNjKCdBZGQgYSBuZXcgc29jaWFsIG1lZGlhIGxpbmsnKVxyXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdFx0Ly8gXCIrIEFkZCBzb2NpYWwgbGlua1wiIGlzIGEgYnV0dG9uIGxhYmVsLCBrZWVwIGFzIGlzXHJcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnKyBBZGQgc29jaWFsIGxpbmsnKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsLnB1c2goeyB0aXRsZTogJ05ldyBTb2NpYWwnLCB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tJywgaWNvbjogJycgfSk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnU29jaWFsIGxpbmsgYWRkZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7IC8vIFJlLXJlbmRlclxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHJcblx0XHQvLyBOYXZpZ2F0aW9uIE9wdGlvbnMgZ3JvdXAgd2l0aCBoZWFkaW5nXHJcblx0XHRjb25zdCBuYXZPcHRpb25zR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ05hdmlnYXRpb24gb3B0aW9ucycsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XHJcblxyXG5cdFx0Ly8gU2hvdyBuYXZpZ2F0aW9uIHRvZ2dsZVxyXG5cdFx0bmF2T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTaG93IG5hdmlnYXRpb24nKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdEaXNwbGF5IG5hdmlnYXRpb24gbWVudSBvbiB5b3VyIHNpdGUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLm5hdmlnYXRpb24uc2hvd05hdmlnYXRpb24gPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TmF2aWdhdGlvbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgTmF2aWdhdGlvbiAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBOYXZpZ2F0aW9uIHN0eWxlIGRyb3Bkb3duXHJcblx0XHRuYXZPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ05hdmlnYXRpb24gc3R5bGUnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdDaG9vc2UgYmV0d2VlbiBtaW5pbWFsIG9yIHRyYWRpdGlvbmFsIG5hdmlnYXRpb24gc3R5bGUnKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbigndHJhZGl0aW9uYWwnLCAnVHJhZGl0aW9uYWwnKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignbWluaW1hbCcsICdNaW5pbWFsJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5uYXZpZ2F0aW9uLnN0eWxlIHx8ICd0cmFkaXRpb25hbCcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24uc3R5bGUgPSB2YWx1ZSBhcyAnbWluaW1hbCcgfCAndHJhZGl0aW9uYWwnO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgTmF2aWdhdGlvbiBzdHlsZSBjaGFuZ2VkIHRvICR7dmFsdWV9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gU2hvdyBtb2JpbGUgbWVudSB0b2dnbGVcclxuXHRcdG5hdk9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2hvdyBtb2JpbGUgbWVudScpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgbW9iaWxlIG5hdmlnYXRpb24gbWVudSBvbiBzbWFsbGVyIHNjcmVlbnMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLm5hdmlnYXRpb24uc2hvd01vYmlsZU1lbnUgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TW9iaWxlTWVudSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgTW9iaWxlIG1lbnUgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gU2V0dXAgZXZlbnQgZGVsZWdhdGlvbiBmb3IgaW5wdXQgZmllbGRzIGFuZCByZW1vdmUgYnV0dG9uc1xyXG5cdFx0Ly8gVGhpcyBtdXN0IGJlIGRvbmUgQUZURVIgYWxsIERPTSBlbGVtZW50cyBhcmUgY3JlYXRlZFxyXG5cdFx0dGhpcy5zZXR1cEV2ZW50RGVsZWdhdGlvbihjb250YWluZXIpO1xyXG5cdFx0XHJcblx0XHQvLyBEcmFnIGFuZCBkcm9wIGZ1bmN0aW9uYWxpdHlcclxuXHRcdHRoaXMuc2V0dXBEcmFnQW5kRHJvcChjb250YWluZXIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXR1cERyYWdBbmREcm9wKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGxldCBkcmFnZ2VkRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcblx0XHQvLyBDcmVhdGUgaGFuZGxlcnNcclxuXHRcdGNvbnN0IGRyYWdTdGFydEhhbmRsZXIgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWl0ZW0nKSkge1xyXG5cdFx0XHRcdGRyYWdnZWRFbGVtZW50ID0gdGFyZ2V0O1xyXG5cdFx0XHRcdHRhcmdldC5zZXRDc3NQcm9wcyh7IG9wYWNpdHk6ICcwLjUnIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGRyYWdFbmRIYW5kbGVyID0gKGU6IERyYWdFdmVudCkgPT4ge1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1pdGVtJykpIHtcclxuXHRcdFx0XHR0YXJnZXQuc2V0Q3NzUHJvcHMoeyBvcGFjaXR5OiAnMScgfSk7XHJcblx0XHRcdFx0ZHJhZ2dlZEVsZW1lbnQgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGRyYWdPdmVySGFuZGxlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1pdGVtJykgJiYgZHJhZ2dlZEVsZW1lbnQgJiYgdGFyZ2V0ICE9PSBkcmFnZ2VkRWxlbWVudCkge1xyXG5cdFx0XHRcdGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblx0XHRcdFx0Y29uc3QgbWlkcG9pbnQgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoZS5jbGllbnRZIDwgbWlkcG9pbnQpIHtcclxuXHRcdFx0XHRcdHRhcmdldC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0XHRcdGJvcmRlclRvcDogJzJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJyxcclxuXHRcdFx0XHRcdFx0Ym9yZGVyQm90dG9tOiAnbm9uZSdcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0YXJnZXQuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0XHRib3JkZXJCb3R0b206ICcycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KScsXHJcblx0XHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgZHJhZ0xlYXZlSGFuZGxlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtaXRlbScpKSB7XHJcblx0XHRcdFx0dGFyZ2V0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxyXG5cdFx0XHRcdFx0Ym9yZGVyQm90dG9tOiAnbm9uZSdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBkcm9wSGFuZGxlciA9IGFzeW5jIChlOiBEcmFnRXZlbnQpID0+IHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtaXRlbScpICYmIGRyYWdnZWRFbGVtZW50KSB7XHJcblx0XHRcdFx0Y29uc3QgdGFyZ2V0SW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRjb25zdCBkcmFnZ2VkSW5kZXggPSBwYXJzZUludChkcmFnZ2VkRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdGNvbnN0IGlzUGFnZSA9IHRhcmdldC5jbG9zZXN0KCcjcGFnZXMtbGlzdCcpO1xyXG5cdFx0XHRcdGNvbnN0IGlzU29jaWFsID0gdGFyZ2V0LmNsb3Nlc3QoJyNzb2NpYWwtbGlzdCcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIENsZWFyIHZpc3VhbCBpbmRpY2F0b3JzXHJcblx0XHRcdFx0dGFyZ2V0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxyXG5cdFx0XHRcdFx0Ym9yZGVyQm90dG9tOiAnbm9uZSdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAodGFyZ2V0SW5kZXggIT09IGRyYWdnZWRJbmRleCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudFNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0aWYgKGlzUGFnZSkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBuZXdQYWdlcyA9IFsuLi5jdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc107XHJcblx0XHRcdFx0XHRcdGNvbnN0IGRyYWdnZWRJdGVtID0gbmV3UGFnZXMuc3BsaWNlKGRyYWdnZWRJbmRleCwgMSlbMF07XHJcblx0XHRcdFx0XHRcdG5ld1BhZ2VzLnNwbGljZSh0YXJnZXRJbmRleCwgMCwgZHJhZ2dlZEl0ZW0pO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXMgPSBuZXdQYWdlcztcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaXNTb2NpYWwpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbmV3U29jaWFsID0gWy4uLmN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbF07XHJcblx0XHRcdFx0XHRcdGNvbnN0IGRyYWdnZWRJdGVtID0gbmV3U29jaWFsLnNwbGljZShkcmFnZ2VkSW5kZXgsIDEpWzBdO1xyXG5cdFx0XHRcdFx0XHRuZXdTb2NpYWwuc3BsaWNlKHRhcmdldEluZGV4LCAwLCBkcmFnZ2VkSXRlbSk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5zb2NpYWwgPSBuZXdTb2NpYWw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFNhdmUgY2hhbmdlc1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoY3VycmVudFNldHRpbmdzKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBSZS1yZW5kZXIgdG8gdXBkYXRlIGRhdGEgaW5kaWNlcyBhbmQgdmlzdWFsIG9yZGVyXHJcblx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBSZW1vdmUgb2xkIGhhbmRsZXJzIGlmIHRoZXkgZXhpc3RcclxuXHRcdGludGVyZmFjZSBDb250YWluZXJXaXRoSGFuZGxlcnMgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcblx0XHRcdF9kcmFnU3RhcnRIYW5kbGVyPzogKGV2OiBEcmFnRXZlbnQpID0+IHZvaWQ7XHJcblx0XHRcdF9kcmFnRW5kSGFuZGxlcj86IChldjogRHJhZ0V2ZW50KSA9PiB2b2lkO1xyXG5cdFx0XHRfZHJhZ092ZXJIYW5kbGVyPzogKGV2OiBEcmFnRXZlbnQpID0+IHZvaWQ7XHJcblx0XHRcdF9kcmFnTGVhdmVIYW5kbGVyPzogKGV2OiBEcmFnRXZlbnQpID0+IHZvaWQ7XHJcblx0XHRcdF9kcm9wSGFuZGxlcj86IChldjogRHJhZ0V2ZW50KSA9PiB2b2lkO1xyXG5cdFx0XHRfcmVtb3ZlSGFuZGxlcj86IChldjogTW91c2VFdmVudCkgPT4gdm9pZDtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGNvbnRhaW5lcldpdGhIYW5kbGVycyA9IGNvbnRhaW5lciBhcyBDb250YWluZXJXaXRoSGFuZGxlcnM7XHJcblx0XHRcclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdTdGFydEhhbmRsZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ1N0YXJ0SGFuZGxlcik7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnRW5kSGFuZGxlciEpO1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdPdmVySGFuZGxlciEpO1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnTGVhdmVIYW5kbGVyISk7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdkcm9wJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcm9wSGFuZGxlciEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFN0b3JlIGhhbmRsZXJzIGZvciBsYXRlciByZW1vdmFsXHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdTdGFydEhhbmRsZXIgPSBkcmFnU3RhcnRIYW5kbGVyO1xyXG5cdFx0Y29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnRW5kSGFuZGxlciA9IGRyYWdFbmRIYW5kbGVyO1xyXG5cdFx0Y29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnT3ZlckhhbmRsZXIgPSBkcmFnT3ZlckhhbmRsZXI7XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdMZWF2ZUhhbmRsZXIgPSBkcmFnTGVhdmVIYW5kbGVyO1xyXG5cdFx0Y29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcm9wSGFuZGxlciA9IGRyb3BIYW5kbGVyO1xyXG5cclxuXHRcdC8vIEFkZCBuZXcgaGFuZGxlcnNcclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdTdGFydEhhbmRsZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ1N0YXJ0SGFuZGxlcik7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnRW5kSGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ0VuZEhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ092ZXJIYW5kbGVyKSB7XHJcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ092ZXJIYW5kbGVyKTtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdMZWF2ZUhhbmRsZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ0xlYXZlSGFuZGxlcik7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcm9wSGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJvcEhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXR1cEV2ZW50RGVsZWdhdGlvbihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuXHRcdFxyXG5cdFx0Ly8gRmluZCB0aGUgbGlzdHNcclxuXHRcdGNvbnN0IHBhZ2VzTGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcGFnZXMtbGlzdCcpO1xyXG5cdFx0Y29uc3Qgc29jaWFsTGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc29jaWFsLWxpc3QnKTtcclxuXHRcdFxyXG5cdFx0Ly8gSGFuZGxlIGlucHV0IGNoYW5nZXMgZm9yIHBhZ2VzXHJcblx0XHRpZiAocGFnZXNMaXN0KSB7XHJcblx0XHRcdHBhZ2VzTGlzdC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXRpdGxlJykpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLm5hdi1pdGVtJyk7XHJcblx0XHRcdFx0XHRjb25zdCBpbmRleCA9IHBhcnNlSW50KGl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS50aXRsZSA9IHRhcmdldC52YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGVib3VuY2VkU2F2ZSgpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXVybCcpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBwYXJzZUludChpdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0Ly8gSWYgVVJMIGlzIGVtcHR5LCByZW1vdmUgaXQgKG1ha2VzIGl0IGRyb3Bkb3duLW9ubHkpLiBPdGhlcndpc2UsIHNldCBpdC5cclxuXHRcdFx0XHRcdGlmICh0YXJnZXQudmFsdWUudHJpbSgpID09PSAnJykge1xyXG5cdFx0XHRcdFx0XHRkZWxldGUgc2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1tpbmRleF0udXJsO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1tpbmRleF0udXJsID0gdGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5kZWJvdW5jZWRTYXZlKCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtY2hpbGQtdGl0bGUnKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRJdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtY2hpbGQtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50SW5kZXggPSBwYXJzZUludChjaGlsZEl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRjb25zdCBjaGlsZEluZGV4ID0gcGFyc2VJbnQoY2hpbGRJdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2hpbGQtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbikge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbltjaGlsZEluZGV4XSkge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbltjaGlsZEluZGV4XSA9IHsgdGl0bGU6ICcnLCB1cmw6ICcnIH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbltjaGlsZEluZGV4XS50aXRsZSA9IHRhcmdldC52YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGVib3VuY2VkU2F2ZSgpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWNoaWxkLXVybCcpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBjaGlsZEl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLm5hdi1jaGlsZC1pdGVtJyk7XHJcblx0XHRcdFx0XHRjb25zdCBwYXJlbnRJbmRleCA9IHBhcnNlSW50KGNoaWxkSXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdGNvbnN0IGNoaWxkSW5kZXggPSBwYXJzZUludChjaGlsZEl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1jaGlsZC1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuKSB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuID0gW107XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdKSB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdID0geyB0aXRsZTogJycsIHVybDogJycgfTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdLnVybCA9IHRhcmdldC52YWx1ZTtcclxuXHRcdFx0XHRcdHRoaXMuZGVib3VuY2VkU2F2ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSGFuZGxlIGlucHV0IGNoYW5nZXMgZm9yIHNvY2lhbCBsaW5rc1xyXG5cdFx0aWYgKHNvY2lhbExpc3QpIHtcclxuXHRcdFx0c29jaWFsTGlzdC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXRpdGxlJykgfHwgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXVybCcpIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1pY29uJykpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLm5hdi1pdGVtJyk7XHJcblx0XHRcdFx0XHRjb25zdCBpbmRleCA9IHBhcnNlSW50KGl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZCA9IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi10aXRsZScpID8gJ3RpdGxlJyA6IFxyXG5cdFx0XHRcdFx0XHRcdFx0IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi11cmwnKSA/ICd1cmwnIDogJ2ljb24nO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbFtpbmRleF1bZmllbGRdID0gdGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5kZWJvdW5jZWRTYXZlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBIYW5kbGUgcmVtb3ZlIGJ1dHRvbiBjbGlja3MgYW5kIGFkZCBjaGlsZCBidXR0b24gLSB1c2UgZXZlbnQgZGVsZWdhdGlvbiBvbiBjb250YWluZXJcclxuXHRcdC8vIFRoaXMgaXMgbW9yZSByZWxpYWJsZSB0aGFuIGF0dGFjaGluZyB0byBlYWNoIGJ1dHRvblxyXG5cdFx0Y29uc3QgcmVtb3ZlSGFuZGxlciA9IGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXJlbW92ZScpKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Y29uc3QgaXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWl0ZW0nKTtcclxuXHRcdFx0XHRjb25zdCBpbmRleCA9IHBhcnNlSW50KGl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0Y29uc3QgaXNQYWdlID0gaXRlbT8uY2xvc2VzdCgnI3BhZ2VzLWxpc3QnKTtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50U2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7IC8vIEdldCBmcmVzaCBzZXR0aW5nc1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIChpc1BhZ2UpIHtcclxuXHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShjdXJyZW50U2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oZmFsc2UpO1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnTmF2aWdhdGlvbiBwYWdlIHJlbW92ZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XHJcblx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpOyAvLyBSZS1yZW5kZXIgdG8gdXBkYXRlIGluZGljZXNcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShjdXJyZW50U2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oZmFsc2UpO1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnU29jaWFsIGxpbmsgcmVtb3ZlZCBhbmQgYXBwbGllZCB0byBjb25maWcudHMnKTtcclxuXHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7IC8vIFJlLXJlbmRlciB0byB1cGRhdGUgaW5kaWNlc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtY2hpbGQtcmVtb3ZlJykpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjb25zdCBwYXJlbnRJbmRleCA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdGNvbnN0IGNoaWxkSW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNoaWxkLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50U2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbikge1xyXG5cdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAxKTtcclxuXHRcdFx0XHRcdC8vIFJlbW92ZSBjaGlsZHJlbiBhcnJheSBpZiBlbXB0eVxyXG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0ZGVsZXRlIGN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKGN1cnJlbnRTZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbihmYWxzZSk7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdDaGlsZCBwYWdlIHJlbW92ZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XHJcblx0XHRcdFx0XHQvLyBIaWRlIGNoaWxkcmVuIGNvbnRhaW5lciBpZiBubyBjaGlsZHJlbiBsZWZ0XHJcblx0XHRcdFx0XHRjb25zdCBuYXZJdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRyZW5Db250YWluZXIgPSBuYXZJdGVtPy5xdWVyeVNlbGVjdG9yKCcubmF2LWNoaWxkcmVuLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHRcdFx0XHRcdGlmIChjaGlsZHJlbkNvbnRhaW5lciAmJiAoIWN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbiB8fCBjdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4ubGVuZ3RoID09PSAwKSkge1xyXG5cdFx0XHRcdFx0XHRjaGlsZHJlbkNvbnRhaW5lci5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1hZGQtY2hpbGQnKSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0Y29uc3QgY3VycmVudFNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmICghY3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbaW5kZXhdLmNoaWxkcmVuKSB7XHJcblx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1tpbmRleF0uY2hpbGRyZW4gPSBbXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB0aXRsZTogJ05ldyBDaGlsZCcsIHVybDogJy9uZXctY2hpbGQnIH0pO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKGN1cnJlbnRTZXR0aW5ncyk7XHJcblx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKGZhbHNlKTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdDaGlsZCBwYWdlIGFkZGVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xyXG5cdFx0XHRcdC8vIFNob3cgdGhlIGNoaWxkcmVuIGNvbnRhaW5lciBpZiBpdCB3YXMgaGlkZGVuXHJcblx0XHRcdFx0Y29uc3QgbmF2SXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWl0ZW0nKTtcclxuXHRcdFx0XHRjb25zdCBjaGlsZHJlbkNvbnRhaW5lciA9IG5hdkl0ZW0/LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtY2hpbGRyZW4tY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0aWYgKGNoaWxkcmVuQ29udGFpbmVyKSB7XHJcblx0XHRcdFx0XHRjaGlsZHJlbkNvbnRhaW5lci5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdibG9jaycgfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHRcdFx0Ly8gUmUtc2V0IGljb25zIGFmdGVyIHJlbmRlciAoaW5jbHVkaW5nIG5ldyBjaGlsZCBidXR0b25zKVxyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbltkYXRhLWljb249XCJ0cmFzaFwiXScpLmZvckVhY2goKGJ1dHRvbikgPT4ge1xyXG5cdFx0XHRcdFx0XHRidXR0b24udGV4dENvbnRlbnQgPSAnJztcclxuXHRcdFx0XHRcdFx0c2V0SWNvbihidXR0b24gYXMgSFRNTEVsZW1lbnQsICd0cmFzaCcpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgcmVtb3ZlIGhhbmRsZXIgdG8gcHJldmVudCBkdXBsaWNhdGVzXHJcblx0XHRpbnRlcmZhY2UgQ29udGFpbmVyV2l0aEhhbmRsZXJzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xyXG5cdFx0XHRfcmVtb3ZlSGFuZGxlcj86IChldjogTW91c2VFdmVudCkgPT4gdm9pZDtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGNvbnRhaW5lcldpdGhIYW5kbGVycyA9IGNvbnRhaW5lciBhcyBDb250YWluZXJXaXRoSGFuZGxlcnM7XHJcblx0XHRpZiAoY29udGFpbmVyV2l0aEhhbmRsZXJzLl9yZW1vdmVIYW5kbGVyKSB7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fcmVtb3ZlSGFuZGxlcik7XHJcblx0XHR9XHJcblx0XHQvLyBTdG9yZSB0aGUgaGFuZGxlciBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyXHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX3JlbW92ZUhhbmRsZXIgPSByZW1vdmVIYW5kbGVyO1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9yZW1vdmVIYW5kbGVyKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGVib3VuY2VkU2F2ZSgpOiB2b2lkIHtcclxuXHRcdC8vIENsZWFyIGV4aXN0aW5nIHRpbWVvdXRcclxuXHRcdGlmICh0aGlzLnNhdmVUaW1lb3V0SWQpIHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuc2F2ZVRpbWVvdXRJZCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIFNldCBuZXcgdGltZW91dFxyXG5cdFx0dGhpcy5zYXZlVGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMuZ2V0U2V0dGluZ3MoKSk7XHJcblx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKGZhbHNlKTsgLy8gTm8gbm90aWZpY2F0aW9uIGZvciBkcmFnIGFuZCBkcm9wXHJcblx0XHR9LCAxMDAwKTsgLy8gMSBzZWNvbmQgZGVib3VuY2VcclxuXHR9XHJcblx0XHJcblx0cHJpdmF0ZSByZW5kZXJQYWdlSXRlbShjb250YWluZXI6IEhUTUxFbGVtZW50LCBwYWdlOiBOYXZpZ2F0aW9uSXRlbSwgaW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0Y29uc3QgaGFzQ2hpbGRyZW4gPSBwYWdlLmNoaWxkcmVuICYmIHBhZ2UuY2hpbGRyZW4ubGVuZ3RoID4gMDtcclxuXHRcdFxyXG5cdFx0Y29uc3QgbmF2SXRlbSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ25hdi1pdGVtJyk7XHJcblx0XHRuYXZJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0bmF2SXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGl0ZW1Db250ZW50ID0gbmF2SXRlbS5jcmVhdGVEaXYoJ25hdi1pdGVtLWNvbnRlbnQnKTtcclxuXHRcdGNvbnN0IGl0ZW1GaWVsZHMgPSBpdGVtQ29udGVudC5jcmVhdGVEaXYoJ25hdi1pdGVtLWZpZWxkcycpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0aXRsZUlucHV0ID0gaXRlbUZpZWxkcy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LXRpdGxlJyxcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJ1BhZ2UgdGl0bGUnLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR0aXRsZUlucHV0LnZhbHVlID0gcGFnZS50aXRsZSB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgdXJsSW5wdXQgPSBpdGVtRmllbGRzLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtdXJsJyxcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJy9wYWdlLXVybCAobGVhdmUgZW1wdHkgZm9yIGRyb3Bkb3duLW9ubHkpJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0dXJsSW5wdXQudmFsdWUgPSBwYWdlLnVybCB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgaXRlbUFjdGlvbnMgPSBpdGVtQ29udGVudC5jcmVhdGVEaXYoJ25hdi1pdGVtLWFjdGlvbnMnKTtcclxuXHRcdGl0ZW1BY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XHJcblx0XHRcdC8vIFwiKyBDaGlsZFwiIGlzIGEgYnV0dG9uIGxhYmVsLCBrZWVwIGFzIGlzXHJcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0dGV4dDogJysgQ2hpbGQnLFxyXG5cdFx0XHRjbHM6ICduYXYtYWRkLWNoaWxkJyxcclxuXHRcdFx0YXR0cjogeyAnZGF0YS1pbmRleCc6IGluZGV4LnRvU3RyaW5nKCksIHRpdGxlOiAnQWRkIGNoaWxkIHBhZ2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCByZW1vdmVCdG4gPSBpdGVtQWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRjbHM6ICduYXYtcmVtb3ZlIG1vZC13YXJuaW5nJyxcclxuXHRcdFx0YXR0cjogeyAnZGF0YS1pbmRleCc6IGluZGV4LnRvU3RyaW5nKCksICdkYXRhLWljb24nOiAndHJhc2gnLCB0aXRsZTogJ1JlbW92ZScsICdhcmlhLWxhYmVsJzogJ1JlbW92ZScgfVxyXG5cdFx0fSk7XHJcblx0XHRzZXRJY29uKHJlbW92ZUJ0biwgJ3RyYXNoJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGNoaWxkcmVuQ29udGFpbmVyID0gbmF2SXRlbS5jcmVhdGVEaXYoJ25hdi1jaGlsZHJlbi1jb250YWluZXInKTtcclxuXHRcdGNoaWxkcmVuQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1wYXJlbnQtaW5kZXgnLCBpbmRleC50b1N0cmluZygpKTtcclxuXHRcdGlmICghaGFzQ2hpbGRyZW4pIHtcclxuXHRcdFx0Y2hpbGRyZW5Db250YWluZXIuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNoaWxkcmVuQ29udGFpbmVyLmNyZWF0ZURpdignbmF2LWNoaWxkcmVuLWxhYmVsJykudGV4dENvbnRlbnQgPSAnQ2hpbGQgcGFnZXM6JztcclxuXHRcdGNvbnN0IGNoaWxkcmVuRGl2ID0gY2hpbGRyZW5Db250YWluZXIuY3JlYXRlRGl2KCduYXYtY2hpbGRyZW4nKTtcclxuXHRcdGNoaWxkcmVuRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1wYXJlbnQtaW5kZXgnLCBpbmRleC50b1N0cmluZygpKTtcclxuXHRcdFxyXG5cdFx0aWYgKGhhc0NoaWxkcmVuICYmIHBhZ2UuY2hpbGRyZW4pIHtcclxuXHRcdFx0cGFnZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCwgY2hpbGRJbmRleCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucmVuZGVyQ2hpbGRJdGVtKGNoaWxkcmVuRGl2LCBjaGlsZCwgaW5kZXgsIGNoaWxkSW5kZXgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0cHJpdmF0ZSByZW5kZXJDaGlsZEl0ZW0oY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY2hpbGQ6IE5hdmlnYXRpb25JdGVtLCBwYXJlbnRJbmRleDogbnVtYmVyLCBjaGlsZEluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGNoaWxkSXRlbSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ25hdi1jaGlsZC1pdGVtJyk7XHJcblx0XHRjaGlsZEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgcGFyZW50SW5kZXgudG9TdHJpbmcoKSk7XHJcblx0XHRjaGlsZEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWNoaWxkLWluZGV4JywgY2hpbGRJbmRleC50b1N0cmluZygpKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgaXRlbUZpZWxkcyA9IGNoaWxkSXRlbS5jcmVhdGVEaXYoJ25hdi1pdGVtLWZpZWxkcycpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0aXRsZUlucHV0ID0gaXRlbUZpZWxkcy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LWNoaWxkLXRpdGxlJyxcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJ0NoaWxkIHRpdGxlJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0dGl0bGVJbnB1dC52YWx1ZSA9IGNoaWxkLnRpdGxlIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCB1cmxJbnB1dCA9IGl0ZW1GaWVsZHMuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi1jaGlsZC11cmwnLFxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnL2NoaWxkLXVybCcsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdHVybElucHV0LnZhbHVlID0gY2hpbGQudXJsIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCByZW1vdmVCdG4gPSBjaGlsZEl0ZW0uY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuXHRcdFx0Y2xzOiAnbmF2LWNoaWxkLXJlbW92ZSBtb2Qtd2FybmluZycsXHJcblx0XHRcdGF0dHI6IHtcclxuXHRcdFx0XHQnZGF0YS1pbmRleCc6IHBhcmVudEluZGV4LnRvU3RyaW5nKCksXHJcblx0XHRcdFx0J2RhdGEtY2hpbGQtaW5kZXgnOiBjaGlsZEluZGV4LnRvU3RyaW5nKCksXHJcblx0XHRcdFx0J2RhdGEtaWNvbic6ICd0cmFzaCcsXHJcblx0XHRcdFx0dGl0bGU6ICdSZW1vdmUnLFxyXG5cdFx0XHRcdCdhcmlhLWxhYmVsJzogJ1JlbW92ZSdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRzZXRJY29uKHJlbW92ZUJ0biwgJ3RyYXNoJyk7XHJcblx0fVxyXG5cdFxyXG5cdHByaXZhdGUgcmVuZGVyU29jaWFsSXRlbShjb250YWluZXI6IEhUTUxFbGVtZW50LCBzb2NpYWw6IHsgdGl0bGU6IHN0cmluZzsgdXJsOiBzdHJpbmc7IGljb246IHN0cmluZyB9LCBpbmRleDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHRjb25zdCBuYXZJdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdignbmF2LWl0ZW0nKTtcclxuXHRcdG5hdkl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgaW5kZXgudG9TdHJpbmcoKSk7XHJcblx0XHRuYXZJdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgaXRlbUNvbnRlbnQgPSBuYXZJdGVtLmNyZWF0ZURpdignbmF2LWl0ZW0tY29udGVudCcpO1xyXG5cdFx0Y29uc3QgaXRlbUZpZWxkcyA9IGl0ZW1Db250ZW50LmNyZWF0ZURpdignbmF2LWl0ZW0tZmllbGRzJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHRpdGxlSW5wdXQgPSBpdGVtRmllbGRzLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtdGl0bGUnLFxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnU29jaWFsIHRpdGxlJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0dGl0bGVJbnB1dC52YWx1ZSA9IHNvY2lhbC50aXRsZSB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgdXJsSW5wdXQgPSBpdGVtRmllbGRzLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtdXJsJyxcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR1cmxJbnB1dC52YWx1ZSA9IHNvY2lhbC51cmwgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IHJlbW92ZUJ0biA9IGl0ZW1Db250ZW50LmNyZWF0ZUVsKCdidXR0b24nLCB7XHJcblx0XHRcdGNsczogJ25hdi1yZW1vdmUgbW9kLXdhcm5pbmcnLFxyXG5cdFx0XHRhdHRyOiB7ICdkYXRhLWluZGV4JzogaW5kZXgudG9TdHJpbmcoKSwgJ2RhdGEtaWNvbic6ICd0cmFzaCcsIHRpdGxlOiAnUmVtb3ZlJywgJ2FyaWEtbGFiZWwnOiAnUmVtb3ZlJyB9XHJcblx0XHR9KTtcclxuXHRcdHNldEljb24ocmVtb3ZlQnRuLCAndHJhc2gnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgaWNvblJvdyA9IG5hdkl0ZW0uY3JlYXRlRGl2KCduYXYtaWNvbi1yb3cnKTtcclxuXHRcdGNvbnN0IGljb25JbnB1dCA9IGljb25Sb3cuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi1pY29uJyxcclxuXHRcdFx0YXR0cjogeyBwbGFjZWhvbGRlcjogJ0ljb24gbmFtZScsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdGljb25JbnB1dC52YWx1ZSA9IHNvY2lhbC5pY29uIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpY29uSGVscCA9IGljb25Sb3cuY3JlYXRlRGl2KCduYXYtaWNvbi1oZWxwJyk7XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJGb250QXdlc29tZSBCcmFuZHNcIiBpcyBhIHByb3BlciBub3VuIChwcm9kdWN0IG5hbWUpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdGljb25IZWxwLmNyZWF0ZUVsKCdzbWFsbCcsIHsgdGV4dDogJ0ljb24gbmFtZXMgZnJvbSBGb250QXdlc29tZSBCcmFuZHMnIH0pO1xyXG5cdH1cclxufSIsICJpbXBvcnQgeyBTZXR0aW5nLCBOb3RpY2UsIE1vZGFsLCBzZXRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgVGFiUmVuZGVyZXIgfSBmcm9tICcuLi9jb21tb24vVGFiUmVuZGVyZXInO1xuaW1wb3J0IHsgVEVNUExBVEVfT1BUSU9OUywgQXN0cm9Nb2R1bGFyUGx1Z2luLCBUZW1wbGF0ZVR5cGUsIEFzdHJvTW9kdWxhclNldHRpbmdzLCBDb21tYW5kUGFsZXR0ZVNldHRpbmdzLCBIb21lT3B0aW9ucywgUG9zdE9wdGlvbnMsIE5hdmlnYXRpb25TZXR0aW5ncywgUGx1Z2luQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IFByZXNldFdhcm5pbmdNb2RhbCB9IGZyb20gJy4uL1ByZXNldFdhcm5pbmdNb2RhbCc7XG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0dGluZ3MtY29tcGF0JztcblxuZXhwb3J0IGNsYXNzIENvbmZpZ1RhYiBleHRlbmRzIFRhYlJlbmRlcmVyIHtcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcblxuXHRcdC8vIEdyb3VwIGZpcnN0IHRocmVlIHNldHRpbmdzIHdpdGggbm8gaGVhZGluZ1xuXHRcdGNvbnN0IGNvbmZpZ0dyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXIsIHVuZGVmaW5lZCwgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcblxuXHRcdC8vIFRlbXBsYXRlIHNlbGVjdG9yXG5cdFx0Y29uZmlnR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnVGVtcGxhdGUnKVxuXHRcdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHlvdXIgY29udGVudCB0ZW1wbGF0ZScpXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdFx0VEVNUExBVEVfT1BUSU9OUy5mb3JFYWNoKHRlbXBsYXRlID0+IHtcblx0XHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbih0ZW1wbGF0ZS5pZCwgdGVtcGxhdGUubmFtZSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MuY3VycmVudFRlbXBsYXRlKTtcblx0XHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdC8vIFNob3cgd2FybmluZyBtb2RhbCBmb3IgdGVtcGxhdGUgY2hhbmdlc1xuXHRcdFx0XHRcdFx0Y29uc3QgY2hhbmdlcyA9IHRoaXMuZ2V0VGVtcGxhdGVDaGFuZ2VzKHZhbHVlIGFzIFRlbXBsYXRlVHlwZSk7XG5cdFx0XHRcdFx0XHRjb25zdCBtb2RhbCA9IG5ldyBQcmVzZXRXYXJuaW5nTW9kYWwoXG5cdFx0XHRcdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHRcdFx0XHRjaGFuZ2VzLFxuXHRcdFx0XHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFVzZXIgY29uZmlybWVkIC0gYXBwbHkgZXhhY3RseSBsaWtlIFRlbXBsYXRlU3RlcCBkb2VzXG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0ZW1wbGF0ZSBzZXR0aW5ncyBleGFjdGx5IGxpa2UgdGhlIHdpemFyZCBkb2VzXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnVwZGF0ZVBsdWdpblNldHRpbmdzV2l0aFRlbXBsYXRlKHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcGx1Z2luID0gdGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luO1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgcGx1Z2luLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBHZXQgZnJlc2ggc2V0dGluZ3MgYWZ0ZXIgcmVsb2FkXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBmcmVzaFNldHRpbmdzID0gcGx1Z2luLnNldHRpbmdzO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBBcHBseSB0aGUgY29uZmlndXJhdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2V0U3VjY2VzcyA9IHBsdWdpbi5jb25maWdNYW5hZ2VyLmFwcGx5UHJlc2V0KHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogZnJlc2hTZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZmVhdHVyZXM6IGZyZXNoU2V0dGluZ3MuZmVhdHVyZXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW1lOiBmcmVzaFNldHRpbmdzLmN1cnJlbnRUaGVtZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGVudE9yZ2FuaXphdGlvbjogZnJlc2hTZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWc6IGZyZXNoU2V0dGluZ3Ncblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAocHJlc2V0U3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUZW1wbGF0ZSBjaGFuZ2VkIHRvICR7dmFsdWV9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnRmFpbGVkIHRvIGFwcGx5IHRlbXBsYXRlIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgdGVtcGxhdGUgY2hhbmdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2VyIGNhbmNlbGxlZCAtIHJlc2V0IGRyb3Bkb3duIHRvIGN1cnJlbnQgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0bW9kYWwub3BlbigpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIERlcGxveW1lbnQgcGxhdGZvcm1cblx0XHRjb25maWdHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdEZXBsb3ltZW50Jylcblx0XHRcdFx0LnNldERlc2MoJ0Nob29zZSB5b3VyIGRlcGxveW1lbnQgcGxhdGZvcm0nKVxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignbmV0bGlmeScsICdOZXRsaWZ5Jyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCd2ZXJjZWwnLCAnVmVyY2VsJyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdnaXRodWItcGFnZXMnLCAnR2l0SHViIHBhZ2VzJyk7XG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiQ2xvdWRmbGFyZSBXb3JrZXJzXCIgaXMgYSBwcm9wZXIgbm91biAocHJvZHVjdCBuYW1lKSBhbmQgc2hvdWxkIGJlIGNhcGl0YWxpemVkXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignY2xvdWRmbGFyZS13b3JrZXJzJywgJ0Nsb3VkZmxhcmUgV29ya2VycycpO1xuXHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLmRlcGxveW1lbnQucGxhdGZvcm0pO1xuXHRcdFx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZGVwbG95bWVudC5wbGF0Zm9ybSA9IHZhbHVlIGFzICduZXRsaWZ5JyB8ICd2ZXJjZWwnIHwgJ2dpdGh1Yi1wYWdlcycgfCAnY2xvdWRmbGFyZS13b3JrZXJzJztcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBBcHBseSBjaGFuZ2VzIGltbWVkaWF0ZWx5IHRvIGNvbmZpZy50c1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYERlcGxveW1lbnQgcGxhdGZvcm0gY2hhbmdlZCB0byAke3ZhbHVlfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSBkZXBsb3ltZW50IHBsYXRmb3JtIGNoYW5nZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQ29udGVudCBvcmdhbml6YXRpb25cblx0XHRjb25maWdHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdDb250ZW50IG9yZ2FuaXphdGlvbicpXG5cdFx0XHRcdC5zZXREZXNjKCdDaG9vc2UgaG93IHRvIG9yZ2FuaXplIHlvdXIgY29udGVudCBhbmQgYXNzZXRzJylcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJ2ZpbGUtYmFzZWQnLCAnRmlsZS1iYXNlZCcpO1xuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignZm9sZGVyLWJhc2VkJywgJ0ZvbGRlci1iYXNlZCcpO1xuXHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24pO1xuXHRcdFx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbiA9IHZhbHVlIGFzICdmaWxlLWJhc2VkJyB8ICdmb2xkZXItYmFzZWQnO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIEJ1aWxkIHBsdWdpbiBjb25maWcgZHluYW1pY2FsbHkgYmFzZWQgb24gbmV3IGNvbnRlbnQgb3JnYW5pemF0aW9uIChsaWtlIHdpemFyZCBkb2VzKVxuXHRcdFx0XHRcdFx0Y29uc3QgY29udGVudE9yZyA9IHZhbHVlIGFzICdmaWxlLWJhc2VkJyB8ICdmb2xkZXItYmFzZWQnO1xuXHRcdFx0XHRcdFx0Y29uc3QgY29uZmlnOiBQbHVnaW5Db25maWd1cmF0aW9uID0ge1xuXHRcdFx0XHRcdFx0XHRvYnNpZGlhblNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0XHRcdGF0dGFjaG1lbnRMb2NhdGlvbjogKGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdzdWJmb2xkZXInIDogJ3NhbWUtZm9sZGVyJykgYXMgJ3N1YmZvbGRlcicgfCAnc2FtZS1mb2xkZXInLFxuXHRcdFx0XHRcdFx0XHRcdHN1YmZvbGRlck5hbWU6ICdhdHRhY2htZW50cydcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0YXN0cm9Db21wb3NlclNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0XHRcdGNyZWF0aW9uTW9kZTogKGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdmaWxlJyA6ICdmb2xkZXInKSBhcyAnZmlsZScgfCAnZm9sZGVyJyxcblx0XHRcdFx0XHRcdFx0XHRpbmRleEZpbGVOYW1lOiAnaW5kZXgnXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGltYWdlTWFuYWdlclNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VzdG9tUHJvcGVydHlMaW5rRm9ybWF0OiBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgXG5cdFx0XHRcdFx0XHRcdFx0XHQ/ICdbW2F0dGFjaG1lbnRzL3tpbWFnZS11cmx9XV0nIFxuXHRcdFx0XHRcdFx0XHRcdFx0OiAnW1t7aW1hZ2UtdXJsfV1dJ1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBDb25maWd1cmUgcGx1Z2lucyB3aXRoIHRoZSBuZXcgY29uZmlnXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5wbHVnaW5NYW5hZ2VyLmNvbmZpZ3VyZVBsdWdpbnMoY29uZmlnKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgYXR0YWNobWVudExvY2F0aW9uID0gY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ3N1YmZvbGRlciAoYXR0YWNobWVudHMvKScgOiAnc2FtZSBmb2xkZXInO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBjcmVhdGlvbk1vZGUgPSBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnZmlsZScgOiAnZm9sZGVyJztcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgQ29udGVudCBvcmdhbml6YXRpb24gY2hhbmdlZCB0byAke3ZhbHVlfVxcblxcblx1MjAyMiBPYnNpZGlhbjogQXR0YWNobWVudHMgXHUyMTkyICR7YXR0YWNobWVudExvY2F0aW9ufVxcblx1MjAyMiBBc3RybyBDb21wb3NlcjogQ3JlYXRpb24gbW9kZSBcdTIxOTIgJHtjcmVhdGlvbk1vZGV9XFxuXHUyMDIyIEltYWdlIE1hbmFnZXI6IEZvcm1hdCB1cGRhdGVkYCwgODAwMCk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gY29uZmlndXJlIHBsdWdpbnMgZm9yIGNvbnRlbnQgb3JnYW5pemF0aW9uOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHQvLyBBZGQgYm90dG9tIG1hcmdpbiB0byBsYXN0IHNldHRpbmcgaW4gZ3JvdXAgd2l0aG91dCBoZWFkaW5nIHRvIGNyZWF0ZSBzcGFjZSBiZWZvcmUgbmV4dCBoZWFkaW5nXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNpemUtNC02KSdcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gUGx1Z2luIGNvbmZpZ3VyYXRpb24gc2VjdGlvblxuXHRcdC8vIFBsdWdpbiBjb25maWd1cmF0aW9uIGhlYWRpbmcgd2l0aCBwcm9wZXIgc3BhY2luZ1xuXHRcdGNvbnN0IHBsdWdpbkNvbmZpZ0hlYWRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXIpXG5cdFx0XHQuc2V0SGVhZGluZygpXG5cdFx0XHQuc2V0TmFtZSgnUGx1Z2luIGNvbmZpZ3VyYXRpb24nKTtcblx0XHRwbHVnaW5Db25maWdIZWFkaW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRtYXJnaW5Ub3A6ICcwJyxcblx0XHRcdG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNpemUtNC0yKSdcblx0XHR9KTtcblx0XHRcblx0XHQvLyBHZXQgcGx1Z2luIHN0YXR1cyAoYXN5bmMsIHNvIHdlIG5lZWQgdG8gaGFuZGxlIHRoaXMpXG5cdFx0dm9pZCB0aGlzLnJlbmRlclBsdWdpblN0YXR1cyhjb250YWluZXIsIHNldHRpbmdzKTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyUGx1Z2luU3RhdHVzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IHZvaWQge1xuXHRcdC8vIEdldCBwbHVnaW4gc3RhdHVzXG5cdFx0Y29uc3QgY29udGVudE9yZyA9IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb247XG5cdFx0Y29uc3QgcGx1Z2luU3RhdHVzID0gKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikucGx1Z2luTWFuYWdlci5nZXRQbHVnaW5TdGF0dXMoY29udGVudE9yZyk7XG5cblx0XHQvLyBEaXNwbGF5IHBsdWdpbiBzdGF0dXNcblx0XHRjb25zdCBzdGF0dXNDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdwbHVnaW4tc3RhdHVzLWNvbnRhaW5lcicpO1xuXHRcdGNvbnN0IHBsdWdpblN0YXR1c0RpdiA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVEaXYoJ3BsdWdpbi1zdGF0dXMnKTtcblx0XHRcblx0XHRmb3IgKGNvbnN0IHBsdWdpbiBvZiBwbHVnaW5TdGF0dXMpIHtcblx0XHRcdGNvbnN0IGlzU2V0dGluZ3NDaGVjayA9IHBsdWdpbi5uYW1lID09PSAnQXR0YWNobWVudCBzZXR0aW5ncyc7XG5cdFx0XHRjb25zdCBpc0NvbmZpZ3VyZWQgPSBwbHVnaW4uaW5zdGFsbGVkOyAvLyBGb3Igc2V0dGluZ3MsIGluc3RhbGxlZCBtZWFucyBjb25maWd1cmVkXG5cdFx0XHRjb25zdCBoYXNTeW5jSXNzdWVzID0gcGx1Z2luLm91dE9mU3luY0NvbnRlbnRUeXBlcyAmJiBwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzLmxlbmd0aCA+IDA7XG5cdFx0XHQvLyBJZiBBTEwgY29udGVudCB0eXBlcyBhcmUgb3V0IG9mIHN5bmMgKDQgb3V0IG9mIDQpLCBpdCdzIFwiRG9lc24ndCBtYXRjaFwiLCBub3QgXCJQYXJ0aWFsbHkgY29uZmlndXJlZFwiXG5cdFx0XHRjb25zdCBhbGxPdXRPZlN5bmMgPSBoYXNTeW5jSXNzdWVzICYmIHBsdWdpbi5vdXRPZlN5bmNDb250ZW50VHlwZXMgJiYgcGx1Z2luLm91dE9mU3luY0NvbnRlbnRUeXBlcy5sZW5ndGggPT09IDQ7XG5cdFx0XHRjb25zdCBpc1BhcnRpYWxseUNvbmZpZ3VyZWQgPSBoYXNTeW5jSXNzdWVzICYmICFhbGxPdXRPZlN5bmMgJiYgcGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZDtcblx0XHRcdGNvbnN0IGFsbE1pc21hdGNoZWQgPSBhbGxPdXRPZlN5bmMgJiYgcGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZDtcblx0XHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgSW1hZ2UgTWFuYWdlciBhbmQgc2V0dGluZ3MgZG9uJ3QgbWF0Y2hcblx0XHRcdGNvbnN0IGlzSW1hZ2VNYW5hZ2VyID0gcGx1Z2luLm5hbWUgPT09ICdJbWFnZSBNYW5hZ2VyJztcblx0XHRcdGNvbnN0IGltYWdlTWFuYWdlck1pc21hdGNoID0gaXNJbWFnZU1hbmFnZXIgJiYgcGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZCAmJiBwbHVnaW4uc2V0dGluZ3NNYXRjaCA9PT0gZmFsc2U7XG5cdFx0XHRcblx0XHRcdC8vIERldGVybWluZSBpdGVtIGNsYXNzIGFuZCBzdHlsaW5nXG5cdFx0XHRsZXQgaXRlbUNsYXNzID0gJ3BsdWdpbi1pdGVtJztcblx0XHRcdGlmIChpc1NldHRpbmdzQ2hlY2spIHtcblx0XHRcdFx0aXRlbUNsYXNzICs9IGlzQ29uZmlndXJlZCA/ICcgaW5zdGFsbGVkJyA6ICcgbWlzc2luZyc7XG5cdFx0XHR9IGVsc2UgaWYgKGltYWdlTWFuYWdlck1pc21hdGNoIHx8IGFsbE1pc21hdGNoZWQpIHtcblx0XHRcdFx0Ly8gSW1hZ2UgTWFuYWdlciBzZXR0aW5ncyBkb24ndCBtYXRjaCBvciBhbGwgY29udGVudCB0eXBlcyBhcmUgb3V0IG9mIHN5bmMgLSBzaG93IGFzIFwibWlzc2luZ1wiIChyZWQgWClcblx0XHRcdFx0aXRlbUNsYXNzICs9ICcgbWlzc2luZyc7XG5cdFx0XHR9IGVsc2UgaWYgKGlzUGFydGlhbGx5Q29uZmlndXJlZCkge1xuXHRcdFx0XHRpdGVtQ2xhc3MgKz0gJyBwYXJ0aWFsbHktY29uZmlndXJlZCc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpdGVtQ2xhc3MgKz0gcGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZCA/ICcgaW5zdGFsbGVkJyA6ICcgbWlzc2luZyc7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IHBsdWdpbkl0ZW0gPSBwbHVnaW5TdGF0dXNEaXYuY3JlYXRlRGl2KGl0ZW1DbGFzcyk7XG5cdFx0XHRjb25zdCBpY29uID0gcGx1Z2luSXRlbS5jcmVhdGVEaXYoJ3BsdWdpbi1pY29uJyk7XG5cdFx0XHRcblx0XHRcdC8vIFNldCBpY29uIGJhc2VkIG9uIHN0YXR1cyB1c2luZyBzZXRJY29uXG5cdFx0XHRpZiAoaXNTZXR0aW5nc0NoZWNrKSB7XG5cdFx0XHRcdHNldEljb24oaWNvbiwgaXNDb25maWd1cmVkID8gJ2NoZWNrJyA6ICd4Jyk7XG5cdFx0XHR9IGVsc2UgaWYgKGltYWdlTWFuYWdlck1pc21hdGNoIHx8IGFsbE1pc21hdGNoZWQpIHtcblx0XHRcdFx0Ly8gSW1hZ2UgTWFuYWdlciBzZXR0aW5ncyBkb24ndCBtYXRjaCBvciBhbGwgY29udGVudCB0eXBlcyBhcmUgb3V0IG9mIHN5bmMgLSBzaG93IHJlZCBYXG5cdFx0XHRcdHNldEljb24oaWNvbiwgJ3gnKTtcblx0XHRcdH0gZWxzZSBpZiAoaXNQYXJ0aWFsbHlDb25maWd1cmVkKSB7XG5cdFx0XHRcdC8vIEFsZXJ0IHRyaWFuZ2xlIGljb24gKG5ldXRyYWwgd2FybmluZyBpY29uIGZyb20gTHVjaWRlKVxuXHRcdFx0XHRzZXRJY29uKGljb24sICdhbGVydC10cmlhbmdsZScpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2V0SWNvbihpY29uLCBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkID8gJ2NoZWNrJyA6ICd4Jyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IGluZm8gPSBwbHVnaW5JdGVtLmNyZWF0ZURpdigncGx1Z2luLWluZm8nKTtcblx0XHRcdGluZm8uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiBwbHVnaW4ubmFtZSB9KTtcblx0XHRcdFxuXHRcdFx0bGV0IHN0YXR1c1RleHQ6IHN0cmluZztcblx0XHRcdGlmIChpc1NldHRpbmdzQ2hlY2spIHtcblx0XHRcdFx0Ly8gRm9yIHNldHRpbmdzIGNoZWNrLCBpbnN0YWxsZWQgbWVhbnMgY29uZmlndXJlZFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gaXNDb25maWd1cmVkID8gJ0NvbmZpZ3VyZWQnIDogJ0RvZXNuXFwndCBtYXRjaCc7XG5cdFx0XHR9IGVsc2UgaWYgKCFwbHVnaW4uaW5zdGFsbGVkKSB7XG5cdFx0XHRcdHN0YXR1c1RleHQgPSAnTm90IGluc3RhbGxlZCc7XG5cdFx0XHR9IGVsc2UgaWYgKCFwbHVnaW4uZW5hYmxlZCkge1xuXHRcdFx0XHRzdGF0dXNUZXh0ID0gJ0Rpc2FibGVkJztcblx0XHRcdH0gZWxzZSBpZiAoaW1hZ2VNYW5hZ2VyTWlzbWF0Y2ggfHwgYWxsTWlzbWF0Y2hlZCkge1xuXHRcdFx0XHQvLyBTZXR0aW5ncyBkb24ndCBtYXRjaFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gJ0RvZXNuXFwndCBtYXRjaCc7XG5cdFx0XHR9IGVsc2UgaWYgKGlzUGFydGlhbGx5Q29uZmlndXJlZCkge1xuXHRcdFx0XHQvLyBTb21lIHNldHRpbmdzIGRvbid0IG1hdGNoXG5cdFx0XHRcdHN0YXR1c1RleHQgPSAnUGFydGlhbGx5IGNvbmZpZ3VyZWQnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gUGx1Z2luIGlzIGluc3RhbGxlZCwgZW5hYmxlZCwgYW5kIHNldHRpbmdzIG1hdGNoIChvciBubyBzZXR0aW5ncyB0byBjaGVjaylcblx0XHRcdFx0c3RhdHVzVGV4dCA9ICdDb25maWd1cmVkJztcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aW5mby5jcmVhdGVFbCgncCcsIHsgdGV4dDogc3RhdHVzVGV4dCB9KTtcblx0XHRcdFxuXHRcdFx0Ly8gQWRkIGRldGFpbHMgYWJvdXQgb3V0LW9mLXN5bmMgY29udGVudCB0eXBlc1xuXHRcdFx0aWYgKGhhc1N5bmNJc3N1ZXMgJiYgcGx1Z2luLm91dE9mU3luY0NvbnRlbnRUeXBlcykge1xuXHRcdFx0XHRjb25zdCBkZXRhaWxzUCA9IGluZm8uY3JlYXRlRWwoJ3AnLCB7IFxuXHRcdFx0XHRcdHRleHQ6IGBPdXQgb2Ygc3luYzogJHtwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzLmpvaW4oJywgJyl9YCxcblx0XHRcdFx0XHRjbHM6ICdzeW5jLWRldGFpbHMnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvLyBTZXQgZHluYW1pYyBzdHlsZXNcblx0XHRcdFx0ZGV0YWlsc1Auc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdGZvbnRTaXplOiAnMC45ZW0nLFxuXHRcdFx0XHRcdG9wYWNpdHk6ICcwLjgnLFxuXHRcdFx0XHRcdG1hcmdpblRvcDogJzRweCdcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUGx1Z2luIEFjdGlvbnMgZ3JvdXAgd2l0aCBoZWFkaW5nXG5cdFx0Y29uc3QgcGx1Z2luQWN0aW9uc0dyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXIsICdQbHVnaW4gYWN0aW9ucycsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XG5cblx0XHQvLyBSZS1hcHBseSBjb25maWd1cmF0aW9uIGJ1dHRvblxuXHRcdHBsdWdpbkFjdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdSZS1hcHBseSBjb25maWd1cmF0aW9uJylcblx0XHRcdFx0LnNldERlc2MoJ1JlLWFwcGx5IHBsdWdpbiBzZXR0aW5ncyBiYXNlZCBvbiB5b3VyIGNvbnRlbnQgb3JnYW5pemF0aW9uIGNob2ljZSAodXNlZnVsIGlmIHNldHRpbmdzIHdlcmUgY2hhbmdlZCBtYW51YWxseSBvciBjb25maWd1cmF0aW9uIGZhaWxlZCknKVxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnUmUtYXBwbHkgY29uZmlndXJhdGlvbicpXG5cdFx0XHRcdFx0LnNldEN0YSgpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gQ3JlYXRlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gY3VycmVudCBjb250ZW50IG9yZ2FuaXphdGlvbiBjaG9pY2Vcblx0XHRcdFx0XHRcdGNvbnN0IGNvbnRlbnRPcmcgPSBzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uO1xuXHRcdFx0XHRcdFx0Y29uc3QgY29uZmlnOiBQbHVnaW5Db25maWd1cmF0aW9uID0ge1xuXHRcdFx0XHRcdFx0XHRvYnNpZGlhblNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0XHRcdGF0dGFjaG1lbnRMb2NhdGlvbjogKGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdzdWJmb2xkZXInIDogJ3NhbWUtZm9sZGVyJykgYXMgJ3N1YmZvbGRlcicgfCAnc2FtZS1mb2xkZXInLFxuXHRcdFx0XHRcdFx0XHRcdHN1YmZvbGRlck5hbWU6ICdhdHRhY2htZW50cydcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0YXN0cm9Db21wb3NlclNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0XHRcdGNyZWF0aW9uTW9kZTogKGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdmaWxlJyA6ICdmb2xkZXInKSBhcyAnZmlsZScgfCAnZm9sZGVyJyxcblx0XHRcdFx0XHRcdFx0XHRpbmRleEZpbGVOYW1lOiAnaW5kZXgnXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGltYWdlTWFuYWdlclNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VzdG9tUHJvcGVydHlMaW5rRm9ybWF0OiBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgXG5cdFx0XHRcdFx0XHRcdFx0XHQ/ICdbW2F0dGFjaG1lbnRzL3tpbWFnZS11cmx9XV0nIFxuXHRcdFx0XHRcdFx0XHRcdFx0OiAnW1t7aW1hZ2UtdXJsfV1dJ1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRjb25zdCBzdWNjZXNzID0gYXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikucGx1Z2luTWFuYWdlci5jb25maWd1cmVQbHVnaW5zKGNvbmZpZyk7XG5cdFx0XHRcdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHQvLyBTaG93IGRldGFpbGVkIHN1Y2Nlc3MgbWVzc2FnZVxuXHRcdFx0XHRcdFx0XHRjb25zdCBjb250ZW50T3JnID0gc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbjtcblx0XHRcdFx0XHRcdFx0Y29uc3QgYXR0YWNobWVudExvY2F0aW9uID0gY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ3N1YmZvbGRlciAoYXR0YWNobWVudHMvKScgOiAnc2FtZSBmb2xkZXInO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBjcmVhdGlvbk1vZGUgPSBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnZmlsZScgOiAnZm9sZGVyJztcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYENvbmZpZ3VyYXRpb24gcmUtYXBwbGllZCBzdWNjZXNzZnVsbHkhXFxuXFxuXHUyMDIyIE9ic2lkaWFuOiBBdHRhY2htZW50cyBcdTIxOTIgJHthdHRhY2htZW50TG9jYXRpb259XFxuXHUyMDIyIEFzdHJvIENvbXBvc2VyOiBDcmVhdGlvbiBtb2RlIFx1MjE5MiAke2NyZWF0aW9uTW9kZX1cXG5cdTIwMjIgSW1hZ2UgTWFuYWdlcjogRm9ybWF0IHVwZGF0ZWQgZm9yICR7Y29udGVudE9yZ31gLCA4MDAwKTtcblx0XHRcdFx0XHRcdFx0Ly8gUmVmcmVzaCB0aGUgcGx1Z2luIHN0YXR1cyBkaXNwbGF5XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHN0YXR1c0NvbnRhaW5lckVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wbHVnaW4tc3RhdHVzLWNvbnRhaW5lcicpO1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RhdHVzQ29udGFpbmVyRWwpIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb250YWluZXJFbC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbmRlclBsdWdpblN0YXR1cyhjb250YWluZXIsIHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gVGV4dCBpcyBhbHJlYWR5IGluIHNlbnRlbmNlIGNhc2Vcblx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgU29tZSBwbHVnaW5zIGNvdWxkIG5vdCBiZSBjb25maWd1cmVkIGF1dG9tYXRpY2FsbHkuIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuJywgNTAwMCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2hvdyBtYW51YWwgaW5zdHJ1Y3Rpb25zIGJ1dHRvblxuXHRcdHBsdWdpbkFjdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdTaG93IG1hbnVhbCBpbnN0cnVjdGlvbnMnKVxuXHRcdFx0XHQuc2V0RGVzYygnR2V0IHN0ZXAtYnktc3RlcCBpbnN0cnVjdGlvbnMgZm9yIG1hbnVhbCBjb25maWd1cmF0aW9uJylcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Nob3cgbWFudWFsIGluc3RydWN0aW9ucycpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdC8vIENyZWF0ZSBjb25maWd1cmF0aW9uIGJhc2VkIG9uIGN1cnJlbnQgY29udGVudCBvcmdhbml6YXRpb24gY2hvaWNlXG5cdFx0XHRcdFx0Y29uc3QgY29udGVudE9yZyA9IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb247XG5cdFx0XHRcdFx0Y29uc3QgY29uZmlnOiBQbHVnaW5Db25maWd1cmF0aW9uID0ge1xuXHRcdFx0XHRcdFx0b2JzaWRpYW5TZXR0aW5nczoge1xuXHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG5cdFx0XHRcdFx0XHRcdGF0dGFjaG1lbnRMb2NhdGlvbjogKGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdzdWJmb2xkZXInIDogJ3NhbWUtZm9sZGVyJykgYXMgJ3N1YmZvbGRlcicgfCAnc2FtZS1mb2xkZXInLFxuXHRcdFx0XHRcdFx0XHRzdWJmb2xkZXJOYW1lOiAnYXR0YWNobWVudHMnXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0YXN0cm9Db21wb3NlclNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cblx0XHRcdFx0XHRcdFx0Y3JlYXRpb25Nb2RlOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ2ZpbGUnIDogJ2ZvbGRlcicpIGFzICdmaWxlJyB8ICdmb2xkZXInLFxuXHRcdFx0XHRcdFx0XHRpbmRleEZpbGVOYW1lOiAnaW5kZXgnXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0aW1hZ2VNYW5hZ2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0Y3VzdG9tUHJvcGVydHlMaW5rRm9ybWF0OiBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgXG5cdFx0XHRcdFx0XHRcdFx0PyAnW1thdHRhY2htZW50cy97aW1hZ2UtdXJsfV1dJyBcblx0XHRcdFx0XHRcdFx0XHQ6ICdbW3tpbWFnZS11cmx9XV0nXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRjb25zdCBpbnN0cnVjdGlvbnMgPSAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5wbHVnaW5NYW5hZ2VyLmdldE1hbnVhbENvbmZpZ3VyYXRpb25JbnN0cnVjdGlvbnMoY29uZmlnKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBDcmVhdGUgYSBtb2RhbCB0byBzaG93IGluc3RydWN0aW9uc1xuXHRcdFx0XHRcdGNvbnN0IGluc3RydWN0aW9uTW9kYWwgPSBuZXcgTW9kYWwodGhpcy5hcHApO1xuXHRcdFx0XHRcdGluc3RydWN0aW9uTW9kYWwudGl0bGVFbC5zZXRUZXh0KCdNYW51YWwgY29uZmlndXJhdGlvbiBpbnN0cnVjdGlvbnMnKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBDcmVhdGUgYSBjb250YWluZXIgZm9yIHRoZSBpbnN0cnVjdGlvbnNcblx0XHRcdFx0XHRjb25zdCBjb250ZW50RGl2ID0gaW5zdHJ1Y3Rpb25Nb2RhbC5jb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0XHRcdFx0Y29udGVudERpdi5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRwYWRkaW5nOiAnMjBweCcsXG5cdFx0XHRcdFx0XHRsaW5lSGVpZ2h0OiAnMS42J1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFBhcnNlIGluc3RydWN0aW9ucyBsaW5lIGJ5IGxpbmUgYW5kIGNyZWF0ZSBwcm9wZXIgRE9NIGVsZW1lbnRzXG5cdFx0XHRcdFx0Y29uc3QgbGluZXMgPSBpbnN0cnVjdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdGxldCBjdXJyZW50TGlzdDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRsaW5lcy5mb3JFYWNoKChsaW5lOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHRyaW1tZWRMaW5lID0gbGluZS50cmltKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmICh0cmltbWVkTGluZSA9PT0gJycpIHtcblx0XHRcdFx0XHRcdFx0Ly8gRW1wdHkgbGluZSAtIGFkZCBzcGFjaW5nXG5cdFx0XHRcdFx0XHRcdGNvbnRlbnREaXYuY3JlYXRlRWwoJ2JyJyk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRyaW1tZWRMaW5lLnN0YXJ0c1dpdGgoJyMjICcpKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFN1YiBoZWFkaW5nXG5cdFx0XHRcdFx0XHRcdGlmIChjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gbnVsbDsgLy8gRW5kIGN1cnJlbnQgbGlzdFxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGgyID0gY29udGVudERpdi5jcmVhdGVFbCgnaDInKTtcblx0XHRcdFx0XHRcdFx0aDIuc2V0VGV4dCh0cmltbWVkTGluZS5zdWJzdHJpbmcoMykpO1xuXHRcdFx0XHRcdFx0XHRoMi5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdFx0bWFyZ2luVG9wOiAnMjBweCcsXG5cdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiAnMTBweCcsXG5cdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6ICcxLjJlbScsXG5cdFx0XHRcdFx0XHRcdFx0Zm9udFdlaWdodDogJ2JvbGQnXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0cmltbWVkTGluZS5tYXRjaCgvXlxcZCtcXC5cXHMvKSkge1xuXHRcdFx0XHRcdFx0XHQvLyBOdW1iZXJlZCBsaXN0IGl0ZW1cblx0XHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gY29udGVudERpdi5jcmVhdGVFbCgnb2wnKTtcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50TGlzdC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5MZWZ0OiAnMjBweCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICcxNXB4J1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxpID0gY3VycmVudExpc3QuY3JlYXRlRWwoJ2xpJyk7XG5cdFx0XHRcdFx0XHRcdGxpLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICc1cHgnXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHQvLyBQYXJzZSBib2xkIHRleHQgaW4gdGhlIGxpbmVcblx0XHRcdFx0XHRcdFx0dGhpcy5wYXJzZUJvbGRUZXh0KGxpLCB0cmltbWVkTGluZS5yZXBsYWNlKC9eXFxkK1xcLlxccy8sICcnKSk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRyaW1tZWRMaW5lLnN0YXJ0c1dpdGgoJy0gJykgfHwgdHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnKiAnKSkge1xuXHRcdFx0XHRcdFx0XHQvLyBCdWxsZXQgbGlzdCBpdGVtXG5cdFx0XHRcdFx0XHRcdGlmICghY3VycmVudExpc3QpIHtcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50TGlzdCA9IGNvbnRlbnREaXYuY3JlYXRlRWwoJ3VsJyk7XG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3Quc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luTGVmdDogJzIwcHgnLFxuXHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiAnMTVweCdcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRjb25zdCBsaSA9IGN1cnJlbnRMaXN0LmNyZWF0ZUVsKCdsaScpO1xuXHRcdFx0XHRcdFx0XHRsaS5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiAnNXB4J1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0Ly8gUGFyc2UgYm9sZCB0ZXh0IGluIHRoZSBsaW5lXG5cdFx0XHRcdFx0XHRcdHRoaXMucGFyc2VCb2xkVGV4dChsaSwgdHJpbW1lZExpbmUuc3Vic3RyaW5nKDIpKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJlZ3VsYXIgcGFyYWdyYXBoXG5cdFx0XHRcdFx0XHRcdGlmIChjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gbnVsbDsgLy8gRW5kIGN1cnJlbnQgbGlzdFxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHAgPSBjb250ZW50RGl2LmNyZWF0ZUVsKCdwJyk7XG5cdFx0XHRcdFx0XHRcdHAuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzEwcHgnXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHQvLyBQYXJzZSBib2xkIHRleHQgaW4gdGhlIGxpbmVcblx0XHRcdFx0XHRcdFx0dGhpcy5wYXJzZUJvbGRUZXh0KHAsIHRyaW1tZWRMaW5lKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpbnN0cnVjdGlvbk1vZGFsLm9wZW4oKTtcblx0XHRcdFx0fSkpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBwYXJzZUJvbGRUZXh0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHRleHQ6IHN0cmluZyk6IHZvaWQge1xuXHRcdC8vIFNpbXBsZSBib2xkIHRleHQgcGFyc2VyIC0gaGFuZGxlcyAqKnRleHQqKiBwYXR0ZXJuc1xuXHRcdGNvbnN0IHBhcnRzID0gdGV4dC5zcGxpdCgvKFxcKlxcKi4qP1xcKlxcKikvZyk7XG5cdFx0XG5cdFx0cGFydHMuZm9yRWFjaChwYXJ0ID0+IHtcblx0XHRcdGlmIChwYXJ0LnN0YXJ0c1dpdGgoJyoqJykgJiYgcGFydC5lbmRzV2l0aCgnKionKSkge1xuXHRcdFx0XHQvLyBCb2xkIHRleHRcblx0XHRcdFx0Y29uc3Qgc3Ryb25nID0gY29udGFpbmVyLmNyZWF0ZUVsKCdzdHJvbmcnKTtcblx0XHRcdFx0c3Ryb25nLnNldFRleHQocGFydC5zdWJzdHJpbmcoMiwgcGFydC5sZW5ndGggLSAyKSk7XG5cdFx0XHR9IGVsc2UgaWYgKHBhcnQudHJpbSgpICE9PSAnJykge1xuXHRcdFx0XHQvLyBSZWd1bGFyIHRleHRcblx0XHRcdFx0Y29udGFpbmVyLmFwcGVuZFRleHQocGFydCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIHVwZGF0ZVBsdWdpblNldHRpbmdzV2l0aFRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHQvLyBHZXQgdGhlIGN1cnJlbnQgcGx1Z2luIHNldHRpbmdzXG5cdFx0Y29uc3QgcGx1Z2luID0gdGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luO1xuXHRcdGNvbnN0IHNldHRpbmdzID0gcGx1Z2luLnNldHRpbmdzO1xuXHRcdFxuXHRcdC8vIExvYWQgdGhlIHRlbXBsYXRlIHByZXNldCBmcm9tIEpTT04gKHNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGgpXG5cdFx0Y29uc3QgdGVtcGxhdGVQcmVzZXQgPSBwbHVnaW4uY29uZmlnTWFuYWdlci5nZXRUZW1wbGF0ZVByZXNldCh0ZW1wbGF0ZSk7XG5cdFx0aWYgKCF0ZW1wbGF0ZVByZXNldCB8fCAhdGVtcGxhdGVQcmVzZXQuY29uZmlnKSB7XG5cdFx0XHRuZXcgTm90aWNlKCdUZW1wbGF0ZSBwcmVzZXQgbm90IGZvdW5kJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ1JJVElDQUw6IEdldCBmdWxsIHRlbXBsYXRlIGNvbmZpZyBpbmNsdWRpbmcgY29tbWFuZCBwYWxldHRlIHNldHRpbmdzXG5cdFx0Y29uc3QgdGVtcGxhdGVDb25maWcgPSBwbHVnaW4uY29uZmlnTWFuYWdlci5nZXRUZW1wbGF0ZUNvbmZpZyh0ZW1wbGF0ZSwgc2V0dGluZ3MpO1xuXG5cdFx0Ly8gVXBkYXRlIHNldHRpbmdzIGZyb20gdGhlIHByZXNldCdzIGNvbmZpZ1xuXHRcdHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSA9IHRlbXBsYXRlIGFzIFRlbXBsYXRlVHlwZTtcblx0XHRcblx0XHQvLyBOT1RFOiBXZSBkbyBOT1QgdXBkYXRlIHRoZW1lIG9yIGNvbnRlbnRPcmdhbml6YXRpb24gLSB0aG9zZSBhcmUgc2VwYXJhdGUgdXNlciBjaG9pY2VzXG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZlYXR1cmVzIGZyb20gcHJlc2V0IChwcmVzZXJ2aW5nIHVzZXIgcHJlZmVyZW5jZXMgZm9yIGNvbW1lbnRzL3Byb2ZpbGVQaWN0dXJlKVxuXHRcdGlmICh0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMpIHtcblx0XHRcdGNvbnN0IGN1cnJlbnRDb21tZW50cyA9IHNldHRpbmdzLmZlYXR1cmVzLmNvbW1lbnRzO1xuXHRcdFx0Y29uc3QgY3VycmVudFByb2ZpbGVQaWN0dXJlID0gc2V0dGluZ3MuZmVhdHVyZXMucHJvZmlsZVBpY3R1cmU7XG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcyA9IHsgLi4uc2V0dGluZ3MuZmVhdHVyZXMsIC4uLnRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcyB9O1xuXHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuY29tbWVudHMgPSBjdXJyZW50Q29tbWVudHM7XG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5wcm9maWxlUGljdHVyZSA9IGN1cnJlbnRQcm9maWxlUGljdHVyZTtcblx0XHRcdFxuXHRcdFx0Ly8gQ1JJVElDQUw6IFN5bmMgcG9zdE9wdGlvbnMgd2l0aCBmZWF0dXJlcyB0byBtYWludGFpbiBkYXRhIGludGVncml0eVxuXHRcdFx0Ly8gcG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgaXMgdGhlIHNvdXJjZSBvZiB0cnV0aFxuXHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXcpIHtcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgPSB0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMuZ3JhcGhWaWV3ID8/IGZhbHNlO1xuXHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5ncmFwaFZpZXcgPSBzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gU3luYyBsaW5rZWQgbWVudGlvbnNcblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucz8ubGlua2VkTWVudGlvbnMpIHtcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMuZW5hYmxlZCA9IHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcy5saW5rZWRNZW50aW9ucyA/PyBmYWxzZTtcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMubGlua2VkTWVudGlvbnNDb21wYWN0ID0gdGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLmxpbmtlZE1lbnRpb25zQ29tcGFjdCA/PyBmYWxzZTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gU3luYyBjb21tYW5kIHBhbGV0dGUgcXVpY2sgYWN0aW9uc1xuXHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5xdWlja0FjdGlvbnMgJiYgdGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLnF1aWNrQWN0aW9ucykge1xuXHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgPSB7IC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucywgLi4udGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLnF1aWNrQWN0aW9ucyB9O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBDUklUSUNBTDogVXBkYXRlIEFMTCBzZXR0aW5ncyBmcm9tIHRlbXBsYXRlIGNvbmZpZyAobm90IGp1c3QgcHJlc2V0IEpTT04pXG5cdFx0Ly8gVGhpcyBlbnN1cmVzIGRhdGEuanNvbiBtYXRjaGVzIHdoYXQgY29uZmlnLnRzIHdpbGwgc2hvd1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBjb21tYW5kIHBhbGV0dGVcblx0XHRjb25zdCBjb21tYW5kUGFsZXR0ZSA9IHRlbXBsYXRlQ29uZmlnLmNvbW1hbmRQYWxldHRlIGFzIFBhcnRpYWw8Q29tbWFuZFBhbGV0dGVTZXR0aW5ncz4gfCB1bmRlZmluZWQ7XG5cdFx0aWYgKGNvbW1hbmRQYWxldHRlKSB7XG5cdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSA9IHtcblx0XHRcdFx0Li4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUsXG5cdFx0XHRcdGVuYWJsZWQ6IGNvbW1hbmRQYWxldHRlLmVuYWJsZWQgPz8gc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuZW5hYmxlZCxcblx0XHRcdFx0cGxhY2Vob2xkZXI6IGNvbW1hbmRQYWxldHRlLnBsYWNlaG9sZGVyID8/IHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnBsYWNlaG9sZGVyLFxuXHRcdFx0XHRzaG9ydGN1dDogY29tbWFuZFBhbGV0dGUuc2hvcnRjdXQgPz8gc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2hvcnRjdXQsXG5cdFx0XHRcdHNlYXJjaDoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaCxcblx0XHRcdFx0XHQuLi4oY29tbWFuZFBhbGV0dGUuc2VhcmNoIHx8IHt9KVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZWN0aW9uczoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLFxuXHRcdFx0XHRcdC4uLihjb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyB8fCB7fSlcblx0XHRcdFx0fSxcblx0XHRcdFx0cXVpY2tBY3Rpb25zOiB7XG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zLFxuXHRcdFx0XHRcdC4uLih0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXM/LnF1aWNrQWN0aW9ucyB8fCB7fSlcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdFxuXHRcdFx0Ly8gU3luYyBmZWF0dXJlcy5xdWlja0FjdGlvbnNcblx0XHRcdGlmICh0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXM/LnF1aWNrQWN0aW9ucykge1xuXHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMgPSB7XG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLFxuXHRcdFx0XHRcdC4uLnRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcy5xdWlja0FjdGlvbnNcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGhvbWUgb3B0aW9uc1xuXHRcdGNvbnN0IGhvbWVPcHRpb25zID0gdGVtcGxhdGVDb25maWcuaG9tZU9wdGlvbnMgYXMgUGFydGlhbDxIb21lT3B0aW9ucz4gfCB1bmRlZmluZWQ7XG5cdFx0aWYgKGhvbWVPcHRpb25zKSB7XG5cdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucyA9IHtcblx0XHRcdFx0Li4uc2V0dGluZ3MuaG9tZU9wdGlvbnMsXG5cdFx0XHRcdGZlYXR1cmVkUG9zdDoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCxcblx0XHRcdFx0XHQuLi4oaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0IHx8IHt9KVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZWNlbnRQb3N0czoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmhvbWVPcHRpb25zLnJlY2VudFBvc3RzLFxuXHRcdFx0XHRcdC4uLihob21lT3B0aW9ucy5yZWNlbnRQb3N0cyB8fCB7fSlcblx0XHRcdFx0fSxcblx0XHRcdFx0cHJvamVjdHM6IHtcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cyxcblx0XHRcdFx0XHQuLi4oaG9tZU9wdGlvbnMucHJvamVjdHMgfHwge30pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRvY3M6IHtcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5ob21lT3B0aW9ucy5kb2NzLFxuXHRcdFx0XHRcdC4uLihob21lT3B0aW9ucy5kb2NzIHx8IHt9KVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRibHVyYjoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmhvbWVPcHRpb25zLmJsdXJiLFxuXHRcdFx0XHRcdC4uLihob21lT3B0aW9ucy5ibHVyYiB8fCB7fSlcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHBvc3Qgb3B0aW9uc1xuXHRcdGNvbnN0IHBvc3RPcHRpb25zID0gdGVtcGxhdGVDb25maWcucG9zdE9wdGlvbnMgYXMgUGFydGlhbDxQb3N0T3B0aW9ucz4gfCB1bmRlZmluZWQ7XG5cdFx0aWYgKHBvc3RPcHRpb25zKSB7XG5cdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHtcblx0XHRcdFx0Li4uc2V0dGluZ3MucG9zdE9wdGlvbnMsXG5cdFx0XHRcdHBvc3RzUGVyUGFnZTogcG9zdE9wdGlvbnMucG9zdHNQZXJQYWdlID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLnBvc3RzUGVyUGFnZSxcblx0XHRcdFx0cmVhZGluZ1RpbWU6IHBvc3RPcHRpb25zLnJlYWRpbmdUaW1lID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLnJlYWRpbmdUaW1lLFxuXHRcdFx0XHR3b3JkQ291bnQ6IHBvc3RPcHRpb25zLndvcmRDb3VudCA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy53b3JkQ291bnQsXG5cdFx0XHRcdHRhZ3M6IHBvc3RPcHRpb25zLnRhZ3MgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMudGFncyxcblx0XHRcdFx0cG9zdE5hdmlnYXRpb246IHBvc3RPcHRpb25zLnBvc3ROYXZpZ2F0aW9uID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLnBvc3ROYXZpZ2F0aW9uLFxuXHRcdFx0XHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogcG9zdE9wdGlvbnMuc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXMgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMuc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXMsXG5cdFx0XHRcdHBvc3RDYXJkQXNwZWN0UmF0aW86IHBvc3RPcHRpb25zLnBvc3RDYXJkQXNwZWN0UmF0aW8gPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdENhcmRBc3BlY3RSYXRpbyxcblx0XHRcdFx0bGlua2VkTWVudGlvbnM6IHtcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyxcblx0XHRcdFx0XHQuLi4ocG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgfHwge30pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGdyYXBoVmlldzoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldyxcblx0XHRcdFx0XHRlbmFibGVkOiBwb3N0T3B0aW9ucy5ncmFwaFZpZXc/LmVuYWJsZWQgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQsXG5cdFx0XHRcdFx0c2hvd0luU2lkZWJhcjogcG9zdE9wdGlvbnMuZ3JhcGhWaWV3Py5zaG93SW5TaWRlYmFyID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5zaG93SW5TaWRlYmFyLFxuXHRcdFx0XHRcdG1heE5vZGVzOiBwb3N0T3B0aW9ucy5ncmFwaFZpZXc/Lm1heE5vZGVzID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5tYXhOb2Rlcyxcblx0XHRcdFx0XHRzaG93T3JwaGFuZWRQb3N0czogcG9zdE9wdGlvbnMuZ3JhcGhWaWV3Py5zaG93T3JwaGFuZWRQb3N0cyA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuc2hvd09ycGhhbmVkUG9zdHNcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29tbWVudHM6IHNldHRpbmdzLnBvc3RPcHRpb25zLmNvbW1lbnRzICAvLyBQcmVzZXJ2ZSBjb21tZW50c1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIG5hdmlnYXRpb25cblx0XHRjb25zdCBuYXZpZ2F0aW9uID0gdGVtcGxhdGVDb25maWcubmF2aWdhdGlvbiBhcyBQYXJ0aWFsPE5hdmlnYXRpb25TZXR0aW5ncz4gfCB1bmRlZmluZWQ7XG5cdFx0aWYgKG5hdmlnYXRpb24pIHtcblx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24gPSB7XG5cdFx0XHRcdC4uLnNldHRpbmdzLm5hdmlnYXRpb24sXG5cdFx0XHRcdHNob3dOYXZpZ2F0aW9uOiBuYXZpZ2F0aW9uLnNob3dOYXZpZ2F0aW9uID8/IHNldHRpbmdzLm5hdmlnYXRpb24uc2hvd05hdmlnYXRpb24sXG5cdFx0XHRcdHNob3dNb2JpbGVNZW51OiBuYXZpZ2F0aW9uLnNob3dNb2JpbGVNZW51ID8/IHNldHRpbmdzLm5hdmlnYXRpb24uc2hvd01vYmlsZU1lbnUsXG5cdFx0XHRcdHN0eWxlOiBuYXZpZ2F0aW9uLnN0eWxlID8/IHNldHRpbmdzLm5hdmlnYXRpb24uc3R5bGVcblx0XHRcdFx0Ly8gUHJlc2VydmUgcGFnZXMgYW5kIHNvY2lhbCBhcnJheXMgZnJvbSB1c2VyIHNldHRpbmdzXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgdGFibGUgb2YgY29udGVudHMgc2V0dGluZ3MgZnJvbSBwcmVzZXRcblx0XHRpZiAodGVtcGxhdGVQcmVzZXQuY29uZmlnLnRhYmxlT2ZDb250ZW50cykge1xuXHRcdFx0c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzID0geyAuLi5zZXR0aW5ncy50YWJsZU9mQ29udGVudHMsIC4uLnRlbXBsYXRlUHJlc2V0LmNvbmZpZy50YWJsZU9mQ29udGVudHMgfTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIG9wdGlvbmFsIGNvbnRlbnQgdHlwZXMgZnJvbSB0ZW1wbGF0ZSBjb25maWdcblx0XHRjb25zdCBvcHRpb25hbENvbnRlbnRUeXBlcyA9IHRlbXBsYXRlQ29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzIGFzIHsgcHJvamVjdHM/OiBib29sZWFuOyBkb2NzPzogYm9vbGVhbiB9IHwgdW5kZWZpbmVkO1xuXHRcdGlmIChvcHRpb25hbENvbnRlbnRUeXBlcykge1xuXHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMgPSB7XG5cdFx0XHRcdHByb2plY3RzOiBvcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0cyA/PyBmYWxzZSxcblx0XHRcdFx0ZG9jczogb3B0aW9uYWxDb250ZW50VHlwZXMuZG9jcyA/PyBmYWxzZVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gQ1JJVElDQUw6IFVwZGF0ZSBmb290ZXIgc2V0dGluZ3MgZnJvbSB0ZW1wbGF0ZSBjb25maWdcblx0XHRjb25zdCBmb290ZXIgPSB0ZW1wbGF0ZUNvbmZpZy5mb290ZXIgYXMgeyBzaG93U29jaWFsSWNvbnNJbkZvb3Rlcj86IGJvb2xlYW4gfSB8IHVuZGVmaW5lZDtcblx0XHRpZiAoZm9vdGVyKSB7XG5cdFx0XHRzZXR0aW5ncy5mb290ZXIgPSB7XG5cdFx0XHRcdC4uLnNldHRpbmdzLmZvb3Rlcixcblx0XHRcdFx0c2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IGZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3RlciA/PyBzZXR0aW5ncy5mb290ZXIuc2hvd1NvY2lhbEljb25zSW5Gb290ZXJcblx0XHRcdH07XG5cdFx0XHQvLyBTeW5jIGZlYXR1cmVzLnNob3dTb2NpYWxJY29uc0luRm9vdGVyXG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5zaG93U29jaWFsSWNvbnNJbkZvb3RlciA9IGZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3RlciA/PyBzZXR0aW5ncy5mZWF0dXJlcy5zaG93U29jaWFsSWNvbnNJbkZvb3Rlcjtcblx0XHR9XG5cblx0XHQvLyBTYXZlIHRoZSB1cGRhdGVkIHNldHRpbmdzXG5cdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRUZW1wbGF0ZUNoYW5nZXModGVtcGxhdGVJZDogc3RyaW5nKTogc3RyaW5nW10ge1xuXHRcdGNvbnN0IGNoYW5nZXM6IHN0cmluZ1tdID0gW107XG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XG5cdFx0XG5cdFx0Ly8gTG9hZCB0aGUgdGVtcGxhdGUgcHJlc2V0IGZyb20gSlNPTlxuXHRcdGNvbnN0IHRlbXBsYXRlUHJlc2V0ID0gKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuY29uZmlnTWFuYWdlci5nZXRUZW1wbGF0ZVByZXNldCh0ZW1wbGF0ZUlkKTtcblx0XHRpZiAoIXRlbXBsYXRlUHJlc2V0IHx8ICF0ZW1wbGF0ZVByZXNldC5jb25maWcpIHtcblx0XHRcdGNoYW5nZXMucHVzaCgnVGhpcyB3aWxsIGFwcGx5IHRoZSB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB5b3VyIGNvbmZpZ3VyYXRpb24uJyk7XG5cdFx0XHRyZXR1cm4gY2hhbmdlcztcblx0XHR9XG5cblx0XHRjb25zdCBuZXdDb25maWcgPSB0ZW1wbGF0ZVByZXNldC5jb25maWc7XG5cdFx0Y29uc3QgZmVhdHVyZUNoYW5nZXMgPSBbXTtcblxuXHRcdC8vIE5PVEU6IFdlIGRvbid0IGNvbXBhcmUgdGhlbWUgLSB0aGF0J3MgYSBzZXBhcmF0ZSB1c2VyIGNob2ljZVxuXG5cdFx0Ly8gQ29tcGFyZSBhbGwgZmVhdHVyZXMgZnJvbSB0aGUgcHJlc2V0XG5cdFx0aWYgKG5ld0NvbmZpZy5mZWF0dXJlcykge1xuXHRcdFx0Ly8gS2V5IGZlYXR1cmVzIHRvIGhpZ2hsaWdodCAoZXhjbHVkaW5nIGNvbW1lbnRzIHdoaWNoIGlzIHVzZXItY29uZmlndXJlZClcblx0XHRcdGNvbnN0IGtleUZlYXR1cmVzID0gW1xuXHRcdFx0XHR7IGtleTogJ2dyYXBoVmlldycsIGxhYmVsOiAnR3JhcGggdmlldycgfSxcblx0XHRcdFx0eyBrZXk6ICd0YWJsZU9mQ29udGVudHMnLCBsYWJlbDogJ1RhYmxlIG9mIGNvbnRlbnRzJyB9LFxuXHRcdFx0XHR7IGtleTogJ3JlYWRpbmdUaW1lJywgbGFiZWw6ICdSZWFkaW5nIHRpbWUnIH0sXG5cdFx0XHRcdHsga2V5OiAnbGlua2VkTWVudGlvbnMnLCBsYWJlbDogJ0xpbmtlZCBtZW50aW9ucycgfSxcblx0XHRcdFx0eyBrZXk6ICdsaW5rZWRNZW50aW9uc0NvbXBhY3QnLCBsYWJlbDogJ0NvbXBhY3QgbGlua2VkIG1lbnRpb25zJyB9LFxuXHRcdFx0XHR7IGtleTogJ3Bvc3ROYXZpZ2F0aW9uJywgbGFiZWw6ICdQb3N0IG5hdmlnYXRpb24nIH0sXG5cdFx0XHRcdHsga2V5OiAnc2hvd1NvY2lhbEljb25zSW5Gb290ZXInLCBsYWJlbDogJ1NvY2lhbCBpY29ucyBpbiBmb290ZXInIH0sXG5cdFx0XHRcdHsga2V5OiAnZmVhdHVyZUJ1dHRvbicsIGxhYmVsOiAnRmVhdHVyZSBidXR0b24nIH1cblx0XHRcdF07XG5cblx0XHRcdGtleUZlYXR1cmVzLmZvckVhY2goKHsga2V5LCBsYWJlbCB9KSA9PiB7XG5cdFx0XHRcdGNvbnN0IG9sZEZlYXR1cmUgPSAoc2V0dGluZ3MuZmVhdHVyZXMgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5XTtcblx0XHRcdFx0Y29uc3QgbmV3RmVhdHVyZSA9IChuZXdDb25maWcuZmVhdHVyZXMgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5XTtcblx0XHRcdGlmIChuZXdGZWF0dXJlICE9PSB1bmRlZmluZWQgJiYgb2xkRmVhdHVyZSAhPT0gbmV3RmVhdHVyZSkge1xuXHRcdFx0XHRjb25zdCBvbGRWYWwgPSB0eXBlb2Ygb2xkRmVhdHVyZSA9PT0gJ2Jvb2xlYW4nIFxuXHRcdFx0XHRcdD8gKG9sZEZlYXR1cmUgPyAnT04nIDogJ09GRicpXG5cdFx0XHRcdFx0OiAob2xkRmVhdHVyZSA9PT0gbnVsbCB8fCBvbGRGZWF0dXJlID09PSB1bmRlZmluZWQgPyAnJyA6ICh0eXBlb2Ygb2xkRmVhdHVyZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG9sZEZlYXR1cmUgPT09ICdudW1iZXInID8gU3RyaW5nKG9sZEZlYXR1cmUpIDogSlNPTi5zdHJpbmdpZnkob2xkRmVhdHVyZSkpKTtcblx0XHRcdFx0Y29uc3QgbmV3VmFsID0gdHlwZW9mIG5ld0ZlYXR1cmUgPT09ICdib29sZWFuJ1xuXHRcdFx0XHRcdD8gKG5ld0ZlYXR1cmUgPyAnT04nIDogJ09GRicpXG5cdFx0XHRcdFx0OiAobmV3RmVhdHVyZSA9PT0gbnVsbCB8fCBuZXdGZWF0dXJlID09PSB1bmRlZmluZWQgPyAnJyA6ICh0eXBlb2YgbmV3RmVhdHVyZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld0ZlYXR1cmUgPT09ICdudW1iZXInID8gU3RyaW5nKG5ld0ZlYXR1cmUpIDogSlNPTi5zdHJpbmdpZnkobmV3RmVhdHVyZSkpKTtcblx0XHRcdFx0ZmVhdHVyZUNoYW5nZXMucHVzaChgJHtsYWJlbH06ICR7b2xkVmFsfSBcdTIxOTIgJHtuZXdWYWx9YCk7XG5cdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQ2hlY2sgcXVpY2tBY3Rpb25zIGNoYW5nZXNcblx0XHRcdGlmIChuZXdDb25maWcuZmVhdHVyZXMucXVpY2tBY3Rpb25zICYmIHNldHRpbmdzLmZlYXR1cmVzLnF1aWNrQWN0aW9ucykge1xuXHRcdFx0XHRpZiAobmV3Q29uZmlnLmZlYXR1cmVzLnF1aWNrQWN0aW9ucy5lbmFibGVkICE9PSBzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMuZW5hYmxlZCkge1xuXHRcdFx0XHRcdGZlYXR1cmVDaGFuZ2VzLnB1c2goYFF1aWNrIGFjdGlvbnM6ICR7c2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLmVuYWJsZWQgPyAnT04nIDogJ09GRid9IFx1MjE5MiAke25ld0NvbmZpZy5mZWF0dXJlcy5xdWlja0FjdGlvbnMuZW5hYmxlZCA/ICdPTicgOiAnT0ZGJ31gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvbXBhcmUgb3B0aW9uYWwgY29udGVudCB0eXBlc1xuXHRcdGNvbnN0IGlzU3RhbmRhcmQgPSB0ZW1wbGF0ZUlkID09PSAnc3RhbmRhcmQnO1xuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcz8ucHJvamVjdHMgIT09IGlzU3RhbmRhcmQpIHtcblx0XHRcdGZlYXR1cmVDaGFuZ2VzLnB1c2goYFByb2plY3RzIGNvbnRlbnQgdHlwZTogJHtzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcz8ucHJvamVjdHMgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBcdTIxOTIgJHtpc1N0YW5kYXJkID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ31gKTtcblx0XHR9XG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzPy5kb2NzICE9PSBpc1N0YW5kYXJkKSB7XG5cdFx0XHRmZWF0dXJlQ2hhbmdlcy5wdXNoKGBEb2NzIGNvbnRlbnQgdHlwZTogJHtzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcz8uZG9jcyA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IFx1MjE5MiAke2lzU3RhbmRhcmQgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfWApO1xuXHRcdH1cblxuXHRcdGlmIChmZWF0dXJlQ2hhbmdlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjaGFuZ2VzLnB1c2goLi4uZmVhdHVyZUNoYW5nZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjaGFuZ2VzLnB1c2goJ05vIGNoYW5nZXMgbmVlZGVkIC0geW91ciBzZXR0aW5ncyBhbHJlYWR5IG1hdGNoIHRoaXMgdGVtcGxhdGUuJyk7XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBjaGFuZ2VzO1xuXHR9XG59IiwgImltcG9ydCB7IE1vZGFsLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJlc2V0V2FybmluZ01vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG5cdHByaXZhdGUgb25Db25maXJtOiAoKSA9PiB2b2lkO1xyXG5cdHByaXZhdGUgb25DYW5jZWw6ICgpID0+IHZvaWQ7XHJcblx0cHJpdmF0ZSBjaGFuZ2VzOiBzdHJpbmdbXTtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIGNoYW5nZXM6IHN0cmluZ1tdLCBvbkNvbmZpcm06ICgpID0+IHZvaWQsIG9uQ2FuY2VsOiAoKSA9PiB2b2lkKSB7XHJcblx0XHRzdXBlcihhcHApO1xyXG5cdFx0dGhpcy5jaGFuZ2VzID0gY2hhbmdlcztcclxuXHRcdHRoaXMub25Db25maXJtID0gb25Db25maXJtO1xyXG5cdFx0dGhpcy5vbkNhbmNlbCA9IG9uQ2FuY2VsO1xyXG5cdH1cclxuXHJcblx0b25PcGVuKCkge1xyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcblx0XHQvLyBNb2RhbCBoZWFkZXJcclxuXHRcdGNvbnN0IGhlYWRlciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdBcHBseSB0ZW1wbGF0ZSBwcmVzZXQnIH0pO1xyXG5cdFx0aGVhZGVyLmFkZENsYXNzKCdwcmVzZXQtd2FybmluZy1tb2RhbC1oZWFkZXInKTtcclxuXHJcblx0XHQvLyBXYXJuaW5nIG1lc3NhZ2VcclxuXHRcdGNvbnN0IHdhcm5pbmcgPSBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IFxyXG5cdFx0XHR0ZXh0OiAnQXBwbHlpbmcgdGhpcyB0ZW1wbGF0ZSB3aWxsIGNoYW5nZSB0aGUgZm9sbG93aW5nIHNldHRpbmdzOicgXHJcblx0XHR9KTtcclxuXHRcdHdhcm5pbmcuYWRkQ2xhc3MoJ3ByZXNldC13YXJuaW5nLW1lc3NhZ2UnKTtcclxuXHJcblx0XHQvLyBDaGFuZ2VzIGxpc3RcclxuXHRcdGNvbnN0IGNoYW5nZXNMaXN0ID0gY29udGVudEVsLmNyZWF0ZUVsKCd1bCcpO1xyXG5cdFx0Y2hhbmdlc0xpc3QuYWRkQ2xhc3MoJ3ByZXNldC13YXJuaW5nLWNoYW5nZXMtbGlzdCcpO1xyXG5cclxuXHRcdHRoaXMuY2hhbmdlcy5mb3JFYWNoKGNoYW5nZSA9PiB7XHJcblx0XHRcdGNvbnN0IGxpc3RJdGVtID0gY2hhbmdlc0xpc3QuY3JlYXRlRWwoJ2xpJywgeyB0ZXh0OiBjaGFuZ2UgfSk7XHJcblx0XHRcdGxpc3RJdGVtLmFkZENsYXNzKCdwcmVzZXQtd2FybmluZy1saXN0LWl0ZW0nKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFF1ZXN0aW9uXHJcblx0XHRjb25zdCBxdWVzdGlvbiA9IGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgXHJcblx0XHRcdHRleHQ6ICdEbyB5b3Ugd2FudCB0byBhcHBseSB0aGlzIHRlbXBsYXRlPycgXHJcblx0XHR9KTtcclxuXHRcdHF1ZXN0aW9uLmFkZENsYXNzKCdwcmVzZXQtd2FybmluZy1xdWVzdGlvbicpO1xyXG5cclxuXHRcdC8vIEJ1dHRvbnMgY29udGFpbmVyXHJcblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdtb2RhbC1idXR0b24tY29udGFpbmVyJyk7XHJcblxyXG5cdFx0Ly8gQ2FuY2VsIGJ1dHRvblxyXG5cdFx0Y29uc3QgY2FuY2VsQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDYW5jZWwnIH0pO1xyXG5cdFx0Y2FuY2VsQnV0dG9uLmNsYXNzTmFtZSA9ICdtb2QtY3RhJztcclxuXHRcdGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5vbkNhbmNlbCgpO1xyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDb25maXJtIGJ1dHRvblxyXG5cdFx0Y29uc3QgY29uZmlybUJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ29udGludWUnIH0pO1xyXG5cdFx0Y29uZmlybUJ1dHRvbi5jbGFzc05hbWUgPSAnbW9kLXdhcm5pbmcnO1xyXG5cdFx0Y29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5vbkNvbmZpcm0oKTtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRm9jdXMgdGhlIGNvbmZpcm0gYnV0dG9uXHJcblx0XHRjb25maXJtQnV0dG9uLmZvY3VzKCk7XHJcblx0fVxyXG5cclxuXHRvbkNsb3NlKCkge1xyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IE5vdGljZSwgc2V0SWNvbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFRhYlJlbmRlcmVyIH0gZnJvbSAnLi4vY29tbW9uL1RhYlJlbmRlcmVyJztcbmltcG9ydCB7IFRIRU1FX09QVElPTlMsIEZPTlRfT1BUSU9OUywgQXN0cm9Nb2R1bGFyUGx1Z2luLCBUaGVtZVR5cGUsIEFzdHJvTW9kdWxhclNldHRpbmdzLCBDb2xvclNjYWxlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgVGhlbWVDb2xvckV4dHJhY3RvciB9IGZyb20gJy4uLy4uL3V0aWxzL1RoZW1lQ29sb3JFeHRyYWN0b3InO1xuaW1wb3J0IHsgY3JlYXRlU2V0dGluZ3NHcm91cCB9IGZyb20gJy4uLy4uL3V0aWxzL3NldHRpbmdzLWNvbXBhdCc7XG5cbmV4cG9ydCBjbGFzcyBTdHlsZVRhYiBleHRlbmRzIFRhYlJlbmRlcmVyIHtcblx0cHJpdmF0ZSBtYWluQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XG5cdFx0dGhpcy5tYWluQ29udGFpbmVyID0gY29udGFpbmVyOyAvLyBTdG9yZSByZWZlcmVuY2UgdG8gbWFpbiBjb250YWluZXJcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcblxuXHRcdC8vIENvbG9ycyBncm91cCB3aXRoIGhlYWRpbmdcblx0XHRjb25zdCBjb2xvcnNHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCAnQ29sb3JzJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcblxuXHRcdC8vIFRoZW1lIHNlbGVjdG9yXG5cdFx0Y29sb3JzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0LnNldE5hbWUoJ1RoZW1lJylcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgeW91ciBjb2xvciB0aGVtZScpXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRUSEVNRV9PUFRJT05TLmZvckVhY2godGhlbWUgPT4ge1xuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbih0aGVtZS5pZCwgdGhlbWUubmFtZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShzZXR0aW5ncy5jdXJyZW50VGhlbWUpO1xuXHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXJyZW50VGhlbWUgPSB2YWx1ZSBhcyBUaGVtZVR5cGU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gUmUtcmVuZGVyIHRvIHNob3cvaGlkZSBjdXN0b20gdGhlbWUgZmlsZSBmaWVsZFxuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gQXBwbHkgb25seSB0aGVtZSBjaGFuZ2UgdG8gY29uZmlnLnRzIChub3QgYWxsIHNldHRpbmdzKVxuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qgc3VjY2VzcyA9ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmNvbmZpZ01hbmFnZXIudXBkYXRlVGhlbWVPbmx5KHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUaGVtZSBjaGFuZ2VkIHRvICR7dmFsdWV9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSB0aGVtZSBjaGFuZ2UgdG8gY29uZmlnLnRzYCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSB0aGVtZSBjaGFuZ2U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBBdmFpbGFibGUgdGhlbWVzIGN1c3RvbWl6YXRpb25cblx0XHRjb2xvcnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdDdXN0b21pemUgYXZhaWxhYmxlIHRoZW1lcycpXG5cdFx0XHRcdC5zZXREZXNjKCdDb250cm9sIHdoaWNoIHRoZW1lcyBhcmUgc2hvd24gdG8gdXNlcnMgaW4gdGhlIHRoZW1lIHNlbGVjdG9yJylcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGlzQ3VzdG9taXplZCA9IEFycmF5LmlzQXJyYXkoc2V0dGluZ3MuYXZhaWxhYmxlVGhlbWVzKTtcblx0XHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUoaXNDdXN0b21pemVkKTtcblx0XHRcdFx0XHR0b2dnbGUub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIEVuYWJsZSBjdXN0b21pemF0aW9uIC0gc2V0IHRvIGFsbCB0aGVtZXMgZXhjZXB0ICdjdXN0b20nXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgYWxsVGhlbWVzID0gVEhFTUVfT1BUSU9OUy5maWx0ZXIodGhlbWUgPT4gdGhlbWUuaWQgIT09ICdjdXN0b20nKS5tYXAodGhlbWUgPT4gdGhlbWUuaWQpIGFzIEFycmF5PEV4Y2x1ZGU8VGhlbWVUeXBlLCAnY3VzdG9tJz4+O1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmF2YWlsYWJsZVRoZW1lcyA9IGFsbFRoZW1lcztcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBEaXNhYmxlIGN1c3RvbWl6YXRpb24gLSBzZXQgdG8gXCJkZWZhdWx0XCJcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5hdmFpbGFibGVUaGVtZXMgPSAnZGVmYXVsdCc7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlbmRlciB0byBzaG93L2hpZGUgdGhlbWUgcGlsbHNcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMubWFpbkNvbnRhaW5lcikge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVuZGVyKHRoaXMubWFpbkNvbnRhaW5lcik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIEFwcGx5IGNoYW5nZXMgaW1tZWRpYXRlbHkgdG8gY29uZmlnLnRzXG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgQXZhaWxhYmxlIHRoZW1lcyAke3ZhbHVlID8gJ2N1c3RvbWl6ZWQnIDogJ3NldCB0byBkZWZhdWx0J30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IGF2YWlsYWJsZSB0aGVtZXMgY2hhbmdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBTaG93IHRoZW1lIHBpbGxzIHdoZW4gY3VzdG9taXphdGlvbiBpcyBlbmFibGVkIC0gYWRkIGFzIGN1c3RvbSBzZXR0aW5nIHdpdGhpbiBncm91cFxuXHRcdGlmIChBcnJheS5pc0FycmF5KHNldHRpbmdzLmF2YWlsYWJsZVRoZW1lcykpIHtcblx0XHRcdGNvbG9yc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdFx0Ly8gSGlkZSBkZWZhdWx0IFVJIGVsZW1lbnRzXG5cdFx0XHRcdGNvbnN0IG5hbWVFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tbmFtZScpO1xuXHRcdFx0XHRjb25zdCBkZXNjRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyk7XG5cdFx0XHRcdGNvbnN0IGNvbnRyb2xFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tY29udHJvbCcpO1xuXHRcdFx0XHRpZiAobmFtZUVsKSAobmFtZUVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRcdFx0aWYgKGRlc2NFbCkgKGRlc2NFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG5cdFx0XHRcdGlmIChjb250cm9sRWwpIChjb250cm9sRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0Ym9yZGVyVG9wOiAnbm9uZScsXG5cdFx0XHRcdFx0cGFkZGluZ1RvcDogJzAnLFxuXHRcdFx0XHRcdHBhZGRpbmdCb3R0b206ICcwJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IHRoZW1lUGlsbHNDb250YWluZXIgPSBzZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoJ3RoZW1lLXBpbGxzLWNvbnRhaW5lcicpO1xuXHRcdFx0dGhlbWVQaWxsc0NvbnRhaW5lci5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdG1hcmdpblRvcDogJzEwcHgnLFxuXHRcdFx0XHRtYXJnaW5Cb3R0b206ICcyMHB4J1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IHBpbGxzSGVhZGVyID0gdGhlbWVQaWxsc0NvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgXG5cdFx0XHRcdHRleHQ6ICdBdmFpbGFibGUgdGhlbWVzIChjbGljayB0byB0b2dnbGUgc2VsZWN0aW9uKTonLFxuXHRcdFx0XHRjbHM6ICd0aGVtZS1waWxscy1oZWFkZXInXG5cdFx0XHR9KTtcblx0XHRcdHBpbGxzSGVhZGVyLnNldENzc1Byb3BzKHtcblx0XHRcdFx0Zm9udFNpemU6ICcxNHB4Jyxcblx0XHRcdFx0bWFyZ2luQm90dG9tOiAnOHB4Jyxcblx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW11dGVkKSdcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBwaWxsc1dyYXBwZXIgPSB0aGVtZVBpbGxzQ29udGFpbmVyLmNyZWF0ZURpdigndGhlbWUtcGlsbHMtd3JhcHBlcicpO1xuXHRcdFx0cGlsbHNXcmFwcGVyLnNldENzc1Byb3BzKHtcblx0XHRcdFx0ZGlzcGxheTogJ2ZsZXgnLFxuXHRcdFx0XHRmbGV4V3JhcDogJ3dyYXAnLFxuXHRcdFx0XHRnYXA6ICc4cHgnXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gU2hvdyBhbGwgdGhlbWVzIChleGNlcHQgY3VzdG9tKSB3aXRoIHNlbGVjdGlvbiBzdGF0ZVxuXHRcdFx0Y29uc3QgYWxsVGhlbWVzID0gVEhFTUVfT1BUSU9OUy5maWx0ZXIodGhlbWUgPT4gdGhlbWUuaWQgIT09ICdjdXN0b20nKTtcblx0XHRcdGFsbFRoZW1lcy5mb3JFYWNoKHRoZW1lID0+IHtcblx0XHRcdFx0Y29uc3QgaXNTZWxlY3RlZCA9IChzZXR0aW5ncy5hdmFpbGFibGVUaGVtZXMgYXMgc3RyaW5nW10pLmluY2x1ZGVzKHRoZW1lLmlkKTtcblx0XHRcdFx0XG5cdFx0XHRcdFx0Y29uc3QgcGlsbCA9IHBpbGxzV3JhcHBlci5jcmVhdGVEaXYoJ3RoZW1lLXBpbGwnKTtcblx0XHRcdFx0XHRwaWxsLmFkZENsYXNzKCd0aGVtZS1waWxsJyk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gU3R5bGUgYmFzZWQgb24gc2VsZWN0aW9uIHN0YXRlXG5cdFx0XHRcdFx0aWYgKGlzU2VsZWN0ZWQpIHtcblx0XHRcdFx0XHRcdHBpbGwuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJyxcblx0XHRcdFx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW9uLWFjY2VudCknLFxuXHRcdFx0XHRcdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSdcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRwaWxsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiAndmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpJyxcblx0XHRcdFx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW11dGVkKScsXG5cdFx0XHRcdFx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0cGlsbC5jcmVhdGVTcGFuKHsgdGV4dDogdGhlbWUubmFtZSB9KTtcblx0XHRcdFx0XHRcblx0XHRcdFx0Ly8gQWRkIHNlbGVjdGlvbiBpbmRpY2F0b3Jcblx0XHRcdFx0Y29uc3QgaW5kaWNhdG9yID0gcGlsbC5jcmVhdGVTcGFuKHsgdGV4dDogaXNTZWxlY3RlZCA/ICdcdTI3MTMnIDogJ1x1MjVDQicgfSk7XG5cdFx0XHRcdGluZGljYXRvci5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0Zm9udFNpemU6ICcxMHB4Jyxcblx0XHRcdFx0XHRvcGFjaXR5OiAnMC44J1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdHBpbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudFRoZW1lcyA9IHNldHRpbmdzLmF2YWlsYWJsZVRoZW1lcyBhcyBzdHJpbmdbXTtcblx0XHRcdFx0XHRcdGxldCBuZXdUaGVtZXM6IHN0cmluZ1tdO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiAoaXNTZWxlY3RlZCkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZW1vdmUgdGhlbWUgZnJvbSBzZWxlY3Rpb25cblx0XHRcdFx0XHRcdFx0bmV3VGhlbWVzID0gY3VycmVudFRoZW1lcy5maWx0ZXIoKGlkOiBzdHJpbmcpID0+IGlkICE9PSB0aGVtZS5pZCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBBZGQgdGhlbWUgdG8gc2VsZWN0aW9uXG5cdFx0XHRcdFx0XHRcdG5ld1RoZW1lcyA9IFsuLi5jdXJyZW50VGhlbWVzLCB0aGVtZS5pZF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdHNldHRpbmdzLmF2YWlsYWJsZVRoZW1lcyA9IG5ld1RoZW1lcyBhcyBBcnJheTxFeGNsdWRlPFRoZW1lVHlwZSwgJ2N1c3RvbSc+Pjtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyB0byBlbnN1cmUgdGhlIHBsdWdpbiBoYXMgdGhlIGxhdGVzdCB2YWx1ZXNcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBSZS1yZW5kZXIgdG8gdXBkYXRlIHBpbGxzXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5tYWluQ29udGFpbmVyKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucmVuZGVyKHRoaXMubWFpbkNvbnRhaW5lcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIEFwcGx5IGNoYW5nZXMgaW1tZWRpYXRlbHkgdG8gY29uZmlnLnRzXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgVGhlbWUgXCIke3RoZW1lLm5hbWV9XCIgJHtpc1NlbGVjdGVkID8gJ3JlbW92ZWQgZnJvbScgOiAnYWRkZWQgdG8nfSBhdmFpbGFibGUgdGhlbWVzYCk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgdGhlbWUgY2hhbmdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHQvLyBBZGQgY3VzdG9tIHRoZW1lcyBpbnB1dCBmaWVsZFxuXHRcdFx0Y29uc3QgY3VzdG9tVGhlbWVzU2VjdGlvbiA9IHRoZW1lUGlsbHNDb250YWluZXIuY3JlYXRlRGl2KCdjdXN0b20tdGhlbWVzLXNlY3Rpb24nKTtcblx0XHRcdGN1c3RvbVRoZW1lc1NlY3Rpb24uc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRtYXJnaW5Ub3A6ICcxNXB4Jyxcblx0XHRcdFx0cGFkZGluZzogJzEwcHgnLFxuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknLFxuXHRcdFx0XHRib3JkZXJSYWRpdXM6ICc2cHgnLFxuXHRcdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJ1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGN1c3RvbVRoZW1lc0xhYmVsID0gY3VzdG9tVGhlbWVzU2VjdGlvbi5jcmVhdGVFbCgnbGFiZWwnLCB7IFxuXHRcdFx0XHR0ZXh0OiAnQ3VzdG9tIHRoZW1lcyAoY29tbWEtc2VwYXJhdGVkKTonLFxuXHRcdFx0XHRjbHM6ICdjdXN0b20tdGhlbWVzLWxhYmVsJ1xuXHRcdFx0fSk7XG5cdFx0XHRjdXN0b21UaGVtZXNMYWJlbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdGRpc3BsYXk6ICdibG9jaycsXG5cdFx0XHRcdGZvbnRTaXplOiAnMTJweCcsXG5cdFx0XHRcdGNvbG9yOiAndmFyKC0tdGV4dC1tdXRlZCknLFxuXHRcdFx0XHRtYXJnaW5Cb3R0b206ICc2cHgnXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gQ3JlYXRlIGlucHV0IGNvbnRhaW5lciB3aXRoIGZvbGRlciBidXR0b25cblx0XHRcdGNvbnN0IGlucHV0Q29udGFpbmVyID0gY3VzdG9tVGhlbWVzU2VjdGlvbi5jcmVhdGVEaXYoJ2N1c3RvbS10aGVtZXMtaW5wdXQtY29udGFpbmVyJyk7XG5cdFx0XHRpbnB1dENvbnRhaW5lci5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdFx0Z2FwOiAnNnB4Jyxcblx0XHRcdFx0YWxpZ25JdGVtczogJ2NlbnRlcidcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBjdXN0b21UaGVtZXNJbnB1dCA9IGlucHV0Q29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcblx0XHRcdFx0dHlwZTogJ3RleHQnLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogJ2N1c3RvbSxvYnNpZGluaXRlJyxcblx0XHRcdFx0dmFsdWU6IHNldHRpbmdzLmN1c3RvbVRoZW1lcyB8fCAnJyxcblx0XHRcdFx0YXR0cjoge1xuXHRcdFx0XHRcdHNwZWxsY2hlY2s6ICdmYWxzZSdcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjdXN0b21UaGVtZXNJbnB1dC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdGZsZXg6ICcxJyxcblx0XHRcdFx0cGFkZGluZzogJzZweCA4cHgnLFxuXHRcdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJyxcblx0XHRcdFx0Ym9yZGVyUmFkaXVzOiAnNHB4Jyxcblx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiAndmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KScsXG5cdFx0XHRcdGNvbG9yOiAndmFyKC0tdGV4dC1ub3JtYWwpJyxcblx0XHRcdFx0Zm9udFNpemU6ICcxMnB4J1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIEFkZCBmb2xkZXIgYnV0dG9uXG5cdFx0XHRjb25zdCBmb2xkZXJCdXR0b24gPSBpbnB1dENvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0XHRjbHM6ICdjbGlja2FibGUtaWNvbicsXG5cdFx0XHRcdGF0dHI6IHtcblx0XHRcdFx0XHQnYXJpYS1sYWJlbCc6ICdPcGVuIHRoZW1lcyBmb2xkZXInXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Zm9sZGVyQnV0dG9uLnNldENzc1Byb3BzKHtcblx0XHRcdFx0cGFkZGluZzogJzRweCcsXG5cdFx0XHRcdGJvcmRlcjogJ25vbmUnLFxuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG5cdFx0XHRcdGNvbG9yOiAndmFyKC0tdGV4dC1ub3JtYWwpJyxcblx0XHRcdFx0ZGlzcGxheTogJ2ZsZXgnLFxuXHRcdFx0XHRhbGlnbkl0ZW1zOiAnY2VudGVyJyxcblx0XHRcdFx0anVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuXHRcdFx0XHRtYXJnaW5Ub3A6ICcycHgnXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gQWRkIGZvbGRlciBpY29uIHVzaW5nIE9ic2lkaWFuJ3MgaWNvbiBzeXN0ZW1cblx0XHRcdGNvbnN0IGZvbGRlckljb24gPSBmb2xkZXJCdXR0b24uY3JlYXRlRGl2KCk7XG5cdFx0XHRzZXRJY29uKGZvbGRlckljb24sICdmb2xkZXInKTtcblx0XHRcdFxuXHRcdFx0Ly8gQWRkIGNsaWNrIGhhbmRsZXIgZm9yIGZvbGRlciBidXR0b25cblx0XHRcdGZvbGRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0Ly8gT3BlbiBmaWxlIGV4cGxvcmVyIHRvIHRoZSB0aGVtZXMvY3VzdG9tIGRpcmVjdG9yeVxuXHRcdFx0XHQvLyBQYXRoOiBnbyB1cCB0d28gbGV2ZWxzIGZyb20gdmF1bHQgKHNyYy9jb250ZW50KSB0byBwcm9qZWN0IHJvb3QsIHRoZW4gZG93biB0byBzcmMvdGhlbWVzL2N1c3RvbVxuXHRcdFx0XHRjb25zdCB0aGVtZXNQYXRoID0gJy4uLy4uL3NyYy90aGVtZXMvY3VzdG9tJztcblx0XHRcdFx0Ly8gb3BlbldpdGhEZWZhdWx0QXBwIGlzIG5vdCBhdmFpbGFibGUgaW4gT2JzaWRpYW4ncyBBcHAgaW50ZXJmYWNlLCBidXQgbWF5IGV4aXN0IGluIEVsZWN0cm9uXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWNhbGwsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuXHRcdFx0XHR2b2lkICgodGhpcy5hcHAgYXMgYW55KS5vcGVuV2l0aERlZmF1bHRBcHA/Lih0aGVtZXNQYXRoKSA/PyBQcm9taXNlLnJlc29sdmUoKSkuY2F0Y2goKGVycm9yOiB1bmtub3duKSA9PiB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIG9wZW4gdGhlbWVzIGZvbGRlcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIFVzZSBkZWJvdW5jZWQgaW5wdXQgbGlrZSBvdGhlciB0ZXh0IGZpZWxkc1xuXHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRjdXN0b21UaGVtZXNJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcblx0XHRcdFx0Ly8gVXBkYXRlIHRoZSB2YWx1ZSBpbW1lZGlhdGVseSBmb3IgVUkgcmVzcG9uc2l2ZW5lc3Ncblx0XHRcdFx0c2V0dGluZ3MuY3VzdG9tVGhlbWVzID0gY3VzdG9tVGhlbWVzSW5wdXQudmFsdWUudHJpbSgpO1xuXHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gQ2xlYXIgZXhpc3RpbmcgdGltZW91dFxuXHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdC8vIERlYm91bmNlIHRoZSBjb25maWd1cmF0aW9uIGFwcGxpY2F0aW9uXG5cdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnQ3VzdG9tIHRoZW1lcyB1cGRhdGVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdH0pLmNhdGNoKChlcnJvcjogdW5rbm93bikgPT4ge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IGN1c3RvbSB0aGVtZXM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LCAxMDAwKTsgLy8gMSBzZWNvbmQgZGVib3VuY2Vcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQ3VzdG9tIFRoZW1lIFNlY3Rpb24gZ3JvdXAgd2l0aCBoZWFkaW5nXG5cdFx0Y29uc3QgY3VzdG9tVGhlbWVHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCAnQ3VzdG9tIHRoZW1lIGdlbmVyYXRpb24nLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xuXG5cdFx0Ly8gR2VuZXJhdGUgY3VzdG9tIHRoZW1lIHRvZ2dsZVxuXHRcdGN1c3RvbVRoZW1lR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnR2VuZXJhdGUgY3VzdG9tIHRoZW1lJylcblx0XHRcdFx0LnNldERlc2MoJ0VuYWJsZSB0byBleHRyYWN0IGNvbG9ycyBmcm9tIHlvdXIgT2JzaWRpYW4gdGhlbWUgYW5kIGdlbmVyYXRlIGN1c3RvbSB0aGVtZSBmaWxlcycpXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHNldHRpbmdzLmN1c3RvbVRoZW1lR2VuZXJhdGlvbkVuYWJsZWQgfHwgZmFsc2UpO1xuXHRcdFx0XHR0b2dnbGUub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY3VzdG9tVGhlbWVHZW5lcmF0aW9uRW5hYmxlZCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0Ly8gSW5pdGlhbGl6ZSBjdXN0b20gdGhlbWUgc2V0dGluZ3MgaWYgdGhleSBkb24ndCBleGlzdFxuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnRoZW1lQ29sb3JzKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRtb2RlOiAnc2ltcGxlJyxcblx0XHRcdFx0XHRcdFx0XHRcdGV4dHJhY3RlZENvbG9yczogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2ltcGxlQ29sb3JzOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFjY2VudDogJyM1ODY1ZjInLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiAnIzFlMWUxZSdcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRsYXN0RXh0cmFjdGVkOiB1bmRlZmluZWRcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gUmUtcmVuZGVyIHRvIHNob3cvaGlkZSBjdXN0b20gdGhlbWUgb3B0aW9uc1xuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcblx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2hvdyBjdXN0b20gdGhlbWUgb3B0aW9ucyB3aGVuIGVuYWJsZWRcblx0XHRpZiAoc2V0dGluZ3MuY3VzdG9tVGhlbWVHZW5lcmF0aW9uRW5hYmxlZCkge1xuXHRcdFx0Ly8gVGhlbWUgZmlsZSBuYW1lIGlucHV0IChhbHdheXMgdmlzaWJsZSB3aGVuIGN1c3RvbSB0aGVtZSBnZW5lcmF0aW9uIGlzIGVuYWJsZWQpXG5cdFx0XHRjdXN0b21UaGVtZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdFx0c2V0dGluZ1xuXHRcdFx0XHRcdC5zZXROYW1lKCdDdXN0b20gdGhlbWUgZmlsZSBuYW1lJylcblx0XHRcdFx0XHQuc2V0RGVzYygnRmlsZW5hbWUgZm9yIHRoZSBnZW5lcmF0ZWQgdGhlbWUgZmlsZSAod2l0aG91dCAudHMgZXh0ZW5zaW9uKScpXG5cdFx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XG5cdFx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLmN1c3RvbVRoZW1lRmlsZSB8fCAnY3VzdG9tJyk7XG5cdFx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXN0b21UaGVtZUZpbGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gRXh0cmFjdCBmcm9tIE9ic2lkaWFuIGJ1dHRvblxuXHRcdFx0Y3VzdG9tVGhlbWVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRcdHNldHRpbmdcblx0XHRcdFx0XHQuc2V0TmFtZSgnRXh0cmFjdCBmcm9tIE9ic2lkaWFuIHRoZW1lJylcblx0XHRcdFx0XHQuc2V0RGVzYygnRXh0cmFjdCBjb2xvcnMgZnJvbSB5b3VyIGN1cnJlbnRseSBhY3RpdmUgT2JzaWRpYW4gdGhlbWUnKVxuXHRcdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IHtcblx0XHRcdFx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdFeHRyYWN0IGNvbG9ycycpO1xuXHRcdFx0XHRcdFx0YnV0dG9uLnNldEN0YSgpO1xuXHRcdFx0XHRcdFx0YnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGV4dHJhY3RlZENvbG9ycyA9IFRoZW1lQ29sb3JFeHRyYWN0b3IuZXh0cmFjdE9ic2lkaWFuVGhlbWVDb2xvcnMoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3RvcmUgZXh0cmFjdGVkIGNvbG9yc1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzID0gZXh0cmFjdGVkQ29sb3JzO1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMubGFzdEV4dHJhY3RlZCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZS1yZW5kZXIgdG8gc2hvdyBleHRyYWN0ZWQgY29sb3JzXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdDb2xvcnMgZXh0cmFjdGVkIHN1Y2Nlc3NmdWxseSBmcm9tIE9ic2lkaWFuIHRoZW1lIScpO1xuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gZXh0cmFjdCBjb2xvcnM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFNob3cgbGFzdCBleHRyYWN0ZWQgdGltZXN0YW1wIC0gYWRkIGFzIGN1c3RvbSBzZXR0aW5nXG5cdFx0XHRpZiAoc2V0dGluZ3MudGhlbWVDb2xvcnMubGFzdEV4dHJhY3RlZCkge1xuXHRcdFx0XHRjdXN0b21UaGVtZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdFx0XHRjb25zdCBsYXN0RXh0cmFjdGVkID0gbmV3IERhdGUoc2V0dGluZ3MudGhlbWVDb2xvcnMubGFzdEV4dHJhY3RlZCEpLnRvTG9jYWxlU3RyaW5nKCk7XG5cdFx0XHRcdFx0Y29uc3QgbmFtZUVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1uYW1lJyk7XG5cdFx0XHRcdFx0Y29uc3QgZGVzY0VsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbicpO1xuXHRcdFx0XHRcdGNvbnN0IGNvbnRyb2xFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tY29udHJvbCcpO1xuXHRcdFx0XHRcdGlmIChuYW1lRWwpIChuYW1lRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdGlmIChkZXNjRWwpIChkZXNjRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdGlmIChjb250cm9sRWwpIChjb250cm9sRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxuXHRcdFx0XHRcdFx0cGFkZGluZ1RvcDogJzAnLFxuXHRcdFx0XHRcdFx0cGFkZGluZ0JvdHRvbTogJzAnXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Y29uc3QgdGltZXN0YW1wRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVFbCgncCcsIHsgXG5cdFx0XHRcdFx0XHR0ZXh0OiBgTGFzdCBleHRyYWN0ZWQ6ICR7bGFzdEV4dHJhY3RlZH1gLFxuXHRcdFx0XHRcdFx0Y2xzOiAndGhlbWUtZXh0cmFjdGlvbi10aW1lc3RhbXAnXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dGltZXN0YW1wRWwuc2V0Q3NzUHJvcHMoeyBjb2xvcjogJ3ZhcigtLXRleHQtbXV0ZWQpJyB9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbG9yIG1vZGUgc2VsZWN0b3IgKFNpbXBsZSB2cyBBZHZhbmNlZClcblx0XHRcdGN1c3RvbVRoZW1lR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRzZXR0aW5nXG5cdFx0XHRcdFx0LnNldE5hbWUoJ0NvbG9yIGVkaXRpbmcgbW9kZScpXG5cdFx0XHRcdFx0LnNldERlc2MoJ0Nob29zZSBob3cgdG8gZWRpdCB5b3VyIHRoZW1lIGNvbG9ycycpXG5cdFx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignc2ltcGxlJywgJ1NpbXBsZSAoYWNjZW50ICsgYmFja2dyb3VuZCknKTtcblx0XHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignYWR2YW5jZWQnLCAnQWR2YW5jZWQgKGluZGl2aWR1YWwgc2hhZGVzKScpO1xuXHRcdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MudGhlbWVDb2xvcnMubW9kZSk7XG5cdFx0XHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLnRoZW1lQ29sb3JzLm1vZGUgPSB2YWx1ZSBhcyAnc2ltcGxlJyB8ICdhZHZhbmNlZCc7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XG5cdFx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBDb2xvciBwcmV2aWV3IGlmIGNvbG9ycyBhcmUgYXZhaWxhYmxlIC0gYWRkIGFzIGN1c3RvbSBzZXR0aW5nXG5cdFx0XHRpZiAoc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzKSB7XG5cdFx0XHRcdGN1c3RvbVRoZW1lR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG5hbWVFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tbmFtZScpO1xuXHRcdFx0XHRcdGNvbnN0IGRlc2NFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nKTtcblx0XHRcdFx0XHRjb25zdCBjb250cm9sRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLWNvbnRyb2wnKTtcblx0XHRcdFx0XHRpZiAobmFtZUVsKSAobmFtZUVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRcdFx0XHRpZiAoZGVzY0VsKSAoZGVzY0VsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRcdFx0XHRpZiAoY29udHJvbEVsKSAoY29udHJvbEVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRcdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRib3JkZXJUb3A6ICdub25lJyxcblx0XHRcdFx0XHRcdHBhZGRpbmdUb3A6ICcwJyxcblx0XHRcdFx0XHRcdHBhZGRpbmdCb3R0b206ICcwJ1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVuZGVyQ29sb3JQcmV2aWV3KHNldHRpbmcuc2V0dGluZ0VsLCBzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbG9yIGVkaXRpbmcgaW50ZXJmYWNlIC0gYWRkIGFzIGN1c3RvbSBzZXR0aW5nXG5cdFx0XHRpZiAoc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzKSB7XG5cdFx0XHRcdGN1c3RvbVRoZW1lR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG5hbWVFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tbmFtZScpO1xuXHRcdFx0XHRcdGNvbnN0IGRlc2NFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nKTtcblx0XHRcdFx0XHRjb25zdCBjb250cm9sRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLWNvbnRyb2wnKTtcblx0XHRcdFx0XHRpZiAobmFtZUVsKSAobmFtZUVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRcdFx0XHRpZiAoZGVzY0VsKSAoZGVzY0VsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRcdFx0XHRpZiAoY29udHJvbEVsKSAoY29udHJvbEVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRcdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRib3JkZXJUb3A6ICdub25lJyxcblx0XHRcdFx0XHRcdHBhZGRpbmdUb3A6ICcwJyxcblx0XHRcdFx0XHRcdHBhZGRpbmdCb3R0b206ICcwJ1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChzZXR0aW5ncy50aGVtZUNvbG9ycy5tb2RlID09PSAnc2ltcGxlJykge1xuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXJTaW1wbGVDb2xvckVkaXRvcihzZXR0aW5nLnNldHRpbmdFbCwgc2V0dGluZ3MpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlckFkdmFuY2VkQ29sb3JFZGl0b3Ioc2V0dGluZy5zZXR0aW5nRWwsIHNldHRpbmdzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIHRvIGN1c3RvbSB0aGVtZSBmaWxlXG5cdFx0XHRjdXN0b21UaGVtZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdFx0c2V0dGluZ1xuXHRcdFx0XHRcdC5zZXROYW1lKCdTYXZlIHRvIGN1c3RvbSB0aGVtZSBmaWxlJylcblx0XHRcdFx0XHQuc2V0RGVzYygnR2VuZXJhdGUgYSBjdXN0b20gdGhlbWUgZmlsZSBmcm9tIHlvdXIgZXh0cmFjdGVkIGNvbG9ycycpXG5cdFx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4ge1xuXHRcdFx0XHRcdFx0YnV0dG9uLnNldEJ1dHRvblRleHQoJ1NhdmUgdGhlbWUgZmlsZScpO1xuXHRcdFx0XHRcdFx0YnV0dG9uLnNldEN0YSgpO1xuXHRcdFx0XHRcdFx0YnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ05vIGNvbG9ycyBhdmFpbGFibGUgdG8gc2F2ZS4gUGxlYXNlIGV4dHJhY3QgY29sb3JzIGZpcnN0LicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEdldCB0aGUgY3VzdG9tIHRoZW1lIGZpbGVuYW1lIGZyb20gc2V0dGluZ3Ncblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHRoZW1lRmlsZU5hbWUgPSBzZXR0aW5ncy5jdXN0b21UaGVtZUZpbGUgfHwgJ2N1c3RvbSc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEdlbmVyYXRlIHRoZW1lIGZpbGUgY29udGVudCB3aXRoIHRoZSBjdXN0b20gdGhlbWUgbmFtZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGhlbWVDb250ZW50ID0gVGhlbWVDb2xvckV4dHJhY3Rvci5nZW5lcmF0ZVRoZW1lRmlsZUNvbnRlbnQoc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzLCB0aGVtZUZpbGVOYW1lKTtcblx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU2F2ZSB0byBjdXN0b20gdGhlbWUgZmlsZSAtIHVzZSB0aGUgY3VzdG9tIGZpbGVuYW1lXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBmaWxlUGF0aCA9IGAuLi8uLi9zcmMvdGhlbWVzL2N1c3RvbS8ke3RoZW1lRmlsZU5hbWV9LnRzYDtcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoZmlsZVBhdGgsIHRoZW1lQ29udGVudCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBzZXR0aW5ncyB3aXRoIHRoZSBjdXN0b20gdGhlbWUgZmlsZSBuYW1lXG5cdFx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXN0b21UaGVtZUZpbGUgPSB0aGVtZUZpbGVOYW1lO1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBBcHBseSB0aGVtZSBhbmQgY3VzdG9tVGhlbWVGaWxlIGNoYW5nZXMgdG8gY29uZmlnLnRzXG5cdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBzdWNjZXNzID0gKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuY29uZmlnTWFuYWdlci51cGRhdGVJbmRpdmlkdWFsRmVhdHVyZXMoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYCR7dGhlbWVGaWxlTmFtZX0udHMgc2F2ZWQgc3VjY2Vzc2Z1bGx5ISBVc2UgdGhlIG1haW4gdGhlbWUgZHJvcGRvd24gdG8gc3dpdGNoIHRvIFwiY3VzdG9tXCIgaWYgeW91IHdhbnQgdG8gdXNlIHRoaXMgdGhlbWUuYCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnVGhlbWUgZmlsZSBzYXZlZCBidXQgZmFpbGVkIHRvIGFwcGx5IHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUaGVtZSBmaWxlIHNhdmVkIGJ1dCBmYWlsZWQgdG8gYXBwbHk6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gc2F2ZSB0aGVtZSBmaWxlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIFR5cG9ncmFwaHkgZ3JvdXAgd2l0aCBoZWFkaW5nXG5cdFx0Y29uc3QgdHlwb2dyYXBoeUdyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXIsICdUeXBvZ3JhcGh5JywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcblxuXHRcdC8vIEhlYWRpbmcgZm9udCBkcm9wZG93blxuXHRcdHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdIZWFkaW5nIGZvbnQnKVxuXHRcdFx0XHQuc2V0RGVzYygnRm9udCBmb3IgaGVhZGluZ3MgYW5kIHRpdGxlcycpXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdFx0Rk9OVF9PUFRJT05TLmZvckVhY2goZm9udCA9PiB7XG5cdFx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oZm9udCwgZm9udCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MudHlwb2dyYXBoeS5oZWFkaW5nRm9udCk7XG5cdFx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnR5cG9ncmFwaHkuaGVhZGluZ0ZvbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIEFwcGx5IG9ubHkgaGVhZGluZyBmb250IGNoYW5nZSB0byBjb25maWcudHMgKG5vdCBhbGwgc2V0dGluZ3MpXG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc3VjY2VzcyA9ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmNvbmZpZ01hbmFnZXIudXBkYXRlRm9udE9ubHkoJ2hlYWRpbmcnLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0hlYWRpbmcgZm9udCB1cGRhdGVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdGYWlsZWQgdG8gYXBwbHkgaGVhZGluZyBmb250IGNoYW5nZSB0byBjb25maWcudHMnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IGhlYWRpbmcgZm9udCBjaGFuZ2U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIFByb3NlIGZvbnQgZHJvcGRvd25cblx0XHR0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnUHJvc2UgZm9udCcpXG5cdFx0XHRcdC5zZXREZXNjKCdGb250IGZvciBib2R5IHRleHQgYW5kIGNvbnRlbnQnKVxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRcdEZPTlRfT1BUSU9OUy5mb3JFYWNoKGZvbnQgPT4ge1xuXHRcdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKGZvbnQsIGZvbnQpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLnR5cG9ncmFwaHkucHJvc2VGb250KTtcblx0XHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5wcm9zZUZvbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIEFwcGx5IG9ubHkgcHJvc2UgZm9udCBjaGFuZ2UgdG8gY29uZmlnLnRzIChub3QgYWxsIHNldHRpbmdzKVxuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHN1Y2Nlc3MgPSAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5jb25maWdNYW5hZ2VyLnVwZGF0ZUZvbnRPbmx5KCdwcm9zZScsIHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnUHJvc2UgZm9udCB1cGRhdGVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdGYWlsZWQgdG8gYXBwbHkgcHJvc2UgZm9udCBjaGFuZ2UgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSBwcm9zZSBmb250IGNoYW5nZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gTW9ubyBmb250IGRyb3Bkb3duXG5cdFx0dHlwb2dyYXBoeUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ01vbm9zcGFjZSBmb250Jylcblx0XHRcdFx0LnNldERlc2MoJ0ZvbnQgZm9yIGNvZGUgYmxvY2tzIGFuZCB0ZWNobmljYWwgY29udGVudCcpXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdFx0Rk9OVF9PUFRJT05TLmZvckVhY2goZm9udCA9PiB7XG5cdFx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oZm9udCwgZm9udCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MudHlwb2dyYXBoeS5tb25vRm9udCk7XG5cdFx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnR5cG9ncmFwaHkubW9ub0ZvbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIEFwcGx5IG9ubHkgbW9ub3NwYWNlIGZvbnQgY2hhbmdlIHRvIGNvbmZpZy50cyAobm90IGFsbCBzZXR0aW5ncylcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBzdWNjZXNzID0gKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuY29uZmlnTWFuYWdlci51cGRhdGVGb250T25seSgnbW9ubycsIHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnTW9ub3NwYWNlIGZvbnQgdXBkYXRlZCBhbmQgYXBwbGllZCB0byBjb25maWcudHMnKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnRmFpbGVkIHRvIGFwcGx5IG1vbm9zcGFjZSBmb250IGNoYW5nZSB0byBjb25maWcudHMnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IG1vbm9zcGFjZSBmb250IGNoYW5nZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gRm9udCBzb3VyY2UgZHJvcGRvd25cblx0XHR0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnRm9udCBzb3VyY2UnKVxuXHRcdFx0XHQuc2V0RGVzYygnSG93IGZvbnRzIGFyZSBsb2FkZWQnKVxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkdvb2dsZSBGb250c1wiIGlzIGEgcHJvcGVyIG5vdW4gKHByb2R1Y3QgbmFtZSkgYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJ2xvY2FsJywgJ0xvY2FsIChHb29nbGUgRm9udHMpJyk7XG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiQ0ROXCIgaXMgYW4gYWNyb255bSBhbmQgc2hvdWxkIGJlIGNhcGl0YWxpemVkXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignY2RuJywgJ0NETiAoQ3VzdG9tKScpO1xuXHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZSk7XG5cdFx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZSA9IHZhbHVlIGFzICdsb2NhbCcgfCAnY2RuJztcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlbmRlciB0byBzaG93L2hpZGUgY3VzdG9tIGlucHV0c1xuXHRcdFx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB0byBjb25maWcudHNcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGb250IHNvdXJjZSBjaGFuZ2VkIHRvICR7dmFsdWV9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSBmb250IHNvdXJjZSBjaGFuZ2U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIEZvbnQgZGlzcGxheSBkcm9wZG93blxuXHRcdHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdGb250IGRpc3BsYXknKVxuXHRcdFx0XHQuc2V0RGVzYygnRm9udCBkaXNwbGF5IHN0cmF0ZWd5Jylcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJ3N3YXAnLCAnU3dhcCAocmVjb21tZW5kZWQpJyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdmYWxsYmFjaycsICdGYWxsYmFjaycpO1xuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignb3B0aW9uYWwnLCAnT3B0aW9uYWwnKTtcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnREaXNwbGF5IHx8ICdzd2FwJyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnR5cG9ncmFwaHkuZm9udERpc3BsYXkgPSB2YWx1ZSBhcyAnc3dhcCcgfCAnZmFsbGJhY2snIHwgJ29wdGlvbmFsJztcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIEFwcGx5IGNoYW5nZXMgaW1tZWRpYXRlbHkgdG8gY29uZmlnLnRzXG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnRm9udCBkaXNwbGF5IHVwZGF0ZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IGZvbnQgZGlzcGxheSBjaGFuZ2U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIENvbnRlbnQgV2lkdGhcblx0XHR0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnQ29udGVudCB3aWR0aCcpXG5cdFx0XHRcdC5zZXREZXNjKCdNYXhpbXVtIHdpZHRoIGZvciBjb250ZW50IChlLmcuLCA0NXJlbSknKVxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLmxheW91dD8uY29udGVudFdpZHRoIHx8ICc0NXJlbScpO1xuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5sYXlvdXQpIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MubGF5b3V0ID0geyBjb250ZW50V2lkdGg6ICc0NXJlbScgfTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHNldHRpbmdzLmxheW91dC5jb250ZW50V2lkdGggPSB2YWx1ZTtcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIEN1c3RvbSBmb250IGlucHV0cyAob25seSBzaG93IHdoZW4gQ0ROIGlzIHNlbGVjdGVkKVxuXHRcdGlmIChzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2UgPT09ICdjZG4nKSB7XG5cdFx0XHQvLyBDdXN0b20gZm9udCBVUkxzXG5cdFx0dHlwb2dyYXBoeUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiVVJMc1wiIGlzIGFuIGFjcm9ueW0gYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdC5zZXROYW1lKCdDdXN0b20gZm9udCBVUkxzJylcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiR29vZ2xlIEZvbnRzXCIgaXMgYSBwcm9wZXIgbm91biAocHJvZHVjdCBuYW1lKSBhbmQgc2hvdWxkIGJlIGNhcGl0YWxpemVkXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0LnNldERlc2MoJ0NvbW1hLXNlcGFyYXRlZCBVUkxzIGZvciBjdXN0b20gZm9udHMgKGUuZy4sIEdvb2dsZSBGb250cyBVUkwpJylcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XG5cdFx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHM/LnVybHMgfHwgJycpO1xuXHRcdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cyA9IHsgaGVhZGluZzogJycsIHByb3NlOiAnJywgbW9ubzogJycsIHVybHM6ICcnIH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy51cmxzID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQ3VzdG9tIGhlYWRpbmcgZm9udCBuYW1lXG5cdFx0XHR0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRzZXR0aW5nXG5cdFx0XHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBoZWFkaW5nIGZvbnQgbmFtZScpXG5cdFx0XHRcdFx0LnNldERlc2MoJ0ZvbnQgZmFtaWx5IG5hbWUgZm9yIGhlYWRpbmdzJylcblx0XHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cz8uaGVhZGluZyB8fCAnJyk7XG5cdFx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzID0geyBoZWFkaW5nOiAnJywgcHJvc2U6ICcnLCBtb25vOiAnJywgdXJsczogJycgfTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLmhlYWRpbmcgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBDdXN0b20gQm9keSBGb250IE5hbWVcblx0XHRcdHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRcdHNldHRpbmdcblx0XHRcdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIGJvZHkgZm9udCBuYW1lJylcblx0XHRcdFx0XHQuc2V0RGVzYygnRm9udCBmYW1pbHkgbmFtZSBmb3IgYm9keSB0ZXh0Jylcblx0XHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cz8ucHJvc2UgfHwgJycpO1xuXHRcdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cyA9IHsgaGVhZGluZzogJycsIHByb3NlOiAnJywgbW9ubzogJycsIHVybHM6ICcnIH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5wcm9zZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEN1c3RvbSBNb25vc3BhY2UgRm9udCBOYW1lXG5cdFx0XHR0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRzZXR0aW5nXG5cdFx0XHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBtb25vc3BhY2UgZm9udCBuYW1lJylcblx0XHRcdFx0XHQuc2V0RGVzYygnRm9udCBmYW1pbHkgbmFtZSBmb3IgY29kZScpXG5cdFx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XG5cdFx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHM/Lm1vbm8gfHwgJycpO1xuXHRcdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cyA9IHsgaGVhZGluZzogJycsIHByb3NlOiAnJywgbW9ubzogJycsIHVybHM6ICcnIH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5tb25vID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJlbmRlciBjb2xvciBwcmV2aWV3XG5cdCAqL1xuXHRwcml2YXRlIHJlbmRlckNvbG9yUHJldmlldyhjb250YWluZXI6IEhUTUxFbGVtZW50LCBjb2xvcnM6IHsgcHJpbWFyeTogQ29sb3JTY2FsZTsgaGlnaGxpZ2h0OiBDb2xvclNjYWxlIH0pOiB2b2lkIHtcblx0XHRjb25zdCBwcmV2aWV3U2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbG9yLXByZXZpZXctc2VjdGlvbicpO1xuXHRcdHByZXZpZXdTZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0NvbG9yIHByZXZpZXcnIH0pO1xuXHRcdFxuXHRcdGNvbnN0IHByZXZpZXdDb250YWluZXIgPSBwcmV2aWV3U2VjdGlvbi5jcmVhdGVEaXYoJ2NvbG9yLXByZXZpZXctY29udGFpbmVyJyk7XG5cdFx0cHJldmlld0NvbnRhaW5lci5zZXRDc3NQcm9wcyh7XG5cdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRnYXA6ICcxMHB4Jyxcblx0XHRcdG1hcmdpblRvcDogJzEwcHgnXG5cdFx0fSk7XG5cblx0XHQvLyBTaG93IHByaW1hcnkgY29sb3JzICg1MCwgMTAwLCAyMDAsIDMwMCwgNDAwLCA1MDAsIDYwMCwgNzAwLCA4MDAsIDkwMCwgOTUwKVxuXHRcdGNvbnN0IHByaW1hcnlTaGFkZXM6IEFycmF5PGtleW9mIENvbG9yU2NhbGU+ID0gWzUwLCAxMDAsIDIwMCwgMzAwLCA0MDAsIDUwMCwgNjAwLCA3MDAsIDgwMCwgOTAwLCA5NTBdO1xuXHRcdHByaW1hcnlTaGFkZXMuZm9yRWFjaChzaGFkZSA9PiB7XG5cdFx0XHRjb25zdCBjb2xvclZhbHVlID0gY29sb3JzLnByaW1hcnlbc2hhZGVdO1xuXHRcdFx0aWYgKGNvbG9yVmFsdWUpIHtcblx0XHRcdFx0Y29uc3QgY29sb3JCb3ggPSBwcmV2aWV3Q29udGFpbmVyLmNyZWF0ZURpdignY29sb3ItYm94Jyk7XG5cdFx0XHRcdGNvbG9yQm94LnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHR3aWR0aDogJzIwcHgnLFxuXHRcdFx0XHRcdGhlaWdodDogJzIwcHgnLFxuXHRcdFx0XHRcdGJhY2tncm91bmRDb2xvcjogY29sb3JWYWx1ZSxcblx0XHRcdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJyxcblx0XHRcdFx0XHRib3JkZXJSYWRpdXM6ICczcHgnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb2xvckJveC50aXRsZSA9IGBQcmltYXJ5ICR7c2hhZGV9OiAke2NvbG9yVmFsdWV9YDtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFNob3cgaGlnaGxpZ2h0IGNvbG9ycyAoNTAsIDEwMCwgMjAwLCAzMDAsIDQwMCwgNTAwLCA2MDAsIDcwMCwgODAwLCA5MDApXG5cdFx0Y29uc3QgaGlnaGxpZ2h0U2hhZGVzOiBBcnJheTxrZXlvZiBDb2xvclNjYWxlPiA9IFs1MCwgMTAwLCAyMDAsIDMwMCwgNDAwLCA1MDAsIDYwMCwgNzAwLCA4MDAsIDkwMF07XG5cdFx0aGlnaGxpZ2h0U2hhZGVzLmZvckVhY2goc2hhZGUgPT4ge1xuXHRcdFx0Y29uc3QgY29sb3JWYWx1ZSA9IGNvbG9ycy5oaWdobGlnaHRbc2hhZGVdO1xuXHRcdFx0aWYgKGNvbG9yVmFsdWUpIHtcblx0XHRcdFx0Y29uc3QgY29sb3JCb3ggPSBwcmV2aWV3Q29udGFpbmVyLmNyZWF0ZURpdignY29sb3ItYm94Jyk7XG5cdFx0XHRcdGNvbG9yQm94LnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHR3aWR0aDogJzIwcHgnLFxuXHRcdFx0XHRcdGhlaWdodDogJzIwcHgnLFxuXHRcdFx0XHRcdGJhY2tncm91bmRDb2xvcjogY29sb3JWYWx1ZSxcblx0XHRcdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJyxcblx0XHRcdFx0XHRib3JkZXJSYWRpdXM6ICczcHgnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb2xvckJveC50aXRsZSA9IGBIaWdobGlnaHQgJHtzaGFkZX06ICR7Y29sb3JWYWx1ZX1gO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbmRlciBzaW1wbGUgY29sb3IgZWRpdG9yIChhY2NlbnQgKyBiYWNrZ3JvdW5kKVxuXHQgKi9cblx0cHJpdmF0ZSByZW5kZXJTaW1wbGVDb2xvckVkaXRvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBzZXR0aW5nczogQXN0cm9Nb2R1bGFyU2V0dGluZ3MpOiB2b2lkIHtcblx0XHRjb25zdCBzaW1wbGVTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignc2ltcGxlLWNvbG9yLWlucHV0cycpO1xuXHRcdHNpbXBsZVNlY3Rpb24uc2V0Q3NzUHJvcHMoeyBtYXJnaW5Cb3R0b206ICcyMHB4JyB9KTsgLy8gQWRkIHNwYWNpbmcgYmVsb3cgdGhlIHNpbXBsZSBlZGl0b3Jcblx0XHRzaW1wbGVTZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1NpbXBsZSBjb2xvciBlZGl0b3InIH0pO1xuXG5cdFx0Ly8gQWx3YXlzIGluaXRpYWxpemUgc2ltcGxlIGNvbG9ycyBmcm9tIGV4dHJhY3RlZCBjb2xvcnMgdG8gZW5zdXJlIHRoZXkncmUgY3VycmVudFxuXHRcdGNvbnN0IGFjY2VudENvbG9yID0gc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzPy5oaWdobGlnaHQ/Lls1MDBdIHx8ICcjNTg2NWYyJztcblx0XHRjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSBzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnM/LnByaW1hcnk/Lls4MDBdIHx8ICcjMWUxZTFlJztcblx0XHRcblx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycy5zaW1wbGVDb2xvcnMgPSB7XG5cdFx0XHRhY2NlbnQ6IGFjY2VudENvbG9yLFxuXHRcdFx0YmFja2dyb3VuZDogYmFja2dyb3VuZENvbG9yXG5cdFx0fTtcblxuXHRcdC8vIEFjY2VudCBjb2xvclxuXHRcdGNvbnN0IGFjY2VudERpdiA9IHNpbXBsZVNlY3Rpb24uY3JlYXRlRGl2KCdzaW1wbGUtY29sb3ItaW5wdXQnKTtcblx0XHRhY2NlbnREaXYuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnQWNjZW50IGNvbG9yOicgfSk7XG5cdFx0XG5cdFx0Y29uc3QgYWNjZW50VGV4dElucHV0ID0gYWNjZW50RGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgXG5cdFx0XHR0eXBlOiAndGV4dCcsIFxuXHRcdFx0dmFsdWU6IHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycy5hY2NlbnQgXG5cdFx0fSk7XG5cdFx0YWNjZW50VGV4dElucHV0LnNldENzc1Byb3BzKHsgZm9udEZhbWlseTogJ3ZhcigtLWZvbnQtbW9ub3NwYWNlKScgfSk7XG5cdFx0XG5cdFx0Y29uc3QgYWNjZW50Q29sb3JQaWNrZXIgPSBhY2NlbnREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY29sb3InIH0pO1xuXHRcdGFjY2VudENvbG9yUGlja2VyLnZhbHVlID0gc2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzLmFjY2VudDtcblx0XHRhY2NlbnRDb2xvclBpY2tlci5jbGFzc05hbWUgPSAnY29sb3ItcGlja2VyJztcblx0XHRcblx0XHRhY2NlbnRUZXh0SW5wdXQub25pbnB1dCA9IGFzeW5jICgpID0+IHtcblx0XHRcdGlmIChUaGVtZUNvbG9yRXh0cmFjdG9yLmlzVmFsaWRIZXhDb2xvcihhY2NlbnRUZXh0SW5wdXQudmFsdWUpICYmIHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycykge1xuXHRcdFx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycy5zaW1wbGVDb2xvcnMuYWNjZW50ID0gYWNjZW50VGV4dElucHV0LnZhbHVlO1xuXHRcdFx0XHRhY2NlbnRDb2xvclBpY2tlci52YWx1ZSA9IGFjY2VudFRleHRJbnB1dC52YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0XG5cdFx0YWNjZW50Q29sb3JQaWNrZXIub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoc2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzKSB7XG5cdFx0XHRcdHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycy5hY2NlbnQgPSBhY2NlbnRDb2xvclBpY2tlci52YWx1ZTtcblx0XHRcdFx0YWNjZW50VGV4dElucHV0LnZhbHVlID0gYWNjZW50Q29sb3JQaWNrZXIudmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gQmFja2dyb3VuZCBjb2xvclxuXHRcdGNvbnN0IGJhY2tncm91bmREaXYgPSBzaW1wbGVTZWN0aW9uLmNyZWF0ZURpdignc2ltcGxlLWNvbG9yLWlucHV0Jyk7XG5cdFx0YmFja2dyb3VuZERpdi5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdCYWNrZ3JvdW5kIGNvbG9yOicgfSk7XG5cdFx0XG5cdFx0Y29uc3QgYmFja2dyb3VuZFRleHRJbnB1dCA9IGJhY2tncm91bmREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyBcblx0XHRcdHR5cGU6ICd0ZXh0JywgXG5cdFx0XHR2YWx1ZTogc2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzLmJhY2tncm91bmQgXG5cdFx0fSk7XG5cdFx0YmFja2dyb3VuZFRleHRJbnB1dC5zZXRDc3NQcm9wcyh7IGZvbnRGYW1pbHk6ICd2YXIoLS1mb250LW1vbm9zcGFjZSknIH0pO1xuXHRcdFxuXHRcdGNvbnN0IGJhY2tncm91bmRDb2xvclBpY2tlciA9IGJhY2tncm91bmREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY29sb3InIH0pO1xuXHRcdGJhY2tncm91bmRDb2xvclBpY2tlci52YWx1ZSA9IHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycy5iYWNrZ3JvdW5kO1xuXHRcdGJhY2tncm91bmRDb2xvclBpY2tlci5jbGFzc05hbWUgPSAnY29sb3ItcGlja2VyJztcblx0XHRcblx0XHRiYWNrZ3JvdW5kVGV4dElucHV0Lm9uaW5wdXQgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoVGhlbWVDb2xvckV4dHJhY3Rvci5pc1ZhbGlkSGV4Q29sb3IoYmFja2dyb3VuZFRleHRJbnB1dC52YWx1ZSkgJiYgc2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzKSB7XG5cdFx0XHRcdHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZFRleHRJbnB1dC52YWx1ZTtcblx0XHRcdFx0YmFja2dyb3VuZENvbG9yUGlja2VyLnZhbHVlID0gYmFja2dyb3VuZFRleHRJbnB1dC52YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0XG5cdFx0YmFja2dyb3VuZENvbG9yUGlja2VyLm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycykge1xuXHRcdFx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycy5zaW1wbGVDb2xvcnMuYmFja2dyb3VuZCA9IGJhY2tncm91bmRDb2xvclBpY2tlci52YWx1ZTtcblx0XHRcdH1cblx0XHRcdGJhY2tncm91bmRUZXh0SW5wdXQudmFsdWUgPSBiYWNrZ3JvdW5kQ29sb3JQaWNrZXIudmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW5kZXIgYWR2YW5jZWQgY29sb3IgZWRpdG9yIChpbmRpdmlkdWFsIHNoYWRlcylcblx0ICovXG5cdHByaXZhdGUgcmVuZGVyQWR2YW5jZWRDb2xvckVkaXRvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBzZXR0aW5nczogQXN0cm9Nb2R1bGFyU2V0dGluZ3MpOiB2b2lkIHtcblx0XHRjb25zdCBhZHZhbmNlZFNlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KCdhZHZhbmNlZC1tb2RlLXNlY3Rpb24nKTtcblx0XHRhZHZhbmNlZFNlY3Rpb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQWR2YW5jZWQgY29sb3IgZWRpdG9yJyB9KTtcblxuXHRcdC8vIFByaW1hcnkgY29sb3JzXG5cdFx0Y29uc3QgcHJpbWFyeVNlY3Rpb24gPSBhZHZhbmNlZFNlY3Rpb24uY3JlYXRlRGl2KCdjb2xvci1zY2FsZS1lZGl0b3InKTtcblx0XHRwcmltYXJ5U2VjdGlvbi5jcmVhdGVFbCgnaDUnLCB7IHRleHQ6ICdQcmltYXJ5IGNvbG9ycycgfSk7XG5cdFx0XG5cdFx0Y29uc3QgcHJpbWFyeVNoYWRlczogQXJyYXk8a2V5b2YgQ29sb3JTY2FsZT4gPSBbNTAsIDEwMCwgMjAwLCAzMDAsIDQwMCwgNTAwLCA2MDAsIDcwMCwgODAwLCA5MDAsIDk1MF07XG5cdFx0cHJpbWFyeVNoYWRlcy5mb3JFYWNoKHNoYWRlID0+IHtcblx0XHRcdGNvbnN0IGNvbG9yVmFsdWUgPSBzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnM/LnByaW1hcnk/LltzaGFkZV07XG5cdFx0XHRpZiAoY29sb3JWYWx1ZSkge1xuXHRcdFx0XHRjb25zdCBzZXR0aW5nSXRlbSA9IHByaW1hcnlTZWN0aW9uLmNyZWF0ZURpdignc2V0dGluZy1pdGVtJyk7XG5cdFx0XHRcdHNldHRpbmdJdGVtLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRcdFx0YWxpZ25JdGVtczogJ2NlbnRlcicsXG5cdFx0XHRcdFx0Z2FwOiAnMTBweCcsXG5cdFx0XHRcdFx0bWFyZ2luQm90dG9tOiAnOHB4J1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IGxhYmVsID0gc2V0dGluZ0l0ZW0uY3JlYXRlRGl2KCdzZXR0aW5nLWl0ZW0tbmFtZScpO1xuXHRcdFx0XHRsYWJlbC50ZXh0Q29udGVudCA9IGAke3NoYWRlfTpgO1xuXHRcdFx0XHRsYWJlbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0bWluV2lkdGg6ICc0MHB4Jyxcblx0XHRcdFx0XHRmb250U2l6ZTogJzEycHgnLFxuXHRcdFx0XHRcdGNvbG9yOiAndmFyKC0tdGV4dC1tdXRlZCknXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgY29udHJvbCA9IHNldHRpbmdJdGVtLmNyZWF0ZURpdignc2V0dGluZy1pdGVtLWNvbnRyb2wnKTtcblx0XHRcdFx0Y29udHJvbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0ZGlzcGxheTogJ2ZsZXgnLFxuXHRcdFx0XHRcdGdhcDogJzhweCcsXG5cdFx0XHRcdFx0YWxpZ25JdGVtczogJ2NlbnRlcidcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCB0ZXh0SW5wdXQgPSBjb250cm9sLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogY29sb3JWYWx1ZSB9KTtcblx0XHRcdFx0dGV4dElucHV0LnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHR3aWR0aDogJzEwMHB4Jyxcblx0XHRcdFx0XHRmb250RmFtaWx5OiAndmFyKC0tZm9udC1tb25vc3BhY2UpJyxcblx0XHRcdFx0XHRmb250U2l6ZTogJzEycHgnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgY29sb3JQaWNrZXIgPSBjb250cm9sLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NvbG9yJywgdmFsdWU6IGNvbG9yVmFsdWUgfSk7XG5cdFx0XHRcdGNvbG9yUGlja2VyLmNsYXNzTmFtZSA9ICdjb2xvci1waWNrZXInO1xuXHRcdFx0XHRcblx0XHRcdFx0dGV4dElucHV0Lm9uaW5wdXQgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKFRoZW1lQ29sb3JFeHRyYWN0b3IuaXNWYWxpZEhleENvbG9yKHRleHRJbnB1dC52YWx1ZSkpIHtcblx0XHRcdFx0XHRcdGlmIChzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnM/LnByaW1hcnkpIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzLnByaW1hcnlbc2hhZGVdID0gdGV4dElucHV0LnZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29sb3JQaWNrZXIudmFsdWUgPSB0ZXh0SW5wdXQudmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRcblx0XHRcdFx0Y29sb3JQaWNrZXIub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycykge1xuXHRcdFx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzLnByaW1hcnlbc2hhZGVdID0gY29sb3JQaWNrZXIudmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRleHRJbnB1dC52YWx1ZSA9IGNvbG9yUGlja2VyLnZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEhpZ2hsaWdodCBjb2xvcnNcblx0XHRjb25zdCBoaWdobGlnaHRTZWN0aW9uID0gYWR2YW5jZWRTZWN0aW9uLmNyZWF0ZURpdignY29sb3Itc2NhbGUtZWRpdG9yJyk7XG5cdFx0aGlnaGxpZ2h0U2VjdGlvbi5jcmVhdGVFbCgnaDUnLCB7IHRleHQ6ICdIaWdobGlnaHQgY29sb3JzJyB9KTtcblx0XHRcblx0XHRjb25zdCBoaWdobGlnaHRTaGFkZXM6IEFycmF5PGtleW9mIENvbG9yU2NhbGU+ID0gWzUwLCAxMDAsIDIwMCwgMzAwLCA0MDAsIDUwMCwgNjAwLCA3MDAsIDgwMCwgOTAwXTtcblx0XHRoaWdobGlnaHRTaGFkZXMuZm9yRWFjaChzaGFkZSA9PiB7XG5cdFx0XHRjb25zdCBjb2xvclZhbHVlID0gc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzPy5oaWdobGlnaHQ/LltzaGFkZV07XG5cdFx0XHRpZiAoY29sb3JWYWx1ZSkge1xuXHRcdFx0XHRjb25zdCBzZXR0aW5nSXRlbSA9IGhpZ2hsaWdodFNlY3Rpb24uY3JlYXRlRGl2KCdzZXR0aW5nLWl0ZW0nKTtcblx0XHRcdFx0c2V0dGluZ0l0ZW0uc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdFx0XHRhbGlnbkl0ZW1zOiAnY2VudGVyJyxcblx0XHRcdFx0XHRnYXA6ICcxMHB4Jyxcblx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICc4cHgnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgbGFiZWwgPSBzZXR0aW5nSXRlbS5jcmVhdGVEaXYoJ3NldHRpbmctaXRlbS1uYW1lJyk7XG5cdFx0XHRcdGxhYmVsLnRleHRDb250ZW50ID0gYCR7c2hhZGV9OmA7XG5cdFx0XHRcdGxhYmVsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRtaW5XaWR0aDogJzQwcHgnLFxuXHRcdFx0XHRcdGZvbnRTaXplOiAnMTJweCcsXG5cdFx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW11dGVkKSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBjb250cm9sID0gc2V0dGluZ0l0ZW0uY3JlYXRlRGl2KCdzZXR0aW5nLWl0ZW0tY29udHJvbCcpO1xuXHRcdFx0XHRjb250cm9sLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRcdFx0Z2FwOiAnOHB4Jyxcblx0XHRcdFx0XHRhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IHRleHRJbnB1dCA9IGNvbnRyb2wuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiBjb2xvclZhbHVlIH0pO1xuXHRcdFx0XHR0ZXh0SW5wdXQuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdHdpZHRoOiAnMTAwcHgnLFxuXHRcdFx0XHRcdGZvbnRGYW1pbHk6ICd2YXIoLS1mb250LW1vbm9zcGFjZSknLFxuXHRcdFx0XHRcdGZvbnRTaXplOiAnMTJweCdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBjb2xvclBpY2tlciA9IGNvbnRyb2wuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY29sb3InLCB2YWx1ZTogY29sb3JWYWx1ZSB9KTtcblx0XHRcdFx0Y29sb3JQaWNrZXIuY2xhc3NOYW1lID0gJ2NvbG9yLXBpY2tlcic7XG5cdFx0XHRcdFxuXHRcdFx0XHR0ZXh0SW5wdXQub25pbnB1dCA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRpZiAoVGhlbWVDb2xvckV4dHJhY3Rvci5pc1ZhbGlkSGV4Q29sb3IodGV4dElucHV0LnZhbHVlKSkge1xuXHRcdFx0XHRcdFx0aWYgKHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycz8uaGlnaGxpZ2h0KSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycy5oaWdobGlnaHRbc2hhZGVdID0gdGV4dElucHV0LnZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29sb3JQaWNrZXIudmFsdWUgPSB0ZXh0SW5wdXQudmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRcblx0XHRcdFx0Y29sb3JQaWNrZXIub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycykge1xuXHRcdFx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzLmhpZ2hsaWdodFtzaGFkZV0gPSBjb2xvclBpY2tlci52YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGV4dElucHV0LnZhbHVlID0gY29sb3JQaWNrZXIudmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59IiwgImltcG9ydCB7IFRoZW1lQ29sb3JzLCBDb2xvclNjYWxlIH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRoZW1lQ29sb3JFeHRyYWN0b3Ige1xyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgY29sb3JzIGZyb20gdGhlIGN1cnJlbnRseSBhY3RpdmUgT2JzaWRpYW4gdGhlbWVcclxuXHQgKi9cclxuXHRzdGF0aWMgZXh0cmFjdE9ic2lkaWFuVGhlbWVDb2xvcnMoKTogVGhlbWVDb2xvcnMge1xyXG5cdFx0Ly8gR2V0IGNvbXB1dGVkIHN0eWxlcyBmcm9tIHRoZSBkb2N1bWVudCByb290XHJcblx0XHRjb25zdCBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpO1xyXG5cdFx0XHJcblx0XHQvLyBFeHRyYWN0IHByaW1hcnkgY29sb3JzIChiYWNrZ3JvdW5kcyBhbmQgdGV4dClcclxuXHRcdGNvbnN0IHByaW1hcnlDb2xvcnMgPSB0aGlzLmV4dHJhY3RQcmltYXJ5Q29sb3JzKHN0eWxlcyk7XHJcblx0XHRcclxuXHRcdC8vIEV4dHJhY3QgaGlnaGxpZ2h0L2FjY2VudCBjb2xvcnNcclxuXHRcdGNvbnN0IGhpZ2hsaWdodENvbG9ycyA9IHRoaXMuZXh0cmFjdEhpZ2hsaWdodENvbG9ycyhzdHlsZXMpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRwcmltYXJ5OiBwcmltYXJ5Q29sb3JzLFxyXG5cdFx0XHRoaWdobGlnaHQ6IGhpZ2hsaWdodENvbG9yc1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3QgcHJpbWFyeSBjb2xvciBzY2FsZSBmcm9tIE9ic2lkaWFuIHRoZW1lXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgZXh0cmFjdFByaW1hcnlDb2xvcnMoc3R5bGVzOiBDU1NTdHlsZURlY2xhcmF0aW9uKTogQ29sb3JTY2FsZSB7XHJcblx0XHQvLyBHZXQgbXVsdGlwbGUgYmFja2dyb3VuZCBjb2xvcnMgdG8gY3JlYXRlIGEgYmV0dGVyIHNjYWxlXHJcblx0XHRjb25zdCBiYWNrZ3JvdW5kUHJpbWFyeSA9IHRoaXMuZ2V0Q29sb3JWYWx1ZShzdHlsZXMsICctLWJhY2tncm91bmQtcHJpbWFyeScpO1xyXG5cdFx0Y29uc3QgYmFja2dyb3VuZFNlY29uZGFyeSA9IHRoaXMuZ2V0Q29sb3JWYWx1ZShzdHlsZXMsICctLWJhY2tncm91bmQtc2Vjb25kYXJ5Jyk7XHJcblx0XHRcclxuXHRcdC8vIERldGVybWluZSBpZiB3ZSdyZSBpbiBhIGRhcmsgb3IgbGlnaHQgdGhlbWVcclxuXHRcdGNvbnN0IGJhY2tncm91bmRSZ2IgPSB0aGlzLmhleFRvUmdiKGJhY2tncm91bmRQcmltYXJ5KTtcclxuXHRcdGNvbnN0IGlzRGFya1RoZW1lID0gYmFja2dyb3VuZFJnYiA/ICgwLjI5OSAqIGJhY2tncm91bmRSZ2IuciArIDAuNTg3ICogYmFja2dyb3VuZFJnYi5nICsgMC4xMTQgKiBiYWNrZ3JvdW5kUmdiLmIpIC8gMjU1IDwgMC41IDogdHJ1ZTtcclxuXHRcdFxyXG5cdFx0aWYgKGlzRGFya1RoZW1lKSB7XHJcblx0XHRcdC8vIEZvciBkYXJrIHRoZW1lcywgY3JlYXRlIGEgc2NhbGUgdGhhdCBnb2VzIGZyb20gbGlnaHQgdG8gZGFya1xyXG5cdFx0XHQvLyBVc2UgYmFja2dyb3VuZFNlY29uZGFyeSBhcyB0aGUgbWFpbiBjb250ZW50IGNvbG9yICg3MDApXHJcblx0XHRcdC8vIFVzZSBiYWNrZ3JvdW5kUHJpbWFyeSBhcyB0aGUgZmFyIGJhY2tncm91bmQgKDkwMCkgLSBidXQgbWFrZSBpdCBkYXJrZXIgbGlrZSAjMWExYTFhXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0NTA6IHRoaXMubGlnaHRlbkNvbG9yKGJhY2tncm91bmRTZWNvbmRhcnksIDk1KSwgICAvLyBWZXJ5IGxpZ2h0XHJcblx0XHRcdFx0MTAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYWNrZ3JvdW5kU2Vjb25kYXJ5LCA5MCksICAvLyBMaWdodFxyXG5cdFx0XHRcdDIwMDogdGhpcy5saWdodGVuQ29sb3IoYmFja2dyb3VuZFNlY29uZGFyeSwgODApLCAgLy8gTGlnaHRcclxuXHRcdFx0XHQzMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhY2tncm91bmRTZWNvbmRhcnksIDcwKSwgIC8vIE1lZGl1bSBsaWdodFxyXG5cdFx0XHRcdDQwMDogdGhpcy5saWdodGVuQ29sb3IoYmFja2dyb3VuZFNlY29uZGFyeSwgNTUpLCAgLy8gTWVkaXVtXHJcblx0XHRcdFx0NTAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYWNrZ3JvdW5kU2Vjb25kYXJ5LCA0MCksICAvLyBNZWRpdW1cclxuXHRcdFx0XHQ2MDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhY2tncm91bmRTZWNvbmRhcnksIDI1KSwgIC8vIE1lZGl1bSBkYXJrXHJcblx0XHRcdFx0NzAwOiBiYWNrZ3JvdW5kU2Vjb25kYXJ5LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFpbiBjb250ZW50IGJhY2tncm91bmRcclxuXHRcdFx0XHQ4MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFja2dyb3VuZFByaW1hcnksIDIwKSwgICAgIC8vIERhcmtlciBmYXIgYmFja2dyb3VuZFxyXG5cdFx0XHRcdDkwMDogdGhpcy5kYXJrZW5Db2xvcihiYWNrZ3JvdW5kUHJpbWFyeSwgMzUpLCAgICAgLy8gVmVyeSBkYXJrIChsaWtlICMxYTFhMWEpXHJcblx0XHRcdFx0OTUwOiB0aGlzLmRhcmtlbkNvbG9yKGJhY2tncm91bmRQcmltYXJ5LCA1MCksICAgICAvLyBEYXJrZXN0XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBGb3IgbGlnaHQgdGhlbWVzLCB1c2UgdGhlIHN0YW5kYXJkIHNjYWxlIGdlbmVyYXRpb25cclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlQmV0dGVyQ29sb3JTY2FsZShiYWNrZ3JvdW5kUHJpbWFyeSwgdHJ1ZSwgaXNEYXJrVGhlbWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXh0cmFjdCBoaWdobGlnaHQgY29sb3Igc2NhbGUgZnJvbSBPYnNpZGlhbiB0aGVtZVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGV4dHJhY3RIaWdobGlnaHRDb2xvcnMoc3R5bGVzOiBDU1NTdHlsZURlY2xhcmF0aW9uKTogQ29sb3JTY2FsZSB7XHJcblx0XHQvLyBUcnkgbXVsdGlwbGUgY29sb3Igc291cmNlcyBpbiBvcmRlciBvZiBwcmVmZXJlbmNlXHJcblx0XHRjb25zdCBiYXNlQ29sb3IgPSB0aGlzLmdldENvbG9yVmFsdWUoc3R5bGVzLCAnLS10ZXh0LWFjY2VudCcpIHx8IFxyXG5cdFx0XHRcdFx0XHQgIHRoaXMuZ2V0Q29sb3JWYWx1ZShzdHlsZXMsICctLWludGVyYWN0aXZlLWFjY2VudCcpIHx8XHJcblx0XHRcdFx0XHRcdCAgdGhpcy5nZXRDb2xvclZhbHVlKHN0eWxlcywgJy0tdGV4dC1hJykgfHxcclxuXHRcdFx0XHRcdFx0ICB0aGlzLmdldENvbG9yVmFsdWUoc3R5bGVzLCAnLS10ZXh0LWxpbmsnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgaG92ZXJDb2xvciA9IHRoaXMuZ2V0Q29sb3JWYWx1ZShzdHlsZXMsICctLXRleHQtYWNjZW50LWhvdmVyJykgfHwgXHJcblx0XHRcdFx0XHRcdCAgIHRoaXMuZ2V0Q29sb3JWYWx1ZShzdHlsZXMsICctLXRleHQtYS1ob3ZlcicpIHx8XHJcblx0XHRcdFx0XHRcdCAgIGJhc2VDb2xvcjtcclxuXHRcdFxyXG5cdFx0Ly8gVXNlIHRoZSByYXcgY29sb3JzIGRpcmVjdGx5IGluIHRoZSBzY2FsZVxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0NTA6IGhvdmVyQ29sb3IsICAgLy8gSG92ZXIvbGlnaHRlciB2YXJpYW50XHJcblx0XHRcdDEwMDogaG92ZXJDb2xvciwgIC8vIEhvdmVyL2xpZ2h0ZXIgdmFyaWFudFxyXG5cdFx0XHQyMDA6IGhvdmVyQ29sb3IsICAvLyBIb3Zlci9saWdodGVyIHZhcmlhbnRcclxuXHRcdFx0MzAwOiBiYXNlQ29sb3IsICAgLy8gQmFzZSBjb2xvclxyXG5cdFx0XHQ0MDA6IGJhc2VDb2xvciwgICAvLyBCYXNlIGNvbG9yXHJcblx0XHRcdDUwMDogYmFzZUNvbG9yLCAgIC8vIEJhc2UgY29sb3JcclxuXHRcdFx0NjAwOiBiYXNlQ29sb3IsICAgLy8gQmFzZSBjb2xvclxyXG5cdFx0XHQ3MDA6IGJhc2VDb2xvciwgICAvLyBCYXNlIGNvbG9yXHJcblx0XHRcdDgwMDogYmFzZUNvbG9yLCAgIC8vIEJhc2UgY29sb3JcclxuXHRcdFx0OTAwOiBiYXNlQ29sb3IsICAgLy8gQmFzZSBjb2xvclxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgY29sb3IgdmFsdWUgZnJvbSBDU1MgY3VzdG9tIHByb3BlcnR5IHdpdGggZmFsbGJhY2tcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBnZXRDb2xvclZhbHVlKHN0eWxlczogQ1NTU3R5bGVEZWNsYXJhdGlvbiwgcHJvcGVydHk6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCB2YWx1ZSA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KS50cmltKCk7XHJcblx0XHRpZiAoIXZhbHVlKSB7XHJcblx0XHRcdC8vIEZhbGxiYWNrIGNvbG9ycyBpZiBDU1MgdmFyaWFibGVzIGFyZSBub3QgYXZhaWxhYmxlXHJcblx0XHRcdHN3aXRjaCAocHJvcGVydHkpIHtcclxuXHRcdFx0XHRjYXNlICctLWJhY2tncm91bmQtcHJpbWFyeSc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyMxZTFlMWUnO1xyXG5cdFx0XHRcdGNhc2UgJy0tYmFja2dyb3VuZC1zZWNvbmRhcnknOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjMmQyZDJkJztcclxuXHRcdFx0XHRjYXNlICctLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyJzpcclxuXHRcdFx0XHRcdHJldHVybiAnIzNhM2EzYSc7XHJcblx0XHRcdFx0Y2FzZSAnLS10ZXh0LW5vcm1hbCc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyNkY2RkZGUnO1xyXG5cdFx0XHRcdGNhc2UgJy0tdGV4dC1tdXRlZCc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyM3Mjc2N2QnO1xyXG5cdFx0XHRcdGNhc2UgJy0tdGV4dC1mYWludCc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyM0ODRiNTEnO1xyXG5cdFx0XHRcdGNhc2UgJy0tdGV4dC1hY2NlbnQnOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjNzA4Nzk0JztcclxuXHRcdFx0XHRjYXNlICctLWF4MSc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyM3MDg3OTQnO1xyXG5cdFx0XHRcdGNhc2UgJy0tYXgyJzpcclxuXHRcdFx0XHRcdHJldHVybiAnIzg4OWVhYSc7XHJcblx0XHRcdFx0Y2FzZSAnLS1heDMnOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjNWE2ZDc3JztcclxuXHRcdFx0XHRjYXNlICctLXRleHQtYWNjZW50LWhvdmVyJzpcclxuXHRcdFx0XHRcdHJldHVybiAnIzg4OWVhYSc7XHJcblx0XHRcdFx0Y2FzZSAnLS10ZXh0LWEnOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjZjhjNTM3JztcclxuXHRcdFx0XHRjYXNlICctLXRleHQtYS1ob3Zlcic6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyNmOGM1MzcnO1xyXG5cdFx0XHRcdGNhc2UgJy0tdGV4dC1saW5rJzpcclxuXHRcdFx0XHRcdHJldHVybiAnIzgzYTU5OCc7XHJcblx0XHRcdFx0Y2FzZSAnLS1pbnRlcmFjdGl2ZS1hY2NlbnQnOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjNTg2NWYyJztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjNjY2NjY2JztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBDb252ZXJ0IENTUyBjb2xvciB2YWx1ZXMgdG8gaGV4IGZvcm1hdFxyXG5cdFx0cmV0dXJuIHRoaXMuY29udmVydFRvSGV4KHZhbHVlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnZlcnQgQ1NTIGNvbG9yIHZhbHVlIHRvIGhleCBmb3JtYXRcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBjb252ZXJ0VG9IZXgoY29sb3JWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdC8vIElmIGl0J3MgYWxyZWFkeSBhIGhleCBjb2xvciwgcmV0dXJuIGFzIGlzXHJcblx0XHRpZiAoY29sb3JWYWx1ZS5zdGFydHNXaXRoKCcjJykpIHtcclxuXHRcdFx0cmV0dXJuIGNvbG9yVmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGEgdGVtcG9yYXJ5IGVsZW1lbnQgdG8gY29tcHV0ZSB0aGUgY29sb3JcclxuXHRcdGNvbnN0IHRlbXBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHR0ZW1wRWxlbWVudC5zZXRDc3NQcm9wcyh7IGNvbG9yOiBjb2xvclZhbHVlIH0pO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wRWxlbWVudCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGNvbXB1dGVkQ29sb3IgPSBnZXRDb21wdXRlZFN0eWxlKHRlbXBFbGVtZW50KS5jb2xvcjtcclxuXHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVtcEVsZW1lbnQpO1xyXG5cdFx0XHJcblx0XHQvLyBDb252ZXJ0IHJnYi9yZ2JhIHRvIGhleFxyXG5cdFx0Y29uc3QgcmdiTWF0Y2ggPSBjb21wdXRlZENvbG9yLm1hdGNoKC9yZ2JcXCgoXFxkKyksXFxzKihcXGQrKSxcXHMqKFxcZCspXFwpLyk7XHJcblx0XHRpZiAocmdiTWF0Y2gpIHtcclxuXHRcdFx0Y29uc3QgciA9IHBhcnNlSW50KHJnYk1hdGNoWzFdKTtcclxuXHRcdFx0Y29uc3QgZyA9IHBhcnNlSW50KHJnYk1hdGNoWzJdKTtcclxuXHRcdFx0Y29uc3QgYiA9IHBhcnNlSW50KHJnYk1hdGNoWzNdKTtcclxuXHRcdFx0cmV0dXJuIHRoaXMucmdiVG9IZXgociwgZywgYik7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIENvbnZlcnQgaHNsIHRvIGhleFxyXG5cdFx0Y29uc3QgaHNsTWF0Y2ggPSBjb2xvclZhbHVlLm1hdGNoKC9oc2xcXChcXHMqKFxcZCspLFxccyooXFxkKyklLFxccyooXFxkKyklXFxzKlxcKS8pO1xyXG5cdFx0aWYgKGhzbE1hdGNoKSB7XHJcblx0XHRcdGNvbnN0IGggPSBwYXJzZUludChoc2xNYXRjaFsxXSk7XHJcblx0XHRcdGNvbnN0IHMgPSBwYXJzZUludChoc2xNYXRjaFsyXSk7XHJcblx0XHRcdGNvbnN0IGwgPSBwYXJzZUludChoc2xNYXRjaFszXSk7XHJcblx0XHRcdHJldHVybiB0aGlzLmhzbFRvSGV4KGgsIHMsIGwpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBJZiB3ZSBjYW4ndCBjb252ZXJ0LCByZXR1cm4gYSBmYWxsYmFja1xyXG5cdFx0cmV0dXJuICcjNjY2NjY2JztcclxuXHR9XHJcblxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IEhTTCB0byBoZXggY29sb3JcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBoc2xUb0hleChoOiBudW1iZXIsIHM6IG51bWJlciwgbDogbnVtYmVyKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGhOb3JtID0gaCAvIDM2MDtcclxuXHRcdGNvbnN0IHNOb3JtID0gcyAvIDEwMDtcclxuXHRcdGNvbnN0IGxOb3JtID0gbCAvIDEwMDtcclxuXHJcblx0XHRjb25zdCBodWUycmdiID0gKHA6IG51bWJlciwgcTogbnVtYmVyLCB0OiBudW1iZXIpID0+IHtcclxuXHRcdFx0aWYgKHQgPCAwKSB0ICs9IDE7XHJcblx0XHRcdGlmICh0ID4gMSkgdCAtPSAxO1xyXG5cdFx0XHRpZiAodCA8IDEvNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XHJcblx0XHRcdGlmICh0IDwgMS8yKSByZXR1cm4gcTtcclxuXHRcdFx0aWYgKHQgPCAyLzMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyLzMgLSB0KSAqIDY7XHJcblx0XHRcdHJldHVybiBwO1xyXG5cdFx0fTtcclxuXHJcblx0XHRsZXQgciwgZywgYjtcclxuXHJcblx0XHRpZiAoc05vcm0gPT09IDApIHtcclxuXHRcdFx0ciA9IGcgPSBiID0gbE5vcm07IC8vIGFjaHJvbWF0aWNcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnN0IHEgPSBsTm9ybSA8IDAuNSA/IGxOb3JtICogKDEgKyBzTm9ybSkgOiBsTm9ybSArIHNOb3JtIC0gbE5vcm0gKiBzTm9ybTtcclxuXHRcdFx0Y29uc3QgcCA9IDIgKiBsTm9ybSAtIHE7XHJcblx0XHRcdHIgPSBodWUycmdiKHAsIHEsIGhOb3JtICsgMS8zKTtcclxuXHRcdFx0ZyA9IGh1ZTJyZ2IocCwgcSwgaE5vcm0pO1xyXG5cdFx0XHRiID0gaHVlMnJnYihwLCBxLCBoTm9ybSAtIDEvMyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucmdiVG9IZXgoXHJcblx0XHRcdE1hdGgucm91bmQociAqIDI1NSksXHJcblx0XHRcdE1hdGgucm91bmQoZyAqIDI1NSksXHJcblx0XHRcdE1hdGgucm91bmQoYiAqIDI1NSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZW5lcmF0ZSBmdWxsIGNvbG9yIHNjYWxlIGZyb20gc2ltcGxlIGNvbG9yc1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZW5lcmF0ZUNvbG9yU2NhbGVGcm9tU2ltcGxlKGFjY2VudDogc3RyaW5nLCBiYWNrZ3JvdW5kOiBzdHJpbmcpOiBUaGVtZUNvbG9ycyB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRwcmltYXJ5OiB0aGlzLmdlbmVyYXRlUHJpbWFyeVNjYWxlKGJhY2tncm91bmQpLFxyXG5cdFx0XHRoaWdobGlnaHQ6IHRoaXMuZ2VuZXJhdGVIaWdobGlnaHRTY2FsZShhY2NlbnQpXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2VuZXJhdGUgcHJpbWFyeSBjb2xvciBzY2FsZSBmcm9tIGJhY2tncm91bmQgY29sb3JcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZVByaW1hcnlTY2FsZShiYXNlQ29sb3I6IHN0cmluZyk6IENvbG9yU2NhbGUge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0NTA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgOTUpLFxyXG5cdFx0XHQxMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgODUpLFxyXG5cdFx0XHQyMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNzUpLFxyXG5cdFx0XHQzMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNTApLFxyXG5cdFx0XHQ0MDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgMjUpLFxyXG5cdFx0XHQ1MDA6IGJhc2VDb2xvcixcclxuXHRcdFx0NjAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgMTUpLFxyXG5cdFx0XHQ3MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCAzMCksXHJcblx0XHRcdDgwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDQ1KSxcclxuXHRcdFx0OTAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgNjApLFxyXG5cdFx0XHQ5NTA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA3NSksXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2VuZXJhdGUgaGlnaGxpZ2h0IGNvbG9yIHNjYWxlIGZyb20gYWNjZW50IGNvbG9yXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgZ2VuZXJhdGVIaWdobGlnaHRTY2FsZShiYXNlQ29sb3I6IHN0cmluZyk6IENvbG9yU2NhbGUge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0NTA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgOTUpLFxyXG5cdFx0XHQxMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgODUpLFxyXG5cdFx0XHQyMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNzUpLFxyXG5cdFx0XHQzMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNjUpLFxyXG5cdFx0XHQ0MDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNTUpLFxyXG5cdFx0XHQ1MDA6IGJhc2VDb2xvcixcclxuXHRcdFx0NjAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgMTApLFxyXG5cdFx0XHQ3MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCAyMCksXHJcblx0XHRcdDgwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDMwKSxcclxuXHRcdFx0OTAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgNDApLFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExpZ2h0ZW4gYSBoZXggY29sb3IgYnkgYSBwZXJjZW50YWdlXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgbGlnaHRlbkNvbG9yKGhleDogc3RyaW5nLCBwZXJjZW50OiBudW1iZXIpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgcmdiID0gdGhpcy5oZXhUb1JnYihoZXgpO1xyXG5cdFx0aWYgKCFyZ2IpIHJldHVybiBoZXg7XHJcblxyXG5cdFx0Y29uc3QgeyByLCBnLCBiIH0gPSByZ2I7XHJcblx0XHRjb25zdCBmYWN0b3IgPSBwZXJjZW50IC8gMTAwO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gdGhpcy5yZ2JUb0hleChcclxuXHRcdFx0TWF0aC5yb3VuZChyICsgKDI1NSAtIHIpICogZmFjdG9yKSxcclxuXHRcdFx0TWF0aC5yb3VuZChnICsgKDI1NSAtIGcpICogZmFjdG9yKSxcclxuXHRcdFx0TWF0aC5yb3VuZChiICsgKDI1NSAtIGIpICogZmFjdG9yKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERhcmtlbiBhIGhleCBjb2xvciBieSBhIHBlcmNlbnRhZ2VcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBkYXJrZW5Db2xvcihoZXg6IHN0cmluZywgcGVyY2VudDogbnVtYmVyKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHJnYiA9IHRoaXMuaGV4VG9SZ2IoaGV4KTtcclxuXHRcdGlmICghcmdiKSByZXR1cm4gaGV4O1xyXG5cclxuXHRcdGNvbnN0IHsgciwgZywgYiB9ID0gcmdiO1xyXG5cdFx0Y29uc3QgZmFjdG9yID0gcGVyY2VudCAvIDEwMDtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHRoaXMucmdiVG9IZXgoXHJcblx0XHRcdE1hdGgucm91bmQociAqICgxIC0gZmFjdG9yKSksXHJcblx0XHRcdE1hdGgucm91bmQoZyAqICgxIC0gZmFjdG9yKSksXHJcblx0XHRcdE1hdGgucm91bmQoYiAqICgxIC0gZmFjdG9yKSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgYSBtb3JlIGFnZ3Jlc3NpdmUgbGlnaHRlbmluZyBmdW5jdGlvbiBmb3IgYmV0dGVyIGNvbnRyYXN0XHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgYWdncmVzc2l2ZUxpZ2h0ZW4oaGV4OiBzdHJpbmcsIHBlcmNlbnQ6IG51bWJlcik6IHN0cmluZyB7XHJcblx0XHRjb25zdCByZ2IgPSB0aGlzLmhleFRvUmdiKGhleCk7XHJcblx0XHRpZiAoIXJnYikgcmV0dXJuIGhleDtcclxuXHJcblx0XHRjb25zdCB7IHIsIGcsIGIgfSA9IHJnYjtcclxuXHRcdGNvbnN0IGZhY3RvciA9IHBlcmNlbnQgLyAxMDA7XHJcblx0XHRcclxuXHRcdC8vIFVzZSBhIG1vcmUgYWdncmVzc2l2ZSBsaWdodGVuaW5nIGFsZ29yaXRobVxyXG5cdFx0cmV0dXJuIHRoaXMucmdiVG9IZXgoXHJcblx0XHRcdE1hdGgucm91bmQoTWF0aC5taW4oMjU1LCByICsgKDI1NSAtIHIpICogZmFjdG9yICogMS4yKSksXHJcblx0XHRcdE1hdGgucm91bmQoTWF0aC5taW4oMjU1LCBnICsgKDI1NSAtIGcpICogZmFjdG9yICogMS4yKSksXHJcblx0XHRcdE1hdGgucm91bmQoTWF0aC5taW4oMjU1LCBiICsgKDI1NSAtIGIpICogZmFjdG9yICogMS4yKSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgYSBtb3JlIGFnZ3Jlc3NpdmUgZGFya2VuaW5nIGZ1bmN0aW9uIGZvciBiZXR0ZXIgY29udHJhc3RcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBhZ2dyZXNzaXZlRGFya2VuKGhleDogc3RyaW5nLCBwZXJjZW50OiBudW1iZXIpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgcmdiID0gdGhpcy5oZXhUb1JnYihoZXgpO1xyXG5cdFx0aWYgKCFyZ2IpIHJldHVybiBoZXg7XHJcblxyXG5cdFx0Y29uc3QgeyByLCBnLCBiIH0gPSByZ2I7XHJcblx0XHRjb25zdCBmYWN0b3IgPSBwZXJjZW50IC8gMTAwO1xyXG5cdFx0XHJcblx0XHQvLyBVc2UgYSBtb3JlIGFnZ3Jlc3NpdmUgZGFya2VuaW5nIGFsZ29yaXRobVxyXG5cdFx0cmV0dXJuIHRoaXMucmdiVG9IZXgoXHJcblx0XHRcdE1hdGgucm91bmQoTWF0aC5tYXgoMCwgciAqICgxIC0gZmFjdG9yICogMS4yKSkpLFxyXG5cdFx0XHRNYXRoLnJvdW5kKE1hdGgubWF4KDAsIGcgKiAoMSAtIGZhY3RvciAqIDEuMikpKSxcclxuXHRcdFx0TWF0aC5yb3VuZChNYXRoLm1heCgwLCBiICogKDEgLSBmYWN0b3IgKiAxLjIpKSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgYSBtb3JlIHNvcGhpc3RpY2F0ZWQgY29sb3Igc2NhbGUgdGhhdCBiZXR0ZXIgbWF0Y2hlcyB0aGVtZSBleHBlY3RhdGlvbnNcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBjcmVhdGVCZXR0ZXJDb2xvclNjYWxlKGJhc2VDb2xvcjogc3RyaW5nLCBpc1ByaW1hcnk6IGJvb2xlYW4gPSB0cnVlLCBpc0RhcmtUaGVtZTogYm9vbGVhbiA9IHRydWUpOiBDb2xvclNjYWxlIHtcclxuXHRcdGNvbnN0IHJnYiA9IHRoaXMuaGV4VG9SZ2IoYmFzZUNvbG9yKTtcclxuXHRcdGlmICghcmdiKSB7XHJcblx0XHRcdC8vIEZhbGxiYWNrIHRvIHNpbXBsZSBzY2FsZSBpZiBjb2xvciBwYXJzaW5nIGZhaWxzXHJcblx0XHRcdHJldHVybiB0aGlzLmdlbmVyYXRlUHJpbWFyeVNjYWxlKGJhc2VDb2xvcik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgeyByLCBnLCBiIH0gPSByZ2I7XHJcblx0XHRcclxuXHRcdC8vIENhbGN1bGF0ZSBsdW1pbmFuY2UgdG8gZGV0ZXJtaW5lIGlmIHRoaXMgaXMgYSBsaWdodCBvciBkYXJrIGNvbG9yXHJcblx0XHRjb25zdCBsdW1pbmFuY2UgPSAoMC4yOTkgKiByICsgMC41ODcgKiBnICsgMC4xMTQgKiBiKSAvIDI1NTtcclxuXHRcdGNvbnN0IGlzRGFyayA9IGx1bWluYW5jZSA8IDAuNTtcclxuXHJcblx0XHRpZiAoaXNQcmltYXJ5KSB7XHJcblx0XHRcdC8vIFByaW1hcnkgY29sb3JzOiBjcmVhdGUgYSBzY2FsZSBmcm9tIHZlcnkgbGlnaHQgdG8gdmVyeSBkYXJrXHJcblx0XHRcdC8vIFVzZSBtb3JlIGRyYW1hdGljIGRpZmZlcmVuY2VzIGZvciBiZXR0ZXIgY29udHJhc3QgYmV0d2VlbiBiYWNrZ3JvdW5kIHNoYWRlc1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdDUwOiBpc0RhcmsgPyB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDk1KSA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA5NSksXHJcblx0XHRcdFx0MTAwOiBpc0RhcmsgPyB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDkwKSA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA5MCksXHJcblx0XHRcdFx0MjAwOiBpc0RhcmsgPyB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDgwKSA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA4MCksXHJcblx0XHRcdFx0MzAwOiBpc0RhcmsgPyB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDcwKSA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA3MCksXHJcblx0XHRcdFx0NDAwOiBpc0RhcmsgPyB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDU1KSA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA1NSksXHJcblx0XHRcdFx0NTAwOiBpc0RhcmsgPyB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDQwKSA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA0MCksXHJcblx0XHRcdFx0NjAwOiBpc0RhcmsgPyB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDI1KSA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCAyNSksXHJcblx0XHRcdFx0NzAwOiBiYXNlQ29sb3IsXHJcblx0XHRcdFx0ODAwOiBpc0RhcmsgPyB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgMjApIDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCAyMCksXHJcblx0XHRcdFx0OTAwOiBpc0RhcmsgPyB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgMzUpIDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCAzNSksXHJcblx0XHRcdFx0OTUwOiBpc0RhcmsgPyB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgNTApIDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA1MCksXHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBIaWdobGlnaHQgY29sb3JzOiBjcmVhdGUgYSBzY2FsZSBmcm9tIHZlcnkgbGlnaHQgdG8gdmVyeSBkYXJrXHJcblx0XHRcdC8vIEFkanVzdCB0aGUgc2NhbGUgYmFzZWQgb24gd2hldGhlciB3ZSdyZSBpbiBkYXJrIG9yIGxpZ2h0IHRoZW1lXHJcblx0XHRcdGlmIChpc0RhcmtUaGVtZSkge1xyXG5cdFx0XHRcdC8vIEZvciBkYXJrIHRoZW1lcywgdXNlIHRoZSBiYXNlIGNvbG9yIGFzIHRoZSA1MDAgc2hhZGUgKHRoZSB2aWJyYW50IG9uZSlcclxuXHRcdFx0XHQvLyBhbmQgY3JlYXRlIGxpZ2h0ZXIgYW5kIGRhcmtlciB2YXJpYXRpb25zIGFyb3VuZCBpdFxyXG5cdFx0XHRcdC8vIE1ha2UgdGhlIDQwMCBzaGFkZSBtdWNoIGNsb3NlciB0byB0aGUgYmFzZSBjb2xvciBmb3IgYmV0dGVyIGNvbnRyYXN0XHJcblx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdDUwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDk1KSwgICAvLyBWZXJ5IGxpZ2h0XHJcblx0XHRcdFx0XHQxMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgODUpLCAgLy8gTGlnaHRcclxuXHRcdFx0XHRcdDIwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA3NSksICAvLyBMaWdodFxyXG5cdFx0XHRcdFx0MzAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDY1KSwgIC8vIE1lZGl1bSBsaWdodFxyXG5cdFx0XHRcdFx0NDAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDI1KSwgIC8vIE11Y2ggY2xvc2VyIHRvIGJhc2UgY29sb3JcclxuXHRcdFx0XHRcdDUwMDogYmFzZUNvbG9yLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcdUQ4M0NcdURGQUYgVXNlIHRoZSB2aWJyYW50IGJhc2UgY29sb3IgYXMgNTAwXHJcblx0XHRcdFx0XHQ2MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCAxNSksICAgLy8gTWVkaXVtIGRhcmtcclxuXHRcdFx0XHRcdDcwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDMwKSwgICAvLyBEYXJrZXJcclxuXHRcdFx0XHRcdDgwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDQ1KSwgICAvLyBWZXJ5IGRhcmtcclxuXHRcdFx0XHRcdDkwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDYwKSwgICAvLyBEYXJrZXN0XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBGb3IgbGlnaHQgdGhlbWVzLCB3ZSB3YW50IGRhcmtlciBoaWdobGlnaHRzIGZvciBiZXR0ZXIgY29udHJhc3RcclxuXHRcdFx0XHQvLyBTaGlmdCB0aGUgc2NhbGUgc28gZGFya2VyIGNvbG9ycyBhcmUgbW9yZSBwcm9taW5lbnRcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0NTA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNjApLCAgIC8vIFZlcnkgbGlnaHRcclxuXHRcdFx0XHRcdDEwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA1MCksICAvLyBMaWdodFxyXG5cdFx0XHRcdFx0MjAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDQwKSwgIC8vIExpZ2h0XHJcblx0XHRcdFx0XHQzMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgMzApLCAgLy8gTWVkaXVtIGxpZ2h0XHJcblx0XHRcdFx0XHQ0MDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgMjApLCAgLy8gTWVkaXVtIGxpZ2h0XHJcblx0XHRcdFx0XHQ1MDA6IGJhc2VDb2xvciwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJhc2UgY29sb3JcclxuXHRcdFx0XHRcdDYwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDIwKSwgICAvLyBNZWRpdW0gZGFya1xyXG5cdFx0XHRcdFx0NzAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgNDApLCAgIC8vIERhcmtcclxuXHRcdFx0XHRcdDgwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDYwKSwgICAvLyBEYXJrZXJcclxuXHRcdFx0XHRcdDkwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDgwKSwgICAvLyBWZXJ5IGRhcmtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IGhleCBjb2xvciB0byBSR0JcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBoZXhUb1JnYihoZXg6IHN0cmluZyk6IHsgcjogbnVtYmVyOyBnOiBudW1iZXI7IGI6IG51bWJlciB9IHwgbnVsbCB7XHJcblx0XHQvLyBSZW1vdmUgIyBpZiBwcmVzZW50XHJcblx0XHRoZXggPSBoZXgucmVwbGFjZSgnIycsICcnKTtcclxuXHRcdFxyXG5cdFx0Ly8gSGFuZGxlIDMtZGlnaXQgaGV4XHJcblx0XHRpZiAoaGV4Lmxlbmd0aCA9PT0gMykge1xyXG5cdFx0XHRoZXggPSBoZXguc3BsaXQoJycpLm1hcChjaGFyID0+IGNoYXIgKyBjaGFyKS5qb2luKCcnKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gSGFuZGxlIDYtZGlnaXQgaGV4XHJcblx0XHRpZiAoaGV4Lmxlbmd0aCA9PT0gNikge1xyXG5cdFx0XHRjb25zdCByID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygwLCAyKSwgMTYpO1xyXG5cdFx0XHRjb25zdCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygyLCA0KSwgMTYpO1xyXG5cdFx0XHRjb25zdCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg0LCA2KSwgMTYpO1xyXG5cdFx0XHRyZXR1cm4geyByLCBnLCBiIH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCBSR0IgdG8gaGV4IGNvbG9yXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgcmdiVG9IZXgocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcik6IHN0cmluZyB7XHJcblx0XHRjb25zdCB0b0hleCA9IChuOiBudW1iZXIpID0+IHtcclxuXHRcdFx0Y29uc3QgaGV4ID0gTWF0aC5yb3VuZChNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIG4pKSkudG9TdHJpbmcoMTYpO1xyXG5cdFx0XHRyZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/ICcwJyArIGhleCA6IGhleDtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdHJldHVybiBgIyR7dG9IZXgocil9JHt0b0hleChnKX0ke3RvSGV4KGIpfWA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSBpZiBhIHN0cmluZyBpcyBhIHZhbGlkIGhleCBjb2xvclxyXG5cdCAqL1xyXG5cdHN0YXRpYyBpc1ZhbGlkSGV4Q29sb3IoY29sb3I6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIC9eIyhbQS1GYS1mMC05XXs2fXxbQS1GYS1mMC05XXszfSkkLy50ZXN0KGNvbG9yKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlIHRoZW1lIGZpbGUgY29udGVudCBmcm9tIGNvbG9yc1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZW5lcmF0ZVRoZW1lRmlsZUNvbnRlbnQoY29sb3JzOiBUaGVtZUNvbG9ycywgdGhlbWVOYW1lOiBzdHJpbmcgPSAnY3VzdG9tJyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcblx0XHRcclxuXHRcdHJldHVybiBgLy8gQ3VzdG9tIHRoZW1lIGV4dHJhY3RlZCBmcm9tIE9ic2lkaWFuXHJcbi8vIEdlbmVyYXRlZDogJHt0aW1lc3RhbXB9XHJcblxyXG5leHBvcnQgY29uc3QgJHt0aGVtZU5hbWV9VGhlbWUgPSB7XHJcbiAgcHJpbWFyeToge1xyXG4gICAgNTA6IFwiJHtjb2xvcnMucHJpbWFyeVs1MF19XCIsXHJcbiAgICAxMDA6IFwiJHtjb2xvcnMucHJpbWFyeVsxMDBdfVwiLFxyXG4gICAgMjAwOiBcIiR7Y29sb3JzLnByaW1hcnlbMjAwXX1cIixcclxuICAgIDMwMDogXCIke2NvbG9ycy5wcmltYXJ5WzMwMF19XCIsXHJcbiAgICA0MDA6IFwiJHtjb2xvcnMucHJpbWFyeVs0MDBdfVwiLFxyXG4gICAgNTAwOiBcIiR7Y29sb3JzLnByaW1hcnlbNTAwXX1cIixcclxuICAgIDYwMDogXCIke2NvbG9ycy5wcmltYXJ5WzYwMF19XCIsXHJcbiAgICA3MDA6IFwiJHtjb2xvcnMucHJpbWFyeVs3MDBdfVwiLFxyXG4gICAgODAwOiBcIiR7Y29sb3JzLnByaW1hcnlbODAwXX1cIixcclxuICAgIDkwMDogXCIke2NvbG9ycy5wcmltYXJ5WzkwMF19XCIsXHJcbiAgICA5NTA6IFwiJHtjb2xvcnMucHJpbWFyeVs5NTBdfVwiXHJcbiAgfSxcclxuICBoaWdobGlnaHQ6IHtcclxuICAgIDUwOiBcIiR7Y29sb3JzLmhpZ2hsaWdodFs1MF19XCIsXHJcbiAgICAxMDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzEwMF19XCIsXHJcbiAgICAyMDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzIwMF19XCIsXHJcbiAgICAzMDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzMwMF19XCIsXHJcbiAgICA0MDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzQwMF19XCIsXHJcbiAgICA1MDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzUwMF19XCIsXHJcbiAgICA2MDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzYwMF19XCIsXHJcbiAgICA3MDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzcwMF19XCIsXHJcbiAgICA4MDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzgwMF19XCIsXHJcbiAgICA5MDA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzkwMF19XCJcclxuICB9XHJcbn07XHJcbmA7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBTZXR0aW5nLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFRhYlJlbmRlcmVyIH0gZnJvbSAnLi4vY29tbW9uL1RhYlJlbmRlcmVyJztcclxuaW1wb3J0IHsgQXN0cm9Nb2R1bGFyUGx1Z2luLCBBc3Ryb01vZHVsYXJTZXR0aW5ncywgUHJvZmlsZVBpY3R1cmVTZXR0aW5ncyB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgY3JlYXRlU2V0dGluZ3NHcm91cCwgU2V0dGluZ3NDb250YWluZXIgfSBmcm9tICcuLi8uLi91dGlscy9zZXR0aW5ncy1jb21wYXQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZlYXR1cmVzVGFiIGV4dGVuZHMgVGFiUmVuZGVyZXIge1xyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb250YWluZXIuZW1wdHkoKTtcclxuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG5cclxuXHRcdC8vIEdsb2JhbCBvcHRpb25zIGdyb3VwIHdpdGggaGVhZGluZ1xyXG5cdFx0Y29uc3QgZ2xvYmFsR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ0dsb2JhbCBvcHRpb25zJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcclxuXHJcblx0XHQvLyBFbmFibGUgUHJvamVjdHNcclxuXHRcdGdsb2JhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHQuc2V0TmFtZSgnRW5hYmxlIHByb2plY3RzJylcclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBwcm9qZWN0cyBhcyBhIHVuaXF1ZSBjb250ZW50IHR5cGUgZm9yIHNob3djYXNpbmcgd29yayBhbmQgcG9ydGZvbGlvcycpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcz8ucHJvamVjdHMgPz8gdHJ1ZSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzKSB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzID0geyBwcm9qZWN0czogdHJ1ZSwgZG9jczogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMucHJvamVjdHMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyB0byBlbnN1cmUgdGhlIHBsdWdpbiBoYXMgdGhlIGxhdGVzdCB2YWx1ZXNcclxuXHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgUHJvamVjdHMgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBFbmFibGUgRG9jc1xyXG5cdFx0Z2xvYmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0VuYWJsZSBkb2NzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnRW5hYmxlIGRvY3MgYXMgYSB1bmlxdWUgY29udGVudCB0eXBlIGZvciBkb2N1bWVudGF0aW9uIGFuZCBrbm93bGVkZ2UgYmFzZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXM/LmRvY3MgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzID0geyBwcm9qZWN0czogdHJ1ZSwgZG9jczogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3MgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYERvY3MgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVGFibGUgb2YgY29udGVudHNcclxuXHRcdGdsb2JhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdUYWJsZSBvZiBjb250ZW50cycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgdGFibGUgb2YgY29udGVudHMgb24gY29udGVudCBwYWdlcycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MudGFibGVPZkNvbnRlbnRzPy5lbmFibGVkID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MudGFibGVPZkNvbnRlbnRzKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzID0geyBlbmFibGVkOiB0cnVlLCBkZXB0aDogNCB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cy5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBUb0MgZGVwdGggc2V0dGluZ1xyXG5cdFx0XHRcdFx0XHRjb25zdCB0b2NEZXB0aFNldHRpbmcgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnRvYy1kZXB0aC1zZXR0aW5nJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdGlmICh0b2NEZXB0aFNldHRpbmcpIHtcclxuXHRcdFx0XHRcdFx0XHR0b2NEZXB0aFNldHRpbmcuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUYWJsZSBvZiBjb250ZW50cyAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBUb0MgZGVwdGggLSBhZGQgYXMgc2V0dGluZyB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdGdsb2JhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgndG9jLWRlcHRoLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy50YWJsZU9mQ29udGVudHM/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1RhYmxlIG9mIGNvbnRlbnRzIGRlcHRoJylcclxuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJUb0NcIiBpcyBhbiBhY3JvbnltIGFuZCBzaG91bGQgcmVtYWluIGNhcGl0YWxpemVkXHJcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHRcdC5zZXREZXNjKCdNYXhpbXVtIGhlYWRpbmcgZGVwdGggdG8gaW5jbHVkZSBpbiBUb0MgKDI9SDIsIDM9SDMsIDQ9SDQsIDU9SDUsIDY9SDYpJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignNCcpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoU3RyaW5nKHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cz8uZGVwdGggfHwgNCkpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKSB8fCA0O1xyXG5cdFx0XHRcdFx0XHRjb25zdCBjbGFtcGVkTnVtID0gTWF0aC5tYXgoMiwgTWF0aC5taW4oNiwgbnVtKSk7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MudGFibGVPZkNvbnRlbnRzKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzID0geyBlbmFibGVkOiB0cnVlLCBkZXB0aDogNCB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cy5kZXB0aCA9IGNsYW1wZWROdW07XHJcblx0XHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoU3RyaW5nKGNsYW1wZWROdW0pKTtcclxuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgVGFibGUgb2YgY29udGVudHMgZGVwdGggc2V0IHRvICR7Y2xhbXBlZE51bX0gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBGb290ZXIgZW5hYmxlZFxyXG5cdFx0Z2xvYmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0Zvb3RlcicpXHJcblx0XHRcdFx0LnNldERlc2MoJ0VuYWJsZSBmb290ZXIgb24geW91ciBzaXRlJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5mb290ZXI/LmVuYWJsZWQgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5mb290ZXIpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mb290ZXIgPSB7IGVuYWJsZWQ6IHRydWUsIGNvbnRlbnQ6ICdcdTAwQTkgMjAyNSB7YXV0aG9yfS4gQnVpbHQgd2l0aCB0aGUgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZHZraW1iYWxsL2FzdHJvLW1vZHVsYXJcIiB0YXJnZXQ9XCJfYmxhbmtcIj5Bc3RybyBNb2R1bGFyPC9hPiB0aGVtZS4nLCBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZvb3Rlci5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBmb290ZXIgb3B0aW9uc1xyXG5cdFx0XHRcdFx0XHRjb25zdCBmb290ZXJDb250ZW50U2V0dGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLWNvbnRlbnQtc2V0dGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcdFx0XHRjb25zdCBmb290ZXJTb2NpYWxTZXR0aW5nID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXItc29jaWFsLXNldHRpbmcnKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRcdFx0aWYgKGZvb3RlckNvbnRlbnRTZXR0aW5nKSB7XHJcblx0XHRcdFx0XHRcdFx0Zm9vdGVyQ29udGVudFNldHRpbmcuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKGZvb3RlclNvY2lhbFNldHRpbmcpIHtcclxuXHRcdFx0XHRcdFx0XHRmb290ZXJTb2NpYWxTZXR0aW5nLnNldENzc1Byb3BzKHsgZGlzcGxheTogdmFsdWUgPyAnYmxvY2snIDogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRm9vdGVyICR7dmFsdWUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEZvb3RlciBjb250ZW50IC0gYWRkIGFzIHNldHRpbmcgd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRnbG9iYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2Zvb3Rlci1jb250ZW50LXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5mb290ZXI/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0Zvb3RlciBjb250ZW50JylcclxuXHRcdFx0XHQuc2V0RGVzYygnVGV4dCB0byBkaXNwbGF5IGluIGZvb3Rlci4gVXNlIHthdXRob3J9IGZvciBzaXRlIGF1dGhvciBhbmQge3RpdGxlfSBmb3Igc2l0ZSB0aXRsZScpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQXBwbHkgc3BhY2luZyBkaXJlY3RseSB0byBkZXNjcmlwdGlvbiBlbGVtZW50XHJcblx0XHRcdGNvbnN0IGRlc2NFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nKTtcclxuXHRcdFx0aWYgKGRlc2NFbCkge1xyXG5cdFx0XHRcdChkZXNjRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNpemUtNC0zKSdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQ3JlYXRlIHRleHRhcmVhIG1hbnVhbGx5IGZvciBmdWxsLXdpZHRoLCBtdWx0aS1saW5lIGlucHV0XHJcblx0XHRcdGNvbnN0IHRleHRhcmVhID0gc2V0dGluZy5jb250cm9sRWwuY3JlYXRlRWwoJ3RleHRhcmVhJywge1xyXG5cdFx0XHRcdGF0dHI6IHtcclxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiAnXHUwMEE5IDIwMjUge2F1dGhvcn0uIEJ1aWx0IHdpdGggdGhlIEFzdHJvIE1vZHVsYXIgdGhlbWUuJyxcclxuXHRcdFx0XHRcdHJvd3M6ICczJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHRleHRhcmVhLnZhbHVlID0gc2V0dGluZ3MuZm9vdGVyPy5jb250ZW50IHx8ICdcdTAwQTkgMjAyNSB7YXV0aG9yfS4gQnVpbHQgd2l0aCB0aGUgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZHZraW1iYWxsL2FzdHJvLW1vZHVsYXJcIiB0YXJnZXQ9XCJfYmxhbmtcIj5Bc3RybyBNb2R1bGFyPC9hPiB0aGVtZS4nO1xyXG5cdFx0XHRcclxuXHRcdFx0dGV4dGFyZWEuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdHdpZHRoOiAnMTAwJScsXHJcblx0XHRcdFx0bWluSGVpZ2h0OiAnODBweCcsXHJcblx0XHRcdFx0cmVzaXplOiAndmVydGljYWwnLFxyXG5cdFx0XHRcdGZvbnRGYW1pbHk6ICd2YXIoLS1mb250LXRleHQpJyxcclxuXHRcdFx0XHRmb250U2l6ZTogJ3ZhcigtLWZvbnQtdWktc21hbGwpJyxcclxuXHRcdFx0XHRwYWRkaW5nOiAndmFyKC0tc2l6ZS00LTIpIHZhcigtLXNpemUtNC0zKScsXHJcblx0XHRcdFx0Ym9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKScsXHJcblx0XHRcdFx0Ym9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLXMpJyxcclxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAndmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KScsXHJcblx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW5vcm1hbCknXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gUG9zaXRpb24gdGV4dGFyZWEgYmVsb3cgZGVzY3JpcHRpb24gKG5vdCB0byB0aGUgcmlnaHQpXHJcblx0XHRcdHNldHRpbmcuY29udHJvbEVsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHR3aWR0aDogJzEwMCUnLFxyXG5cdFx0XHRcdGRpc3BsYXk6ICdibG9jaydcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHRcdFx0dGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghc2V0dGluZ3MuZm9vdGVyKSB7XHJcblx0XHRcdFx0XHRzZXR0aW5ncy5mb290ZXIgPSB7IGVuYWJsZWQ6IHRydWUsIGNvbnRlbnQ6ICcnLCBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogdHJ1ZSB9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZXR0aW5ncy5mb290ZXIuY29udGVudCA9IHRleHRhcmVhLnZhbHVlO1xyXG5cdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdH0sIDEwMDApO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gU2hvdyBzb2NpYWwgaWNvbnMgaW4gZm9vdGVyIC0gYWRkIGFzIHNldHRpbmcgd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRnbG9iYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2Zvb3Rlci1zb2NpYWwtc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmZvb3Rlcj8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2hvdyBzb2NpYWwgaWNvbnMgaW4gZm9vdGVyJylcclxuXHRcdFx0XHQuc2V0RGVzYygnRGlzcGxheSBzb2NpYWwgbWVkaWEgaWNvbnMgaW4gdGhlIGZvb3RlcicpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuZm9vdGVyPy5zaG93U29jaWFsSWNvbnNJbkZvb3RlciA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmZvb3Rlcikge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZvb3RlciA9IHsgZW5hYmxlZDogdHJ1ZSwgY29udGVudDogJ1x1MDBBOSAyMDI1IHthdXRob3J9LiBCdWlsdCB3aXRoIHRoZSA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkdmtpbWJhbGwvYXN0cm8tbW9kdWxhclwiIHRhcmdldD1cIl9ibGFua1wiPkFzdHJvIE1vZHVsYXI8L2E+IHRoZW1lLicsIHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZm9vdGVyLnNob3dTb2NpYWxJY29uc0luRm9vdGVyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBTb2NpYWwgaWNvbnMgaW4gZm9vdGVyICR7dmFsdWUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEhpZGUgc2Nyb2xsIGJhclxyXG5cdFx0Z2xvYmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0hpZGUgc2Nyb2xsIGJhcicpXHJcblx0XHRcdFx0LnNldERlc2MoJ0hpZGUgdGhlIGJyb3dzZXIgc2Nyb2xsIGJhciBmb3IgYSBjbGVhbmVyIGxvb2snKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmZlYXR1cmVzPy5oaWRlU2Nyb2xsQmFyID8/IGZhbHNlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5oaWRlU2Nyb2xsQmFyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBIaWRlIHNjcm9sbCBiYXIgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gU2Nyb2xsIHRvIHRvcFxyXG5cdFx0Z2xvYmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Njcm9sbCB0byB0b3AnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IHNjcm9sbCB0byB0b3AgYnV0dG9uJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5mZWF0dXJlcz8uc2Nyb2xsVG9Ub3AgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuc2Nyb2xsVG9Ub3AgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFNjcm9sbCB0byB0b3AgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRmVhdHVyZSBidXR0b25cclxuXHRcdGdsb2JhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdGZWF0dXJlIGJ1dHRvbicpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Nob29zZSB3aGljaCBmZWF0dXJlIGJ1dHRvbiBhcHBlYXJzIGluIHRoZSBoZWFkZXInKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignbW9kZScsICdEYXJrL2xpZ2h0IG1vZGUgdG9nZ2xlJylcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ2dyYXBoJywgJ1ZpZXcgZ3JhcGgnKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbigndGhlbWUnLCAnQ2hhbmdlIHRoZW1lJylcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ25vbmUnLCAnTm9uZScpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuZmVhdHVyZXM/LmZlYXR1cmVCdXR0b24gfHwgJ21vZGUnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5mZWF0dXJlQnV0dG9uID0gdmFsdWUgYXMgJ21vZGUnIHwgJ2dyYXBoJyB8ICd0aGVtZScgfCAnbm9uZSc7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGZWF0dXJlIGJ1dHRvbiB1cGRhdGVkIHRvIFwiJHt2YWx1ZX1cIiBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENvbW1hbmQgUGFsZXR0ZSBncm91cCB3aXRoIGhlYWRpbmdcclxuXHRcdGNvbnN0IGNvbW1hbmRQYWxldHRlR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ0NvbW1hbmQgcGFsZXR0ZScsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XHJcblxyXG5cdFx0Ly8gRW5hYmxlIENvbW1hbmQgUGFsZXR0ZVxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnRW5hYmxlIGNvbW1hbmQgcGFsZXR0ZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ0FkZCBhIGNvbW1hbmQgcGFsZXR0ZSB0byB5b3VyIHNpdGUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5lbmFibGVkID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdGVuYWJsZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0XHRzaG9ydGN1dDogJ2N0cmwrSycsXHJcblx0XHRcdFx0XHRcdFx0XHRwbGFjZWhvbGRlcjogJ1NlYXJjaCBwb3N0cycsXHJcblx0XHRcdFx0XHRcdFx0XHRzZWFyY2g6IHsgcG9zdHM6IHRydWUsIHBhZ2VzOiBmYWxzZSwgcHJvamVjdHM6IGZhbHNlLCBkb2NzOiBmYWxzZSB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0c2VjdGlvbnM6IHsgcXVpY2tBY3Rpb25zOiB0cnVlLCBwYWdlczogdHJ1ZSwgc29jaWFsOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdFx0XHRxdWlja0FjdGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgdG9nZ2xlTW9kZTogdHJ1ZSwgZ3JhcGhWaWV3OiB0cnVlLCBjaGFuZ2VUaGVtZTogdHJ1ZSB9XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmNvbW1hbmRQYWxldHRlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGFsbCBjb21tYW5kIHBhbGV0dGUgb3B0aW9uc1xyXG5cdFx0XHRcdFx0XHRjb25zdCBjcFNldHRpbmdzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRcdFx0XHRjcFNldHRpbmdzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0KGVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgQ29tbWFuZCBwYWxldHRlICR7dmFsdWUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFNob3J0Y3V0IC0gYWRkIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Nob3J0Y3V0JylcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0LnNldERlc2MoJ0tleWJvYXJkIHNob3J0Y3V0IHRvIG9wZW4gY29tbWFuZCBwYWxldHRlIChDdHJsID0gQ21kIG9uIE1hYyknKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2hvcnRjdXQgfHwgJ2N0cmwrSycpO1xyXG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlID0geyBlbmFibGVkOiB0cnVlLCBzaG9ydGN1dDogJ2N0cmwrSycsIHBsYWNlaG9sZGVyOiAnU2VhcmNoIHBvc3RzJywgc2VhcmNoOiB7IHBvc3RzOiB0cnVlLCBwYWdlczogZmFsc2UsIHByb2plY3RzOiBmYWxzZSwgZG9jczogZmFsc2UgfSwgc2VjdGlvbnM6IHsgcXVpY2tBY3Rpb25zOiB0cnVlLCBwYWdlczogdHJ1ZSwgc29jaWFsOiB0cnVlIH0sIHF1aWNrQWN0aW9uczogeyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH0gfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUGxhY2Vob2xkZXIgLSBhZGQgd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUGxhY2Vob2xkZXInKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdQbGFjZWhvbGRlciB0ZXh0IGluIGNvbW1hbmQgcGFsZXR0ZSBzZWFyY2ggYm94JylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnBsYWNlaG9sZGVyIHx8ICdTZWFyY2ggcG9zdHMnKTtcclxuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSA9IHsgZW5hYmxlZDogdHJ1ZSwgc2hvcnRjdXQ6ICdjdHJsK0snLCBwbGFjZWhvbGRlcjogJ1NlYXJjaCBwb3N0cycsIHNlYXJjaDogeyBwb3N0czogdHJ1ZSwgcGFnZXM6IGZhbHNlLCBwcm9qZWN0czogZmFsc2UsIGRvY3M6IGZhbHNlIH0sIHNlY3Rpb25zOiB7IHF1aWNrQWN0aW9uczogdHJ1ZSwgcGFnZXM6IHRydWUsIHNvY2lhbDogdHJ1ZSB9LCBxdWlja0FjdGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgdG9nZ2xlTW9kZTogdHJ1ZSwgZ3JhcGhWaWV3OiB0cnVlLCBjaGFuZ2VUaGVtZTogdHJ1ZSB9IH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFNlYXJjaCBjb250ZW50IHR5cGVzIC0gYWxsIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1NlYXJjaCBwb3N0cycpXHJcblx0XHRcdFx0LnNldERlc2MoJ0luY2x1ZGUgcG9zdHMgaW4gc2VhcmNoIHJlc3VsdHMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWFyY2g/LnBvc3RzID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSA9IHsgZW5hYmxlZDogdHJ1ZSwgc2hvcnRjdXQ6ICdjdHJsK0snLCBwbGFjZWhvbGRlcjogJ1NlYXJjaCBwb3N0cycsIHNlYXJjaDogeyBwb3N0czogdHJ1ZSwgcGFnZXM6IGZhbHNlLCBwcm9qZWN0czogZmFsc2UsIGRvY3M6IGZhbHNlIH0sIHNlY3Rpb25zOiB7IHF1aWNrQWN0aW9uczogdHJ1ZSwgcGFnZXM6IHRydWUsIHNvY2lhbDogdHJ1ZSB9LCBxdWlja0FjdGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgdG9nZ2xlTW9kZTogdHJ1ZSwgZ3JhcGhWaWV3OiB0cnVlLCBjaGFuZ2VUaGVtZTogdHJ1ZSB9IH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2ggPSB7IHBvc3RzOiB0cnVlLCBwYWdlczogZmFsc2UsIHByb2plY3RzOiBmYWxzZSwgZG9jczogZmFsc2UgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gucG9zdHMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2VhcmNoIHBhZ2VzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnSW5jbHVkZSBwYWdlcyBpbiBzZWFyY2ggcmVzdWx0cycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlYXJjaD8ucGFnZXMgPz8gZmFsc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlYXJjaCkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaCA9IHsgcG9zdHM6IHRydWUsIHBhZ2VzOiBmYWxzZSwgcHJvamVjdHM6IGZhbHNlLCBkb2NzOiBmYWxzZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaC5wYWdlcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbW1hbmRQYWxldHRlR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdjcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTZWFyY2ggcHJvamVjdHMnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdJbmNsdWRlIHByb2plY3RzIGluIHNlYXJjaCByZXN1bHRzJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VhcmNoPy5wcm9qZWN0cyA/PyBmYWxzZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VhcmNoKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoID0geyBwb3N0czogdHJ1ZSwgcGFnZXM6IGZhbHNlLCBwcm9qZWN0czogZmFsc2UsIGRvY3M6IGZhbHNlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLnByb2plY3RzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1NlYXJjaCBkb2NzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnSW5jbHVkZSBkb2NzIGluIHNlYXJjaCByZXN1bHRzJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VhcmNoPy5kb2NzID8/IGZhbHNlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWFyY2gpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2ggPSB7IHBvc3RzOiB0cnVlLCBwYWdlczogZmFsc2UsIHByb2plY3RzOiBmYWxzZSwgZG9jczogZmFsc2UgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2guZG9jcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENvbW1hbmQgcGFsZXR0ZSBzZWN0aW9ucyAtIGFsbCB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdGNvbW1hbmRQYWxldHRlR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdjcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTaG93IHF1aWNrIGFjdGlvbnMgc2VjdGlvbicpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgcXVpY2sgYWN0aW9ucyBpbiBjb21tYW5kIHBhbGV0dGUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWN0aW9ucz8ucXVpY2tBY3Rpb25zID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlY3Rpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgPSB7IHF1aWNrQWN0aW9uczogdHJ1ZSwgcGFnZXM6IHRydWUsIHNvY2lhbDogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnF1aWNrQWN0aW9ucyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBxdWljayBhY3Rpb25zIG9wdGlvbnNcclxuXHRcdFx0XHRcdFx0Y29uc3QgcWFTZXR0aW5ncyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcucWEtb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0XHRcdFx0cWFTZXR0aW5ncy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdChlbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBRdWljayBhY3Rpb25zIG9wdGlvbnMgLSB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHkgYmFzZWQgb24gYm90aCBlbmFibGVkIGFuZCBxdWlja0FjdGlvbnMgc2VjdGlvblxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJywgJ3FhLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgJiYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWN0aW9ucz8ucXVpY2tBY3Rpb25zID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdUb2dnbGUgZGFyay9saWdodCBtb2RlJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyBtb2RlIHRvZ2dsZSBidXR0b24gaW4gY29tbWFuZCBwYWxldHRlJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8ucXVpY2tBY3Rpb25zPy50b2dnbGVNb2RlID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnF1aWNrQWN0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyA9IHsgZW5hYmxlZDogdHJ1ZSwgdG9nZ2xlTW9kZTogdHJ1ZSwgZ3JhcGhWaWV3OiB0cnVlLCBjaGFuZ2VUaGVtZTogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucy50b2dnbGVNb2RlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnF1aWNrQWN0aW9ucy50b2dnbGVNb2RlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJywgJ3FhLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgJiYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWN0aW9ucz8ucXVpY2tBY3Rpb25zID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdWaWV3IGdyYXBoJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyBncmFwaCB2aWV3IGJ1dHRvbiBpbiBjb21tYW5kIHBhbGV0dGUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5xdWlja0FjdGlvbnM/LmdyYXBoVmlldyA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5xdWlja0FjdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgPSB7IGVuYWJsZWQ6IHRydWUsIHRvZ2dsZU1vZGU6IHRydWUsIGdyYXBoVmlldzogdHJ1ZSwgY2hhbmdlVGhlbWU6IHRydWUgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMuZ3JhcGhWaWV3ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnF1aWNrQWN0aW9ucy5ncmFwaFZpZXcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnLCAncWEtb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSAmJiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlY3Rpb25zPy5xdWlja0FjdGlvbnMgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0NoYW5nZSB0aGVtZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgdGhlbWUgc2VsZWN0b3IgYnV0dG9uIGluIGNvbW1hbmQgcGFsZXR0ZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnF1aWNrQWN0aW9ucz8uY2hhbmdlVGhlbWUgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8ucXVpY2tBY3Rpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zID0geyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zLmNoYW5nZVRoZW1lID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnF1aWNrQWN0aW9ucy5jaGFuZ2VUaGVtZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbW1hbmRQYWxldHRlR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdjcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTaG93IHBhZ2VzIHNlY3Rpb24nKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdEaXNwbGF5IG5hdmlnYXRpb24gcGFnZXMgaW4gY29tbWFuZCBwYWxldHRlJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VjdGlvbnM/LnBhZ2VzID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlY3Rpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgPSB7IHF1aWNrQWN0aW9uczogdHJ1ZSwgcGFnZXM6IHRydWUsIHNvY2lhbDogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnBhZ2VzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Nob3cgc29jaWFsIHNlY3Rpb24nKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdEaXNwbGF5IHNvY2lhbCBsaW5rcyBpbiBjb21tYW5kIHBhbGV0dGUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWN0aW9ucz8uc29jaWFsID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlY3Rpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgPSB7IHF1aWNrQWN0aW9uczogdHJ1ZSwgcGFnZXM6IHRydWUsIHNvY2lhbDogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnNvY2lhbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEhvbWUgT3B0aW9ucyBncm91cCB3aXRoIGhlYWRpbmdcclxuXHRcdGNvbnN0IGhvbWVPcHRpb25zR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ0hvbWUgb3B0aW9ucycsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XHJcblxyXG5cdFx0Ly8gRmVhdHVyZWQgUG9zdFxyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnRmVhdHVyZWQgcG9zdCcpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgZmVhdHVyZWQgcG9zdCBvbiBob21lcGFnZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmZlYXR1cmVkUG9zdD8uZW5hYmxlZCA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmhvbWVPcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRmZWF0dXJlZFBvc3Q6IHsgZW5hYmxlZDogdHJ1ZSwgdHlwZTogJ2xhdGVzdCcsIHNsdWc6ICdnZXR0aW5nLXN0YXJ0ZWQnIH0sXHJcblx0XHRcdFx0XHRcdFx0XHRyZWNlbnRQb3N0czogeyBlbmFibGVkOiB0cnVlLCBjb3VudDogNyB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0cHJvamVjdHM6IHsgZW5hYmxlZDogdHJ1ZSwgY291bnQ6IDIgfSxcclxuXHRcdFx0XHRcdFx0XHRcdGRvY3M6IHsgZW5hYmxlZDogdHJ1ZSwgY291bnQ6IDMgfSxcclxuXHRcdFx0XHRcdFx0XHRcdGJsdXJiOiB7IHBsYWNlbWVudDogJ2JlbG93JyB9XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCA9IHsgZW5hYmxlZDogdHJ1ZSwgdHlwZTogJ2xhdGVzdCcsIHNsdWc6ICdnZXR0aW5nLXN0YXJ0ZWQnIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0LmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGZlYXR1cmVkIHBvc3Qgb3B0aW9uc1xyXG5cdFx0XHRcdFx0XHRjb25zdCBmcFNldHRpbmdzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRcdFx0XHRmcFNldHRpbmdzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0KGVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmVhdHVyZWQgcG9zdCAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBGZWF0dXJlZCBQb3N0IG9wdGlvbnMgLSB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdGhvbWVPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdmcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmhvbWVPcHRpb25zPy5mZWF0dXJlZFBvc3Q/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0ZlYXR1cmVkIHBvc3QgdHlwZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgbGF0ZXN0IHBvc3Qgb3IgYSBzcGVjaWZpYyBmZWF0dXJlZCBwb3N0JylcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignbGF0ZXN0JywgJ0xhdGVzdCcpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ2ZlYXR1cmVkJywgJ0ZlYXR1cmVkJylcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmhvbWVPcHRpb25zPy5mZWF0dXJlZFBvc3Q/LnR5cGUgfHwgJ2xhdGVzdCcpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmhvbWVPcHRpb25zPy5mZWF0dXJlZFBvc3QpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCA9IHsgZW5hYmxlZDogdHJ1ZSwgdHlwZTogJ2xhdGVzdCcsIHNsdWc6ICdnZXR0aW5nLXN0YXJ0ZWQnIH07XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdC50eXBlID0gdmFsdWUgYXMgJ2xhdGVzdCcgfCAnZmVhdHVyZWQnO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBzbHVnIGZpZWxkXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgZnBTbHVnU2V0dGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZnAtc2x1Zy1zZXR0aW5nJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGZwU2x1Z1NldHRpbmcpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGZwU2x1Z1NldHRpbmcuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA9PT0gJ2ZlYXR1cmVkJyA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdC8vIEFwcGx5IHdpZHRoIGRpcmVjdGx5IHRvIHNlbGVjdCBlbGVtZW50IGFmdGVyIGl0J3MgY3JlYXRlZFxyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdEVsID0gc2V0dGluZy5jb250cm9sRWwucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7XHJcblx0XHRcdFx0XHRcdGlmIChzZWxlY3RFbCkge1xyXG5cdFx0XHRcdFx0XHRcdHNlbGVjdEVsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAnMjAwcHgnLFxyXG5cdFx0XHRcdFx0XHRcdFx0bWluV2lkdGg6ICcyMDBweCcsXHJcblx0XHRcdFx0XHRcdFx0XHRtYXhXaWR0aDogJzIwMHB4J1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCAwKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEZlYXR1cmVkIHBvc3Qgc2x1ZyAtIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2ZwLW9wdGlvbi1zZXR0aW5nJywgJ2ZwLXNsdWctc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmhvbWVPcHRpb25zPy5mZWF0dXJlZFBvc3Q/LmVuYWJsZWQgPz8gdHJ1ZSkgJiYgKHNldHRpbmdzLmhvbWVPcHRpb25zPy5mZWF0dXJlZFBvc3Q/LnR5cGUgPT09ICdmZWF0dXJlZCcpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdGZWF0dXJlZCBwb3N0IHNsdWcnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTbHVnIG9mIHRoZSBwb3N0IHRvIGZlYXR1cmUgKGUuZy4sIFwiZ2V0dGluZy1zdGFydGVkXCIgZm9yIC9wb3N0cy9nZXR0aW5nLXN0YXJ0ZWQpJylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcImdldHRpbmctc3RhcnRlZFwiIGlzIGEgcGxhY2Vob2xkZXIgZXhhbXBsZSwgbm90IFVJIHRleHRcclxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ2dldHRpbmctc3RhcnRlZCcpO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy5ob21lT3B0aW9ucz8uZmVhdHVyZWRQb3N0Py5zbHVnIHx8ICdnZXR0aW5nLXN0YXJ0ZWQnKTtcclxuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmZlYXR1cmVkUG9zdCkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCA9IHsgZW5hYmxlZDogdHJ1ZSwgdHlwZTogJ2ZlYXR1cmVkJywgc2x1ZzogJ2dldHRpbmctc3RhcnRlZCcgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5mZWF0dXJlZFBvc3Quc2x1ZyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0fSkoKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFJlY2VudCBQb3N0c1xyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUmVjZW50IHBvc3RzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyByZWNlbnQgcG9zdHMgb24gaG9tZXBhZ2UnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmhvbWVPcHRpb25zPy5yZWNlbnRQb3N0cz8uZW5hYmxlZCA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmhvbWVPcHRpb25zPy5yZWNlbnRQb3N0cykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLnJlY2VudFBvc3RzID0geyBlbmFibGVkOiB0cnVlLCBjb3VudDogNyB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLnJlY2VudFBvc3RzLmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIHJlY2VudCBwb3N0cyBjb3VudFxyXG5cdFx0XHRcdFx0XHRjb25zdCBycENvdW50U2V0dGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucnAtY291bnQtc2V0dGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcdFx0XHRpZiAocnBDb3VudFNldHRpbmcpIHtcclxuXHRcdFx0XHRcdFx0XHRycENvdW50U2V0dGluZy5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBSZWNlbnQgUG9zdHMgY291bnQgLSB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdGhvbWVPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdycC1jb3VudC1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LnJlY2VudFBvc3RzPy5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdSZWNlbnQgcG9zdHMgY291bnQnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdOdW1iZXIgb2YgcmVjZW50IHBvc3RzIHRvIHNob3cnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignNycpO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShTdHJpbmcoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LnJlY2VudFBvc3RzPy5jb3VudCB8fCA3KSk7XHJcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSkgfHwgNztcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5ob21lT3B0aW9ucz8ucmVjZW50UG9zdHMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5yZWNlbnRQb3N0cyA9IHsgZW5hYmxlZDogdHJ1ZSwgY291bnQ6IDcgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5yZWNlbnRQb3N0cy5jb3VudCA9IG51bTtcclxuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdH0pKCk7XHJcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0fSkoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBQcm9qZWN0c1xyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUHJvamVjdHMgb24gaG9tZXBhZ2UnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IGZlYXR1cmVkIHByb2plY3RzIG9uIGhvbWVwYWdlJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5ob21lT3B0aW9ucz8ucHJvamVjdHM/LmVuYWJsZWQgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5ob21lT3B0aW9ucz8ucHJvamVjdHMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cyA9IHsgZW5hYmxlZDogdHJ1ZSwgY291bnQ6IDIgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cy5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIHByb2plY3RzIGNvdW50XHJcblx0XHRcdFx0XHRcdGNvbnN0IHBDb3VudFNldHRpbmcgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnAtY291bnQtc2V0dGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcdFx0XHRpZiAocENvdW50U2V0dGluZykge1xyXG5cdFx0XHRcdFx0XHRcdHBDb3VudFNldHRpbmcuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUHJvamVjdHMgY291bnQgLSB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdGhvbWVPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdwLWNvdW50LXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5ob21lT3B0aW9ucz8ucHJvamVjdHM/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Byb2plY3RzIGNvdW50JylcclxuXHRcdFx0XHQuc2V0RGVzYygnTnVtYmVyIG9mIHByb2plY3RzIHRvIHNob3cnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignMicpO1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShTdHJpbmcoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LnByb2plY3RzPy5jb3VudCB8fCAyKSk7XHJcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSkgfHwgMjtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5ob21lT3B0aW9ucz8ucHJvamVjdHMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cyA9IHsgZW5hYmxlZDogdHJ1ZSwgY291bnQ6IDIgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cy5jb3VudCA9IG51bTtcclxuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIERvY3NcclxuXHRcdGhvbWVPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0RvY3Mgb24gaG9tZXBhZ2UnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IGZlYXR1cmVkIGRvY3Mgb24gaG9tZXBhZ2UnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmhvbWVPcHRpb25zPy5kb2NzPy5lbmFibGVkID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmRvY3MpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5kb2NzID0geyBlbmFibGVkOiB0cnVlLCBjb3VudDogMyB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmRvY3MuZW5hYmxlZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBkb2NzIGNvdW50XHJcblx0XHRcdFx0XHRcdGNvbnN0IGRDb3VudFNldHRpbmcgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmQtY291bnQtc2V0dGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcdFx0XHRpZiAoZENvdW50U2V0dGluZykge1xyXG5cdFx0XHRcdFx0XHRcdGRDb3VudFNldHRpbmcuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRG9jcyBjb3VudCAtIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2QtY291bnQtc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmhvbWVPcHRpb25zPy5kb2NzPy5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdEb2NzIGNvdW50JylcclxuXHRcdFx0XHQuc2V0RGVzYygnTnVtYmVyIG9mIGRvY3MgdG8gc2hvdycpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCczJyk7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKFN0cmluZyhzZXR0aW5ncy5ob21lT3B0aW9ucz8uZG9jcz8uY291bnQgfHwgMykpO1xyXG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y29uc3QgbnVtID0gcGFyc2VJbnQodmFsdWUpIHx8IDM7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmRvY3MpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5kb2NzID0geyBlbmFibGVkOiB0cnVlLCBjb3VudDogMyB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmRvY3MuY291bnQgPSBudW07XHJcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0fSkoKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0fSkoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBCbHVyYiBwbGFjZW1lbnRcclxuXHRcdGhvbWVPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0JsdXJiIHBsYWNlbWVudCcpXHJcblx0XHRcdFx0LnNldERlc2MoJ1doZXJlIHRvIHBsYWNlIHRoZSBibHVyYiB0ZXh0IG9uIGhvbWVwYWdlJylcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignYWJvdmUnLCAnQWJvdmUnKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdiZWxvdycsICdCZWxvdycpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ25vbmUnLCAnTm9uZScpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5ob21lT3B0aW9ucz8uYmx1cmI/LnBsYWNlbWVudCB8fCAnYmVsb3cnKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5ob21lT3B0aW9ucz8uYmx1cmIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmJsdXJiID0geyBwbGFjZW1lbnQ6ICdiZWxvdycgfTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuYmx1cmIucGxhY2VtZW50ID0gdmFsdWUgYXMgJ2Fib3ZlJyB8ICdiZWxvdycgfCAnbm9uZSc7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdC8vIEFwcGx5IHdpZHRoIGRpcmVjdGx5IHRvIHNlbGVjdCBlbGVtZW50IGFmdGVyIGl0J3MgY3JlYXRlZFxyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdEVsID0gc2V0dGluZy5jb250cm9sRWwucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7XHJcblx0XHRcdFx0XHRcdGlmIChzZWxlY3RFbCkge1xyXG5cdFx0XHRcdFx0XHRcdHNlbGVjdEVsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAnMjAwcHgnLFxyXG5cdFx0XHRcdFx0XHRcdFx0bWluV2lkdGg6ICcyMDBweCcsXHJcblx0XHRcdFx0XHRcdFx0XHRtYXhXaWR0aDogJzIwMHB4J1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCAwKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFBvc3QgT3B0aW9ucyBncm91cCB3aXRoIGhlYWRpbmdcclxuXHRcdGNvbnN0IHBvc3RPcHRpb25zR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ1Bvc3Qgb3B0aW9ucycsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XHJcblxyXG5cdFx0Ly8gUG9zdHMgcGVyIHBhZ2VcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Bvc3RzIHBlciBwYWdlJylcclxuXHRcdFx0XHQuc2V0RGVzYygnTnVtYmVyIG9mIHBvc3RzIHRvIHNob3cgcGVyIHBhZ2UnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCc2JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShTdHJpbmcoc2V0dGluZ3MucG9zdE9wdGlvbnM/LnBvc3RzUGVyUGFnZSB8fCA2KSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbnVtID0gcGFyc2VJbnQodmFsdWUpIHx8IDY7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdHBvc3RzUGVyUGFnZTogNixcclxuXHRcdFx0XHRcdFx0XHRcdHJlYWRpbmdUaW1lOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0d29yZENvdW50OiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGFnczogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGxpbmtlZE1lbnRpb25zOiB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfSxcclxuXHRcdFx0XHRcdFx0XHRcdGdyYXBoVmlldzogeyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0cG9zdE5hdmlnYXRpb246IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0XHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsXHJcblx0XHRcdFx0XHRcdFx0XHRwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJyxcclxuXHRcdFx0XHRcdFx0XHRcdGNvbW1lbnRzOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cyB8fCB7IGVuYWJsZWQ6IGZhbHNlLCBwcm92aWRlcjogJ2dpc2N1cycsIHJlcG86ICcnLCByZXBvSWQ6ICcnLCBjYXRlZ29yeTogJycsIGNhdGVnb3J5SWQ6ICcnLCBtYXBwaW5nOiAncGF0aG5hbWUnLCBzdHJpY3Q6ICcwJywgcmVhY3Rpb25zOiAnMScsIG1ldGFkYXRhOiAnMCcsIGlucHV0UG9zaXRpb246ICdib3R0b20nLCB0aGVtZTogJ3ByZWZlcnJlZF9jb2xvcl9zY2hlbWUnLCBsYW5nOiAnZW4nLCBsb2FkaW5nOiAnbGF6eScgfVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdHNQZXJQYWdlID0gbnVtO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUmVhZGluZyB0aW1lXHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdSZWFkaW5nIHRpbWUnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdEaXNwbGF5IGVzdGltYXRlZCByZWFkaW5nIHRpbWUgb24gcG9zdHMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnBvc3RPcHRpb25zPy5yZWFkaW5nVGltZSA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7IHBvc3RzUGVyUGFnZTogNiwgcmVhZGluZ1RpbWU6IHRydWUsIHdvcmRDb3VudDogdHJ1ZSwgdGFnczogdHJ1ZSwgbGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LCBncmFwaFZpZXc6IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfSwgcG9zdE5hdmlnYXRpb246IHRydWUsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJywgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgY29tbWVudHM6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzIHx8IHsgZW5hYmxlZDogZmFsc2UsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJywgaW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5JyB9IH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMucmVhZGluZ1RpbWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucmVhZGluZ1RpbWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBXb3JkIGNvdW50XHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHQuc2V0TmFtZSgnV29yZCBjb3VudCcpXHJcblx0XHRcdC5zZXREZXNjKCdEaXNwbGF5IHdvcmQgY291bnQgb24gcG9zdHMnKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucG9zdE9wdGlvbnM/LndvcmRDb3VudCA/PyB0cnVlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7IHBvc3RzUGVyUGFnZTogNiwgcmVhZGluZ1RpbWU6IHRydWUsIHdvcmRDb3VudDogdHJ1ZSwgdGFnczogdHJ1ZSwgbGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LCBncmFwaFZpZXc6IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfSwgcG9zdE5hdmlnYXRpb246IHRydWUsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJywgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgY29tbWVudHM6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzIHx8IHsgZW5hYmxlZDogZmFsc2UsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJywgaW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5JyB9IH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMud29yZENvdW50ID0gdmFsdWU7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyB0byBlbnN1cmUgdGhlIHBsdWdpbiBoYXMgdGhlIGxhdGVzdCB2YWx1ZXNcclxuXHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cclxuXHRcdC8vIFRhZ3NcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1RhZ3MnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IHRhZ3Mgb24gcG9zdHMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnBvc3RPcHRpb25zPy50YWdzID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHsgcG9zdHNQZXJQYWdlOiA2LCByZWFkaW5nVGltZTogdHJ1ZSwgd29yZENvdW50OiB0cnVlLCB0YWdzOiB0cnVlLCBsaW5rZWRNZW50aW9uczogeyBlbmFibGVkOiB0cnVlLCBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlIH0sIGdyYXBoVmlldzogeyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9LCBwb3N0TmF2aWdhdGlvbjogdHJ1ZSwgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLCBjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBjb21tZW50czogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwgeyBlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByZXBvOiAnJywgcmVwb0lkOiAnJywgY2F0ZWdvcnk6ICcnLCBjYXRlZ29yeUlkOiAnJywgbWFwcGluZzogJ3BhdGhuYW1lJywgc3RyaWN0OiAnMCcsIHJlYWN0aW9uczogJzEnLCBtZXRhZGF0YTogJzAnLCBpbnB1dFBvc2l0aW9uOiAnYm90dG9tJywgdGhlbWU6ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJywgbGFuZzogJ2VuJywgbG9hZGluZzogJ2xhenknIH0gfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy50YWdzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gTGlua2VkIE1lbnRpb25zXHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdMaW5rZWQgbWVudGlvbnMnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IGxpbmtlZCBtZW50aW9ucyBhbmQgYmFja2xpbmtzIG9uIHBvc3RzJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5wb3N0T3B0aW9ucz8ubGlua2VkTWVudGlvbnM/LmVuYWJsZWQgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucz8ubGlua2VkTWVudGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyA9IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zLmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMubGlua2VkTWVudGlvbnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGNvbXBhY3QgdmlldyBzZXR0aW5nXHJcblx0XHRcdFx0XHRcdGNvbnN0IGxtQ29tcGFjdFNldHRpbmcgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmxtLWNvbXBhY3Qtc2V0dGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcdFx0XHRpZiAobG1Db21wYWN0U2V0dGluZykge1xyXG5cdFx0XHRcdFx0XHRcdGxtQ29tcGFjdFNldHRpbmcuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gTGlua2VkIE1lbnRpb25zIENvbXBhY3QgLSB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdsbS1jb21wYWN0LXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5wb3N0T3B0aW9ucz8ubGlua2VkTWVudGlvbnM/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0NvbXBhY3QgdmlldycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1VzZSBjb21wYWN0IHZpZXcgZm9yIGxpbmtlZCBtZW50aW9ucycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmxpbmtlZE1lbnRpb25zPy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPz8gZmFsc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnM/LmxpbmtlZE1lbnRpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgPSB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMubGlua2VkTWVudGlvbnNDb21wYWN0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBHcmFwaCB2aWV3XHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdHcmFwaCB2aWV3JylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyBncmFwaCB2aWV3IG9mIHBvc3QgY29ubmVjdGlvbnMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXc/LmVuYWJsZWQgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3ID0geyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmdyYXBoVmlldyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHZpc2liaWxpdHkgb2YgZ3JhcGggdmlldyBvcHRpb25zXHJcblx0XHRcdFx0XHRcdGNvbnN0IGd2U2V0dGluZ3MgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmd2LW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdFx0XHRcdGd2U2V0dGluZ3MuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdFx0XHRcdFx0XHQoZWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogdmFsdWUgPyAnYmxvY2snIDogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gR3JhcGggVmlldyBvcHRpb25zIC0gd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnZ3Ytb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3Py5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTaG93IGluIHNpZGViYXInKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdEaXNwbGF5IGdyYXBoIHZpZXcgaW4gcG9zdCBzaWRlYmFyJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3Py5zaG93SW5TaWRlYmFyID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldyA9IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuc2hvd0luU2lkZWJhciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cG9zdE9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2d2LW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldz8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnTWF4aW11bSBub2RlcycpXHJcblx0XHRcdFx0LnNldERlc2MoJ01heGltdW0gbnVtYmVyIG9mIG5vZGVzIHRvIHNob3cgaW4gZ3JhcGgnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCcxMDAnKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKFN0cmluZyhzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3Py5tYXhOb2RlcyB8fCAxMDApKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSkgfHwgMTAwO1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXcpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcgPSB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3Lm1heE5vZGVzID0gbnVtO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cG9zdE9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2d2LW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldz8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2hvdyBvcnBoYW5lZCBwb3N0cycpXHJcblx0XHRcdFx0LnNldERlc2MoJ0luY2x1ZGUgcG9zdHMgd2l0aCBubyBjb25uZWN0aW9ucyBpbiBncmFwaCB2aWV3JylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3Py5zaG93T3JwaGFuZWRQb3N0cyA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXcpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcgPSB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LnNob3dPcnBoYW5lZFBvc3RzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBQb3N0IG5hdmlnYXRpb25cclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Bvc3QgbmF2aWdhdGlvbicpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgbmV4dC9wcmV2aW91cyBwb3N0IG5hdmlnYXRpb24nKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnBvc3RPcHRpb25zPy5wb3N0TmF2aWdhdGlvbiA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7IHBvc3RzUGVyUGFnZTogNiwgcmVhZGluZ1RpbWU6IHRydWUsIHdvcmRDb3VudDogdHJ1ZSwgdGFnczogdHJ1ZSwgbGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LCBncmFwaFZpZXc6IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfSwgcG9zdE5hdmlnYXRpb246IHRydWUsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJywgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgY29tbWVudHM6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzIHx8IHsgZW5hYmxlZDogZmFsc2UsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJywgaW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5JyB9IH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdE5hdmlnYXRpb24gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucG9zdE5hdmlnYXRpb24gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTaG93IHBvc3QgY2FyZCBjb3ZlciBpbWFnZXNcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Nob3cgcG9zdCBjYXJkIGNvdmVyIGltYWdlcycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1doZXJlIHRvIGRpc3BsYXkgY292ZXIgaW1hZ2VzIG9uIHBvc3QgY2FyZHMnKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdhbGwnLCAnQWxsJylcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignZmVhdHVyZWQnLCAnRmVhdHVyZWQnKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdob21lJywgJ0hvbWUnKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdwb3N0cycsICdQb3N0cycpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ2ZlYXR1cmVkLWFuZC1wb3N0cycsICdGZWF0dXJlZCBhbmQgcG9zdHMnKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdub25lJywgJ05vbmUnKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucG9zdE9wdGlvbnM/LnNob3dQb3N0Q2FyZENvdmVySW1hZ2VzIHx8ICdmZWF0dXJlZC1hbmQtcG9zdHMnKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7IHBvc3RzUGVyUGFnZTogNiwgcmVhZGluZ1RpbWU6IHRydWUsIHdvcmRDb3VudDogdHJ1ZSwgdGFnczogdHJ1ZSwgbGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LCBncmFwaFZpZXc6IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfSwgcG9zdE5hdmlnYXRpb246IHRydWUsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJywgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgY29tbWVudHM6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzIHx8IHsgZW5hYmxlZDogZmFsc2UsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJywgaW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5JyB9IH07XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLnNob3dQb3N0Q2FyZENvdmVySW1hZ2VzID0gdmFsdWUgYXMgJ2FsbCcgfCAnZmVhdHVyZWQnIHwgJ2hvbWUnIHwgJ3Bvc3RzJyB8ICdmZWF0dXJlZC1hbmQtcG9zdHMnIHwgJ25vbmUnO1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnNob3dQb3N0Q2FyZENvdmVySW1hZ2VzID0gdmFsdWUgYXMgJ2FsbCcgfCAnZmVhdHVyZWQnIHwgJ2hvbWUnIHwgJ3Bvc3RzJyB8ICdmZWF0dXJlZC1hbmQtcG9zdHMnIHwgJ25vbmUnO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQvLyBBcHBseSB3aWR0aCBkaXJlY3RseSB0byBzZWxlY3QgZWxlbWVudCBhZnRlciBpdCdzIGNyZWF0ZWRcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3RFbCA9IHNldHRpbmcuY29udHJvbEVsLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xyXG5cdFx0XHRcdFx0XHRpZiAoc2VsZWN0RWwpIHtcclxuXHRcdFx0XHRcdFx0XHRzZWxlY3RFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0XHRcdFx0XHR3aWR0aDogJzIwMHB4JyxcclxuXHRcdFx0XHRcdFx0XHRcdG1pbldpZHRoOiAnMjAwcHgnLFxyXG5cdFx0XHRcdFx0XHRcdFx0bWF4V2lkdGg6ICcyMDBweCdcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgMCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBQb3N0IGNhcmQgYXNwZWN0IHJhdGlvXHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdQb3N0IGNhcmQgYXNwZWN0IHJhdGlvJylcclxuXHRcdFx0XHQuc2V0RGVzYygnQXNwZWN0IHJhdGlvIGZvciBwb3N0IGNhcmQgY292ZXIgaW1hZ2VzJylcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignMTY6OScsICcxNjo5JylcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignNDozJywgJzQ6MycpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJzM6MicsICczOjInKVxyXG5cdFx0XHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJPcGVuIEdyYXBoXCIgaXMgYSBwcm9wZXIgbm91biAoT0cgZm9ybWF0IHN0YW5kYXJkKVxyXG5cdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ29nJywgJ09wZW4gR3JhcGgnKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdzcXVhcmUnLCAnU3F1YXJlJylcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignZ29sZGVuJywgJ0dvbGRlbicpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ2N1c3RvbScsICdDdXN0b20nKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucG9zdE9wdGlvbnM/LnBvc3RDYXJkQXNwZWN0UmF0aW8gfHwgJ29nJylcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0geyBwb3N0c1BlclBhZ2U6IDYsIHJlYWRpbmdUaW1lOiB0cnVlLCB3b3JkQ291bnQ6IHRydWUsIHRhZ3M6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfSwgZ3JhcGhWaWV3OiB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH0sIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIGNvbW1lbnRzOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cyB8fCB7IGVuYWJsZWQ6IGZhbHNlLCBwcm92aWRlcjogJ2dpc2N1cycsIHJlcG86ICcnLCByZXBvSWQ6ICcnLCBjYXRlZ29yeTogJycsIGNhdGVnb3J5SWQ6ICcnLCBtYXBwaW5nOiAncGF0aG5hbWUnLCBzdHJpY3Q6ICcwJywgcmVhY3Rpb25zOiAnMScsIG1ldGFkYXRhOiAnMCcsIGlucHV0UG9zaXRpb246ICdib3R0b20nLCB0aGVtZTogJ3ByZWZlcnJlZF9jb2xvcl9zY2hlbWUnLCBsYW5nOiAnZW4nLCBsb2FkaW5nOiAnbGF6eScgfSB9O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5wb3N0Q2FyZEFzcGVjdFJhdGlvID0gdmFsdWUgYXMgJ29nJyB8ICcxNjo5JyB8ICc0OjMnIHwgJzM6MicgfCAnc3F1YXJlJyB8ICdnb2xkZW4nIHwgJ2N1c3RvbSc7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucG9zdENhcmRBc3BlY3RSYXRpbyA9IHZhbHVlIGFzICdvZycgfCAnMTY6OScgfCAnNDozJyB8ICczOjInIHwgJ3NxdWFyZScgfCAnZ29sZGVuJyB8ICdjdXN0b20nO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBjdXN0b20gYXNwZWN0IHJhdGlvIHNldHRpbmdcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBjdXN0b21BUlNldHRpbmcgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmN1c3RvbS1hci1zZXR0aW5nJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGN1c3RvbUFSU2V0dGluZykge1xyXG5cdFx0XHRcdFx0XHRcdFx0Y3VzdG9tQVJTZXR0aW5nLnNldENzc1Byb3BzKHsgZGlzcGxheTogdmFsdWUgPT09ICdjdXN0b20nID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Ly8gQXBwbHkgd2lkdGggZGlyZWN0bHkgdG8gc2VsZWN0IGVsZW1lbnQgYWZ0ZXIgaXQncyBjcmVhdGVkXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3Qgc2VsZWN0RWwgPSBzZXR0aW5nLmNvbnRyb2xFbC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTtcclxuXHRcdFx0XHRcdFx0aWYgKHNlbGVjdEVsKSB7XHJcblx0XHRcdFx0XHRcdFx0c2VsZWN0RWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0XHRcdFx0d2lkdGg6ICcyMDBweCcsXHJcblx0XHRcdFx0XHRcdFx0XHRtaW5XaWR0aDogJzIwMHB4JyxcclxuXHRcdFx0XHRcdFx0XHRcdG1heFdpZHRoOiAnMjAwcHgnXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sIDApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ3VzdG9tIGFzcGVjdCByYXRpbyAtIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0cG9zdE9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2N1c3RvbS1hci1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LnBvc3RDYXJkQXNwZWN0UmF0aW8gPT09ICdjdXN0b20nKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIGFzcGVjdCByYXRpbycpXHJcblx0XHRcdFx0LnNldERlc2MoJ0N1c3RvbSBhc3BlY3QgcmF0aW8gaW4gZm9ybWF0IFwid2lkdGgvaGVpZ2h0XCIgKGUuZy4sIFwiMi41LzFcIiknKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy5wb3N0T3B0aW9ucz8uY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbyB8fCAnMi41LzEnKTtcclxuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHsgcG9zdHNQZXJQYWdlOiA2LCByZWFkaW5nVGltZTogdHJ1ZSwgd29yZENvdW50OiB0cnVlLCB0YWdzOiB0cnVlLCBsaW5rZWRNZW50aW9uczogeyBlbmFibGVkOiB0cnVlLCBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlIH0sIGdyYXBoVmlldzogeyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9LCBwb3N0TmF2aWdhdGlvbjogdHJ1ZSwgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLCBjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBjb21tZW50czogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwgeyBlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByZXBvOiAnJywgcmVwb0lkOiAnJywgY2F0ZWdvcnk6ICcnLCBjYXRlZ29yeUlkOiAnJywgbWFwcGluZzogJ3BhdGhuYW1lJywgc3RyaWN0OiAnMCcsIHJlYWN0aW9uczogJzEnLCBtZXRhZGF0YTogJzAnLCBpbnB1dFBvc2l0aW9uOiAnYm90dG9tJywgdGhlbWU6ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJywgbGFuZzogJ2VuJywgbG9hZGluZzogJ2xhenknIH0gfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5jdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW8gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdH0pKCk7XHJcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0fSkoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIE9wdGlvbmFsIEZlYXR1cmVzIGdyb3VwIHdpdGggaGVhZGluZ1xyXG5cdFx0Y29uc3Qgb3B0aW9uYWxGZWF0dXJlc0dyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXIsICdPcHRpb25hbCBmZWF0dXJlcycsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XHJcblxyXG5cdFx0Ly8gUHJvZmlsZSBQaWN0dXJlIChrZWVwIGV4aXN0aW5nIGltcGxlbWVudGF0aW9uKVxyXG5cdFx0dGhpcy5yZW5kZXJQcm9maWxlUGljdHVyZVNldHRpbmcob3B0aW9uYWxGZWF0dXJlc0dyb3VwLCBzZXR0aW5ncyk7XHJcblxyXG5cdFx0Ly8gUG9zdCBDb21tZW50cyAoa2VlcCBleGlzdGluZyBpbXBsZW1lbnRhdGlvbiwgdXBkYXRlIHRpdGxlKVxyXG5cdFx0dGhpcy5yZW5kZXJDb21tZW50c1NldHRpbmcob3B0aW9uYWxGZWF0dXJlc0dyb3VwLCBzZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclByb2ZpbGVQaWN0dXJlU2V0dGluZyhncm91cDogU2V0dGluZ3NDb250YWluZXIsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IHZvaWQge1xyXG5cdFx0Y29uc3QgaXNFbmFibGVkID0gc2V0dGluZ3MuZmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlIHx8IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5lbmFibGVkO1xyXG5cdFx0Y29uc3QgcHJvZmlsZVNldHRpbmdzOiBQcm9maWxlUGljdHVyZVNldHRpbmdzID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmUgfHwge1xyXG5cdFx0XHRlbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0aW1hZ2U6ICcvcHJvZmlsZS5qcGcnLFxyXG5cdFx0XHRhbHQ6ICdQcm9maWxlIHBpY3R1cmUnLFxyXG5cdFx0XHRzaXplOiAnbWQnLFxyXG5cdFx0XHR1cmw6ICcnLFxyXG5cdFx0XHRwbGFjZW1lbnQ6ICdmb290ZXInLFxyXG5cdFx0XHRzdHlsZTogJ2NpcmNsZScsXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIE1haW4gdG9nZ2xlXHJcblx0XHRncm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUHJvZmlsZSBwaWN0dXJlJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyBwcm9maWxlIHBpY3R1cmUgaW4gaGVhZGVyIG9yIGZvb3RlcicpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoaXNFbmFibGVkKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5wcm9maWxlUGljdHVyZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzID0geyBwcm9maWxlUGljdHVyZTogcHJvZmlsZVNldHRpbmdzLCBjb21tZW50czogc2V0dGluZ3MucG9zdE9wdGlvbnM/LmNvbW1lbnRzIHx8IHsgZW5hYmxlZDogZmFsc2UsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJywgaW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5JyB9IH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBwcm9maWxlIHBpY3R1cmUgb3B0aW9uc1xyXG5cdFx0XHRcdFx0XHRjb25zdCBwcFNldHRpbmdzID0gc2V0dGluZy5zZXR0aW5nRWwucGFyZW50RWxlbWVudD8ucXVlcnlTZWxlY3RvckFsbCgnLnBwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdFx0XHRcdGlmIChwcFNldHRpbmdzKSB7XHJcblx0XHRcdFx0XHRcdFx0cHBTZXR0aW5ncy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0KGVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBQcm9maWxlIHBpY3R1cmUgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSBwcm9maWxlIHBpY3R1cmUgdG8gY29uZmlnLnRzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRGV0YWlsZWQgb3B0aW9ucyAtIGFkZCBhcyBjdXN0b20gc2V0dGluZyB3aXRoaW4gZ3JvdXBcclxuXHRcdGdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgncHAtb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IGlzRW5hYmxlZCA/ICdibG9jaycgOiAnbm9uZScsXHJcblx0XHRcdFx0bWFyZ2luVG9wOiAnMTBweCdcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBIaWRlIGRlZmF1bHQgVUkgZWxlbWVudHMgYW5kIGFkZCBjdXN0b20gY29udGFpbmVyXHJcblx0XHRcdGNvbnN0IG5hbWVFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tbmFtZScpO1xyXG5cdFx0XHRjb25zdCBkZXNjRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyk7XHJcblx0XHRcdGNvbnN0IGNvbnRyb2xFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tY29udHJvbCcpO1xyXG5cdFx0XHRpZiAobmFtZUVsKSAobmFtZUVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdFx0aWYgKGRlc2NFbCkgKGRlc2NFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XHJcblx0XHRcdGlmIChjb250cm9sRWwpIChjb250cm9sRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0Ym9yZGVyVG9wOiAnbm9uZScsXHJcblx0XHRcdFx0cGFkZGluZ1RvcDogJzAnLFxyXG5cdFx0XHRcdHBhZGRpbmdCb3R0b206ICcwJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IG9wdGlvbnNDb250YWluZXIgPSBzZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoJ3Byb2ZpbGUtcGljdHVyZS1vcHRpb25zJyk7XHJcblxyXG5cdFx0XHQvLyBDcmVhdGUgdHdvLWNvbHVtbiBncmlkIGZvciBvcHRpb25zXHJcblx0XHRcdGNvbnN0IG9wdGlvbnNHcmlkID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoJ29wdGlvbnMtZ3JpZCcpO1xyXG5cdFx0b3B0aW9uc0dyaWQuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRkaXNwbGF5OiAnZ3JpZCcsXHJcblx0XHRcdGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICcxZnIgMWZyJyxcclxuXHRcdFx0Z2FwOiAnMTBweCcsXHJcblx0XHRcdG1hcmdpblRvcDogJzEwcHgnXHJcblx0XHR9KTtcclxuXHJcblx0XHRcdC8vIEltYWdlIHBhdGggc2V0dGluZ1xyXG5cdFx0XHR0aGlzLmNyZWF0ZVRleHRTZXR0aW5nKFxyXG5cdFx0XHRcdG9wdGlvbnNHcmlkLFxyXG5cdFx0XHRcdCdJbWFnZSBwYXRoJyxcclxuXHRcdFx0XHQnUGF0aCB0byB0aGUgcHJvZmlsZSBwaWN0dXJlIGltYWdlIChpbiB0aGUgcHVibGljIGZvbGRlciknLFxyXG5cdFx0XHRcdHByb2ZpbGVTZXR0aW5ncy5pbWFnZSxcclxuXHRcdFx0XHQodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHByb2ZpbGVTZXR0aW5ncy5pbWFnZSA9IHZhbHVlO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0MTAwMCxcclxuXHRcdFx0XHRhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Jy9wcm9maWxlLmpwZydcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIEFsdCB0ZXh0IHNldHRpbmdcclxuXHRcdFx0dGhpcy5jcmVhdGVUZXh0U2V0dGluZyhcclxuXHRcdFx0XHRvcHRpb25zR3JpZCxcclxuXHRcdFx0XHQnQWx0IHRleHQnLFxyXG5cdFx0XHRcdCdBbHRlcm5hdGl2ZSB0ZXh0IGZvciB0aGUgcHJvZmlsZSBwaWN0dXJlJyxcclxuXHRcdFx0XHRwcm9maWxlU2V0dGluZ3MuYWx0LFxyXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0cHJvZmlsZVNldHRpbmdzLmFsdCA9IHZhbHVlO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0MTAwMCxcclxuXHRcdFx0XHRhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0J1Byb2ZpbGUgcGljdHVyZSdcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIFNpemUgc2V0dGluZ1xyXG5cdFx0XHRuZXcgU2V0dGluZyhvcHRpb25zR3JpZClcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2l6ZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ1NpemUgb2YgdGhlIHByb2ZpbGUgcGljdHVyZScpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdzbScsICdTbWFsbCcpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdtZCcsICdNZWRpdW0nKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignbGcnLCAnTGFyZ2UnKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHByb2ZpbGVTZXR0aW5ncy5zaXplKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRwcm9maWxlU2V0dGluZ3Muc2l6ZSA9IHZhbHVlIGFzICdzbScgfCAnbWQnIHwgJ2xnJztcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHQvLyBVUkwgc2V0dGluZ1xyXG5cdFx0XHR0aGlzLmNyZWF0ZVRleHRTZXR0aW5nKFxyXG5cdFx0XHRcdG9wdGlvbnNHcmlkLFxyXG5cdFx0XHRcdCdVUkwgKG9wdGlvbmFsKScsXHJcblx0XHRcdFx0J09wdGlvbmFsIFVSTCB0byBsaW5rIHRoZSBwcm9maWxlIHBpY3R1cmUgdG8nLFxyXG5cdFx0XHRcdHByb2ZpbGVTZXR0aW5ncy51cmwgfHwgJycsXHJcblx0XHRcdFx0KHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRwcm9maWxlU2V0dGluZ3MudXJsID0gdmFsdWU7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQxMDAwLFxyXG5cdFx0XHRcdGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQnL2Fib3V0J1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gUGxhY2VtZW50IHNldHRpbmdcclxuXHRcdFx0bmV3IFNldHRpbmcob3B0aW9uc0dyaWQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ1BsYWNlbWVudCcpXHJcblx0XHRcdFx0LnNldERlc2MoJ1doZXJlIHRvIHNob3cgdGhlIHByb2ZpbGUgcGljdHVyZScpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdmb290ZXInLCAnRm9vdGVyJylcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ2hlYWRlcicsICdIZWFkZXInKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHByb2ZpbGVTZXR0aW5ncy5wbGFjZW1lbnQpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHByb2ZpbGVTZXR0aW5ncy5wbGFjZW1lbnQgPSB2YWx1ZSBhcyAnZm9vdGVyJyB8ICdoZWFkZXInO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdC8vIFN0eWxlIHNldHRpbmdcclxuXHRcdFx0bmV3IFNldHRpbmcob3B0aW9uc0dyaWQpXHJcblx0XHRcdFx0LnNldE5hbWUoJ1N0eWxlJylcclxuXHRcdFx0XHQuc2V0RGVzYygnVmlzdWFsIHN0eWxlIG9mIHRoZSBwcm9maWxlIHBpY3R1cmUnKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignY2lyY2xlJywgJ0NpcmNsZScpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdzcXVhcmUnLCAnU3F1YXJlJylcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ25vbmUnLCAnTm9uZScpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUocHJvZmlsZVNldHRpbmdzLnN0eWxlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRwcm9maWxlU2V0dGluZ3Muc3R5bGUgPSB2YWx1ZSBhcyAnY2lyY2xlJyB8ICdzcXVhcmUnIHwgJ25vbmUnO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJDb21tZW50c1NldHRpbmcoZ3JvdXA6IFNldHRpbmdzQ29udGFpbmVyLCBzZXR0aW5nczogQXN0cm9Nb2R1bGFyU2V0dGluZ3MpOiB2b2lkIHtcclxuXHRcdC8vIFVzZSBvcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWQgYXMgdGhlIHByaW1hcnkgc291cmNlLCBmYWxsYmFjayB0byBvdGhlcnNcclxuXHRcdGNvbnN0IGlzRW5hYmxlZCA9IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkID8/IHNldHRpbmdzLmZlYXR1cmVzPy5jb21tZW50cyA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucz8uY29tbWVudHM/LmVuYWJsZWQgPz8gZmFsc2U7XHJcblx0XHRjb25zdCBjb21tZW50c1NldHRpbmdzID0gc2V0dGluZ3MucG9zdE9wdGlvbnM/LmNvbW1lbnRzIHx8IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzIHx8IHtcclxuXHRcdFx0ZW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdHByb3ZpZGVyOiAnZ2lzY3VzJyxcclxuXHRcdFx0cmF3U2NyaXB0OiAnJyxcclxuXHRcdFx0cmVwbzogJ2RhdmlkdmtpbWJhbGwvYXN0cm8tbW9kdWxhcicsXHJcblx0XHRcdHJlcG9JZDogJ1Jfa2dET1BsbGZLdycsXHJcblx0XHRcdGNhdGVnb3J5OiAnR2VuZXJhbCcsXHJcblx0XHRcdGNhdGVnb3J5SWQ6ICdESUNfa3dET1BsbGZLODRDdlVweCcsXHJcblx0XHRcdG1hcHBpbmc6ICdwYXRobmFtZScsXHJcblx0XHRcdHN0cmljdDogJzAnLFxyXG5cdFx0XHRyZWFjdGlvbnM6ICcxJyxcclxuXHRcdFx0bWV0YWRhdGE6ICcwJyxcclxuXHRcdFx0aW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsXHJcblx0XHRcdHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsXHJcblx0XHRcdGxhbmc6ICdlbicsXHJcblx0XHRcdGxvYWRpbmc6ICdsYXp5JyxcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gTWFpbiB0b2dnbGVcclxuXHRcdGdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdQb3N0IGNvbW1lbnRzJylcclxuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJHaXNjdXNcIiBpcyBhIHByb3BlciBub3VuIChwcm9kdWN0IG5hbWUpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0LnNldERlc2MoJ0VuYWJsZSBHaXNjdXMgY29tbWVudCBzeXN0ZW0gZm9yIHBvc3RzJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShpc0VuYWJsZWQpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBhbGwgdGhyZWUgbG9jYXRpb25zIHRvIGVuc3VyZSBjb25zaXN0ZW5jeVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5jb21tZW50cyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGNvbW1lbnRzIG9wdGlvbnMgZmlyc3RcclxuXHRcdFx0XHRcdGNvbnN0IGNvbW1lbnRzU2V0dGluZ3NFbHMgPSBzZXR0aW5nLnNldHRpbmdFbC5wYXJlbnRFbGVtZW50Py5xdWVyeVNlbGVjdG9yQWxsKCcuY29tbWVudHMtb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gR2V0IGV4aXN0aW5nIGNvbW1lbnRzIHNldHRpbmdzIG9yIGNyZWF0ZSBkZWZhdWx0XHJcblx0XHRcdFx0XHRjb25zdCBleGlzdGluZ0NvbW1lbnRzID0gc2V0dGluZ3MucG9zdE9wdGlvbnM/LmNvbW1lbnRzIHx8IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzIHx8IHsgZW5hYmxlZDogZmFsc2UsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHRlcm06ICcnLCByZWFjdGlvbnNFbmFibGVkOiB0cnVlLCBlbWl0TWV0YWRhdGE6IGZhbHNlLCBpbnB1dFBvc2l0aW9uOiAnYm90dG9tJywgbGFuZzogJ2VuJywgbG9hZGluZzogJ2xhenknLCByYXdTY3JpcHQ6ICcnIH07XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIEVuc3VyZSBwb3N0T3B0aW9ucyBleGlzdHMsIGJ1dCBwcmVzZXJ2ZSBleGlzdGluZyBjb21tZW50IHNldHRpbmdzXHJcblx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0geyBwb3N0c1BlclBhZ2U6IDYsIHJlYWRpbmdUaW1lOiB0cnVlLCB3b3JkQ291bnQ6IHRydWUsIHRhZ3M6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfSwgZ3JhcGhWaWV3OiB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH0sIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIGNvbW1lbnRzOiB7IC4uLmV4aXN0aW5nQ29tbWVudHMgfSB9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gT25seSB1cGRhdGUgdGhlIGVuYWJsZWQgc3RhdGUsIHByZXNlcnZlIGFsbCBvdGhlciBjb21tZW50IHNldHRpbmdzXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5jb21tZW50cy5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIEVuc3VyZSBvcHRpb25hbEZlYXR1cmVzIGV4aXN0cywgYnV0IHByZXNlcnZlIGV4aXN0aW5nIGNvbW1lbnQgc2V0dGluZ3NcclxuXHRcdFx0XHRcdGlmICghc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcykge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzID0geyBwcm9maWxlUGljdHVyZTogeyBlbmFibGVkOiBmYWxzZSwgaW1hZ2U6ICcvcHJvZmlsZS5qcGcnLCBhbHQ6ICdQcm9maWxlIHBpY3R1cmUnLCBzaXplOiAnbWQnLCB1cmw6ICcnLCBwbGFjZW1lbnQ6ICdmb290ZXInLCBzdHlsZTogJ2NpcmNsZScgfSwgY29tbWVudHM6IHsgLi4uZXhpc3RpbmdDb21tZW50cyB9IH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBPbmx5IHVwZGF0ZSB0aGUgZW5hYmxlZCBzdGF0ZSwgcHJlc2VydmUgYWxsIG90aGVyIGNvbW1lbnQgc2V0dGluZ3NcclxuXHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGNvbW1lbnRzIG9wdGlvbnNcclxuXHRcdFx0XHRcdGNvbnN0IGNvbW1lbnRzU2V0dGluZ3MgPSBjb21tZW50c1NldHRpbmdzRWxzO1xyXG5cdFx0XHRcdFx0XHRpZiAoY29tbWVudHNTZXR0aW5ncykge1xyXG5cdFx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdChlbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgQ29tbWVudHMgc3lzdGVtICR7dmFsdWUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgY29tbWVudHMgc3lzdGVtIHRvIGNvbmZpZy50czogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIE9wdGlvbnMgY29udGFpbmVyIC0gYWRkIGFzIGN1c3RvbSBzZXR0aW5nIHdpdGhpbiBncm91cFxyXG5cdFx0Z3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdjb21tZW50cy1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogaXNFbmFibGVkID8gJ2Jsb2NrJyA6ICdub25lJyxcclxuXHRcdFx0XHRtYXJnaW5Ub3A6ICcxMHB4J1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEhpZGUgZGVmYXVsdCBVSSBlbGVtZW50cyBhbmQgYWRkIGN1c3RvbSBjb250YWluZXJcclxuXHRcdFx0Y29uc3QgbmFtZUVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1uYW1lJyk7XHJcblx0XHRcdGNvbnN0IGRlc2NFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nKTtcclxuXHRcdFx0Y29uc3QgY29udHJvbEVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1jb250cm9sJyk7XHJcblx0XHRcdGlmIChuYW1lRWwpIChuYW1lRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRpZiAoZGVzY0VsKSAoZGVzY0VsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdFx0aWYgKGNvbnRyb2xFbCkgKGNvbnRyb2xFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRib3JkZXJUb3A6ICdub25lJyxcclxuXHRcdFx0XHRwYWRkaW5nVG9wOiAnMCcsXHJcblx0XHRcdFx0cGFkZGluZ0JvdHRvbTogJzAnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3Qgb3B0aW9uc0NvbnRhaW5lciA9IHNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdignY29tbWVudHMtb3B0aW9ucycpO1xyXG5cclxuXHRcdFx0Ly8gSW5zdHJ1Y3Rpb25zXHJcblx0XHRcdGNvbnN0IGluc3RydWN0aW9uc0RpdiA9IG9wdGlvbnNDb250YWluZXIuY3JlYXRlRGl2KCdjb21tZW50cy1pbnN0cnVjdGlvbnMnKTtcclxuXHRcdFx0aW5zdHJ1Y3Rpb25zRGl2LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRtYXJnaW5Cb3R0b206ICcxNXB4JyxcclxuXHRcdFx0XHRwYWRkaW5nOiAnMTBweCcsXHJcblx0XHRcdFx0YmFja2dyb3VuZDogJ3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdGluc3RydWN0aW9uc0Rpdi5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0Ym9yZGVyUmFkaXVzOiAnNHB4JyxcclxuXHRcdFx0XHRib3JkZXJMZWZ0OiAnM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCknXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgaW5zdHJ1Y3Rpb25zVGV4dCA9IGluc3RydWN0aW9uc0Rpdi5jcmVhdGVFbCgncCcpO1xyXG5cdFx0XHRpbnN0cnVjdGlvbnNUZXh0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRtYXJnaW46ICcwJyxcclxuXHRcdFx0XHRmb250U2l6ZTogJzEzcHgnLFxyXG5cdFx0XHRcdGNvbG9yOiAndmFyKC0tdGV4dC1tdXRlZCknLFxyXG5cdFx0XHRcdHdoaXRlU3BhY2U6ICdwcmUtbGluZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBDcmVhdGUgdGhlIHRleHQgd2l0aCBwcm9wZXIgbGluayBwbGFjZW1lbnRcclxuXHRcdFx0aW5zdHJ1Y3Rpb25zVGV4dC5hcHBlbmRUZXh0KCcxLiBHbyB0byAnKTtcclxuXHRcdFx0Y29uc3QgZ2lzY3VzTGluayA9IGluc3RydWN0aW9uc1RleHQuY3JlYXRlRWwoJ2EnLCB7XHJcblx0XHRcdFx0aHJlZjogJ2h0dHBzOi8vZ2lzY3VzLmFwcC8nLFxyXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcImdpc2N1cy5hcHBcIiBpcyBhIGRvbWFpbiBuYW1lLCBub3QgVUkgdGV4dFxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHR0ZXh0OiAnZ2lzY3VzLmFwcCcsXHJcblx0XHRcdFx0YXR0cjoge1xyXG5cdFx0XHRcdFx0dGFyZ2V0OiAnX2JsYW5rJyxcclxuXHRcdFx0XHRcdHJlbDogJ25vb3BlbmVyIG5vcmVmZXJyZXInXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Z2lzY3VzTGluay5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0Y29sb3I6ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJyxcclxuXHRcdFx0XHR0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRpbnN0cnVjdGlvbnNUZXh0LmFwcGVuZFRleHQoJyBhbmQgY29uZmlndXJlIHlvdXIgY29tbWVudHNcXG4yLiBDb3B5IHRoZSBnZW5lcmF0ZWQgc2NyaXB0XFxuMy4gUGFzdGUgaXQgYmVsb3cnKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEFkZCBob3ZlciBlZmZlY3RzIHRvIHRoZSBsaW5rXHJcblx0XHRcdGdpc2N1c0xpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcclxuXHRcdFx0XHRnaXNjdXNMaW5rLnNldENzc1Byb3BzKHsgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnIH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Z2lzY3VzTGluay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xyXG5cdFx0XHRcdGdpc2N1c0xpbmsuc2V0Q3NzUHJvcHMoeyB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnIH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIFNjcmlwdCB0ZXh0YXJlYVxyXG5cdFx0XHRjb25zdCBzY3JpcHRTZXR0aW5nID0gbmV3IFNldHRpbmcob3B0aW9uc0NvbnRhaW5lcilcclxuXHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiR2lzY3VzXCIgaXMgYSBwcm9wZXIgbm91biAocHJvZHVjdCBuYW1lKSBhbmQgc2hvdWxkIGJlIGNhcGl0YWxpemVkXHJcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0LnNldE5hbWUoJ0dpc2N1cyBTY3JpcHQnKVxyXG5cdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJHaXNjdXNcIiBpcyBhIHByb3BlciBub3VuIChwcm9kdWN0IG5hbWUpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHQuc2V0RGVzYygnUGFzdGUgeW91ciBHaXNjdXMgc2NyaXB0IGhlcmUgKHRoZSBwbHVnaW4gd2lsbCBhdXRvbWF0aWNhbGx5IHBhcnNlIGFsbCBzZXR0aW5ncyknKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGV4dGFyZWEgPSBzY3JpcHRTZXR0aW5nLmNvbnRyb2xFbC5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XHJcblx0XHRcdGF0dHI6IHtcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogYDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9naXNjdXMuYXBwL2NsaWVudC5qc1wiXHJcbiAgICAgICAgZGF0YS1yZXBvPVwiZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyXCJcclxuICAgICAgICBkYXRhLXJlcG8taWQ9XCJSX2tnRE9QbGxmS3dcIlxyXG4gICAgICAgIGRhdGEtY2F0ZWdvcnk9XCJHZW5lcmFsXCJcclxuICAgICAgICBkYXRhLWNhdGVnb3J5LWlkPVwiRElDX2t3RE9QbGxmSzg0Q3ZVcHhcIlxyXG4gICAgICAgIGRhdGEtbWFwcGluZz1cInBhdGhuYW1lXCJcclxuICAgICAgICBkYXRhLXN0cmljdD1cIjBcIlxyXG4gICAgICAgIGRhdGEtcmVhY3Rpb25zLWVuYWJsZWQ9XCIxXCJcclxuICAgICAgICBkYXRhLWVtaXQtbWV0YWRhdGE9XCIwXCJcclxuICAgICAgICBkYXRhLWlucHV0LXBvc2l0aW9uPVwiYm90dG9tXCJcclxuICAgICAgICBkYXRhLXRoZW1lPVwicHJlZmVycmVkX2NvbG9yX3NjaGVtZVwiXHJcbiAgICAgICAgZGF0YS1sYW5nPVwiZW5cIlxyXG4gICAgICAgIGRhdGEtbG9hZGluZz1cImxhenlcIlxyXG4gICAgICAgIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCJcclxuICAgICAgICBhc3luYz5cclxuPC9zY3JpcHQ+YCxcclxuXHRcdFx0XHRyb3dzOiAnOCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdHRleHRhcmVhLnNldENzc1Byb3BzKHtcclxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcclxuXHRcdFx0Zm9udEZhbWlseTogJ3ZhcigtLWZvbnQtbW9ub3NwYWNlKScsXHJcblx0XHRcdGZvbnRTaXplOiAnMTJweCcsXHJcblx0XHRcdHBhZGRpbmc6ICc4cHgnLFxyXG5cdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJyxcclxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAnNHB4JyxcclxuXHRcdFx0YmFja2dyb3VuZDogJ3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeSknLFxyXG5cdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtbm9ybWFsKScsXHJcblx0XHRcdHJlc2l6ZTogJ25vbmUnXHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Ly8gU2V0IGN1cnJlbnQgdmFsdWUgZnJvbSB0aGUgYWN0dWFsIHNhdmVkIHNldHRpbmdzXHJcblx0XHR0ZXh0YXJlYS52YWx1ZSA9IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5yYXdTY3JpcHQgfHwgc2V0dGluZ3MucG9zdE9wdGlvbnM/LmNvbW1lbnRzPy5yYXdTY3JpcHQgfHwgJyc7XHJcblx0XHRcclxuXHRcdFx0Ly8gVmFsaWRhdGlvbiBhbmQgcGFyc2luZ1xyXG5cdFx0XHRjb25zdCB2YWxpZGF0aW9uRGl2ID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoJ3NjcmlwdC12YWxpZGF0aW9uJyk7XHJcblx0XHRcdHZhbGlkYXRpb25EaXYuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdG1hcmdpblRvcDogJzhweCcsXHJcblx0XHRcdFx0Zm9udFNpemU6ICcxMnB4J1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIERlYm91bmNlIHRpbWVvdXQgSURcclxuXHRcdFx0bGV0IGRlYm91bmNlVGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IHVwZGF0ZVZhbGlkYXRpb24gPSBhc3luYyAoc2hvd05vdGlmaWNhdGlvbjogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc2NyaXB0Q29udGVudCA9IHRleHRhcmVhLnZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoIXNjcmlwdENvbnRlbnQpIHtcclxuXHRcdFx0XHRcdHZhbGlkYXRpb25EaXYuZW1wdHkoKTtcclxuXHRcdFx0XHRcdC8vIEdldCB0aGUgY3VycmVudCBlbmFibGVkIHN0YXRlIGZyb20gdGhlIGFjdHVhbCBzZXR0aW5ncyAobm90IHRoZSBsb2NhbCB2YXJpYWJsZSlcclxuXHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRFbmFibGVkID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM/LmVuYWJsZWQgPz8gc2V0dGluZ3MuZmVhdHVyZXM/LmNvbW1lbnRzID8/IHNldHRpbmdzLnBvc3RPcHRpb25zPy5jb21tZW50cz8uZW5hYmxlZCA/PyBmYWxzZTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gQ2xlYXIgYWxsIGNvbW1lbnQgc2V0dGluZ3Mgd2hlbiBzY3JpcHQgaXMgZGVsZXRlZCAoYnV0IHByZXNlcnZlIGVuYWJsZWQgc3RhdGUpXHJcblx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMpIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcyA9IHsgcHJvZmlsZVBpY3R1cmU6IHsgZW5hYmxlZDogZmFsc2UsIGltYWdlOiAnL3Byb2ZpbGUuanBnJywgYWx0OiAnUHJvZmlsZSBwaWN0dXJlJywgc2l6ZTogJ21kJywgdXJsOiAnJywgcGxhY2VtZW50OiAnZm9vdGVyJywgc3R5bGU6ICdjaXJjbGUnIH0sIGNvbW1lbnRzOiB7IGVuYWJsZWQ6IGN1cnJlbnRFbmFibGVkLCBwcm92aWRlcjogJ2dpc2N1cycsIHJhd1NjcmlwdDogJycsIHJlcG86ICcnLCByZXBvSWQ6ICcnLCBjYXRlZ29yeTogJycsIGNhdGVnb3J5SWQ6ICcnLCBtYXBwaW5nOiAncGF0aG5hbWUnLCBzdHJpY3Q6ICcwJywgcmVhY3Rpb25zOiAnMScsIG1ldGFkYXRhOiAnMCcsIGlucHV0UG9zaXRpb246ICdib3R0b20nLCB0aGVtZTogJ3ByZWZlcnJlZF9jb2xvcl9zY2hlbWUnLCBsYW5nOiAnZW4nLCBsb2FkaW5nOiAnbGF6eScgfSB9O1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cyA9IHtcclxuXHRcdFx0XHRcdFx0XHQuLi5zZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLFxyXG5cdFx0XHRcdFx0XHRcdHJhd1NjcmlwdDogJycsXHJcblx0XHRcdFx0XHRcdFx0cmVwbzogJycsXHJcblx0XHRcdFx0XHRcdFx0cmVwb0lkOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRjYXRlZ29yeTogJycsXHJcblx0XHRcdFx0XHRcdFx0Y2F0ZWdvcnlJZDogJycsXHJcblx0XHRcdFx0XHRcdFx0bWFwcGluZzogJycsXHJcblx0XHRcdFx0XHRcdFx0c3RyaWN0OiAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZWFjdGlvbnM6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRpbnB1dFBvc2l0aW9uOiAnJyxcclxuXHRcdFx0XHRcdFx0XHR0aGVtZTogJycsXHJcblx0XHRcdFx0XHRcdFx0bGFuZzogJycsXHJcblx0XHRcdFx0XHRcdFx0bG9hZGluZzogJycsXHJcblx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogY3VycmVudEVuYWJsZWQgLy8gUHJlc2VydmUgZW5hYmxlZCBzdGF0ZVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBBbHNvIHVwZGF0ZSBwb3N0T3B0aW9ucy5jb21tZW50c1xyXG5cdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHsgcG9zdHNQZXJQYWdlOiA2LCByZWFkaW5nVGltZTogdHJ1ZSwgd29yZENvdW50OiB0cnVlLCB0YWdzOiB0cnVlLCBsaW5rZWRNZW50aW9uczogeyBlbmFibGVkOiB0cnVlLCBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlIH0sIGdyYXBoVmlldzogeyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9LCBwb3N0TmF2aWdhdGlvbjogdHJ1ZSwgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLCBjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBjb21tZW50czogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cyB9O1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuY29tbWVudHMgPSB7IC4uLnNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMgfTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gRW5zdXJlIGZlYXR1cmVzLmNvbW1lbnRzIGlzIGluIHN5bmNcclxuXHRcdFx0XHRcdGlmICghc2V0dGluZ3MuZmVhdHVyZXMpIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMgPSB7XHJcblx0XHRcdFx0XHRcdFx0Y29tbWFuZFBhbGV0dGU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdHJlYWRpbmdUaW1lOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRsaW5rZWRNZW50aW9uczogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0bGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRjb21tZW50czogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0Z3JhcGhWaWV3OiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRwb3N0TmF2aWdhdGlvbjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0aGlkZVNjcm9sbEJhcjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0c2Nyb2xsVG9Ub3A6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdGZlYXR1cmVCdXR0b246ICdub25lJyxcclxuXHRcdFx0XHRcdFx0XHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdub25lJyxcclxuXHRcdFx0XHRcdFx0XHRwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxyXG5cdFx0XHRcdFx0XHRcdHByb2ZpbGVQaWN0dXJlOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRxdWlja0FjdGlvbnM6IHtcclxuXHRcdFx0XHRcdFx0XHRcdGVuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dG9nZ2xlTW9kZTogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRncmFwaFZpZXc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2hhbmdlVGhlbWU6IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuY29tbWVudHMgPSBjdXJyZW50RW5hYmxlZDtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRpZiAoc2hvd05vdGlmaWNhdGlvbikge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnR2lzY3VzIHNjcmlwdCBjbGVhcmVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBJbXBvcnQgdGhlIHBhcnNlciBkeW5hbWljYWxseVxyXG5cdFx0XHRcdGNvbnN0IHsgR2lzY3VzU2NyaXB0UGFyc2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL0dpc2N1c1NjcmlwdFBhcnNlcicpO1xyXG5cdFx0XHRcdGNvbnN0IHZhbGlkYXRpb24gPSBHaXNjdXNTY3JpcHRQYXJzZXIudmFsaWRhdGVTY3JpcHQoc2NyaXB0Q29udGVudCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKHZhbGlkYXRpb24udmFsaWQpIHtcclxuXHRcdFx0XHRcdHZhbGlkYXRpb25EaXYuZW1wdHkoKTtcclxuXHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkdpc2N1c1wiIGlzIGEgcHJvcGVyIG5vdW4gKHByb2R1Y3QgbmFtZSkgYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxyXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHRcdFx0Y29uc3Qgc3VjY2Vzc1NwYW4gPSB2YWxpZGF0aW9uRGl2LmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiAnXHUyNzEzIFZhbGlkIEdpc2N1cyBzY3JpcHQgZGV0ZWN0ZWQnIH0pO1xyXG5cdFx0XHRcdFx0c3VjY2Vzc1NwYW4uc2V0Q3NzUHJvcHMoeyBjb2xvcjogJ3ZhcigtLXRleHQtc3VjY2VzcyknIH0pO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBQYXJzZSBhbmQgdXBkYXRlIGFsbCBzZXR0aW5nc1xyXG5cdFx0XHRcdFx0Y29uc3QgcGFyc2VkID0gR2lzY3VzU2NyaXB0UGFyc2VyLnBhcnNlU2NyaXB0KHNjcmlwdENvbnRlbnQpO1xyXG5cdFx0XHRcdFx0aWYgKHBhcnNlZCkge1xyXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIGN1cnJlbnQgZW5hYmxlZCBzdGF0ZSBmcm9tIHRoZSBhY3R1YWwgc2V0dGluZ3MgKG5vdCB0aGUgbG9jYWwgdmFyaWFibGUpXHJcblx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRFbmFibGVkID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM/LmVuYWJsZWQgPz8gc2V0dGluZ3MuZmVhdHVyZXM/LmNvbW1lbnRzID8/IHNldHRpbmdzLnBvc3RPcHRpb25zPy5jb21tZW50cz8uZW5hYmxlZCA/PyBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0aGUgY29tbWVudHNTZXR0aW5ncyBvYmplY3Qgd2l0aCBwYXJzZWQgZGF0YVxyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLnJhd1NjcmlwdCA9IHNjcmlwdENvbnRlbnQ7XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MucmVwbyA9IHBhcnNlZC5yZXBvO1xyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLnJlcG9JZCA9IHBhcnNlZC5yZXBvSWQ7XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MuY2F0ZWdvcnkgPSBwYXJzZWQuY2F0ZWdvcnk7XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MuY2F0ZWdvcnlJZCA9IHBhcnNlZC5jYXRlZ29yeUlkO1xyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLm1hcHBpbmcgPSBwYXJzZWQubWFwcGluZztcclxuXHRcdFx0XHRcdFx0Y29tbWVudHNTZXR0aW5ncy5zdHJpY3QgPSBwYXJzZWQuc3RyaWN0O1xyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLnJlYWN0aW9ucyA9IHBhcnNlZC5yZWFjdGlvbnM7XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MubWV0YWRhdGEgPSBwYXJzZWQubWV0YWRhdGE7XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MuaW5wdXRQb3NpdGlvbiA9IHBhcnNlZC5pbnB1dFBvc2l0aW9uO1xyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLnRoZW1lID0gcGFyc2VkLnRoZW1lO1xyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLmxhbmcgPSBwYXJzZWQubGFuZztcclxuXHRcdFx0XHRcdFx0Y29tbWVudHNTZXR0aW5ncy5sb2FkaW5nID0gcGFyc2VkLmxvYWRpbmc7XHJcblx0XHRcdFx0XHRcdC8vIFByZXNlcnZlIHRoZSBlbmFibGVkIHN0YXRlIC0gZG9uJ3QgZm9yY2UgaXQgdG8gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLmVuYWJsZWQgPSBjdXJyZW50RW5hYmxlZDtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBvcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzICh0aGlzIGlzIHdoYXQgbW9kaWZ5Q29uZmlnRnJvbUZlYXR1cmVzIHJlYWRzKVxyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzID0geyBwcm9maWxlUGljdHVyZTogeyBlbmFibGVkOiBmYWxzZSwgaW1hZ2U6ICcvcHJvZmlsZS5qcGcnLCBhbHQ6ICdQcm9maWxlIHBpY3R1cmUnLCBzaXplOiAnbWQnLCB1cmw6ICcnLCBwbGFjZW1lbnQ6ICdmb290ZXInLCBzdHlsZTogJ2NpcmNsZScgfSwgY29tbWVudHM6IGNvbW1lbnRzU2V0dGluZ3MgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzID0geyAuLi5jb21tZW50c1NldHRpbmdzIH07XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvLyBBbHNvIHVwZGF0ZSBwb3N0T3B0aW9ucy5jb21tZW50cyBmb3IgY29uc2lzdGVuY3lcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0geyBwb3N0c1BlclBhZ2U6IDYsIHJlYWRpbmdUaW1lOiB0cnVlLCB3b3JkQ291bnQ6IHRydWUsIHRhZ3M6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfSwgZ3JhcGhWaWV3OiB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH0sIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIGNvbW1lbnRzOiBjb21tZW50c1NldHRpbmdzIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuY29tbWVudHMgPSB7IC4uLmNvbW1lbnRzU2V0dGluZ3MgfTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIEVuc3VyZSBmZWF0dXJlcy5jb21tZW50cyBpcyBpbiBzeW5jIHNvIG1vZGlmeUNvbmZpZ0Zyb21GZWF0dXJlcyBjYW4gYXBwbHkgdGhlIHBhcnNlZCB2YWx1ZXNcclxuXHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyByZXF1aXJlZCBiZWNhdXNlIG1vZGlmeUNvbmZpZ0Zyb21GZWF0dXJlcyBjaGVja3MgYm90aCBzZXR0aW5ncy5mZWF0dXJlcy5jb21tZW50cyBBTkQgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50c1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmZlYXR1cmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb21tYW5kUGFsZXR0ZTogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRyZWFkaW5nVGltZTogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rZWRNZW50aW9uczogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29tbWVudHM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0Z3JhcGhWaWV3OiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdHBvc3ROYXZpZ2F0aW9uOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdGhpZGVTY3JvbGxCYXI6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2Nyb2xsVG9Ub3A6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZmVhdHVyZUJ1dHRvbjogJ25vbmUnLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdub25lJyxcclxuXHRcdFx0XHRcdFx0XHRcdHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsXHJcblx0XHRcdFx0XHRcdFx0XHRwcm9maWxlUGljdHVyZTogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRxdWlja0FjdGlvbnM6IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRvZ2dsZU1vZGU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRncmFwaFZpZXc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGFuZ2VUaGVtZTogZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmNvbW1lbnRzID0gY3VycmVudEVuYWJsZWQ7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvLyBTYXZlIHNldHRpbmdzIGltbWVkaWF0ZWx5XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIEFwcGx5IGNvbmZpZ3VyYXRpb24gaWYgbm90aWZpY2F0aW9uIGlzIHJlcXVlc3RlZCAoZGVib3VuY2VkIG9yIG9uIGJsdXIpXHJcblx0XHRcdFx0XHRcdGlmIChzaG93Tm90aWZpY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc3RhdHVzTWVzc2FnZSA9IGN1cnJlbnRFbmFibGVkIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ/ICdHaXNjdXMgc2NyaXB0IHBhcnNlZCBhbmQgYXBwbGllZCB0byBjb25maWcudHMnIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ6ICdHaXNjdXMgc2NyaXB0IHBhcnNlZCBhbmQgc2F2ZWQuIEVuYWJsZSBjb21tZW50cyB0byBhcHBseSB0byBjb25maWcudHMnO1xyXG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShzdGF0dXNNZXNzYWdlKTtcclxuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IEdpc2N1cyBzY3JpcHQgdG8gY29uZmlnLnRzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dmFsaWRhdGlvbkRpdi5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZXJyb3JTcGFuID0gdmFsaWRhdGlvbkRpdi5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogYFx1MjcxNyAke3ZhbGlkYXRpb24uZXJyb3J9YCB9KTtcclxuXHRcdFx0XHRcdGVycm9yU3Bhbi5zZXRDc3NQcm9wcyh7IGNvbG9yOiAndmFyKC0tdGV4dC1lcnJvciknIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFxyXG5cdFx0XHQvLyBEZWJvdW5jZWQgaW5wdXQgaGFuZGxlciAoMSBzZWNvbmQgZGVib3VuY2UgbGlrZSBvdGhlciB0ZXh0IGZpZWxkcylcclxuXHRcdFx0dGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gQ2xlYXIgZXhpc3RpbmcgdGltZW91dFxyXG5cdFx0XHRcdGlmIChkZWJvdW5jZVRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KGRlYm91bmNlVGltZW91dElkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gVXBkYXRlIHZhbGlkYXRpb24gaW1tZWRpYXRlbHkgKGZvciBVSSBmZWVkYmFjaylcclxuXHRcdFx0XHR2b2lkIHVwZGF0ZVZhbGlkYXRpb24oZmFsc2UpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIERlYm91bmNlIHRoZSBjb25maWd1cmF0aW9uIGFwcGxpY2F0aW9uIGFuZCBub3RpZmljYXRpb25cclxuXHRcdFx0XHRkZWJvdW5jZVRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdHZvaWQgdXBkYXRlVmFsaWRhdGlvbih0cnVlKTtcclxuXHRcdFx0XHR9LCAxMDAwKTsgLy8gMSBzZWNvbmQgZGVib3VuY2VcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBBcHBseSBpbW1lZGlhdGVseSBvbiBibHVyICh3aGVuIHVzZXIgbGVhdmVzIHRoZSBmaWVsZClcclxuXHRcdFx0dGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0XHQvLyBDbGVhciBhbnkgcGVuZGluZyB0aW1lb3V0XHJcblx0XHRcdFx0aWYgKGRlYm91bmNlVGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0ZGVib3VuY2VUaW1lb3V0SWQgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBBcHBseSBpbW1lZGlhdGVseSB3aGVuIGxlYXZpbmcgdGhlIGZpZWxkXHJcblx0XHRcdFx0dm9pZCB1cGRhdGVWYWxpZGF0aW9uKHRydWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEluaXRpYWwgdmFsaWRhdGlvbiAobm8gbm90aWZpY2F0aW9uIG9uIGxvYWQpXHJcblx0XHRcdHZvaWQgdXBkYXRlVmFsaWRhdGlvbihmYWxzZSk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IE5vdGljZSwgTW9kYWwgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBUYWJSZW5kZXJlciB9IGZyb20gJy4uL2NvbW1vbi9UYWJSZW5kZXJlcic7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTLCBURU1QTEFURV9PUFRJT05TLCBBc3Ryb01vZHVsYXJQbHVnaW4gfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0dGluZ3MtY29tcGF0JztcblxuZXhwb3J0IGNsYXNzIEFkdmFuY2VkVGFiIGV4dGVuZHMgVGFiUmVuZGVyZXIge1xuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gR3JvdXAgYWxsIHNldHRpbmdzIHdpdGggbm8gaGVhZGluZ1xuXHRcdGNvbnN0IGFkdmFuY2VkR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgdW5kZWZpbmVkLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xuXG5cdFx0Ly8gRWRpdCBjb25maWcudHMgZGlyZWN0bHkgYnV0dG9uXG5cdFx0YWR2YW5jZWRHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdFZGl0IGNvbmZpZy50cyBkaXJlY3RseScpIC8vIFwiY29uZmlnLnRzXCIgaXMgYSBmaWxlbmFtZSwga2VlcCBhcyBpc1xuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogVGV4dCBpcyBhbHJlYWR5IGluIHNlbnRlbmNlIGNhc2U7IFwiQXN0cm9cIiBpcyBhIHByb3BlciBub3VuXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0LnNldERlc2MoJ09wZW4geW91ciBBc3RybyBjb25maWd1cmF0aW9uIGZpbGUgaW4gdGhlIGVkaXRvcicpXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdPcGVuIGNvbmZpZy50cycpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5vcGVuQ29uZmlnRmlsZSgpO1xuXHRcdFx0XHRcdH0pKTtcblx0XHR9KTtcblxuXHRcdC8vIFN5bmMgZnJvbSBjb25maWcudHMgYnV0dG9uXG5cdFx0YWR2YW5jZWRHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdTeW5jIGZyb20gY29uZmlnLnRzJylcblx0XHRcdFx0LnNldERlc2MoJ1JlYWQgY3VycmVudCBjb25maWcudHMgZmlsZSBhbmQgdXBkYXRlIHBsdWdpbiBzZXR0aW5ncyB0byBtYXRjaCcpXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdTeW5jIGZyb20gY29uZmlnLnRzJylcblx0XHRcdFx0XHQuc2V0Q3RhKClcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdC8vIFJlYWQgdGhlIGN1cnJlbnQgY29uZmlnLnRzIGZpbGVcblx0XHRcdFx0XHRcdGNvbnN0IHBsdWdpbiA9IHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbjtcblx0XHRcdFx0XHRcdGNvbnN0IGNvbmZpZ0NvbnRlbnQgPSBwbHVnaW4uY29uZmlnTWFuYWdlci5maWxlTWFuYWdlci5yZWFkQ29uZmlnKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmICghY29uZmlnQ29udGVudCkge1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdDb3VsZCBub3QgcmVhZCBjb25maWcudHMgZmlsZScpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFBhcnNlIHRoZSBjb25maWcudHMgZmlsZSB0byBleHRyYWN0IGN1cnJlbnQgc2V0dGluZ3Ncblx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRDb25maWcgPSBwbHVnaW4uY29uZmlnTWFuYWdlci5maWxlTWFuYWdlci5wYXJzZUNvbmZpZ0ZpbGUoY29uZmlnQ29udGVudCkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmICghY3VycmVudENvbmZpZykge1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdDb3VsZCBub3QgcGFyc2UgY29uZmlnLnRzIGZpbGUnKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHBsdWdpbiBzZXR0aW5ncyB0byBtYXRjaCBjb25maWcudHNcblx0XHRcdFx0XHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgc2l0ZSBpbmZvcm1hdGlvblxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcuc2l0ZUluZm8gJiYgdHlwZW9mIGN1cnJlbnRDb25maWcuc2l0ZUluZm8gPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHNpdGVJbmZvID0gY3VycmVudENvbmZpZy5zaXRlSW5mbyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8uc2l0ZSA9IChzaXRlSW5mby5zaXRlIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3Muc2l0ZUluZm8uc2l0ZTtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8udGl0bGUgPSAoc2l0ZUluZm8udGl0bGUgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5zaXRlSW5mby50aXRsZTtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8uZGVzY3JpcHRpb24gPSAoc2l0ZUluZm8uZGVzY3JpcHRpb24gYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5zaXRlSW5mby5kZXNjcmlwdGlvbjtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8uYXV0aG9yID0gKHNpdGVJbmZvLmF1dGhvciBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnNpdGVJbmZvLmF1dGhvcjtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8ubGFuZ3VhZ2UgPSAoc2l0ZUluZm8ubGFuZ3VhZ2UgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5zaXRlSW5mby5sYW5ndWFnZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIGZhdmljb24gYW5kIE9HIGltYWdlIHNldHRpbmdzIGZyb20gdG9wLWxldmVsIGNvbmZpZyAodGhleSdyZSBhdCB0aGUgdG9wIGxldmVsIGluIGNvbmZpZy50cylcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLmZhdmljb25UaGVtZUFkYXB0aXZlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8uZmF2aWNvblRoZW1lQWRhcHRpdmUgPSBjdXJyZW50Q29uZmlnLmZhdmljb25UaGVtZUFkYXB0aXZlIGFzIGJvb2xlYW47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy5kZWZhdWx0T2dJbWFnZUFsdCkge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5kZWZhdWx0T2dJbWFnZUFsdCA9IGN1cnJlbnRDb25maWcuZGVmYXVsdE9nSW1hZ2VBbHQgYXMgc3RyaW5nO1xuXHRcdFx0XHRcdFx0XHQvLyBBbHNvIHVwZGF0ZSBzZW8gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cdFx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3Muc2VvKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2VvID0geyBkZWZhdWx0T2dJbWFnZUFsdDogJycgfTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zZW8uZGVmYXVsdE9nSW1hZ2VBbHQgPSBjdXJyZW50Q29uZmlnLmRlZmF1bHRPZ0ltYWdlQWx0IGFzIHN0cmluZztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIG5hdmlnYXRpb24gc2V0dGluZ3Ncblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLm5hdmlnYXRpb24gJiYgdHlwZW9mIGN1cnJlbnRDb25maWcubmF2aWdhdGlvbiA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgbmF2aWdhdGlvbiA9IGN1cnJlbnRDb25maWcubmF2aWdhdGlvbiBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFx0aWYgKG5hdmlnYXRpb24ucGFnZXMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzID0gbmF2aWdhdGlvbi5wYWdlcyBhcyB0eXBlb2Ygc2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlcztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAobmF2aWdhdGlvbi5zb2NpYWwpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbCA9IG5hdmlnYXRpb24uc29jaWFsIGFzIHR5cGVvZiBzZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdGhlbWVcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLmN1cnJlbnRUaGVtZSkge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXJyZW50VGhlbWUgPSBjdXJyZW50Q29uZmlnLmN1cnJlbnRUaGVtZSBhcyB0eXBlb2Ygc2V0dGluZ3MuY3VycmVudFRoZW1lO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdHlwb2dyYXBoeSBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcudHlwb2dyYXBoeSAmJiB0eXBlb2YgY3VycmVudENvbmZpZy50eXBvZ3JhcGh5ID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCB0eXBvZ3JhcGh5ID0gY3VycmVudENvbmZpZy50eXBvZ3JhcGh5IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmb250U291cmNlID0gKHR5cG9ncmFwaHkuZm9udFNvdXJjZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZTtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlID0gKGZvbnRTb3VyY2UgPT09ICdsb2NhbCcgfHwgZm9udFNvdXJjZSA9PT0gJ2NkbicpID8gZm9udFNvdXJjZSA6IHNldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZTtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5wcm9zZUZvbnQgPSAodHlwb2dyYXBoeS5wcm9zZUZvbnQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy50eXBvZ3JhcGh5LnByb3NlRm9udDtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5oZWFkaW5nRm9udCA9ICh0eXBvZ3JhcGh5LmhlYWRpbmdGb250IGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MudHlwb2dyYXBoeS5oZWFkaW5nRm9udDtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5tb25vRm9udCA9ICh0eXBvZ3JhcGh5Lm1vbm9Gb250IGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MudHlwb2dyYXBoeS5tb25vRm9udDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHRhYmxlIG9mIGNvbnRlbnRzIHNldHRpbmdzXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy50YWJsZU9mQ29udGVudHMgJiYgdHlwZW9mIGN1cnJlbnRDb25maWcudGFibGVPZkNvbnRlbnRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCB0b2MgPSBjdXJyZW50Q29uZmlnLnRhYmxlT2ZDb250ZW50cyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy50YWJsZU9mQ29udGVudHMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50YWJsZU9mQ29udGVudHMgPSB7IGVuYWJsZWQ6IHRydWUsIGRlcHRoOiA0IH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzLmVuYWJsZWQgPSAodG9jLmVuYWJsZWQgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MudGFibGVPZkNvbnRlbnRzLmVuYWJsZWQ7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cy5kZXB0aCA9ICh0b2MuZGVwdGggYXMgbnVtYmVyIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy50YWJsZU9mQ29udGVudHMuZGVwdGg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBmZWF0dXJlcyBiYXNlZCBvbiBjb25maWcudHNcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLnBvc3RPcHRpb25zICYmIHR5cGVvZiBjdXJyZW50Q29uZmlnLnBvc3RPcHRpb25zID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwb3N0T3B0aW9ucyA9IGN1cnJlbnRDb25maWcucG9zdE9wdGlvbnMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnJlYWRpbmdUaW1lID0gKHBvc3RPcHRpb25zLnJlYWRpbmdUaW1lIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmZlYXR1cmVzLnJlYWRpbmdUaW1lO1xuXHRcdFx0XHRcdFx0XHRpZiAocG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgJiYgdHlwZW9mIHBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGxpbmtlZE1lbnRpb25zID0gcG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMubGlua2VkTWVudGlvbnMgPSAobGlua2VkTWVudGlvbnMuZW5hYmxlZCBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5mZWF0dXJlcy5saW5rZWRNZW50aW9ucztcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPSAobGlua2VkTWVudGlvbnMubGlua2VkTWVudGlvbnNDb21wYWN0IGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmZlYXR1cmVzLmxpbmtlZE1lbnRpb25zQ29tcGFjdDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAocG9zdE9wdGlvbnMuZ3JhcGhWaWV3ICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5ncmFwaFZpZXcgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZ3JhcGhWaWV3ID0gcG9zdE9wdGlvbnMuZ3JhcGhWaWV3IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmdyYXBoVmlldyA9IChncmFwaFZpZXcuZW5hYmxlZCBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5mZWF0dXJlcy5ncmFwaFZpZXc7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucG9zdE5hdmlnYXRpb24gPSAocG9zdE9wdGlvbnMucG9zdE5hdmlnYXRpb24gYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MuZmVhdHVyZXMucG9zdE5hdmlnYXRpb247XG5cdFx0XHRcdFx0XHRcdGlmIChwb3N0T3B0aW9ucy5jb21tZW50cyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMuY29tbWVudHMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgY29tbWVudHMgPSBwb3N0T3B0aW9ucy5jb21tZW50cyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5jb21tZW50cyA9IChjb21tZW50cy5lbmFibGVkIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmZlYXR1cmVzLmNvbW1lbnRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBvcHRpb25hbCBjb250ZW50IHR5cGVzXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy5vcHRpb25hbENvbnRlbnRUeXBlcyAmJiB0eXBlb2YgY3VycmVudENvbmZpZy5vcHRpb25hbENvbnRlbnRUeXBlcyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb3B0aW9uYWxDb250ZW50VHlwZXMgPSBjdXJyZW50Q29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0cyA9IChvcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0cyBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0cztcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMuZG9jcyA9IChvcHRpb25hbENvbnRlbnRUeXBlcy5kb2NzIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3M7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBmb290ZXIgc2V0dGluZ3Ncblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLmZvb3RlciAmJiB0eXBlb2YgY3VycmVudENvbmZpZy5mb290ZXIgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZvb3RlciA9IGN1cnJlbnRDb25maWcuZm9vdGVyIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5zaG93U29jaWFsSWNvbnNJbkZvb3RlciA9IChmb290ZXIuc2hvd1NvY2lhbEljb25zSW5Gb290ZXIgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBjb21tYW5kIHBhbGV0dGUgLSBjb21wcmVoZW5zaXZlIHN5bmNcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLmNvbW1hbmRQYWxldHRlICYmIHR5cGVvZiBjdXJyZW50Q29uZmlnLmNvbW1hbmRQYWxldHRlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBjb21tYW5kUGFsZXR0ZSA9IGN1cnJlbnRDb25maWcuY29tbWFuZFBhbGV0dGUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmNvbW1hbmRQYWxldHRlID0gKGNvbW1hbmRQYWxldHRlLmVuYWJsZWQgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQvLyBTeW5jIGFsbCBjb21tYW5kIHBhbGV0dGUgc2V0dGluZ3Ncblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSkge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdHNob3J0Y3V0OiAnY3RybCtLJyxcblx0XHRcdFx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyOiAnU2VhcmNoIHBvc3RzJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlYXJjaDogeyBwb3N0czogdHJ1ZSwgcGFnZXM6IGZhbHNlLCBwcm9qZWN0czogZmFsc2UsIGRvY3M6IGZhbHNlIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWN0aW9uczogeyBxdWlja0FjdGlvbnM6IHRydWUsIHBhZ2VzOiB0cnVlLCBzb2NpYWw6IHRydWUgfSxcblx0XHRcdFx0XHRcdFx0XHRcdHF1aWNrQWN0aW9uczogeyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH1cblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5lbmFibGVkID0gKGNvbW1hbmRQYWxldHRlLmVuYWJsZWQgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuZW5hYmxlZDtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXIgPSAoY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXIgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlcjtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2hvcnRjdXQgPSAoY29tbWFuZFBhbGV0dGUuc2hvcnRjdXQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zaG9ydGN1dDtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGlmIChjb21tYW5kUGFsZXR0ZS5zZWFyY2ggJiYgdHlwZW9mIGNvbW1hbmRQYWxldHRlLnNlYXJjaCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2ggPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gsXG5cdFx0XHRcdFx0XHRcdFx0XHQuLi5jb21tYW5kUGFsZXR0ZS5zZWFyY2hcblx0XHRcdFx0XHRcdFx0XHR9IGFzIHR5cGVvZiBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2g7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGlmIChjb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyAmJiB0eXBlb2YgY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyxcblx0XHRcdFx0XHRcdFx0XHRcdC4uLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zXG5cdFx0XHRcdFx0XHRcdFx0fSBhcyB0eXBlb2Ygc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGlmIChjb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgJiYgdHlwZW9mIGNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMsXG5cdFx0XHRcdFx0XHRcdFx0XHQuLi5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnNcblx0XHRcdFx0XHRcdFx0XHR9IGFzIHR5cGVvZiBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnM7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3luYyB0byBmZWF0dXJlcy5xdWlja0FjdGlvbnMgZm9yIGNvbnNpc3RlbmN5XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0Li4uc2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLFxuXHRcdFx0XHRcdFx0XHRcdFx0Li4uY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zXG5cdFx0XHRcdFx0XHRcdFx0fSBhcyB0eXBlb2Ygc2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0aGVtZVxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcudGhlbWUpIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY3VycmVudFRoZW1lID0gY3VycmVudENvbmZpZy50aGVtZSBhcyB0eXBlb2Ygc2V0dGluZ3MuY3VycmVudFRoZW1lO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgc2l0ZSBpbmZvcm1hdGlvblxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcuc2l0ZSkge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5zaXRlID0gY3VycmVudENvbmZpZy5zaXRlIGFzIHN0cmluZztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLnRpdGxlKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLnRpdGxlID0gY3VycmVudENvbmZpZy50aXRsZSBhcyBzdHJpbmc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy5kZXNjcmlwdGlvbikge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5kZXNjcmlwdGlvbiA9IGN1cnJlbnRDb25maWcuZGVzY3JpcHRpb24gYXMgc3RyaW5nO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcuYXV0aG9yKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLmF1dGhvciA9IGN1cnJlbnRDb25maWcuYXV0aG9yIGFzIHN0cmluZztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLmxhbmd1YWdlKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLmxhbmd1YWdlID0gY3VycmVudENvbmZpZy5sYW5ndWFnZSBhcyBzdHJpbmc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0ZW1wbGF0ZSBiYXNlZCBvbiBjdXJyZW50IHNldHRpbmdzXG5cdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgYml0IHRyaWNreSBzaW5jZSB3ZSBuZWVkIHRvIGRldGVybWluZSB3aGljaCB0ZW1wbGF0ZSBiZXN0IG1hdGNoZXNcblx0XHRcdFx0XHRcdC8vIEZvciBub3csIHdlJ2xsIHNldCBpdCB0byAnc3RhbmRhcmQnIHNpbmNlIGl0J3MgYmVlbiBtYW51YWxseSBtb2RpZmllZFxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY3VycmVudFRlbXBsYXRlID0gJ3N0YW5kYXJkJztcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gU2F2ZSB0aGUgdXBkYXRlZCBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBSZWZyZXNoIHRoZSBzZXR0aW5ncyB0YWIgdG8gc2hvdyB0aGUgc3luY2VkIHZhbHVlc1xuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikudHJpZ2dlclNldHRpbmdzUmVmcmVzaCgpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdTZXR0aW5ncyBzeW5jZWQgZnJvbSBjb25maWcudHMgc3VjY2Vzc2Z1bGx5Jyk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBzeW5jIGZyb20gY29uZmlnLnRzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pKTtcblx0XHR9KTtcblxuXHRcdC8vIFJlc2V0IHRvIFRlbXBsYXRlIGJ1dHRvblxuXHRcdGFkdmFuY2VkR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnUmVzZXQgdG8gdGVtcGxhdGUnKVxuXHRcdFx0XHQuc2V0RGVzYyhgUmVzZXQgYWxsIHNldHRpbmdzIHRvIHRoZSBjdXJyZW50IHRlbXBsYXRlICgke1RFTVBMQVRFX09QVElPTlMuZmluZCh0ID0+IHQuaWQgPT09IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSk/Lm5hbWV9KWApXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdSZXNldCB0byB0ZW1wbGF0ZScpXG5cdFx0XHRcdFx0LnNldFdhcm5pbmcoKVxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHQvLyBSZXNldCBzZXR0aW5ncyB0byB0ZW1wbGF0ZSBkZWZhdWx0c1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHQvLyBMb2FkIHRoZSB0ZW1wbGF0ZSBwcmVzZXRcblx0XHRcdFx0XHRcdGNvbnN0IHRlbXBsYXRlUHJlc2V0ID0gKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuY29uZmlnTWFuYWdlci5nZXRUZW1wbGF0ZVByZXNldChzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUpO1xuXHRcdFx0XHRcdFx0aWYgKHRlbXBsYXRlUHJlc2V0ICYmIHRlbXBsYXRlUHJlc2V0LmNvbmZpZykge1xuXHRcdFx0XHRcdFx0XHQvLyBQcmVzZXJ2ZSB1c2VyLXNwZWNpZmljIHNldHRpbmdzIHRoYXQgc2hvdWxkbid0IGJlIHJlc2V0XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHByZXNlcnZlZFNpdGVJbmZvID0gc2V0dGluZ3Muc2l0ZUluZm87XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHByZXNlcnZlZE5hdmlnYXRpb24gPSBzZXR0aW5ncy5uYXZpZ2F0aW9uO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXJ2ZWRUaGVtZSA9IHNldHRpbmdzLmN1cnJlbnRUaGVtZTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2VydmVkQ29udGVudE9yZyA9IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb247XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHByZXNlcnZlZFR5cG9ncmFwaHkgPSBzZXR0aW5ncy50eXBvZ3JhcGh5O1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXJ2ZWRPcHRpb25hbEZlYXR1cmVzID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcztcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2VydmVkUnVuV2l6YXJkT25TdGFydHVwID0gc2V0dGluZ3MucnVuV2l6YXJkT25TdGFydHVwO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgdGVtcGxhdGUgZmVhdHVyZXMgYW5kIHRhYmxlIG9mIGNvbnRlbnRzIGZyb20gcHJlc2V0XG5cdFx0XHRcdFx0XHRcdGlmICh0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcyA9IHsgLi4uc2V0dGluZ3MuZmVhdHVyZXMsIC4uLnRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcyB9O1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdC8vIENSSVRJQ0FMOiBTeW5jIHBvc3RPcHRpb25zIHdpdGggZmVhdHVyZXMgdG8gbWFpbnRhaW4gZGF0YSBpbnRlZ3JpdHlcblx0XHRcdFx0XHRcdFx0XHQvLyBwb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZCBpcyB0aGUgc291cmNlIG9mIHRydXRoXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkID0gKCh0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMgYXMgdW5rbm93bikgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmdyYXBoVmlldyBhcyBib29sZWFuID8/IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuZ3JhcGhWaWV3ID0gc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQ7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFN5bmMgbGlua2VkIG1lbnRpb25zXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zPy5saW5rZWRNZW50aW9ucykge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZmVhdHVyZXMgPSAodGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzIGFzIHVua25vd24pIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMuZW5hYmxlZCA9IGZlYXR1cmVzLmxpbmtlZE1lbnRpb25zIGFzIGJvb2xlYW4gPz8gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPSBmZWF0dXJlcy5saW5rZWRNZW50aW9uc0NvbXBhY3QgYXMgYm9vbGVhbiA/PyBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3luYyBjb21tYW5kIHBhbGV0dGUgcXVpY2sgYWN0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZlYXR1cmVzID0gKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcyBhcyB1bmtub3duKSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnF1aWNrQWN0aW9ucyAmJiBmZWF0dXJlcy5xdWlja0FjdGlvbnMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyA9IHsgLi4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zLCAuLi5mZWF0dXJlcy5xdWlja0FjdGlvbnMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGlmICh0ZW1wbGF0ZVByZXNldC5jb25maWcudGFibGVPZkNvbnRlbnRzKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzID0geyAuLi5zZXR0aW5ncy50YWJsZU9mQ29udGVudHMsIC4uLnRlbXBsYXRlUHJlc2V0LmNvbmZpZy50YWJsZU9mQ29udGVudHMgfTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gU2V0IHRlbXBsYXRlIG5hbWVcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY3VycmVudFRlbXBsYXRlID0gdGVtcGxhdGVQcmVzZXQuY29uZmlnLmN1cnJlbnRUZW1wbGF0ZSB8fCBzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGU7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIHByZXNlcnZlZCBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mbyA9IHByZXNlcnZlZFNpdGVJbmZvO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uID0gcHJlc2VydmVkTmF2aWdhdGlvbjtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY3VycmVudFRoZW1lID0gcHJlc2VydmVkVGhlbWU7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24gPSBwcmVzZXJ2ZWRDb250ZW50T3JnO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5ID0gcHJlc2VydmVkVHlwb2dyYXBoeTtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcyA9IHByZXNlcnZlZE9wdGlvbmFsRmVhdHVyZXM7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnJ1bldpemFyZE9uU3RhcnR1cCA9IHByZXNlcnZlZFJ1bldpemFyZE9uU3RhcnR1cDtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIEFwcGx5IHRvIGNvbmZpZyBmaWxlXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbih0cnVlKTtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgUmVzZXQgdG8gJHtzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGV9IHRlbXBsYXRlIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnVGVtcGxhdGUgbm90IGZvdW5kJyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byByZXNldCB0byB0ZW1wbGF0ZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KSk7XG5cdFx0fSk7XG5cblx0XHQvLyBSZXNldCB0byBkZWZhdWx0c1xuXHRcdGFkdmFuY2VkR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnUmVzZXQgdG8gZGVmYXVsdHMnKVxuXHRcdFx0XHQuc2V0RGVzYygnUmVzZXQgYWxsIHNldHRpbmdzIHRvIHRoZWlyIGRlZmF1bHQgdmFsdWVzJylcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Jlc2V0IHRvIGRlZmF1bHRzJylcblx0XHRcdFx0XHQuc2V0V2FybmluZygpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdCgoKSA9PiB7XG5cdFx0XHRcdFx0XHQvLyBDcmVhdGUgYSBuYXRpdmUgT2JzaWRpYW4gY29uZmlybWF0aW9uIG1vZGFsXG5cdFx0XHRcdFx0XHRjb25zdCBjb25maXJtTW9kYWwgPSBuZXcgTW9kYWwodGhpcy5hcHApO1xuXHRcdFx0XHRcdFx0Y29uZmlybU1vZGFsLnRpdGxlRWwuc2V0VGV4dCgnUmVzZXQgdG8gZGVmYXVsdHMnKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Y29uc3QgY29udGVudERpdiA9IGNvbmZpcm1Nb2RhbC5jb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0XHRcdFx0XHRjb250ZW50RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc2V0IGFsbCBjb25maWd1cmF0aW9uIHNldHRpbmdzIHRvIGRlZmF1bHRzPycgfSk7XG5cdFx0XHRcdFx0XHRjb250ZW50RGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnVGhpcyB3aWxsIHByZXNlcnZlIHlvdXIgc2l0ZSBpbmZvIGFuZCBuYXZpZ2F0aW9uIHBhZ2VzL2xpbmtzLicgfSk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnREaXYuY3JlYXRlRGl2KCk7XG5cdFx0XHRcdFx0XHRidXR0b25Db250YWluZXIuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRtYXJnaW5Ub3A6ICcyMHB4Jyxcblx0XHRcdFx0XHRcdFx0ZGlzcGxheTogJ2ZsZXgnLFxuXHRcdFx0XHRcdFx0XHRnYXA6ICcxMHB4Jyxcblx0XHRcdFx0XHRcdFx0anVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCdcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBDYW5jZWwgYnV0dG9uXG5cdFx0XHRcdFx0XHRjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG5cdFx0XHRcdFx0XHRjYW5jZWxCdXR0b24uY2xhc3NOYW1lID0gJ21vZC1idXR0b24nO1xuXHRcdFx0XHRcdFx0Y2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRjb25maXJtTW9kYWwuY2xvc2UoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBDb25maXJtIGJ1dHRvblxuXHRcdFx0XHRcdFx0Y29uc3QgY29uZmlybUJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnUmVzZXQgdG8gZGVmYXVsdHMnIH0pO1xuXHRcdFx0XHRcdFx0Y29uZmlybUJ1dHRvbi5jbGFzc05hbWUgPSAnbW9kLXdhcm5pbmcnO1xuXHRcdFx0XHRcdFx0Y29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFJlc2V0IG9ubHkgY29uZmlndXJhdGlvbiBzZXR0aW5ncywgcHJlc2VydmUgc2l0ZSBpbmZvIGFuZCBuYXZpZ2F0aW9uIHBhZ2VzL2xpbmtzXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2VydmVkU2l0ZUluZm8gPSBzZXR0aW5ncy5zaXRlSW5mbztcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXJ2ZWROYXZpZ2F0aW9uUGFnZXMgPSBzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHByZXNlcnZlZE5hdmlnYXRpb25Tb2NpYWwgPSBzZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbDtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHQvLyBSZXNldCB0byBkZWZhdWx0c1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHJlc2V0U2V0dGluZ3MgPSB7IC4uLkRFRkFVTFRfU0VUVElOR1MgfTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIHByZXNlcnZlZCBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0XHRcdHJlc2V0U2V0dGluZ3Muc2l0ZUluZm8gPSBwcmVzZXJ2ZWRTaXRlSW5mbztcblx0XHRcdFx0XHRcdFx0XHQvLyBQcmVzZXJ2ZSBvbmx5IHVzZXIncyBwYWdlcyBhbmQgc29jaWFsIGxpbmtzLCByZXNldCBkaXNwbGF5IHNldHRpbmdzIHRvIGRlZmF1bHRzXG5cdFx0XHRcdFx0XHRcdFx0cmVzZXRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzID0gcHJlc2VydmVkTmF2aWdhdGlvblBhZ2VzO1xuXHRcdFx0XHRcdFx0XHRcdHJlc2V0U2V0dGluZ3MubmF2aWdhdGlvbi5zb2NpYWwgPSBwcmVzZXJ2ZWROYXZpZ2F0aW9uU29jaWFsO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0aGUgcGx1Z2luJ3MgbWFpbiBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdFx0XHRcdFx0XHQodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5zZXR0aW5ncyA9IHJlc2V0U2V0dGluZ3M7XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEocmVzZXRTZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRW5zdXJlIHNldHRpbmdzIGFyZSBsb2FkZWQgYWZ0ZXIgc2F2ZVxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEFwcGx5IHRoZSByZXNldCBjb25maWd1cmF0aW9uIHRvIGNvbmZpZy50c1xuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0NvbmZpZ3VyYXRpb24gcmVzZXQgdG8gZGVmYXVsdHMgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzIChzaXRlIGluZm8gYW5kIG5hdmlnYXRpb24gcGFnZXMvbGlua3MgcHJlc2VydmVkKScpO1xuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBDb25maWd1cmF0aW9uIHJlc2V0IGJ1dCBmYWlsZWQgdG8gYXBwbHkgdG8gY29uZmlnLnRzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmVmcmVzaCB0aGUgc2V0dGluZ3MgdGFiIHRvIHNob3cgdGhlIHJlc2V0IHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLnRyaWdnZXJTZXR0aW5nc1JlZnJlc2goKTtcblx0XHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBGb2N1cyB0aGUgY29uZmlybSBidXR0b25cblx0XHRcdFx0XHRcdGNvbmZpcm1CdXR0b24uZm9jdXMoKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Y29uZmlybU1vZGFsLm9wZW4oKTtcblx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHR9KSk7XG5cdFx0fSk7XG5cblx0XHQvLyBFeHBvcnQgY29uZmlndXJhdGlvblxuXHRcdGFkdmFuY2VkR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnRXhwb3J0IGNvbmZpZ3VyYXRpb24nKVxuXHRcdFx0XHQuc2V0RGVzYygnRXhwb3J0IHlvdXIgY3VycmVudCBjb25maWd1cmF0aW9uIGFzIEpTT04nKVxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnRXhwb3J0IEpTT04nKVxuXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuZXhwb3J0Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdH0pKTtcblx0XHR9KTtcblxuXHRcdC8vIEltcG9ydCBjb25maWd1cmF0aW9uXG5cdFx0YWR2YW5jZWRHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdJbXBvcnQgY29uZmlndXJhdGlvbicpXG5cdFx0XHRcdC5zZXREZXNjKCdJbXBvcnQgY29uZmlndXJhdGlvbiBmcm9tIEpTT04gZmlsZScpXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdJbXBvcnQgSlNPTicpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5pbXBvcnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0fSkpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBleHBvcnRDb25maWd1cmF0aW9uKCk6IHZvaWQge1xuICBjb25zdCBjb25maWdKc29uID0gSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRTZXR0aW5ncygpLCBudWxsLCAyKTtcblx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoW2NvbmZpZ0pzb25dLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcblx0XHRjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFxuXHRcdGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0YS5ocmVmID0gdXJsO1xuXHRcdGEuZG93bmxvYWQgPSAnYXN0cm8tbW9kdWxhci1jb25maWcuanNvbic7XG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcblx0XHRhLmNsaWNrKCk7XG5cdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG5cdFx0XG5cdFx0bmV3IE5vdGljZSgnQ29uZmlndXJhdGlvbiBleHBvcnRlZCBzdWNjZXNzZnVsbHkhJyk7XG5cdH1cblxuXHRwcml2YXRlIGltcG9ydENvbmZpZ3VyYXRpb24oKTogdm9pZCB7XG5cdFx0Y29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXHRcdGlucHV0LnR5cGUgPSAnZmlsZSc7XG5cdFx0aW5wdXQuYWNjZXB0ID0gJy5qc29uJztcblx0XHRpbnB1dC5vbmNoYW5nZSA9IGFzeW5jIChlKSA9PiB7XG5cdFx0XHRjb25zdCBmaWxlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzPy5bMF07XG5cdFx0XHRpZiAoZmlsZSkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG5cdFx0XHRcdFx0Y29uc3QgaW1wb3J0ZWRTZXR0aW5ncyA9IEpTT04ucGFyc2UodGV4dCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gTWVyZ2Ugd2l0aCBjdXJyZW50IHNldHRpbmdzXG5cdFx0XHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0T2JqZWN0LmFzc2lnbihzZXR0aW5ncywgaW1wb3J0ZWRTZXR0aW5ncyk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFJlZnJlc2ggdGhlIHNldHRpbmdzIHRhYiB0byBzaG93IGltcG9ydGVkIHNldHRpbmdzXG5cdFx0XHRcdFx0Ly8gTm90ZTogVGhpcyB3b3VsZCBuZWVkIHRvIGJlIGhhbmRsZWQgYnkgdGhlIHBhcmVudCBjb21wb25lbnRcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdDb25maWd1cmF0aW9uIGltcG9ydGVkIHN1Y2Nlc3NmdWxseSEnKTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnRmFpbGVkIHRvIGltcG9ydCBjb25maWd1cmF0aW9uLiBQbGVhc2UgY2hlY2sgdGhlIGZpbGUgZm9ybWF0LicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpbnB1dC5jbGljaygpO1xuXHR9XG5cblx0cHJpdmF0ZSBvcGVuQ29uZmlnRmlsZSgpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIG5vLXVuZGVmXG5cdFx0XHRjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJykgYXMgdHlwZW9mIGltcG9ydCgnZnMnKTtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxuXHRcdFx0Y29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKSBhcyB0eXBlb2YgaW1wb3J0KCdwYXRoJyk7XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIC0gZWxlY3Ryb24gaXMgb25seSBhdmFpbGFibGUgaW4gRWxlY3Ryb24gZW52aXJvbm1lbnRcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxuXHRcdFx0Y29uc3QgZWxlY3Ryb25Nb2R1bGUgPSByZXF1aXJlKCdlbGVjdHJvbicpIGFzIHVua25vd24gYXMgeyBzaGVsbD86IHR5cGVvZiBpbXBvcnQoJ2VsZWN0cm9uJykuc2hlbGwgfTtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcblx0XHRcdGNvbnN0IHNoZWxsID0gZWxlY3Ryb25Nb2R1bGUuc2hlbGw7XG5cdFx0XHRpZiAoIXNoZWxsKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRWxlY3Ryb24gc2hlbGwgQVBJIG5vdCBhdmFpbGFibGUnKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gR2V0IHRoZSBhY3R1YWwgdmF1bHQgcGF0aCBzdHJpbmcgZnJvbSB0aGUgYWRhcHRlclxuXHRcdFx0Y29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgeyBiYXNlUGF0aD86IHN0cmluZzsgcGF0aD86IHN0cmluZyB9O1xuXHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gYWRhcHRlci5iYXNlUGF0aCB8fCBhZGFwdGVyLnBhdGg7XG5cdFx0XHRjb25zdCB2YXVsdFBhdGhTdHJpbmcgPSB0eXBlb2YgdmF1bHRQYXRoID09PSAnc3RyaW5nJyA/IHZhdWx0UGF0aCA6ICh2YXVsdFBhdGggPyBTdHJpbmcodmF1bHRQYXRoKSA6ICcnKTtcblx0XHRcdGNvbnN0IGNvbmZpZ1BhdGggPSBwYXRoLmpvaW4odmF1bHRQYXRoU3RyaW5nLCAnLi4nLCAnY29uZmlnLnRzJyk7XG5cdFx0XHRcblx0XHRcdGlmIChmcy5leGlzdHNTeW5jKGNvbmZpZ1BhdGgpKSB7XG5cdFx0XHRcdC8vIFVzZSBFbGVjdHJvbidzIHNoZWxsIHRvIG9wZW4gdGhlIGZpbGUgd2l0aCB0aGUgZGVmYXVsdCBlZGl0b3Jcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG5cdFx0XHRcdHNoZWxsLm9wZW5QYXRoKGNvbmZpZ1BhdGgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV3IE5vdGljZShgQ29uZmlnIGZpbGUgbm90IGZvdW5kIGF0OiAke2NvbmZpZ1BhdGh9YCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogU3RyaW5nKGVycik7XG5cdFx0XHRuZXcgTm90aWNlKGBFcnJvciBvcGVuaW5nIGNvbmZpZyBmaWxlOiAke2Vycm9yTWVzc2FnZX1gKTtcblx0XHR9XG5cdH1cbn0iLCAiaW1wb3J0IHsgQXBwLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgQ29uZmlnRmlsZUluZm8sIE9ic2lkaWFuVmF1bHRBZGFwdGVyIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbmZpZ0ZpbGVNYW5hZ2VyIHtcclxuXHRwcml2YXRlIGFwcDogQXBwO1xyXG5cdHByaXZhdGUgY29uZmlnUGF0aDogc3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG5cdFx0dGhpcy5hcHAgPSBhcHA7XHJcblx0XHQvLyBUaGUgbWFpbiBBc3RybyBjb25maWcudHMgZmlsZSBpcyBhdCBzcmMvY29uZmlnLnRzICh0d28gbGV2ZWxzIHVwIGZyb20gdmF1bHQpXHJcblx0XHR0aGlzLmNvbmZpZ1BhdGggPSAnLi4vLi4vc3JjL2NvbmZpZy50cyc7XHJcblx0fVxyXG5cclxuXHRnZXRDb25maWdGaWxlSW5mbygpOiBDb25maWdGaWxlSW5mbyB7XHJcblx0XHQvLyBUaGUgbWFpbiBBc3RybyBjb25maWcudHMgZmlsZSBpcyBhdCBzcmMvY29uZmlnLnRzICh0d28gbGV2ZWxzIHVwIGZyb20gdmF1bHQpXHJcblx0XHQvLyBOT1RFOiBUaGlzIHBsdWdpbiBhY2Nlc3NlcyBmaWxlcyBvdXRzaWRlIHRoZSBPYnNpZGlhbiB2YXVsdCB0byBtYW5hZ2UgQXN0cm8gY29uZmlndXJhdGlvbi5cclxuXHRcdC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGZvciB0aGUgcGx1Z2luJ3MgY29yZSBmdW5jdGlvbmFsaXR5IG9mIG1hbmFnaW5nIEFzdHJvIE1vZHVsYXIgdGhlbWUgc2V0dGluZ3MuXHJcblx0XHRcclxuXHRcdC8vIFRyeSB0byBhY2Nlc3MgdGhlIGZpbGUgb3V0c2lkZSB0aGUgdmF1bHQgdXNpbmcgTm9kZS5qcyBmc1xyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIG5vLXVuZGVmXHJcblx0XHRjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJykgYXMgdHlwZW9mIGltcG9ydCgnZnMnKTtcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxyXG5cdFx0Y29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKSBhcyB0eXBlb2YgaW1wb3J0KCdwYXRoJyk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBHZXQgdGhlIGFjdHVhbCB2YXVsdCBwYXRoIHN0cmluZyBmcm9tIHRoZSBhZGFwdGVyXHJcblx0XHRcdGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIE9ic2lkaWFuVmF1bHRBZGFwdGVyO1xyXG5cdFx0XHRjb25zdCB2YXVsdFBhdGggPSBhZGFwdGVyLmJhc2VQYXRoIHx8IGFkYXB0ZXIucGF0aDtcclxuXHRcdFx0XHJcblx0XHRcdC8vIElmIHZhdWx0UGF0aCBpcyBhbiBvYmplY3QsIHRyeSB0byBnZXQgdGhlIHN0cmluZyB2YWx1ZVxyXG5cdFx0XHRjb25zdCB2YXVsdFBhdGhTdHJpbmcgPSB0eXBlb2YgdmF1bHRQYXRoID09PSAnc3RyaW5nJyA/IHZhdWx0UGF0aCA6ICh2YXVsdFBhdGggPyBTdHJpbmcodmF1bHRQYXRoKSA6ICcnKTtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IGNvbmZpZ1BhdGggPSBwYXRoLmpvaW4odmF1bHRQYXRoU3RyaW5nLCAnLi4nLCAnLi4nLCAnc3JjJywgJ2NvbmZpZy50cycpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKGZzLmV4aXN0c1N5bmMoY29uZmlnUGF0aCkpIHtcclxuXHRcdFx0XHRjb25zdCBjb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKGNvbmZpZ1BhdGgsICd1dGY4Jyk7XHJcblx0XHRcdFx0Y29uc3Qgc3RhdHMgPSBmcy5zdGF0U3luYyhjb25maWdQYXRoKTtcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0ZXhpc3RzOiB0cnVlLFxyXG5cdFx0XHRcdFx0cGF0aDogY29uZmlnUGF0aCxcclxuXHRcdFx0XHRcdGNvbnRlbnQ6IGNvbnRlbnQsXHJcblx0XHRcdFx0XHRsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKHN0YXRzLm10aW1lKSxcclxuXHRcdFx0XHRcdHZhbGlkOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZXJyb3JzOiBbXVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdGV4aXN0czogZmFsc2UsXHJcblx0XHRcdFx0XHRwYXRoOiBjb25maWdQYXRoLFxyXG5cdFx0XHRcdFx0Y29udGVudDogJycsXHJcblx0XHRcdFx0XHRsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHR2YWxpZDogZmFsc2UsXHJcblx0XHRcdFx0XHRlcnJvcnM6IFsnQ29uZmlnIGZpbGUgbm90IGZvdW5kJ11cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRleGlzdHM6IGZhbHNlLFxyXG5cdFx0XHRcdHBhdGg6IHRoaXMuY29uZmlnUGF0aCxcclxuXHRcdFx0XHRjb250ZW50OiAnJyxcclxuXHRcdFx0XHRsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0dmFsaWQ6IGZhbHNlLFxyXG5cdFx0XHRcdGVycm9yczogWydDYW5ub3QgYWNjZXNzIGZpbGUgb3V0c2lkZSB2YXVsdCddXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHZhbGlkYXRlQ29uZmlnQ29udGVudChjb250ZW50OiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdC8vIEJhc2ljIHZhbGlkYXRpb24gLSBjaGVjayBmb3IgY29tbW9uIEFzdHJvIGNvbmZpZyBwYXR0ZXJuc1xyXG5cdFx0cmV0dXJuIGNvbnRlbnQuaW5jbHVkZXMoJ2RlZmluZUNvbmZpZycpIHx8IFxyXG5cdFx0XHQgICBjb250ZW50LmluY2x1ZGVzKCdleHBvcnQgZGVmYXVsdCcpIHx8XHJcblx0XHRcdCAgIGNvbnRlbnQuaW5jbHVkZXMoJ2FzdHJvL2NvbmZpZycpO1xyXG5cdH1cclxuXHJcblx0cmVhZENvbmZpZygpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgZmlsZUluZm8gPSB0aGlzLmdldENvbmZpZ0ZpbGVJbmZvKCk7XHJcblx0XHRyZXR1cm4gZmlsZUluZm8uY29udGVudDtcclxuXHR9XHJcblxyXG5cdHdyaXRlQ29uZmlnKGNvbnRlbnQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gVHJ5IHRvIHdyaXRlIHRoZSBmaWxlIG91dHNpZGUgdGhlIHZhdWx0IHVzaW5nIE5vZGUuanMgZnNcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxyXG5cdFx0Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpIGFzIHR5cGVvZiBpbXBvcnQoJ2ZzJyk7XHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcclxuXHRcdGNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJykgYXMgdHlwZW9mIGltcG9ydCgncGF0aCcpO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gR2V0IHRoZSBhY3R1YWwgdmF1bHQgcGF0aCBzdHJpbmcgZnJvbSB0aGUgYWRhcHRlclxyXG5cdFx0XHRjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBPYnNpZGlhblZhdWx0QWRhcHRlcjtcclxuXHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gYWRhcHRlci5iYXNlUGF0aCB8fCBhZGFwdGVyLnBhdGg7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBJZiB2YXVsdFBhdGggaXMgYW4gb2JqZWN0LCB0cnkgdG8gZ2V0IHRoZSBzdHJpbmcgdmFsdWVcclxuXHRcdFx0Y29uc3QgdmF1bHRQYXRoU3RyaW5nID0gdHlwZW9mIHZhdWx0UGF0aCA9PT0gJ3N0cmluZycgPyB2YXVsdFBhdGggOiAodmF1bHRQYXRoID8gU3RyaW5nKHZhdWx0UGF0aCkgOiAnJyk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCBjb25maWdQYXRoID0gcGF0aC5qb2luKHZhdWx0UGF0aFN0cmluZywgJy4uJywgJy4uJywgJ3NyYycsICdjb25maWcudHMnKTtcclxuXHRcdFx0XHJcblx0XHRcdGZzLndyaXRlRmlsZVN5bmMoY29uZmlnUGF0aCwgY29udGVudCwgJ3V0ZjgnKTtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGNhdGNoIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgZGV0ZWN0QXN0cm9EZXZTZXJ2ZXIoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHQvLyBDaGVjayBpZiBBc3RybyBkZXYgc2VydmVyIGlzIHJ1bm5pbmcgYnkgbG9va2luZyBmb3IgY29tbW9uIGluZGljYXRvcnNcclxuXHRcdC8vIFRoaXMgaXMgYSBzaW1wbGlmaWVkIGNoZWNrIC0gaW4gcmVhbGl0eSB5b3UnZCBuZWVkIG1vcmUgc29waGlzdGljYXRlZCBkZXRlY3Rpb25cclxuXHRcdGNvbnN0IHBhY2thZ2VKc29uID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKCdwYWNrYWdlLmpzb24nKTtcclxuXHRcdGlmIChwYWNrYWdlSnNvbiAmJiBwYWNrYWdlSnNvbiBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQocGFja2FnZUpzb24pO1xyXG5cdFx0XHRcdHJldHVybiBjb250ZW50LmluY2x1ZGVzKCdhc3RybycpICYmIGNvbnRlbnQuaW5jbHVkZXMoJ2RldicpO1xyXG5cdFx0XHR9IGNhdGNoIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHBhcnNlQ29uZmlnRmlsZShjb250ZW50Pzogc3RyaW5nKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsIHtcclxuXHRcdC8vIFBhcnNlIHRoZSBjb25maWcudHMgZmlsZSB0byBleHRyYWN0IGN1cnJlbnQgc2V0dGluZ3NcclxuXHRcdC8vIFRoaXMgZXh0cmFjdHMgYWxsIGtleSBzZXR0aW5ncyBmcm9tIHRoZSBjb25maWcgdXNpbmcgdGhlIG1hcmtlciBzeXN0ZW1cclxuXHRcdFxyXG5cdFx0Y29uc3QgY29uZmlnQ29udGVudCA9IGNvbnRlbnQgfHwgdGhpcy5yZWFkQ29uZmlnKCk7XHJcblx0XHRpZiAoIWNvbmZpZ0NvbnRlbnQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgY29uZmlnOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xyXG5cclxuXHRcdC8vIEV4dHJhY3Qgc2l0ZSBpbmZvcm1hdGlvblxyXG5cdFx0Y29uc3Qgc2l0ZUluZm86IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRjb25zdCBzaXRlVXJsTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfVVJMXFxdXFxzKlxcblxccypzaXRlOlxccypcIihbXlwiXSopXCIvKTtcclxuXHRcdGlmIChzaXRlVXJsTWF0Y2gpIHtcclxuXHRcdFx0c2l0ZUluZm8uc2l0ZSA9IHNpdGVVcmxNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3Qgc2l0ZVRpdGxlTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfVElUTEVcXF1cXHMqXFxuXFxzKnRpdGxlOlxccypcIihbXlwiXSopXCIvKTtcclxuXHRcdGlmIChzaXRlVGl0bGVNYXRjaCkge1xyXG5cdFx0XHRzaXRlSW5mby50aXRsZSA9IHNpdGVUaXRsZU1hdGNoWzFdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBzaXRlRGVzY01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX0RFU0NSSVBUSU9OXFxdXFxzKlxcblxccypkZXNjcmlwdGlvbjpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAoc2l0ZURlc2NNYXRjaCkge1xyXG5cdFx0XHRzaXRlSW5mby5kZXNjcmlwdGlvbiA9IHNpdGVEZXNjTWF0Y2hbMV07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNpdGVBdXRob3JNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6U0lURV9BVVRIT1JcXF1cXHMqXFxuXFxzKmF1dGhvcjpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAoc2l0ZUF1dGhvck1hdGNoKSB7XHJcblx0XHRcdHNpdGVJbmZvLmF1dGhvciA9IHNpdGVBdXRob3JNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3Qgc2l0ZUxhbmdNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6U0lURV9MQU5HVUFHRVxcXVxccypcXG5cXHMqbGFuZ3VhZ2U6XFxzKlwiKFteXCJdKilcIi8pO1xyXG5cdFx0aWYgKHNpdGVMYW5nTWF0Y2gpIHtcclxuXHRcdFx0c2l0ZUluZm8ubGFuZ3VhZ2UgPSBzaXRlTGFuZ01hdGNoWzFdO1xyXG5cdFx0fVxyXG5cdFx0Y29uZmlnLnNpdGVJbmZvID0gc2l0ZUluZm87XHJcblx0XHRcclxuXHRcdGNvbnN0IGZhdmljb25UaGVtZUFkYXB0aXZlTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkZBVklDT05fVEhFTUVfQURBUFRJVkVcXF1cXHMqXFxuXFxzKmZhdmljb25UaGVtZUFkYXB0aXZlOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChmYXZpY29uVGhlbWVBZGFwdGl2ZU1hdGNoKSB7XHJcblx0XHRcdGNvbmZpZy5mYXZpY29uVGhlbWVBZGFwdGl2ZSA9IGZhdmljb25UaGVtZUFkYXB0aXZlTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgZGVmYXVsdE9nSW1hZ2VBbHRNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6REVGQVVMVF9PR19JTUFHRV9BTFRcXF1cXHMqXFxuXFxzKmRlZmF1bHRPZ0ltYWdlQWx0OlxccypcIihbXlwiXSopXCIvKTtcclxuXHRcdGlmIChkZWZhdWx0T2dJbWFnZUFsdE1hdGNoKSB7XHJcblx0XHRcdGNvbmZpZy5kZWZhdWx0T2dJbWFnZUFsdCA9IGRlZmF1bHRPZ0ltYWdlQWx0TWF0Y2hbMV07XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCB0aGVtZVxyXG5cdFx0Y29uc3QgdGhlbWVNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6VEhFTUVcXF1cXHMqXFxuXFxzKnRoZW1lOlxccypcIihbXlwiXSopXCIvKTtcclxuXHRcdGlmICh0aGVtZU1hdGNoKSB7XHJcblx0XHRcdGNvbmZpZy5jdXJyZW50VGhlbWUgPSB0aGVtZU1hdGNoWzFdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV4dHJhY3QgYXZhaWxhYmxlIHRoZW1lc1xyXG5cdFx0Y29uc3QgYXZhaWxhYmxlVGhlbWVzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkFWQUlMQUJMRV9USEVNRVNcXF1cXHMqXFxuXFxzKmF2YWlsYWJsZVRoZW1lczpcXHMqKD86XCJkZWZhdWx0XCJ8XFxbW15cXF1dKlxcXSkvKTtcclxuXHRcdGlmIChhdmFpbGFibGVUaGVtZXNNYXRjaCkge1xyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IGF2YWlsYWJsZVRoZW1lc01hdGNoWzBdLm1hdGNoKC9hdmFpbGFibGVUaGVtZXM6XFxzKiguKykkLyk/LlsxXTtcclxuXHRcdFx0aWYgKHZhbHVlID09PSAnXCJkZWZhdWx0XCInKSB7XHJcblx0XHRcdFx0Y29uZmlnLmF2YWlsYWJsZVRoZW1lcyA9ICdkZWZhdWx0JztcclxuXHRcdFx0fSBlbHNlIGlmICh2YWx1ZT8uc3RhcnRzV2l0aCgnWycpICYmIHZhbHVlPy5lbmRzV2l0aCgnXScpKSB7XHJcblx0XHRcdFx0Ly8gUGFyc2UgYXJyYXkgZm9ybWF0OiBbXCJveHlnZW5cIiwgXCJtaW5pbWFsXCIsIFwibm9yZFwiXVxyXG5cdFx0XHRcdGNvbnN0IHRoZW1lc0FycmF5ID0gdmFsdWUuc2xpY2UoMSwgLTEpLnNwbGl0KCcsJykubWFwKHRoZW1lID0+IHRoZW1lLnRyaW0oKS5yZXBsYWNlKC9cIi9nLCAnJykpO1xyXG5cdFx0XHRcdGNvbmZpZy5hdmFpbGFibGVUaGVtZXMgPSB0aGVtZXNBcnJheTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV4dHJhY3QgY3VzdG9tIHRoZW1lc1xyXG5cdFx0Y29uc3QgY3VzdG9tVGhlbWVzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNVU1RPTV9USEVNRVNcXF1cXHMqXFxuXFxzKmN1c3RvbVRoZW1lczpcXHMqXCJbXlwiXSpcIi8pO1xyXG5cdFx0aWYgKGN1c3RvbVRoZW1lc01hdGNoKSB7XHJcblx0XHRcdGNvbnN0IHZhbHVlID0gY3VzdG9tVGhlbWVzTWF0Y2hbMF0ubWF0Y2goL2N1c3RvbVRoZW1lczpcXHMqXCIoW15cIl0qKVwiLyk/LlsxXTtcclxuXHRcdFx0Y29uZmlnLmN1c3RvbVRoZW1lcyA9IHZhbHVlIHx8ICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV4dHJhY3QgdHlwb2dyYXBoeSBzZXR0aW5nc1xyXG5cdFx0Y29uc3QgdHlwb2dyYXBoeTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuXHRcdGNvbnN0IGZvbnRTb3VyY2VNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9TT1VSQ0VcXF1cXHMqXFxuXFxzKnNvdXJjZTpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAoZm9udFNvdXJjZU1hdGNoKSB7XHJcblx0XHRcdHR5cG9ncmFwaHkuZm9udFNvdXJjZSA9IGZvbnRTb3VyY2VNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgZm9udEJvZHlNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9CT0RZXFxdXFxzKlxcblxccypib2R5OlxccypcIihbXlwiXSopXCIvKTtcclxuXHRcdGlmIChmb250Qm9keU1hdGNoKSB7XHJcblx0XHRcdHR5cG9ncmFwaHkucHJvc2VGb250ID0gZm9udEJvZHlNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgZm9udEhlYWRpbmdNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9IRUFESU5HXFxdXFxzKlxcblxccypoZWFkaW5nOlxccypcIihbXlwiXSopXCIvKTtcclxuXHRcdGlmIChmb250SGVhZGluZ01hdGNoKSB7XHJcblx0XHRcdHR5cG9ncmFwaHkuaGVhZGluZ0ZvbnQgPSBmb250SGVhZGluZ01hdGNoWzFdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBmb250TW9ub01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpGT05UX01PTk9cXF1cXHMqXFxuXFxzKm1vbm86XFxzKlwiKFteXCJdKilcIi8pO1xyXG5cdFx0aWYgKGZvbnRNb25vTWF0Y2gpIHtcclxuXHRcdFx0dHlwb2dyYXBoeS5tb25vRm9udCA9IGZvbnRNb25vTWF0Y2hbMV07XHJcblx0XHR9XHJcblx0XHRjb25maWcudHlwb2dyYXBoeSA9IHR5cG9ncmFwaHk7XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCBuYXZpZ2F0aW9uIHNldHRpbmdzXHJcblx0XHRjb25zdCBuYXZpZ2F0aW9uOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHsgcGFnZXM6IFtdLCBzb2NpYWw6IFtdIH07XHJcblx0XHRcclxuXHRcdC8vIEV4dHJhY3QgbmF2aWdhdGlvbiBwYWdlcyAoc3VwcG9ydHMgbmVzdGVkIHN0cnVjdHVyZSlcclxuXHRcdGNvbnN0IHBhZ2VzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fUEFHRVNcXF1cXHMqXFxuXFxzKnBhZ2VzOlxccypcXFsoW1xcc1xcU10qPylcXF0vKTtcclxuXHRcdGlmIChwYWdlc01hdGNoKSB7XHJcblx0XHRcdGNvbnN0IHBhZ2VzQ29udGVudCA9IHBhZ2VzTWF0Y2hbMV07XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBQYXJzZSBuYXZpZ2F0aW9uIGl0ZW1zIChzdXBwb3J0cyBuZXN0ZWQgY2hpbGRyZW4pXHJcblx0XHRcdGNvbnN0IHBhcnNlTmF2aWdhdGlvbkl0ZW0gPSAoY29udGVudDogc3RyaW5nLCBzdGFydFBvczogbnVtYmVyID0gMCk6IHsgaXRlbTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsLCBlbmRQb3M6IG51bWJlciB9ID0+IHtcclxuXHRcdFx0XHRsZXQgcG9zID0gc3RhcnRQb3M7XHJcblx0XHRcdFx0Y29uc3QgaXRlbTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBTa2lwIHdoaXRlc3BhY2VcclxuXHRcdFx0XHR3aGlsZSAocG9zIDwgY29udGVudC5sZW5ndGggJiYgL1xccy8udGVzdChjb250ZW50W3Bvc10pKSBwb3MrKztcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBGaW5kIG9wZW5pbmcgYnJhY2VcclxuXHRcdFx0XHRpZiAoY29udGVudFtwb3NdICE9PSAneycpIHtcclxuXHRcdFx0XHRcdHJldHVybiB7IGl0ZW06IG51bGwsIGVuZFBvczogcG9zIH07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHBvcysrO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIFBhcnNlIGZpZWxkc1xyXG5cdFx0XHRcdHdoaWxlIChwb3MgPCBjb250ZW50Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Ly8gU2tpcCB3aGl0ZXNwYWNlXHJcblx0XHRcdFx0XHR3aGlsZSAocG9zIDwgY29udGVudC5sZW5ndGggJiYgL1xccy8udGVzdChjb250ZW50W3Bvc10pKSBwb3MrKztcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgZm9yIGNsb3NpbmcgYnJhY2VcclxuXHRcdFx0XHRcdGlmIChjb250ZW50W3Bvc10gPT09ICd9Jykge1xyXG5cdFx0XHRcdFx0XHRwb3MrKztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFBhcnNlIGZpZWxkIG5hbWVcclxuXHRcdFx0XHRcdGNvbnN0IGZpZWxkTWF0Y2ggPSBjb250ZW50LnNsaWNlKHBvcykubWF0Y2goL14oXFx3Kyk6XFxzKi8pO1xyXG5cdFx0XHRcdFx0aWYgKCFmaWVsZE1hdGNoKSB7XHJcblx0XHRcdFx0XHRcdHBvcysrO1xyXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvbnN0IGZpZWxkTmFtZSA9IGZpZWxkTWF0Y2hbMV07XHJcblx0XHRcdFx0XHRwb3MgKz0gZmllbGRNYXRjaFswXS5sZW5ndGg7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFBhcnNlIGZpZWxkIHZhbHVlXHJcblx0XHRcdFx0XHRpZiAoZmllbGROYW1lID09PSAndGl0bGUnIHx8IGZpZWxkTmFtZSA9PT0gJ3VybCcpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgdmFsdWVNYXRjaCA9IGNvbnRlbnQuc2xpY2UocG9zKS5tYXRjaCgvXlwiKFteXCJdKilcIi8pO1xyXG5cdFx0XHRcdFx0XHRpZiAodmFsdWVNYXRjaCkge1xyXG5cdFx0XHRcdFx0XHRcdGl0ZW1bZmllbGROYW1lXSA9IHZhbHVlTWF0Y2hbMV07XHJcblx0XHRcdFx0XHRcdFx0cG9zICs9IHZhbHVlTWF0Y2hbMF0ubGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGZpZWxkTmFtZSA9PT0gJ2NoaWxkcmVuJykge1xyXG5cdFx0XHRcdFx0XHQvLyBQYXJzZSBjaGlsZHJlbiBhcnJheVxyXG5cdFx0XHRcdFx0XHRwb3MrKzsgLy8gc2tpcCAnWydcclxuXHRcdFx0XHRcdFx0Y29uc3QgY2hpbGRyZW46IEFycmF5PFJlY29yZDxzdHJpbmcsIHVua25vd24+PiA9IFtdO1xyXG5cdFx0XHRcdFx0XHR3aGlsZSAocG9zIDwgY29udGVudC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBTa2lwIHdoaXRlc3BhY2VcclxuXHRcdFx0XHRcdFx0XHR3aGlsZSAocG9zIDwgY29udGVudC5sZW5ndGggJiYgL1xccy8udGVzdChjb250ZW50W3Bvc10pKSBwb3MrKztcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvLyBDaGVjayBmb3IgY2xvc2luZyBicmFja2V0XHJcblx0XHRcdFx0XHRcdFx0aWYgKGNvbnRlbnRbcG9zXSA9PT0gJ10nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwb3MrKztcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvLyBQYXJzZSBjaGlsZCBpdGVtXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgY2hpbGRSZXN1bHQgPSBwYXJzZU5hdmlnYXRpb25JdGVtKGNvbnRlbnQsIHBvcyk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkUmVzdWx0Lml0ZW0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuLnB1c2goY2hpbGRSZXN1bHQuaXRlbSk7XHJcblx0XHRcdFx0XHRcdFx0XHRwb3MgPSBjaGlsZFJlc3VsdC5lbmRQb3M7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvLyBTa2lwIGNvbW1hXHJcblx0XHRcdFx0XHRcdFx0d2hpbGUgKHBvcyA8IGNvbnRlbnQubGVuZ3RoICYmIC9cXHMvLnRlc3QoY29udGVudFtwb3NdKSkgcG9zKys7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGNvbnRlbnRbcG9zXSA9PT0gJywnKSBwb3MrKztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpdGVtLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFNraXAgY29tbWFcclxuXHRcdFx0XHRcdHdoaWxlIChwb3MgPCBjb250ZW50Lmxlbmd0aCAmJiAvXFxzLy50ZXN0KGNvbnRlbnRbcG9zXSkpIHBvcysrO1xyXG5cdFx0XHRcdFx0aWYgKGNvbnRlbnRbcG9zXSA9PT0gJywnKSBwb3MrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0cmV0dXJuIHsgaXRlbSwgZW5kUG9zOiBwb3MgfTtcclxuXHRcdFx0fTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFBhcnNlIGFsbCBwYWdlc1xyXG5cdFx0XHRsZXQgcG9zID0gMDtcclxuXHRcdFx0d2hpbGUgKHBvcyA8IHBhZ2VzQ29udGVudC5sZW5ndGgpIHtcclxuXHRcdFx0XHQvLyBTa2lwIHdoaXRlc3BhY2VcclxuXHRcdFx0XHR3aGlsZSAocG9zIDwgcGFnZXNDb250ZW50Lmxlbmd0aCAmJiAvXFxzLy50ZXN0KHBhZ2VzQ29udGVudFtwb3NdKSkgcG9zKys7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gQ2hlY2sgZm9yIGVuZCBvZiBhcnJheVxyXG5cdFx0XHRcdGlmIChwb3MgPj0gcGFnZXNDb250ZW50Lmxlbmd0aCB8fCBwYWdlc0NvbnRlbnRbcG9zXSA9PT0gJ10nKSBicmVhaztcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBQYXJzZSBpdGVtXHJcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gcGFyc2VOYXZpZ2F0aW9uSXRlbShwYWdlc0NvbnRlbnQsIHBvcyk7XHJcblx0XHRcdFx0aWYgKHJlc3VsdC5pdGVtKSB7XHJcblx0XHRcdFx0XHQobmF2aWdhdGlvbi5wYWdlcyBhcyBBcnJheTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4pLnB1c2gocmVzdWx0Lml0ZW0pO1xyXG5cdFx0XHRcdFx0cG9zID0gcmVzdWx0LmVuZFBvcztcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2ltcGxlIHJlZ2V4IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcblx0XHRcdFx0XHRjb25zdCBzaW1wbGVNYXRjaCA9IHBhZ2VzQ29udGVudC5zbGljZShwb3MpLm1hdGNoKC9cXHtcXHMqdGl0bGU6XFxzKlwiKFteXCJdKilcIixcXHMqdXJsOlxccypcIihbXlwiXSopXCJcXHMqXFx9Lyk7XHJcblx0XHRcdFx0XHRpZiAoc2ltcGxlTWF0Y2gpIHtcclxuXHRcdFx0XHRcdFx0KG5hdmlnYXRpb24ucGFnZXMgYXMgQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+KS5wdXNoKHtcclxuXHRcdFx0XHRcdFx0XHR0aXRsZTogc2ltcGxlTWF0Y2hbMV0sXHJcblx0XHRcdFx0XHRcdFx0dXJsOiBzaW1wbGVNYXRjaFsyXVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0cG9zICs9IHNpbXBsZU1hdGNoWzBdLmxlbmd0aDtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBTa2lwIGNvbW1hXHJcblx0XHRcdFx0d2hpbGUgKHBvcyA8IHBhZ2VzQ29udGVudC5sZW5ndGggJiYgL1xccy8udGVzdChwYWdlc0NvbnRlbnRbcG9zXSkpIHBvcysrO1xyXG5cdFx0XHRcdGlmIChwYWdlc0NvbnRlbnRbcG9zXSA9PT0gJywnKSBwb3MrKztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBFeHRyYWN0IG5hdmlnYXRpb24gc29jaWFsXHJcblx0XHRjb25zdCBzb2NpYWxNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6TkFWSUdBVElPTl9TT0NJQUxcXF1cXHMqXFxuXFxzKnNvY2lhbDpcXHMqXFxbKFtcXHNcXFNdKj8pXFxdLyk7XHJcblx0XHRpZiAoc29jaWFsTWF0Y2gpIHtcclxuXHRcdFx0Y29uc3Qgc29jaWFsQ29udGVudCA9IHNvY2lhbE1hdGNoWzFdO1xyXG5cdFx0XHQvLyBNYXRjaCB0aGUgbXVsdGktbGluZSBmb3JtYXQ6IHsgdGl0bGU6IFwiLi4uXCIsIHVybDogXCIuLi5cIiwgaWNvbjogXCIuLi5cIiB9XHJcblx0XHRcdGNvbnN0IHNvY2lhbE1hdGNoZXMgPSBzb2NpYWxDb250ZW50Lm1hdGNoQWxsKC9cXHtcXHMqXFxuXFxzKnRpdGxlOlxccypcIihbXlwiXSopXCIsXFxzKlxcblxccyp1cmw6XFxzKlwiKFteXCJdKilcIixcXHMqXFxuXFxzKmljb246XFxzKlwiKFteXCJdKilcIiw/XFxzKlxcblxccypcXH0vZyk7XHJcblx0XHRcdGZvciAoY29uc3Qgc29jaWFsTWF0Y2ggb2Ygc29jaWFsTWF0Y2hlcykge1xyXG5cdFx0XHRcdChuYXZpZ2F0aW9uLnNvY2lhbCBhcyBBcnJheTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4pLnB1c2goe1xyXG5cdFx0XHRcdFx0dGl0bGU6IHNvY2lhbE1hdGNoWzFdLFxyXG5cdFx0XHRcdFx0dXJsOiBzb2NpYWxNYXRjaFsyXSxcclxuXHRcdFx0XHRcdGljb246IHNvY2lhbE1hdGNoWzNdXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGNvbmZpZy5uYXZpZ2F0aW9uID0gbmF2aWdhdGlvbjtcclxuXHJcblx0XHQvLyBFeHRyYWN0IHBvc3Qgb3B0aW9uc1xyXG5cdFx0Y29uc3QgcG9zdE9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRcclxuXHRcdC8vIEV4dHJhY3QgdGFibGUgb2YgY29udGVudHNcclxuXHRcdGNvbnN0IHRvY01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfVEFCTEVfT0ZfQ09OVEVOVFNcXF1cXHMqdGFibGVPZkNvbnRlbnRzOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmICh0b2NNYXRjaCkge1xyXG5cdFx0XHRwb3N0T3B0aW9ucy50YWJsZU9mQ29udGVudHMgPSB0b2NNYXRjaFsxXSA9PT0gJ3RydWUnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV4dHJhY3QgcmVhZGluZyB0aW1lXHJcblx0XHRjb25zdCByZWFkaW5nVGltZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfUkVBRElOR19USU1FXFxdXFxzKnJlYWRpbmdUaW1lOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChyZWFkaW5nVGltZU1hdGNoKSB7XHJcblx0XHRcdHBvc3RPcHRpb25zLnJlYWRpbmdUaW1lID0gcmVhZGluZ1RpbWVNYXRjaFsxXSA9PT0gJ3RydWUnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV4dHJhY3QgbGlua2VkIG1lbnRpb25zXHJcblx0XHRjb25zdCBsaW5rZWRNZW50aW9uc0VuYWJsZWRNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0xJTktFRF9NRU5USU9OU19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0Y29uc3QgbGlua2VkTWVudGlvbnNDb21wYWN0TWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfQ09NUEFDVFxcXVxccypsaW5rZWRNZW50aW9uc0NvbXBhY3Q6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0XHJcblx0XHRpZiAobGlua2VkTWVudGlvbnNFbmFibGVkTWF0Y2ggfHwgbGlua2VkTWVudGlvbnNDb21wYWN0TWF0Y2gpIHtcclxuXHRcdFx0cG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgPSB7XHJcblx0XHRcdFx0ZW5hYmxlZDogbGlua2VkTWVudGlvbnNFbmFibGVkTWF0Y2ggPyBsaW5rZWRNZW50aW9uc0VuYWJsZWRNYXRjaFsxXSA9PT0gJ3RydWUnIDogZmFsc2UsXHJcblx0XHRcdFx0bGlua2VkTWVudGlvbnNDb21wYWN0OiBsaW5rZWRNZW50aW9uc0NvbXBhY3RNYXRjaCA/IGxpbmtlZE1lbnRpb25zQ29tcGFjdE1hdGNoWzFdID09PSAndHJ1ZScgOiBmYWxzZVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV4dHJhY3QgZ3JhcGggdmlld1xyXG5cdFx0Y29uc3QgZ3JhcGhWaWV3TWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoZ3JhcGhWaWV3TWF0Y2gpIHtcclxuXHRcdFx0cG9zdE9wdGlvbnMuZ3JhcGhWaWV3ID0ge1xyXG5cdFx0XHRcdGVuYWJsZWQ6IGdyYXBoVmlld01hdGNoWzFdID09PSAndHJ1ZSdcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWN0IHBvc3QgbmF2aWdhdGlvblxyXG5cdFx0Y29uc3QgcG9zdE5hdmlnYXRpb25NYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RfTkFWSUdBVElPTlxcXVxccypwb3N0TmF2aWdhdGlvbjpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAocG9zdE5hdmlnYXRpb25NYXRjaCkge1xyXG5cdFx0XHRwb3N0T3B0aW9ucy5wb3N0TmF2aWdhdGlvbiA9IHBvc3ROYXZpZ2F0aW9uTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWN0IGNvbW1lbnRzXHJcblx0XHRjb25zdCBjb21tZW50c01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChjb21tZW50c01hdGNoKSB7XHJcblx0XHRcdHBvc3RPcHRpb25zLmNvbW1lbnRzID0ge1xyXG5cdFx0XHRcdGVuYWJsZWQ6IGNvbW1lbnRzTWF0Y2hbMV0gPT09ICd0cnVlJ1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0Y29uZmlnLnBvc3RPcHRpb25zID0gcG9zdE9wdGlvbnM7XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCBvcHRpb25hbCBjb250ZW50IHR5cGVzXHJcblx0XHRjb25zdCBvcHRpb25hbENvbnRlbnRUeXBlczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgcHJvamVjdHNNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19QUk9KRUNUU1xcXVxccypwcm9qZWN0czpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAocHJvamVjdHNNYXRjaCkge1xyXG5cdFx0XHRvcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0cyA9IHByb2plY3RzTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkb2NzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfRE9DU1xcXVxccypkb2NzOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChkb2NzTWF0Y2gpIHtcclxuXHRcdFx0b3B0aW9uYWxDb250ZW50VHlwZXMuZG9jcyA9IGRvY3NNYXRjaFsxXSA9PT0gJ3RydWUnO1xyXG5cdFx0fVxyXG5cdFx0Y29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzID0gb3B0aW9uYWxDb250ZW50VHlwZXM7XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCBmb290ZXIgc2V0dGluZ3NcclxuXHRcdGNvbnN0IGZvb3RlcjogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgZm9vdGVyU29jaWFsTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkZPT1RFUl9TSE9XX1NPQ0lBTF9JQ09OU1xcXVxccypzaG93U29jaWFsSWNvbnNJbkZvb3RlcjpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoZm9vdGVyU29jaWFsTWF0Y2gpIHtcclxuXHRcdFx0Zm9vdGVyLnNob3dTb2NpYWxJY29uc0luRm9vdGVyID0gZm9vdGVyU29jaWFsTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdGNvbmZpZy5mb290ZXIgPSBmb290ZXI7XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCBjb21tYW5kIHBhbGV0dGVcclxuXHRcdGNvbnN0IGNvbW1hbmRQYWxldHRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xyXG5cdFx0XHJcblx0XHRjb25zdCBjb21tYW5kUGFsZXR0ZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChjb21tYW5kUGFsZXR0ZU1hdGNoKSB7XHJcblx0XHRcdGNvbW1hbmRQYWxldHRlLmVuYWJsZWQgPSBjb21tYW5kUGFsZXR0ZU1hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IGNvbW1hbmRQYWxldHRlUGxhY2Vob2xkZXJNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1BMQUNFSE9MREVSXFxdXFxzKnBsYWNlaG9sZGVyOlxccypbJ1wiYF0oW14nXCJgXSspWydcImBdLyk7XHJcblx0XHRpZiAoY29tbWFuZFBhbGV0dGVQbGFjZWhvbGRlck1hdGNoKSB7XHJcblx0XHRcdGNvbW1hbmRQYWxldHRlLnBsYWNlaG9sZGVyID0gY29tbWFuZFBhbGV0dGVQbGFjZWhvbGRlck1hdGNoWzFdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBjb21tYW5kUGFsZXR0ZVNob3J0Y3V0TWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TSE9SVENVVFxcXVxccypzaG9ydGN1dDpcXHMqWydcImBdKFteJ1wiYF0rKVsnXCJgXS8pO1xyXG5cdFx0aWYgKGNvbW1hbmRQYWxldHRlU2hvcnRjdXRNYXRjaCkge1xyXG5cdFx0XHRjb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCA9IGNvbW1hbmRQYWxldHRlU2hvcnRjdXRNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gQ29tbWFuZCBwYWxldHRlIHNlYXJjaCBvcHRpb25zXHJcblx0XHRjb25zdCBzZWFyY2g6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRjb25zdCBzZWFyY2hQb3N0c01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BPU1RTXFxdXFxzKnBvc3RzOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChzZWFyY2hQb3N0c01hdGNoKSB7XHJcblx0XHRcdHNlYXJjaC5wb3N0cyA9IHNlYXJjaFBvc3RzTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3Qgc2VhcmNoUGFnZXNNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QQUdFU1xcXVxccypwYWdlczpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoc2VhcmNoUGFnZXNNYXRjaCkge1xyXG5cdFx0XHRzZWFyY2gucGFnZXMgPSBzZWFyY2hQYWdlc01hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNlYXJjaFByb2plY3RzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUFJPSkVDVFNcXF1cXHMqcHJvamVjdHM6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHNlYXJjaFByb2plY3RzTWF0Y2gpIHtcclxuXHRcdFx0c2VhcmNoLnByb2plY3RzID0gc2VhcmNoUHJvamVjdHNNYXRjaFsxXSA9PT0gJ3RydWUnO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBzZWFyY2hEb2NzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfRE9DU1xcXVxccypkb2NzOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChzZWFyY2hEb2NzTWF0Y2gpIHtcclxuXHRcdFx0c2VhcmNoLmRvY3MgPSBzZWFyY2hEb2NzTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdGNvbW1hbmRQYWxldHRlLnNlYXJjaCA9IHNlYXJjaDtcclxuXHRcdFxyXG5cdFx0Ly8gQ29tbWFuZCBwYWxldHRlIHNlY3Rpb25zXHJcblx0XHRjb25zdCBzZWN0aW9uczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuXHRcdGNvbnN0IHNlY3Rpb25zUXVpY2tBY3Rpb25zTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19RVUlDS19BQ1RJT05TXFxdXFxzKnF1aWNrQWN0aW9uczpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoc2VjdGlvbnNRdWlja0FjdGlvbnNNYXRjaCkge1xyXG5cdFx0XHRzZWN0aW9ucy5xdWlja0FjdGlvbnMgPSBzZWN0aW9uc1F1aWNrQWN0aW9uc01hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNlY3Rpb25zUGFnZXNNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1BBR0VTXFxdXFxzKnBhZ2VzOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChzZWN0aW9uc1BhZ2VzTWF0Y2gpIHtcclxuXHRcdFx0c2VjdGlvbnMucGFnZXMgPSBzZWN0aW9uc1BhZ2VzTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3Qgc2VjdGlvbnNTb2NpYWxNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1NPQ0lBTFxcXVxccypzb2NpYWw6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHNlY3Rpb25zU29jaWFsTWF0Y2gpIHtcclxuXHRcdFx0c2VjdGlvbnMuc29jaWFsID0gc2VjdGlvbnNTb2NpYWxNYXRjaFsxXSA9PT0gJ3RydWUnO1xyXG5cdFx0fVxyXG5cdFx0Y29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgPSBzZWN0aW9ucztcclxuXHRcdFxyXG5cdFx0Ly8gQ29tbWFuZCBwYWxldHRlIHF1aWNrIGFjdGlvbnNcclxuXHRcdGNvbnN0IHF1aWNrQWN0aW9uczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuXHRcdGNvbnN0IHFhRW5hYmxlZE1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHFhRW5hYmxlZE1hdGNoKSB7XHJcblx0XHRcdHF1aWNrQWN0aW9ucy5lbmFibGVkID0gcWFFbmFibGVkTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgcWFUb2dnbGVNb2RlTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX1RPR0dMRV9NT0RFXFxdXFxzKnRvZ2dsZU1vZGU6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHFhVG9nZ2xlTW9kZU1hdGNoKSB7XHJcblx0XHRcdHF1aWNrQWN0aW9ucy50b2dnbGVNb2RlID0gcWFUb2dnbGVNb2RlTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgcWFHcmFwaFZpZXdNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfR1JBUEhfVklFV1xcXVxccypncmFwaFZpZXc6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHFhR3JhcGhWaWV3TWF0Y2gpIHtcclxuXHRcdFx0cXVpY2tBY3Rpb25zLmdyYXBoVmlldyA9IHFhR3JhcGhWaWV3TWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgcWFDaGFuZ2VUaGVtZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19DSEFOR0VfVEhFTUVcXF1cXHMqY2hhbmdlVGhlbWU6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHFhQ2hhbmdlVGhlbWVNYXRjaCkge1xyXG5cdFx0XHRxdWlja0FjdGlvbnMuY2hhbmdlVGhlbWUgPSBxYUNoYW5nZVRoZW1lTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdGNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyA9IHF1aWNrQWN0aW9ucztcclxuXHRcdGNvbmZpZy5jb21tYW5kUGFsZXR0ZSA9IGNvbW1hbmRQYWxldHRlO1xyXG5cclxuXHRcdC8vIEV4dHJhY3Qgc2l0ZSBpbmZvcm1hdGlvblxyXG5cdFx0Y29uc3Qgc2l0ZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX1VSTFxcXVxccypzaXRlOlxccypbJ1wiYF0oW14nXCJgXSspWydcImBdLyk7XHJcblx0XHRpZiAoc2l0ZU1hdGNoKSB7XHJcblx0XHRcdGNvbmZpZy5zaXRlID0gc2l0ZU1hdGNoWzFdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHRpdGxlTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfVElUTEVcXF1cXHMqdGl0bGU6XFxzKlsnXCJgXShbXidcImBdKylbJ1wiYF0vKTtcclxuXHRcdGlmICh0aXRsZU1hdGNoKSB7XHJcblx0XHRcdGNvbmZpZy50aXRsZSA9IHRpdGxlTWF0Y2hbMV07XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGVzY3JpcHRpb25NYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6U0lURV9ERVNDUklQVElPTlxcXVxccypkZXNjcmlwdGlvbjpcXHMqWydcImBdKFteJ1wiYF0rKVsnXCJgXS8pO1xyXG5cdFx0aWYgKGRlc2NyaXB0aW9uTWF0Y2gpIHtcclxuXHRcdFx0Y29uZmlnLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25NYXRjaFsxXTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBhdXRob3JNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6U0lURV9BVVRIT1JcXF1cXHMqYXV0aG9yOlxccypbJ1wiYF0oW14nXCJgXSspWydcImBdLyk7XHJcblx0XHRpZiAoYXV0aG9yTWF0Y2gpIHtcclxuXHRcdFx0Y29uZmlnLmF1dGhvciA9IGF1dGhvck1hdGNoWzFdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGxhbmd1YWdlTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfTEFOR1VBR0VcXF1cXHMqbGFuZ3VhZ2U6XFxzKlsnXCJgXShbXidcImBdKylbJ1wiYF0vKTtcclxuXHRcdGlmIChsYW5ndWFnZU1hdGNoKSB7XHJcblx0XHRcdGNvbmZpZy5sYW5ndWFnZSA9IGxhbmd1YWdlTWF0Y2hbMV07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNvbmZpZztcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFzdHJvTW9kdWxhclNldHRpbmdzIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbmZpZ1RlbXBsYXRlTWFuYWdlciB7XHJcblx0cHJpdmF0ZSBpbnRlcnBvbGF0ZVRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncywgdGVtcGxhdGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0XHJcblx0XHQvLyBSZXBsYWNlIGFsbCB0ZW1wbGF0ZSB2YXJpYWJsZXMgd2l0aCBhY3R1YWwgdmFsdWVzXHJcblx0XHRjb25zdCByZXN1bHQgPSB0ZW1wbGF0ZVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC5jdXJyZW50VGhlbWVcXH0vZywgc2V0dGluZ3MuY3VycmVudFRoZW1lKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC50eXBvZ3JhcGh5XFwuZm9udFNvdXJjZVxcfS9nLCBzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2UpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLnR5cG9ncmFwaHlcXC5wcm9zZUZvbnRcXH0vZywgc2V0dGluZ3MudHlwb2dyYXBoeS5wcm9zZUZvbnQpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLnR5cG9ncmFwaHlcXC5oZWFkaW5nRm9udFxcfS9nLCBzZXR0aW5ncy50eXBvZ3JhcGh5LmhlYWRpbmdGb250KVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC50eXBvZ3JhcGh5XFwubW9ub0ZvbnRcXH0vZywgc2V0dGluZ3MudHlwb2dyYXBoeS5tb25vRm9udClcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwudHlwb2dyYXBoeVxcLmN1c3RvbUZvbnRzXFwucHJvc2VcXH0vZywgc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5wcm9zZSlcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwudHlwb2dyYXBoeVxcLmN1c3RvbUZvbnRzXFwuaGVhZGluZ1xcfS9nLCBzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLmhlYWRpbmcpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLnR5cG9ncmFwaHlcXC5jdXN0b21Gb250c1xcLm1vbm9cXH0vZywgc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5tb25vKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC5vcHRpb25hbEZlYXR1cmVzXFwuY29tbWVudHNcXC5lbmFibGVkXFx9L2csIHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZC50b1N0cmluZygpKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC5vcHRpb25hbEZlYXR1cmVzXFwucHJvZmlsZVBpY3R1cmVcXC5lbmFibGVkXFx9L2csIHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUuZW5hYmxlZC50b1N0cmluZygpKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC5vcHRpb25hbEZlYXR1cmVzXFwucHJvZmlsZVBpY3R1cmVcXC5pbWFnZVxcfS9nLCBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmltYWdlKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC5vcHRpb25hbEZlYXR1cmVzXFwucHJvZmlsZVBpY3R1cmVcXC5hbHRcXH0vZywgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5hbHQpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLm9wdGlvbmFsRmVhdHVyZXNcXC5wcm9maWxlUGljdHVyZVxcLnNpemVcXH0vZywgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5zaXplKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC5vcHRpb25hbEZlYXR1cmVzXFwucHJvZmlsZVBpY3R1cmVcXC51cmxcXH0vZywgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS51cmwgfHwgJycpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLm9wdGlvbmFsRmVhdHVyZXNcXC5wcm9maWxlUGljdHVyZVxcLnBsYWNlbWVudFxcfS9nLCBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLnBsYWNlbWVudClcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwub3B0aW9uYWxGZWF0dXJlc1xcLnByb2ZpbGVQaWN0dXJlXFwuc3R5bGVcXH0vZywgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5zdHlsZSlcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwuZGVwbG95bWVudFxcLnBsYXRmb3JtXFx9L2csIHNldHRpbmdzLmRlcGxveW1lbnQucGxhdGZvcm0pXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHt0ZW1wbGF0ZU5hbWVcXH0vZywgdGVtcGxhdGVOYW1lKTtcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Z2V0VGVtcGxhdGVDb25maWcodGVtcGxhdGVOYW1lOiBzdHJpbmcsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcclxuXHRcdC8vIFJldHVybiB0ZW1wbGF0ZS1zcGVjaWZpYyBjb25maWd1cmF0aW9uIGJhc2VkIG9uIHRoZSBwcmVzZXQgbmFtZVxyXG5cdFx0c3dpdGNoICh0ZW1wbGF0ZU5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnc3RhbmRhcmQnOlxyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICBjb250ZW50V2lkdGg6ICc0NXJlbScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmb290ZXI6IHtcclxuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhcmtNb2RlVG9nZ2xlQnV0dG9uOiAnYm90aCcsXHJcbiAgICAgICAgY29tbWFuZFBhbGV0dGU6IHtcclxuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICBzaG9ydGN1dDogXCJjdHJsK0tcIixcclxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlNlYXJjaCBwb3N0c1wiLFxyXG5cdFx0XHRcdFx0XHRzZWFyY2g6IHtcclxuXHRcdFx0XHRcdFx0XHRwb3N0czogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRwYWdlczogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0cHJvamVjdHM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdGRvY3M6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHR9LFxyXG4gICAgICAgICAgc2VjdGlvbnM6IHtcclxuICAgICAgICAgICAgcXVpY2tBY3Rpb25zOiB0cnVlLFxyXG4gICAgICAgICAgICBwYWdlczogdHJ1ZSxcclxuICAgICAgICAgICAgc29jaWFsOiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wdGlvbmFsQ29udGVudFR5cGVzOiB7XHJcbiAgICAgICAgICBwcm9qZWN0czogdHJ1ZSxcclxuICAgICAgICAgIGRvY3M6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBob21lT3B0aW9uczoge1xyXG4gICAgICAgICAgZmVhdHVyZWRQb3N0OiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHR5cGU6ICdsYXRlc3QnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlY2VudFBvc3RzOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGNvdW50OiA3LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHByb2plY3RzOiB7XHJcblx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgY291bnQ6IDIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZG9jczoge1xyXG5cdFx0XHRcdFx0XHRcdGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGNvdW50OiAzLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJsdXJiOiB7XHJcbiAgICAgICAgICAgIHBsYWNlbWVudDogJ2JlbG93JyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb3N0T3B0aW9uczoge1xyXG4gICAgICAgICAgcG9zdHNQZXJQYWdlOiA2LFxyXG4gICAgICAgICAgcmVhZGluZ1RpbWU6IHRydWUsXHJcbiAgICAgICAgICB3b3JkQ291bnQ6IHRydWUsXHJcbiAgICAgICAgICB0YWJsZU9mQ29udGVudHM6IHRydWUsXHJcbiAgICAgICAgICB0YWdzOiB0cnVlLFxyXG4gICAgICAgICAgbGlua2VkTWVudGlvbnM6IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBncmFwaFZpZXc6IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgc2hvd0luU2lkZWJhcjogdHJ1ZSxcclxuICAgICAgICAgICAgc2hvd0luQ29tbWFuZFBhbGV0dGU6IHRydWUsXHJcbiAgICAgICAgICAgIG1heE5vZGVzOiAxMDAsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcG9zdE5hdmlnYXRpb246IHRydWUsXHJcbiAgICAgICAgICBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsXHJcbiAgICAgICAgICBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgc2hvd05hdmlnYXRpb246IHRydWUsXHJcbiAgICAgICAgICBzaG93TW9iaWxlTWVudTogdHJ1ZSxcclxuICAgICAgICAgIHN0eWxlOiAndHJhZGl0aW9uYWwnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBhY3QnOlxyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICBjb250ZW50V2lkdGg6ICc0MnJlbScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcHRpb25hbENvbnRlbnRUeXBlczoge1xyXG4gICAgICAgICAgcHJvamVjdHM6IGZhbHNlLFxyXG4gICAgICAgICAgZG9jczogZmFsc2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmb290ZXI6IHtcclxuICAgICAgICAgIHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiBmYWxzZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhcmtNb2RlVG9nZ2xlQnV0dG9uOiAnY29tbWFuZFBhbGV0dGUnLFxyXG4gICAgICAgIGNvbW1hbmRQYWxldHRlOiB7XHJcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCtLXCIsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJTZWFyY2ggcG9zdHNcIixcclxuXHRcdFx0XHRcdFx0c2VhcmNoOiB7XHJcblx0XHRcdFx0XHRcdFx0cG9zdHM6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0cGFnZXM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdHByb2plY3RzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRkb2NzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0fSxcclxuICAgICAgICAgIHNlY3Rpb25zOiB7XHJcbiAgICAgICAgICAgIHF1aWNrQWN0aW9uczogdHJ1ZSxcclxuICAgICAgICAgICAgcGFnZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBzb2NpYWw6IHRydWUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaG9tZU9wdGlvbnM6IHtcclxuICAgICAgICAgIGZlYXR1cmVkUG9zdDoge1xyXG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgdHlwZTogJ2xhdGVzdCcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVjZW50UG9zdHM6IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgY291bnQ6IDcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYmx1cmI6IHtcclxuICAgICAgICAgICAgcGxhY2VtZW50OiAnYmVsb3cnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBvc3RPcHRpb25zOiB7XHJcbiAgICAgICAgICBwb3N0c1BlclBhZ2U6IDYsXHJcbiAgICAgICAgICByZWFkaW5nVGltZTogdHJ1ZSxcclxuICAgICAgICAgIHdvcmRDb3VudDogdHJ1ZSxcclxuICAgICAgICAgIHRhYmxlT2ZDb250ZW50czogdHJ1ZSxcclxuICAgICAgICAgIHRhZ3M6IHRydWUsXHJcbiAgICAgICAgICBsaW5rZWRNZW50aW9uczoge1xyXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IHRydWUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ3JhcGhWaWV3OiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdwb3N0cycsXHJcbiAgICAgICAgICBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnY3VzdG9tJyxcclxuICAgICAgICAgIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICBzaG93TmF2aWdhdGlvbjogdHJ1ZSxcclxuICAgICAgICAgIHNob3dNb2JpbGVNZW51OiB0cnVlLFxyXG4gICAgICAgICAgc3R5bGU6ICdtaW5pbWFsJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICAgICAgICBjYXNlICdtaW5pbWFsJzpcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgIGxheW91dDoge1xyXG4gICAgICAgICAgY29udGVudFdpZHRoOiAnNDByZW0nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9uYWxDb250ZW50VHlwZXM6IHtcclxuICAgICAgICAgIHByb2plY3RzOiBmYWxzZSxcclxuICAgICAgICAgIGRvY3M6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9vdGVyOiB7XHJcbiAgICAgICAgICBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogZmFsc2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXJrTW9kZVRvZ2dsZUJ1dHRvbjogJ2NvbW1hbmRQYWxldHRlJyxcclxuICAgICAgICBjb21tYW5kUGFsZXR0ZToge1xyXG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgIHNob3J0Y3V0OiBcIlwiLFxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoIGNvbnRlbnRcIixcclxuXHRcdFx0XHRcdFx0c2VhcmNoOiB7XHJcblx0XHRcdFx0XHRcdFx0cG9zdHM6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0cGFnZXM6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0cHJvamVjdHM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdGRvY3M6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHR9LFxyXG4gICAgICAgICAgc2VjdGlvbnM6IHtcclxuICAgICAgICAgICAgcXVpY2tBY3Rpb25zOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFnZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBzb2NpYWw6IGZhbHNlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhvbWVPcHRpb25zOiB7XHJcbiAgICAgICAgICBmZWF0dXJlZFBvc3Q6IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHR5cGU6ICdsYXRlc3QnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlY2VudFBvc3RzOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGNvdW50OiA3LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJsdXJiOiB7XHJcbiAgICAgICAgICAgIHBsYWNlbWVudDogJ25vbmUnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBvc3RPcHRpb25zOiB7XHJcbiAgICAgICAgICBwb3N0c1BlclBhZ2U6IDYsXHJcbiAgICAgICAgICByZWFkaW5nVGltZTogZmFsc2UsXHJcbiAgICAgICAgICB3b3JkQ291bnQ6IGZhbHNlLFxyXG4gICAgICAgICAgdGFibGVPZkNvbnRlbnRzOiBmYWxzZSxcclxuICAgICAgICAgIHRhZ3M6IGZhbHNlLFxyXG4gICAgICAgICAgbGlua2VkTWVudGlvbnM6IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ3JhcGhWaWV3OiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBvc3ROYXZpZ2F0aW9uOiBmYWxzZSxcclxuICAgICAgICAgIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnbm9uZScsXHJcbiAgICAgICAgICBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgc2hvd05hdmlnYXRpb246IGZhbHNlLFxyXG4gICAgICAgICAgc2hvd01vYmlsZU1lbnU6IGZhbHNlLFxyXG4gICAgICAgICAgc3R5bGU6ICdtaW5pbWFsJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHt9O1xyXG4gIH1cclxuXHR9XHJcbn1cclxuIiwgImV4cG9ydCBjbGFzcyBDb25maWdNYXJrZXJWYWxpZGF0b3Ige1xyXG5cdHZhbGlkYXRlTWFya2Vycyhjb25maWc6IHN0cmluZyk6IHsgdmFsaWQ6IGJvb2xlYW47IG1pc3Npbmc6IHN0cmluZ1tdIH0ge1xyXG5cdFx0Y29uc3QgcmVxdWlyZWRNYXJrZXJzID0gW1xyXG5cdFx0XHQnQ09ORklHOlNJVEVfVVJMJyxcclxuXHRcdFx0J0NPTkZJRzpTSVRFX1RJVExFJyxcclxuXHRcdFx0J0NPTkZJRzpTSVRFX0RFU0NSSVBUSU9OJyxcclxuXHRcdFx0J0NPTkZJRzpTSVRFX0FVVEhPUicsXHJcblx0XHRcdCdDT05GSUc6U0lURV9MQU5HVUFHRScsXHJcblx0XHRcdCdDT05GSUc6VEhFTUUnLFxyXG5cdFx0XHQnQ09ORklHOkFWQUlMQUJMRV9USEVNRVMnLFxyXG5cdFx0XHQnQ09ORklHOkZPTlRfU09VUkNFJyxcclxuXHRcdFx0J0NPTkZJRzpGT05UX0JPRFknLFxyXG5cdFx0XHQnQ09ORklHOkZPTlRfSEVBRElORycsXHJcblx0XHRcdCdDT05GSUc6Rk9OVF9NT05PJyxcclxuXHRcdFx0J0NPTkZJRzpMQVlPVVRfQ09OVEVOVF9XSURUSCcsXHJcblx0XHRcdCdDT05GSUc6VEFCTEVfT0ZfQ09OVEVOVFNfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6VEFCTEVfT0ZfQ09OVEVOVFNfREVQVEgnLFxyXG5cdFx0XHQnQ09ORklHOkZPT1RFUl9FTkFCTEVEJyxcclxuXHRcdFx0J0NPTkZJRzpGT09URVJfU0hPV19TT0NJQUxfSUNPTlMnLFxyXG5cdFx0XHQnQ09ORklHOlNDUk9MTF9UT19UT1AnLFxyXG5cdFx0XHQnQ09ORklHOkZFQVRVUkVfQlVUVE9OJyxcclxuXHRcdFx0J0NPTkZJRzpERVBMT1lNRU5UX1BMQVRGT1JNJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NIT1JUQ1VUJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUExBQ0VIT0xERVInLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUE9TVFMnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUEFHRVMnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUFJPSkVDVFMnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfRE9DUycsXHJcblx0XHRcdCdDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1FVSUNLX0FDVElPTlMnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19QQUdFUycsXHJcblx0XHRcdCdDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1NPQ0lBTCcsXHJcblx0XHRcdCdDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfVE9HR0xFX01PREUnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0dSQVBIX1ZJRVcnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0NIQU5HRV9USEVNRScsXHJcblx0XHRcdCdDT05GSUc6UFJPRklMRV9QSUNUVVJFX0VOQUJMRUQnLFxyXG5cdFx0XHQnQ09ORklHOlBST0ZJTEVfUElDVFVSRV9JTUFHRScsXHJcblx0XHRcdCdDT05GSUc6UFJPRklMRV9QSUNUVVJFX0FMVCcsXHJcblx0XHRcdCdDT05GSUc6UFJPRklMRV9QSUNUVVJFX1NJWkUnLFxyXG5cdFx0XHQnQ09ORklHOlBST0ZJTEVfUElDVFVSRV9VUkwnLFxyXG5cdFx0XHQnQ09ORklHOlBST0ZJTEVfUElDVFVSRV9QTEFDRU1FTlQnLFxyXG5cdFx0XHQnQ09ORklHOlBST0ZJTEVfUElDVFVSRV9TVFlMRScsXHJcblx0XHRcdCdDT05GSUc6TkFWSUdBVElPTl9TSE9XX05BVklHQVRJT04nLFxyXG5cdFx0XHQnQ09ORklHOk5BVklHQVRJT05fU1RZTEUnLFxyXG5cdFx0XHQnQ09ORklHOk5BVklHQVRJT05fU0hPV19NT0JJTEVfTUVOVScsXHJcblx0XHRcdCdDT05GSUc6TkFWSUdBVElPTl9QQUdFUycsXHJcblx0XHRcdCdDT05GSUc6TkFWSUdBVElPTl9TT0NJQUwnLFxyXG5cdFx0XHQnQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfUFJPSkVDVFMnLFxyXG5cdFx0XHQnQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfRE9DUycsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfVFlQRScsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfU0xVRycsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX1JFQ0VOVF9QT1NUU19FTkFCTEVEJyxcclxuXHRcdFx0J0NPTkZJRzpIT01FX09QVElPTlNfUkVDRU5UX1BPU1RTX0NPVU5UJyxcclxuXHRcdFx0J0NPTkZJRzpIT01FX09QVElPTlNfUFJPSkVDVFNfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0NPVU5UJyxcclxuXHRcdFx0J0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19FTkFCTEVEJyxcclxuXHRcdFx0J0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19DT1VOVCcsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX0JMVVJCX1BMQUNFTUVOVCcsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RTX1BFUl9QQUdFJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfUkVBRElOR19USU1FJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfV09SRF9DT1VOVCcsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX1RBR1MnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0xJTktFRF9NRU5USU9OU19DT01QQUNUJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19FTkFCTEVEJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19TSE9XX0lOX1NJREVCQVInLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX01BWF9OT0RFUycsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfU0hPV19PUlBIQU5FRF9QT1NUUycsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RfTkFWSUdBVElPTicsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX1NIT1dfUE9TVF9DQVJEX0NPVkVSX0lNQUdFUycsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RfQ0FSRF9BU1BFQ1RfUkFUSU8nLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DVVNUT01fUE9TVF9DQVJEX0FTUEVDVF9SQVRJTycsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0VOQUJMRUQnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19QUk9WSURFUicsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFUE8nLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRVBPX0lEJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfQ0FURUdPUlknLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19DQVRFR09SWV9JRCcsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX01BUFBJTkcnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19TVFJJQ1QnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRUFDVElPTlMnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19NRVRBREFUQScsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0lOUFVUX1BPU0lUSU9OJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfVEhFTUUnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MQU5HJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTE9BRElORydcclxuXHRcdF07XHJcblx0XHRcclxuXHRcdGNvbnN0IG1pc3NpbmcgPSByZXF1aXJlZE1hcmtlcnMuZmlsdGVyKG1hcmtlciA9PiBcclxuXHRcdFx0IWNvbmZpZy5pbmNsdWRlcyhgLy8gWyR7bWFya2VyfV1gKVxyXG5cdFx0KTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHsgdmFsaWQ6IG1pc3NpbmcubGVuZ3RoID09PSAwLCBtaXNzaW5nIH07XHJcblx0fVxyXG5cclxuXHR2YWxpZGF0ZVN5bnRheChjb25maWc6IHN0cmluZyk6IHsgdmFsaWQ6IGJvb2xlYW47IGVycm9yczogc3RyaW5nW10gfSB7XHJcblx0XHRjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblx0XHRcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIENoZWNrIGZvciBiYXNpYyBzeW50YXggaXNzdWVzXHJcblx0XHRcdGNvbnN0IG9wZW5CcmFjZXMgPSAoY29uZmlnLm1hdGNoKC9cXHsvZykgfHwgW10pLmxlbmd0aDtcclxuXHRcdFx0Y29uc3QgY2xvc2VCcmFjZXMgPSAoY29uZmlnLm1hdGNoKC9cXH0vZykgfHwgW10pLmxlbmd0aDtcclxuXHRcdFx0Y29uc3Qgb3BlbkJyYWNrZXRzID0gKGNvbmZpZy5tYXRjaCgvXFxbL2cpIHx8IFtdKS5sZW5ndGg7XHJcblx0XHRcdGNvbnN0IGNsb3NlQnJhY2tldHMgPSAoY29uZmlnLm1hdGNoKC9cXF0vZykgfHwgW10pLmxlbmd0aDtcclxuXHRcdFx0XHJcblx0XHRcdGlmIChvcGVuQnJhY2VzICE9PSBjbG9zZUJyYWNlcykge1xyXG5cdFx0XHRcdGVycm9ycy5wdXNoKCdNaXNtYXRjaGVkIGJyYWNlcycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAob3BlbkJyYWNrZXRzICE9PSBjbG9zZUJyYWNrZXRzKSB7XHJcblx0XHRcdFx0ZXJyb3JzLnB1c2goJ01pc21hdGNoZWQgYnJhY2tldHMnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGVycm9ycy5wdXNoKGBWYWxpZGF0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiB7IHZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLCBlcnJvcnMgfTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFzdHJvTW9kdWxhclNldHRpbmdzLCBQcmVzZXRUZW1wbGF0ZSwgTmF2aWdhdGlvbkl0ZW0sIFRoZW1lVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IENvbmZpZ1RlbXBsYXRlTWFuYWdlciB9IGZyb20gJy4vQ29uZmlnVGVtcGxhdGVNYW5hZ2VyJztcbmltcG9ydCB7IENvbmZpZ01hcmtlclZhbGlkYXRvciB9IGZyb20gJy4vQ29uZmlnTWFya2VyVmFsaWRhdG9yJztcblxuZXhwb3J0IGNsYXNzIENvbmZpZ1ByZXNldE1vZGlmaWVyIHtcblx0cHJpdmF0ZSB0ZW1wbGF0ZU1hbmFnZXI6IENvbmZpZ1RlbXBsYXRlTWFuYWdlcjtcblx0cHJpdmF0ZSBtYXJrZXJWYWxpZGF0b3I6IENvbmZpZ01hcmtlclZhbGlkYXRvcjtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLnRlbXBsYXRlTWFuYWdlciA9IG5ldyBDb25maWdUZW1wbGF0ZU1hbmFnZXIoKTtcblx0XHR0aGlzLm1hcmtlclZhbGlkYXRvciA9IG5ldyBDb25maWdNYXJrZXJWYWxpZGF0b3IoKTtcblx0fVxuXG5cdHByaXZhdGUgc2FmZVN0cmluZ2lmeSh2YWx1ZTogdW5rbm93bik6IHN0cmluZyB7XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRyZXR1cm4gU3RyaW5nKHZhbHVlKTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdHJldHVybiBTdHJpbmcodmFsdWUpO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0XHQvLyBGb3Igb3RoZXIgdHlwZXMsIGNvbnZlcnQgdG8gYm9vbGVhbiBvciBudW1iZXIgaWYgcG9zc2libGUsIG90aGVyd2lzZSB1c2UgSlNPTi5zdHJpbmdpZnlcblx0XHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIFN0cmluZyh2YWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdH1cblxuXHRnZXRUZW1wbGF0ZUNvbmZpZyh0ZW1wbGF0ZU5hbWU6IHN0cmluZywgc2V0dGluZ3M6IEFzdHJvTW9kdWxhclNldHRpbmdzKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuXHRcdC8vIEV4cG9zZSB0ZW1wbGF0ZSBjb25maWcgZm9yIGV4dGVybmFsIHVzZVxuXHRcdHJldHVybiB0aGlzLnRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZUNvbmZpZyh0ZW1wbGF0ZU5hbWUsIHNldHRpbmdzKTtcblx0fVxuXG5cdHVwZGF0ZVRoZW1lSW5Db25maWcoY3VycmVudENvbmZpZzogc3RyaW5nLCB0aGVtZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBVcGRhdGUgb25seSB0aGUgdGhlbWUgc2V0dGluZyBpbiB0aGUgY29uZmlnIGZpbGVcblx0XHRjb25zdCB0aGVtZU1hcmtlckV4aXN0cyA9IGN1cnJlbnRDb25maWcuaW5jbHVkZXMoJy8vIFtDT05GSUc6VEhFTUVdJyk7XG5cdFx0XG5cdFx0aWYgKHRoZW1lTWFya2VyRXhpc3RzKSB7XG5cdFx0XHRjb25zdCB0aGVtZVJlZ2V4ID0gL1xcL1xcLyBcXFtDT05GSUc6VEhFTUVcXF1cXHMqXFxuXFxzKnRoZW1lOlxccypcIlteXCJdKlwiLztcblx0XHRcdHJldHVybiBjdXJyZW50Q29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdHRoZW1lUmVnZXgsXG5cdFx0XHRcdGAvLyBbQ09ORklHOlRIRU1FXVxcbiAgdGhlbWU6IFwiJHt0aGVtZX1cImBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIElmIG5vIHRoZW1lIG1hcmtlciBmb3VuZCwgcmV0dXJuIHVuY2hhbmdlZFxuXHRcdHJldHVybiBjdXJyZW50Q29uZmlnO1xuXHR9XG5cblx0dXBkYXRlRm9udEluQ29uZmlnKGN1cnJlbnRDb25maWc6IHN0cmluZywgZm9udFR5cGU6ICdoZWFkaW5nJyB8ICdwcm9zZScgfCAnbW9ubycsIGZvbnROYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdC8vIFVwZGF0ZSBvbmx5IHRoZSBzcGVjaWZpYyBmb250IHNldHRpbmcgaW4gdGhlIGNvbmZpZyBmaWxlXG5cdFx0Y29uc3QgZm9udE1hcmtlciA9IGAvLyBbQ09ORklHOkZPTlRfJHtmb250VHlwZS50b1VwcGVyQ2FzZSgpfV1gO1xuXHRcdGNvbnN0IGZvbnRNYXJrZXJFeGlzdHMgPSBjdXJyZW50Q29uZmlnLmluY2x1ZGVzKGZvbnRNYXJrZXIpO1xuXHRcdFxuXHRcdGlmIChmb250TWFya2VyRXhpc3RzKSB7XG5cdFx0XHRjb25zdCBmb250UmVnZXggPSBuZXcgUmVnRXhwKGAke2ZvbnRNYXJrZXJ9XFxcXHMqXFxcXG5cXFxccyoke2ZvbnRUeXBlfTpcXFxccypcIlteXCJdKlwiYCk7XG5cdFx0XHRyZXR1cm4gY3VycmVudENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRmb250UmVnZXgsXG5cdFx0XHRcdGAke2ZvbnRNYXJrZXJ9XFxuICAgICAgJHtmb250VHlwZX06IFwiJHtmb250TmFtZX1cImBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIElmIG5vIGZvbnQgbWFya2VyIGZvdW5kLCByZXR1cm4gdW5jaGFuZ2VkXG5cdFx0cmV0dXJuIGN1cnJlbnRDb25maWc7XG5cdH1cblxuXHR1cGRhdGVGZWF0dXJlSW5Db25maWcoY3VycmVudENvbmZpZzogc3RyaW5nLCBmZWF0dXJlTmFtZTogc3RyaW5nLCB2YWx1ZTogYm9vbGVhbik6IHN0cmluZyB7XG5cdFx0Ly8gVXBkYXRlIG9ubHkgdGhlIHNwZWNpZmljIGZlYXR1cmUgc2V0dGluZyBpbiB0aGUgY29uZmlnIGZpbGVcblx0XHQvLyBUaGlzIGlzIGEgc2ltcGxpZmllZCB2ZXJzaW9uIC0gaW4gcmVhbGl0eSwgd2UnZCBuZWVkIHRvIG1hcCBmZWF0dXJlIG5hbWVzIHRvIGNvbmZpZyBtYXJrZXJzXG5cdFx0Ly8gRm9yIG5vdywgcmV0dXJuIHVuY2hhbmdlZCB0byBhdm9pZCBicmVha2luZyB0aGluZ3Ncblx0XHRyZXR1cm4gY3VycmVudENvbmZpZztcblx0fVxuXG5cdG1vZGlmeUNvbmZpZ0Zyb21QcmVzZXQocHJlc2V0OiBQcmVzZXRUZW1wbGF0ZSwgY3VycmVudENvbmZpZzogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBVc2UgdGhlIGFjdHVhbCBzZXR0aW5ncyBwYXNzZWQgaW4gdGhlIHByZXNldCwgbm90IHRoZSB0ZW1wbGF0ZSdzIGNvbmZpZ1xuXHRcdC8vIFRoZSBwcmVzZXQgY29udGFpbnMgdGhlIHVzZXIncyBjdXJyZW50IHNldHRpbmdzIGluIGl0cyBwcm9wZXJ0aWVzXG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB7XG5cdFx0XHQuLi5wcmVzZXQuY29uZmlnLFxuXHRcdFx0ZmVhdHVyZXM6IHByZXNldC5mZWF0dXJlcyxcblx0XHRcdGN1cnJlbnRUaGVtZTogcHJlc2V0LnRoZW1lLFxuXHRcdFx0Y29udGVudE9yZ2FuaXphdGlvbjogcHJlc2V0LmNvbnRlbnRPcmdhbml6YXRpb25cblx0XHR9IGFzIEFzdHJvTW9kdWxhclNldHRpbmdzO1xuXHRcdFxuXHRcdC8vIEZpcnN0IGFwcGx5IGluZGl2aWR1YWwgZmVhdHVyZXMgdG8gZW5zdXJlIHRoZXkncmUgbm90IG92ZXJyaWRkZW4gYnkgdGVtcGxhdGVcblx0XHRsZXQgbW9kaWZpZWRDb25maWcgPSB0aGlzLm1vZGlmeUNvbmZpZ0Zyb21GZWF0dXJlcyhzZXR0aW5ncywgY3VycmVudENvbmZpZyk7XG5cdFx0XG5cdFx0Ly8gR2V0IHRoZSB0ZW1wbGF0ZSBjb25maWd1cmF0aW9uIGJhc2VkIG9uIHRoZSBwcmVzZXQgbmFtZVxuXHRcdGNvbnN0IHRlbXBsYXRlQ29uZmlnID0gdGhpcy50ZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGVDb25maWcocHJlc2V0Lm5hbWUsIHNldHRpbmdzKTtcblx0XHRcblx0XHQvLyBVcGRhdGUgdGhlbWUgLSB1c2UgbWFya2VyLWJhc2VkIHJlcGxhY2VtZW50XG5cdFx0Y29uc3QgdGhlbWVNYXJrZXJFeGlzdHMgPSBtb2RpZmllZENvbmZpZy5pbmNsdWRlcygnLy8gW0NPTkZJRzpUSEVNRV0nKTtcblx0XHRcblx0XHRpZiAodGhlbWVNYXJrZXJFeGlzdHMpIHtcblx0XHRcdGNvbnN0IHRoZW1lUmVnZXggPSAvXFwvXFwvIFxcW0NPTkZJRzpUSEVNRVxcXVxccypcXG5cXHMqdGhlbWU6XFxzKlwiW15cIl0qXCIvO1xuXHRcdFx0XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdHRoZW1lUmVnZXgsXG5cdFx0XHRcdGAvLyBbQ09ORklHOlRIRU1FXVxcbiAgdGhlbWU6IFwiJHtzZXR0aW5ncy5jdXJyZW50VGhlbWV9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgZm9udCBzb3VyY2Vcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT05UX1NPVVJDRVxcXVxccypcXG5cXHMqc291cmNlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOkZPTlRfU09VUkNFXVxcbiAgICBzb3VyY2U6IFwiJHtzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2V9XCJgXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgZm9udCBmYW1pbGllc1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfQk9EWVxcXVxccypcXG5cXHMqYm9keTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpGT05UX0JPRFldXFxuICAgICAgYm9keTogXCIke3NldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZSA9PT0gJ2NkbicgPyBzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLnByb3NlIDogc2V0dGluZ3MudHlwb2dyYXBoeS5wcm9zZUZvbnR9XCJgXG5cdFx0KTtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT05UX0hFQURJTkdcXF1cXHMqXFxuXFxzKmhlYWRpbmc6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6Rk9OVF9IRUFESU5HXVxcbiAgICAgIGhlYWRpbmc6IFwiJHtzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2UgPT09ICdjZG4nID8gc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5oZWFkaW5nIDogc2V0dGluZ3MudHlwb2dyYXBoeS5oZWFkaW5nRm9udH1cImBcblx0XHQpO1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfTU9OT1xcXVxccypcXG5cXHMqbW9ubzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpGT05UX01PTk9dXFxuICAgICAgbW9ubzogXCIke3NldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZSA9PT0gJ2NkbicgPyBzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLm1vbm8gOiBzZXR0aW5ncy50eXBvZ3JhcGh5Lm1vbm9Gb250fVwiYFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGRlcGxveW1lbnQgcGxhdGZvcm1cblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpERVBMT1lNRU5UX1BMQVRGT1JNXFxdXFxzKlxcblxccypwbGF0Zm9ybTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpERVBMT1lNRU5UX1BMQVRGT1JNXVxcbiAgICBwbGF0Zm9ybTogXCIke3NldHRpbmdzLmRlcGxveW1lbnQucGxhdGZvcm19XCJgXG5cdFx0KTtcblxuXHRcdC8vIFVwZGF0ZSBvcHRpb25hbCBjb250ZW50IHR5cGVzXG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzKSB7XG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMucHJvamVjdHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCBwcm9qZWN0c1JlZ2V4ID0gL1xcL1xcLyBcXFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19QUk9KRUNUU1xcXVxccypcXG5cXHMqcHJvamVjdHM6XFxzKih0cnVlfGZhbHNlKS87XG5cdFx0XHRcdFxuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0cHJvamVjdHNSZWdleCxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpPUFRJT05BTF9DT05URU5UX1RZUEVTX1BST0pFQ1RTXVxcbiAgICBwcm9qZWN0czogJHtzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0c31gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMuZG9jcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnN0IGRvY3NSZWdleCA9IC9cXC9cXC8gXFxbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfRE9DU1xcXVxccypcXG5cXHMqZG9jczpcXHMqKHRydWV8ZmFsc2UpLztcblx0XHRcdFx0XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRkb2NzUmVnZXgsXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19ET0NTXVxcbiAgICBkb2NzOiAke3NldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3N9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgbGF5b3V0IGNvbnRlbnQgd2lkdGggaWYgc3BlY2lmaWVkIGluIHRlbXBsYXRlXG5cdFx0Y29uc3QgbGF5b3V0ID0gdGVtcGxhdGVDb25maWcubGF5b3V0IGFzIHsgY29udGVudFdpZHRoPzogc3RyaW5nIH0gfCB1bmRlZmluZWQ7XG5cdFx0aWYgKGxheW91dD8uY29udGVudFdpZHRoKSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkxBWU9VVF9DT05URU5UX1dJRFRIXFxdXFxzKlxcblxccypjb250ZW50V2lkdGg6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpMQVlPVVRfQ09OVEVOVF9XSURUSF1cXG4gICAgY29udGVudFdpZHRoOiBcIiR7bGF5b3V0LmNvbnRlbnRXaWR0aH1cImBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBvcHRpb25hbCBjb250ZW50IHR5cGVzIGlmIHNwZWNpZmllZCBpbiB0ZW1wbGF0ZVxuXHRcdGNvbnN0IG9wdGlvbmFsQ29udGVudFR5cGVzID0gdGVtcGxhdGVDb25maWcub3B0aW9uYWxDb250ZW50VHlwZXMgYXMgeyBwcm9qZWN0cz86IGJvb2xlYW47IGRvY3M/OiBib29sZWFuIH0gfCB1bmRlZmluZWQ7XG5cdFx0aWYgKG9wdGlvbmFsQ29udGVudFR5cGVzKSB7XG5cdFx0XHRpZiAob3B0aW9uYWxDb250ZW50VHlwZXMucHJvamVjdHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19QUk9KRUNUU1xcXVxccypcXG5cXHMqcHJvamVjdHM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19QUk9KRUNUU11cXG4gICAgcHJvamVjdHM6ICR7b3B0aW9uYWxDb250ZW50VHlwZXMucHJvamVjdHN9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19ET0NTXFxdXFxzKlxcblxccypkb2NzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfRE9DU11cXG4gICAgZG9jczogJHtvcHRpb25hbENvbnRlbnRUeXBlcy5kb2NzfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZlYXR1cmUgYnV0dG9uIGlmIHNwZWNpZmllZCBpbiB0ZW1wbGF0ZVxuXHRcdGlmICh0ZW1wbGF0ZUNvbmZpZy5mZWF0dXJlQnV0dG9uKSB7XG5cdFx0XHRjb25zdCBmZWF0dXJlQnV0dG9uVmFsdWUgPSB0eXBlb2YgdGVtcGxhdGVDb25maWcuZmVhdHVyZUJ1dHRvbiA9PT0gJ3N0cmluZycgXG5cdFx0XHRcdD8gdGVtcGxhdGVDb25maWcuZmVhdHVyZUJ1dHRvbiBcblx0XHRcdFx0OiBKU09OLnN0cmluZ2lmeSh0ZW1wbGF0ZUNvbmZpZy5mZWF0dXJlQnV0dG9uKTtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6RkVBVFVSRV9CVVRUT05cXF1cXHMqXFxuXFxzKmZlYXR1cmVCdXR0b246XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpGRUFUVVJFX0JVVFRPTl1cXG4gIGZlYXR1cmVCdXR0b246IFwiJHtmZWF0dXJlQnV0dG9uVmFsdWV9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgZm9vdGVyIHNldHRpbmdzIGlmIHNwZWNpZmllZCBpbiB0ZW1wbGF0ZVxuXHRcdC8vIE5PVEU6IFdlIG9ubHkgdXBkYXRlIHNob3dTb2NpYWxJY29uc0luRm9vdGVyIGFuZCBlbmFibGVkLCBORVZFUiB0aGUgZm9vdGVyLmNvbnRlbnRcblx0XHRjb25zdCBmb290ZXIgPSB0ZW1wbGF0ZUNvbmZpZy5mb290ZXIgYXMgeyBlbmFibGVkPzogYm9vbGVhbjsgc2hvd1NvY2lhbEljb25zSW5Gb290ZXI/OiBib29sZWFuIH0gfCB1bmRlZmluZWQ7XG5cdFx0aWYgKGZvb3Rlcikge1xuXHRcdFx0Ly8gVXBkYXRlIGZvb3RlciBlbmFibGVkIHN0YXRlXG5cdFx0XHRpZiAoZm9vdGVyLmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9PVEVSX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpGT09URVJfRU5BQkxFRF1cXG4gICAgZW5hYmxlZDogJHtmb290ZXIuZW5hYmxlZH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgZm9vdGVyIHNvY2lhbCBpY29uc1xuXHRcdFx0aWYgKGZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3RlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT09URVJfU0hPV19TT0NJQUxfSUNPTlNcXF1cXHMqc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6XFxzKlteLFxcbn1dKy8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6Rk9PVEVSX1NIT1dfU09DSUFMX0lDT05TXVxcbiAgICBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogJHtmb290ZXIuc2hvd1NvY2lhbEljb25zSW5Gb290ZXJ9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvbiBzZXR0aW5ncyBpZiBzcGVjaWZpZWQgaW4gdGVtcGxhdGVcblx0XHRjb25zdCBuYXZpZ2F0aW9uID0gdGVtcGxhdGVDb25maWcubmF2aWdhdGlvbiBhcyB7IHN0eWxlPzogc3RyaW5nOyBzaG93TmF2aWdhdGlvbj86IGJvb2xlYW47IHNob3dNb2JpbGVNZW51PzogYm9vbGVhbiB9IHwgdW5kZWZpbmVkO1xuXHRcdGlmIChuYXZpZ2F0aW9uKSB7XG5cdFx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvbiBzdHlsZVxuXHRcdFx0aWYgKG5hdmlnYXRpb24uc3R5bGUpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fU1RZTEVcXF1cXHMqc3R5bGU6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk5BVklHQVRJT05fU1RZTEVdXFxuICAgIHN0eWxlOiBcIiR7bmF2aWdhdGlvbi5zdHlsZX1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIHNob3dOYXZpZ2F0aW9uXG5cdFx0XHRpZiAobmF2aWdhdGlvbi5zaG93TmF2aWdhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpOQVZJR0FUSU9OX1NIT1dfTkFWSUdBVElPTlxcXVxccypzaG93TmF2aWdhdGlvbjpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NIT1dfTkFWSUdBVElPTl1cXG4gICAgc2hvd05hdmlnYXRpb246ICR7bmF2aWdhdGlvbi5zaG93TmF2aWdhdGlvbn1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBzaG93TW9iaWxlTWVudVxuXHRcdFx0aWYgKG5hdmlnYXRpb24uc2hvd01vYmlsZU1lbnUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6TkFWSUdBVElPTl9TSE9XX01PQklMRV9NRU5VXFxdXFxzKnNob3dNb2JpbGVNZW51OlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk5BVklHQVRJT05fU0hPV19NT0JJTEVfTUVOVV1cXG4gICAgc2hvd01vYmlsZU1lbnU6ICR7bmF2aWdhdGlvbi5zaG93TW9iaWxlTWVudX1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBjb21tYW5kIHBhbGV0dGUgc2V0dGluZ3MgaWYgc3BlY2lmaWVkIGluIHRlbXBsYXRlXG5cdFx0Y29uc3QgY29tbWFuZFBhbGV0dGUgPSB0ZW1wbGF0ZUNvbmZpZy5jb21tYW5kUGFsZXR0ZSBhcyB7IGVuYWJsZWQ/OiBib29sZWFuOyBzaG9ydGN1dD86IHN0cmluZzsgcGxhY2Vob2xkZXI/OiBzdHJpbmc7IHNlYXJjaD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+OyBzZWN0aW9ucz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+OyBxdWlja0FjdGlvbnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9IHwgdW5kZWZpbmVkO1xuXHRcdGlmIChjb21tYW5kUGFsZXR0ZSkge1xuXHRcdFx0Ly8gVXBkYXRlIGVuYWJsZWQgc3RhdGVcblx0XHRcdGlmIChjb21tYW5kUGFsZXR0ZS5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX0VOQUJMRURdXFxuICAgIGVuYWJsZWQ6ICR7Y29tbWFuZFBhbGV0dGUuZW5hYmxlZH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBzaG9ydGN1dFxuXHRcdFx0aWYgKGNvbW1hbmRQYWxldHRlLnNob3J0Y3V0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TSE9SVENVVFxcXVxccypzaG9ydGN1dDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NIT1JUQ1VUXVxcbiAgICBzaG9ydGN1dDogXCIke2NvbW1hbmRQYWxldHRlLnNob3J0Y3V0fVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgcGxhY2Vob2xkZXJcblx0XHRcdGlmIChjb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUExBQ0VIT0xERVJcXF1cXHMqcGxhY2Vob2xkZXI6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9QTEFDRUhPTERFUl1cXG4gICAgcGxhY2Vob2xkZXI6IFwiJHtjb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlcn1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIHNlYXJjaCBzZXR0aW5ncyAtIHVzZSBpbmRpdmlkdWFsIG1hcmtlcnNcblx0XHRcdGlmIChjb21tYW5kUGFsZXR0ZS5zZWFyY2ggJiYgdHlwZW9mIGNvbW1hbmRQYWxldHRlLnNlYXJjaCA9PT0gJ29iamVjdCcgJiYgY29tbWFuZFBhbGV0dGUuc2VhcmNoICE9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnN0IHNlYXJjaCA9IGNvbW1hbmRQYWxldHRlLnNlYXJjaDtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFVwZGF0ZSBlYWNoIHNlYXJjaCBzZXR0aW5nIGluZGl2aWR1YWxseVxuXHRcdFx0XHRpZiAoc2VhcmNoLnBvc3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBwb3N0c1ZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHNlYXJjaC5wb3N0cyk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QT1NUU1xcXVxccypwb3N0czpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUE9TVFNdXFxuICAgICAgcG9zdHM6ICR7cG9zdHNWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2VhcmNoLnBhZ2VzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBwYWdlc1ZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHNlYXJjaC5wYWdlcyk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QQUdFU1xcXVxccypwYWdlczpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUEFHRVNdXFxuICAgICAgcGFnZXM6ICR7cGFnZXNWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2VhcmNoLnByb2plY3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBwcm9qZWN0c1ZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHNlYXJjaC5wcm9qZWN0cyk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QUk9KRUNUU1xcXVxccypwcm9qZWN0czpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUFJPSkVDVFNdXFxuICAgICAgcHJvamVjdHM6ICR7cHJvamVjdHNWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2VhcmNoLmRvY3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGRvY3NWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShzZWFyY2guZG9jcyk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9ET0NTXFxdXFxzKmRvY3M6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX0RPQ1NdXFxuICAgICAgZG9jczogJHtkb2NzVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIHNlY3Rpb25zIHNldHRpbmdzIC0gdXNlIGluZGl2aWR1YWwgbWFya2Vyc1xuXHRcdFx0aWYgKGNvbW1hbmRQYWxldHRlLnNlY3Rpb25zICYmIHR5cGVvZiBjb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyA9PT0gJ29iamVjdCcgJiYgY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgIT09IG51bGwpIHtcblx0XHRcdFx0Y29uc3Qgc2VjdGlvbnMgPSBjb21tYW5kUGFsZXR0ZS5zZWN0aW9ucztcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFVwZGF0ZSBlYWNoIHNlY3Rpb24gc2V0dGluZyBpbmRpdmlkdWFsbHlcblx0XHRcdFx0aWYgKHNlY3Rpb25zLnF1aWNrQWN0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgcXVpY2tBY3Rpb25zVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoc2VjdGlvbnMucXVpY2tBY3Rpb25zKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUVVJQ0tfQUNUSU9OU1xcXVxccypxdWlja0FjdGlvbnM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUVVJQ0tfQUNUSU9OU11cXG4gICAgICBxdWlja0FjdGlvbnM6ICR7cXVpY2tBY3Rpb25zVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNlY3Rpb25zLnBhZ2VzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBwYWdlc1ZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHNlY3Rpb25zLnBhZ2VzKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUEFHRVNcXF1cXHMqcGFnZXM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUEFHRVNdXFxuICAgICAgcGFnZXM6ICR7cGFnZXNWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2VjdGlvbnMuc29jaWFsICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBzb2NpYWxWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShzZWN0aW9ucy5zb2NpYWwpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19TT0NJQUxcXF1cXHMqc29jaWFsOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1NPQ0lBTF1cXG4gICAgICBzb2NpYWw6ICR7c29jaWFsVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIHF1aWNrIGFjdGlvbnMgc2V0dGluZ3MgLSB1c2UgaW5kaXZpZHVhbCBtYXJrZXJzXG5cdFx0XHRpZiAoY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zICYmIHR5cGVvZiBjb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgPT09ICdvYmplY3QnICYmIGNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyAhPT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBxdWlja0FjdGlvbnMgPSBjb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnM7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBVcGRhdGUgZWFjaCBxdWljayBhY3Rpb24gc2V0dGluZyBpbmRpdmlkdWFsbHlcblx0XHRcdFx0aWYgKHF1aWNrQWN0aW9ucy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBlbmFibGVkVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkocXVpY2tBY3Rpb25zLmVuYWJsZWQpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtlbmFibGVkVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHF1aWNrQWN0aW9ucy50b2dnbGVNb2RlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCB0b2dnbGVNb2RlVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkocXVpY2tBY3Rpb25zLnRvZ2dsZU1vZGUpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX1RPR0dMRV9NT0RFXFxdXFxzKnRvZ2dsZU1vZGU6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19UT0dHTEVfTU9ERV1cXG4gICAgICB0b2dnbGVNb2RlOiAke3RvZ2dsZU1vZGVWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocXVpY2tBY3Rpb25zLmdyYXBoVmlldyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgZ3JhcGhWaWV3VmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkocXVpY2tBY3Rpb25zLmdyYXBoVmlldyk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfR1JBUEhfVklFV1xcXVxccypncmFwaFZpZXc6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19HUkFQSF9WSUVXXVxcbiAgICAgIGdyYXBoVmlldzogJHtncmFwaFZpZXdWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocXVpY2tBY3Rpb25zLmNoYW5nZVRoZW1lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBjaGFuZ2VUaGVtZVZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHF1aWNrQWN0aW9ucy5jaGFuZ2VUaGVtZSk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfQ0hBTkdFX1RIRU1FXFxdXFxzKmNoYW5nZVRoZW1lOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfQ0hBTkdFX1RIRU1FXVxcbiAgICAgIGNoYW5nZVRoZW1lOiAke2NoYW5nZVRoZW1lVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGhvbWUgb3B0aW9ucyBpZiBzcGVjaWZpZWQgaW4gdGVtcGxhdGVcblx0XHRpZiAodGVtcGxhdGVDb25maWcuaG9tZU9wdGlvbnMgJiYgdHlwZW9mIHRlbXBsYXRlQ29uZmlnLmhvbWVPcHRpb25zID09PSAnb2JqZWN0JyAmJiB0ZW1wbGF0ZUNvbmZpZy5ob21lT3B0aW9ucyAhPT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgaG9tZU9wdGlvbnMgPSB0ZW1wbGF0ZUNvbmZpZy5ob21lT3B0aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdC8vIFVwZGF0ZSBmZWF0dXJlZCBwb3N0IHNldHRpbmdzXG5cdFx0XHRpZiAoaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0ICYmIHR5cGVvZiBob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QgPT09ICdvYmplY3QnICYmIGhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCAhPT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBmZWF0dXJlZFBvc3QgPSBob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdGlmIChmZWF0dXJlZFBvc3QuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgZW5hYmxlZFZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KGZlYXR1cmVkUG9zdC5lbmFibGVkKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfRkVBVFVSRURfUE9TVF9FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfRkVBVFVSRURfUE9TVF9FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7ZW5hYmxlZFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChmZWF0dXJlZFBvc3QudHlwZSAmJiB0eXBlb2YgZmVhdHVyZWRQb3N0LnR5cGUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfVFlQRVxcXVxccyp0eXBlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX1RZUEVdXFxuICAgICAgdHlwZTogXCIke2ZlYXR1cmVkUG9zdC50eXBlfVwiYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIHJlY2VudCBwb3N0cyBzZXR0aW5nc1xuXHRcdFx0aWYgKGhvbWVPcHRpb25zLnJlY2VudFBvc3RzICYmIHR5cGVvZiBob21lT3B0aW9ucy5yZWNlbnRQb3N0cyA9PT0gJ29iamVjdCcgJiYgaG9tZU9wdGlvbnMucmVjZW50UG9zdHMgIT09IG51bGwpIHtcblx0XHRcdFx0Y29uc3QgcmVjZW50UG9zdHMgPSBob21lT3B0aW9ucy5yZWNlbnRQb3N0cyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0aWYgKHJlY2VudFBvc3RzLmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGVuYWJsZWRWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShyZWNlbnRQb3N0cy5lbmFibGVkKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfUkVDRU5UX1BPU1RTX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19SRUNFTlRfUE9TVFNfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke2VuYWJsZWRWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocmVjZW50UG9zdHMuY291bnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGNvdW50VmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkocmVjZW50UG9zdHMuY291bnQpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19SRUNFTlRfUE9TVFNfQ09VTlRcXF1cXHMqY291bnQ6XFxzKlxcZCsvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX1JFQ0VOVF9QT1NUU19DT1VOVF1cXG4gICAgICBjb3VudDogJHtjb3VudFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBwcm9qZWN0cyBzZXR0aW5nc1xuXHRcdFx0aWYgKGhvbWVPcHRpb25zLnByb2plY3RzICYmIHR5cGVvZiBob21lT3B0aW9ucy5wcm9qZWN0cyA9PT0gJ29iamVjdCcgJiYgaG9tZU9wdGlvbnMucHJvamVjdHMgIT09IG51bGwpIHtcblx0XHRcdFx0Y29uc3QgcHJvamVjdHMgPSBob21lT3B0aW9ucy5wcm9qZWN0cyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0aWYgKHByb2plY3RzLmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGVuYWJsZWRWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShwcm9qZWN0cy5lbmFibGVkKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfUFJPSkVDVFNfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtlbmFibGVkVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHByb2plY3RzLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBjb3VudFZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHByb2plY3RzLmNvdW50KTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfUFJPSkVDVFNfQ09VTlRcXF1cXHMqY291bnQ6XFxzKlxcZCsvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0NPVU5UXVxcbiAgICAgIGNvdW50OiAke2NvdW50VmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIGRvY3Mgc2V0dGluZ3Ncblx0XHRcdGlmIChob21lT3B0aW9ucy5kb2NzICYmIHR5cGVvZiBob21lT3B0aW9ucy5kb2NzID09PSAnb2JqZWN0JyAmJiBob21lT3B0aW9ucy5kb2NzICE9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnN0IGRvY3MgPSBob21lT3B0aW9ucy5kb2NzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRpZiAoZG9jcy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBlbmFibGVkVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoZG9jcy5lbmFibGVkKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7ZW5hYmxlZFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChkb2NzLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBjb3VudFZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KGRvY3MuY291bnQpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19ET0NTX0NPVU5UXFxdXFxzKmNvdW50OlxccypcXGQrLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19ET0NTX0NPVU5UXVxcbiAgICAgIGNvdW50OiAke2NvdW50VmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIGJsdXJiIHBsYWNlbWVudFxuXHRcdFx0aWYgKGhvbWVPcHRpb25zLmJsdXJiICYmIHR5cGVvZiBob21lT3B0aW9ucy5ibHVyYiA9PT0gJ29iamVjdCcgJiYgaG9tZU9wdGlvbnMuYmx1cmIgIT09IG51bGwpIHtcblx0XHRcdFx0Y29uc3QgYmx1cmIgPSBob21lT3B0aW9ucy5ibHVyYiBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0aWYgKGJsdXJiLnBsYWNlbWVudCAmJiB0eXBlb2YgYmx1cmIucGxhY2VtZW50ID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19CTFVSQl9QTEFDRU1FTlRcXF1cXHMqcGxhY2VtZW50OlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19CTFVSQl9QTEFDRU1FTlRdXFxuICAgICAgcGxhY2VtZW50OiBcIiR7Ymx1cmIucGxhY2VtZW50fVwiYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHBvc3Qgb3B0aW9ucyBpZiBzcGVjaWZpZWQgaW4gdGVtcGxhdGVcblx0XHRpZiAodGVtcGxhdGVDb25maWcucG9zdE9wdGlvbnMgJiYgdHlwZW9mIHRlbXBsYXRlQ29uZmlnLnBvc3RPcHRpb25zID09PSAnb2JqZWN0JyAmJiB0ZW1wbGF0ZUNvbmZpZy5wb3N0T3B0aW9ucyAhPT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgcG9zdE9wdGlvbnMgPSB0ZW1wbGF0ZUNvbmZpZy5wb3N0T3B0aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdC8vIFVwZGF0ZSBwb3N0cyBwZXIgcGFnZVxuXHRcdFx0aWYgKHBvc3RPcHRpb25zLnBvc3RzUGVyUGFnZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnN0IHBvc3RzUGVyUGFnZVZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHBvc3RPcHRpb25zLnBvc3RzUGVyUGFnZSk7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVFNfUEVSX1BBR0VcXF1cXHMqcG9zdHNQZXJQYWdlOlxccypcXGQrLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVFNfUEVSX1BBR0VdXFxuICAgIHBvc3RzUGVyUGFnZTogJHtwb3N0c1BlclBhZ2VWYWx1ZX1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBib29sZWFuIGZlYXR1cmVzIHdpdGggbWFya2VyLWJhc2VkIHJlcGxhY2VtZW50XG5cdFx0XHRjb25zdCBib29sZWFuRmVhdHVyZXMgPSBbXG5cdFx0XHRcdHsga2V5OiAncmVhZGluZ1RpbWUnLCBtYXJrZXI6ICdDT05GSUc6UE9TVF9PUFRJT05TX1JFQURJTkdfVElNRScgfSxcblx0XHRcdFx0eyBrZXk6ICd3b3JkQ291bnQnLCBtYXJrZXI6ICdDT05GSUc6UE9TVF9PUFRJT05TX1dPUkRfQ09VTlQnIH0sXG5cdFx0XHRcdHsga2V5OiAndGFncycsIG1hcmtlcjogJ0NPTkZJRzpQT1NUX09QVElPTlNfVEFHUycgfSxcblx0XHRcdFx0eyBrZXk6ICdwb3N0TmF2aWdhdGlvbicsIG1hcmtlcjogJ0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVF9OQVZJR0FUSU9OJyB9XG5cdFx0XHRdO1xuXHRcdFx0XG5cdFx0XHRib29sZWFuRmVhdHVyZXMuZm9yRWFjaChmZWF0dXJlID0+IHtcblx0XHRcdFx0aWYgKHBvc3RPcHRpb25zW2ZlYXR1cmUua2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgZmVhdHVyZVZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHBvc3RPcHRpb25zW2ZlYXR1cmUua2V5XSk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0bmV3IFJlZ0V4cChgLy8gXFxcXFske2ZlYXR1cmUubWFya2VyfVxcXFxdXFxcXHMqJHtmZWF0dXJlLmtleX06XFxcXHMqKHRydWV8ZmFsc2UpYCksXG5cdFx0XHRcdFx0XHRgLy8gWyR7ZmVhdHVyZS5tYXJrZXJ9XVxcbiAgICAke2ZlYXR1cmUua2V5fTogJHtmZWF0dXJlVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgbGlua2VkIG1lbnRpb25zIHNldHRpbmdzXG5cdFx0XHRpZiAocG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgJiYgdHlwZW9mIHBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zID09PSAnb2JqZWN0JyAmJiBwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyAhPT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBsaW5rZWRNZW50aW9ucyA9IHBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRpZiAobGlua2VkTWVudGlvbnMuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgZW5hYmxlZFZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KGxpbmtlZE1lbnRpb25zLmVuYWJsZWQpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0xJTktFRF9NRU5USU9OU19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7ZW5hYmxlZFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChsaW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGNvbXBhY3RWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShsaW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfQ09NUEFDVFxcXVxccypsaW5rZWRNZW50aW9uc0NvbXBhY3Q6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0NPTVBBQ1RdXFxuICAgICAgbGlua2VkTWVudGlvbnNDb21wYWN0OiAke2NvbXBhY3RWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgZ3JhcGggdmlldyBzZXR0aW5ncyB3aXRoIG1hcmtlci1iYXNlZCByZXBsYWNlbWVudFxuXHRcdFx0aWYgKHBvc3RPcHRpb25zLmdyYXBoVmlldyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMuZ3JhcGhWaWV3ID09PSAnb2JqZWN0JyAmJiBwb3N0T3B0aW9ucy5ncmFwaFZpZXcgIT09IG51bGwpIHtcblx0XHRcdFx0Y29uc3QgZ3JhcGhWaWV3ID0gcG9zdE9wdGlvbnMuZ3JhcGhWaWV3IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHQvLyBVcGRhdGUgZW5hYmxlZCBzdGF0ZVxuXHRcdFx0XHRpZiAoZ3JhcGhWaWV3LmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGVuYWJsZWRWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShncmFwaFZpZXcuZW5hYmxlZCk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke2VuYWJsZWRWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBVcGRhdGUgc2hvd0luU2lkZWJhciBzdGF0ZVxuXHRcdFx0XHRpZiAoZ3JhcGhWaWV3LnNob3dJblNpZGViYXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IHNob3dJblNpZGViYXJWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShncmFwaFZpZXcuc2hvd0luU2lkZWJhcik7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfU0hPV19JTl9TSURFQkFSXFxdXFxzKlxcbj9cXHMqc2hvd0luU2lkZWJhcjpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX1NIT1dfSU5fU0lERUJBUl1cXG4gICAgICBzaG93SW5TaWRlYmFyOiAke3Nob3dJblNpZGViYXJWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBVcGRhdGUgc2hvd0luQ29tbWFuZFBhbGV0dGUgc3RhdGVcblx0XHRcdFx0aWYgKGdyYXBoVmlldy5zaG93SW5Db21tYW5kUGFsZXR0ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3Qgc2hvd0luQ29tbWFuZFBhbGV0dGVWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShncmFwaFZpZXcuc2hvd0luQ29tbWFuZFBhbGV0dGUpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX1NIT1dfSU5fQ09NTUFORF9QQUxFVFRFXFxdXFxzKnNob3dJbkNvbW1hbmRQYWxldHRlOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfU0hPV19JTl9DT01NQU5EX1BBTEVUVEVdXFxuICAgICAgc2hvd0luQ29tbWFuZFBhbGV0dGU6ICR7c2hvd0luQ29tbWFuZFBhbGV0dGVWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBVcGRhdGUgbWF4Tm9kZXNcblx0XHRcdFx0aWYgKGdyYXBoVmlldy5tYXhOb2RlcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgbWF4Tm9kZXNWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShncmFwaFZpZXcubWF4Tm9kZXMpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX01BWF9OT0RFU1xcXVxccyptYXhOb2RlczpcXHMqXFxkKy8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19NQVhfTk9ERVNdXFxuICAgICAgbWF4Tm9kZXM6ICR7bWF4Tm9kZXNWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBVcGRhdGUgc2hvd09ycGhhbmVkUG9zdHNcblx0XHRcdFx0aWYgKGdyYXBoVmlldy5zaG93T3JwaGFuZWRQb3N0cyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3Qgc2hvd09ycGhhbmVkUG9zdHNWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShncmFwaFZpZXcuc2hvd09ycGhhbmVkUG9zdHMpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX1NIT1dfT1JQSEFORURfUE9TVFNcXF1cXHMqc2hvd09ycGhhbmVkUG9zdHM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19TSE9XX09SUEhBTkVEX1BPU1RTXVxcbiAgICAgIHNob3dPcnBoYW5lZFBvc3RzOiAke3Nob3dPcnBoYW5lZFBvc3RzVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIHBvc3QgY2FyZCBzZXR0aW5nc1xuXHRcdFx0aWYgKHBvc3RPcHRpb25zLnNob3dQb3N0Q2FyZENvdmVySW1hZ2VzICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5zaG93UG9zdENhcmRDb3ZlckltYWdlcyA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19TSE9XX1BPU1RfQ0FSRF9DT1ZFUl9JTUFHRVNcXF1cXHMqc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19TSE9XX1BPU1RfQ0FSRF9DT1ZFUl9JTUFHRVNdXFxuICAgIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiBcIiR7cG9zdE9wdGlvbnMuc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXN9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAocG9zdE9wdGlvbnMucG9zdENhcmRBc3BlY3RSYXRpbyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMucG9zdENhcmRBc3BlY3RSYXRpbyA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUX0NBUkRfQVNQRUNUX1JBVElPXFxdXFxzKnBvc3RDYXJkQXNwZWN0UmF0aW86XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUX0NBUkRfQVNQRUNUX1JBVElPXVxcbiAgICBwb3N0Q2FyZEFzcGVjdFJhdGlvOiBcIiR7cG9zdE9wdGlvbnMucG9zdENhcmRBc3BlY3RSYXRpb31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChwb3N0T3B0aW9ucy5jdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5jdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NVU1RPTV9QT1NUX0NBUkRfQVNQRUNUX1JBVElPXFxdXFxzKmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DVVNUT01fUE9TVF9DQVJEX0FTUEVDVF9SQVRJT11cXG4gICAgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogXCIke3Bvc3RPcHRpb25zLmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW99XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBjb21tZW50cyBzZXR0aW5nc1xuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cz8uZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5lbmFibGVkfWBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBvdGhlciBjb21tZW50cyBzZXR0aW5ncyBvbmx5IGlmIGVuYWJsZWRcblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM/LmVuYWJsZWQpIHtcblx0XHRcdC8vIFVwZGF0ZSBwcm92aWRlclxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucHJvdmlkZXIpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19QUk9WSURFUlxcXVxccypwcm92aWRlcjpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1BST1ZJREVSXVxcbiAgICAgIHByb3ZpZGVyOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5wcm92aWRlcn1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSByZXBvXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5yZXBvKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVQT1xcXVxccypyZXBvOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVQT11cXG4gICAgICByZXBvOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5yZXBvfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIHJlcG9JZFxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVwb0lkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVQT19JRFxcXVxccypyZXBvSWQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRVBPX0lEXVxcbiAgICAgIHJlcG9JZDogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVwb0lkfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIGNhdGVnb3J5XG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5jYXRlZ29yeSkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0NBVEVHT1JZXFxdXFxzKmNhdGVnb3J5OlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfQ0FURUdPUlldXFxuICAgICAgY2F0ZWdvcnk6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmNhdGVnb3J5fVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIGNhdGVnb3J5SWRcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmNhdGVnb3J5SWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19DQVRFR09SWV9JRFxcXVxccypjYXRlZ29yeUlkOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfQ0FURUdPUllfSURdXFxuICAgICAgY2F0ZWdvcnlJZDogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuY2F0ZWdvcnlJZH1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBtYXBwaW5nXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5tYXBwaW5nKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTUFQUElOR1xcXVxccyptYXBwaW5nOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTUFQUElOR11cXG4gICAgICBtYXBwaW5nOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5tYXBwaW5nfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIHN0cmljdFxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuc3RyaWN0KSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfU1RSSUNUXFxdXFxzKnN0cmljdDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1NUUklDVF1cXG4gICAgICBzdHJpY3Q6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnN0cmljdH1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSByZWFjdGlvbnNcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnJlYWN0aW9ucykge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFQUNUSU9OU1xcXVxccypyZWFjdGlvbnM6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRUFDVElPTlNdXFxuICAgICAgcmVhY3Rpb25zOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5yZWFjdGlvbnN9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgbWV0YWRhdGFcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLm1ldGFkYXRhKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTUVUQURBVEFcXF1cXHMqbWV0YWRhdGE6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19NRVRBREFUQV1cXG4gICAgICBtZXRhZGF0YTogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubWV0YWRhdGF9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgaW5wdXRQb3NpdGlvblxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuaW5wdXRQb3NpdGlvbikge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0lOUFVUX1BPU0lUSU9OXFxdXFxzKmlucHV0UG9zaXRpb246XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19JTlBVVF9QT1NJVElPTl1cXG4gICAgICBpbnB1dFBvc2l0aW9uOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5pbnB1dFBvc2l0aW9ufVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIHRoZW1lXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy50aGVtZSkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1RIRU1FXFxdXFxzKnRoZW1lOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfVEhFTUVdXFxuICAgICAgdGhlbWU6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnRoZW1lfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIGxhbmdcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmxhbmcpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MQU5HXFxdXFxzKmxhbmc6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MQU5HXVxcbiAgICAgIGxhbmc6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmxhbmd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgbG9hZGluZ1xuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubG9hZGluZykge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0xPQURJTkdcXF1cXHMqbG9hZGluZzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0xPQURJTkddXFxuICAgICAgbG9hZGluZzogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubG9hZGluZ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVmFsaWRhdGUgbWFya2VycyBhcmUgcHJlc2VudFxuXHRcdGNvbnN0IG1hcmtlclZhbGlkYXRpb24gPSB0aGlzLm1hcmtlclZhbGlkYXRvci52YWxpZGF0ZU1hcmtlcnMobW9kaWZpZWRDb25maWcpO1xuXHRcdGlmICghbWFya2VyVmFsaWRhdGlvbi52YWxpZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignXHUyNzRDIENvbmZpZyBtb2RpZmljYXRpb24gZmFpbGVkOiBNaXNzaW5nIG1hcmtlcnM6JywgbWFya2VyVmFsaWRhdGlvbi5taXNzaW5nKTtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1BsZWFzZSBlbnN1cmUgYWxsIENPTkZJRyBtYXJrZXJzIGFyZSBwcmVzZW50IGluIHlvdXIgY29uZmlnLnRzIGZpbGUnKTtcblx0XHRcdHJldHVybiBjdXJyZW50Q29uZmlnOyAvLyBSZXR1cm4gb3JpZ2luYWwgY29uZmlnIGlmIG1hcmtlcnMgYXJlIG1pc3Npbmdcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVmFsaWRhdGUgdGhlIG1vZGlmaWVkIGNvbmZpZyBoYXMgcHJvcGVyIHN5bnRheFxuXHRcdGNvbnN0IHN5bnRheFZhbGlkYXRpb24gPSB0aGlzLm1hcmtlclZhbGlkYXRvci52YWxpZGF0ZVN5bnRheChtb2RpZmllZENvbmZpZyk7XG5cdFx0aWYgKCFzeW50YXhWYWxpZGF0aW9uLnZhbGlkKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdcdTI3NEMgQ29uZmlnIG1vZGlmaWNhdGlvbiBmYWlsZWQ6IFN5bnRheCBlcnJvcnM6Jywgc3ludGF4VmFsaWRhdGlvbi5lcnJvcnMpO1xuXHRcdFx0cmV0dXJuIGN1cnJlbnRDb25maWc7IC8vIFJldHVybiBvcmlnaW5hbCBjb25maWcgaWYgc3ludGF4IGlzIGJyb2tlblxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgc2l0ZSBpbmZvcm1hdGlvblxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfVVJMXFxdXFxzKlxcblxccypzaXRlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOlNJVEVfVVJMXVxcbiAgc2l0ZTogXCIke3NldHRpbmdzLnNpdGVJbmZvLnNpdGV9XCJgXG5cdFx0KTtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX1RJVExFXFxdXFxzKlxcblxccyp0aXRsZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpTSVRFX1RJVExFXVxcbiAgdGl0bGU6IFwiJHtzZXR0aW5ncy5zaXRlSW5mby50aXRsZX1cImBcblx0XHQpO1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfREVTQ1JJUFRJT05cXF1cXHMqXFxuXFxzKmRlc2NyaXB0aW9uOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOlNJVEVfREVTQ1JJUFRJT05dXFxuICBkZXNjcmlwdGlvbjogXCIke3NldHRpbmdzLnNpdGVJbmZvLmRlc2NyaXB0aW9ufVwiYFxuXHRcdCk7XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6U0lURV9BVVRIT1JcXF1cXHMqXFxuXFxzKmF1dGhvcjpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpTSVRFX0FVVEhPUl1cXG4gIGF1dGhvcjogXCIke3NldHRpbmdzLnNpdGVJbmZvLmF1dGhvcn1cImBcblx0XHQpO1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfTEFOR1VBR0VcXF1cXHMqXFxuXFxzKmxhbmd1YWdlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOlNJVEVfTEFOR1VBR0VdXFxuICBsYW5ndWFnZTogXCIke3NldHRpbmdzLnNpdGVJbmZvLmxhbmd1YWdlfVwiYFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZhdmljb24gdGhlbWUgYWRhcHRpdmVcblx0XHRpZiAoc2V0dGluZ3Muc2l0ZUluZm8uZmF2aWNvblRoZW1lQWRhcHRpdmUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGQVZJQ09OX1RIRU1FX0FEQVBUSVZFXFxdXFxzKlxcblxccypmYXZpY29uVGhlbWVBZGFwdGl2ZTpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6RkFWSUNPTl9USEVNRV9BREFQVElWRV1cXG4gIGZhdmljb25UaGVtZUFkYXB0aXZlOiAke3NldHRpbmdzLnNpdGVJbmZvLmZhdmljb25UaGVtZUFkYXB0aXZlfWBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBkZWZhdWx0IE9HIGltYWdlIGFsdCB0ZXh0XG5cdFx0aWYgKHNldHRpbmdzLnNpdGVJbmZvLmRlZmF1bHRPZ0ltYWdlQWx0KSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkRFRkFVTFRfT0dfSU1BR0VfQUxUXFxdXFxzKlxcblxccypkZWZhdWx0T2dJbWFnZUFsdDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOkRFRkFVTFRfT0dfSU1BR0VfQUxUXVxcbiAgZGVmYXVsdE9nSW1hZ2VBbHQ6IFwiJHtzZXR0aW5ncy5zaXRlSW5mby5kZWZhdWx0T2dJbWFnZUFsdH1cImBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBuYXZpZ2F0aW9uIHBhZ2VzICh3aXRoIG5lc3RlZCBzdXBwb3J0KVxuXHRcdGNvbnN0IHNlcmlhbGl6ZU5hdmlnYXRpb25JdGVtID0gKGl0ZW06IE5hdmlnYXRpb25JdGVtLCBpbmRlbnQ6IHN0cmluZyA9ICcgICAgICAnKTogc3RyaW5nID0+IHtcblx0XHRcdGxldCByZXN1bHQgPSBgJHtpbmRlbnR9eyB0aXRsZTogXCIke2l0ZW0udGl0bGV9XCJgO1xuXHRcdFx0aWYgKGl0ZW0udXJsKSB7XG5cdFx0XHRcdHJlc3VsdCArPSBgLCB1cmw6IFwiJHtpdGVtLnVybH1cImA7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0cmVzdWx0ICs9IGAsXFxuJHtpbmRlbnR9ICBjaGlsZHJlbjogW1xcbmA7XG5cdFx0XHRcdC8vIENoaWxkcmVuIGFyZSBmbGF0IC0gdGhleSBkb24ndCBoYXZlIHRoZWlyIG93biBjaGlsZHJlblxuXHRcdFx0XHRyZXN1bHQgKz0gaXRlbS5jaGlsZHJlbi5tYXAoKGNoaWxkOiBOYXZpZ2F0aW9uSXRlbSkgPT4ge1xuXHRcdFx0XHRcdGxldCBjaGlsZFJlc3VsdCA9IGAke2luZGVudH0gICAgeyB0aXRsZTogXCIke2NoaWxkLnRpdGxlfVwiLCB1cmw6IFwiJHtjaGlsZC51cmx9XCIgfWA7XG5cdFx0XHRcdFx0cmV0dXJuIGNoaWxkUmVzdWx0O1xuXHRcdFx0XHR9KS5qb2luKCcsXFxuJyk7XG5cdFx0XHRcdHJlc3VsdCArPSBgXFxuJHtpbmRlbnR9ICBdYDtcblx0XHRcdH1cblx0XHRcdHJlc3VsdCArPSAnIH0nO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9O1xuXHRcdGNvbnN0IHBhZ2VzQXJyYXkgPSBzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzLm1hcChwYWdlID0+IHNlcmlhbGl6ZU5hdmlnYXRpb25JdGVtKHBhZ2UpKS5qb2luKCcsXFxuJyk7XG5cdFx0Ly8gTWF0Y2ggZnJvbSBDT05GSUc6TkFWSUdBVElPTl9QQUdFUyB0byBDT05GSUc6TkFWSUdBVElPTl9TT0NJQUwsIHJlcGxhY2luZyBldmVyeXRoaW5nIGluIGJldHdlZW5cblx0XHQvLyBUaGlzIGVuc3VyZXMgd2UgY2FwdHVyZSB0aGUgZW50aXJlIHBhZ2VzIGFycmF5IGluY2x1ZGluZyBuZXN0ZWQgY2hpbGRyZW5cblx0XHRjb25zdCBwYWdlc01hcmtlciA9ICcvLyBbQ09ORklHOk5BVklHQVRJT05fUEFHRVNdJztcblx0XHRjb25zdCBzb2NpYWxNYXJrZXIgPSAnLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NPQ0lBTF0nO1xuXHRcdGNvbnN0IHBhZ2VzTWFya2VySW5kZXggPSBtb2RpZmllZENvbmZpZy5pbmRleE9mKHBhZ2VzTWFya2VyKTtcblx0XHRjb25zdCBzb2NpYWxNYXJrZXJJbmRleCA9IG1vZGlmaWVkQ29uZmlnLmluZGV4T2Yoc29jaWFsTWFya2VyKTtcblx0XHRcblx0XHRpZiAocGFnZXNNYXJrZXJJbmRleCAhPT0gLTEgJiYgc29jaWFsTWFya2VySW5kZXggIT09IC0xKSB7XG5cdFx0XHQvLyBGaW5kIHRoZSBzdGFydCBvZiBwYWdlczogWyAoYWZ0ZXIgdGhlIG1hcmtlcilcblx0XHRcdGNvbnN0IHBhZ2VzQXJyYXlTdGFydCA9IG1vZGlmaWVkQ29uZmlnLmluZGV4T2YoJ3BhZ2VzOiBbJywgcGFnZXNNYXJrZXJJbmRleCk7XG5cdFx0XHRpZiAocGFnZXNBcnJheVN0YXJ0ICE9PSAtMSkge1xuXHRcdFx0XHQvLyBSZXBsYWNlIGZyb20gYWZ0ZXIgdGhlIG1hcmtlciB0byBiZWZvcmUgdGhlIHNvY2lhbCBtYXJrZXJcblx0XHRcdFx0Y29uc3QgYmVmb3JlID0gbW9kaWZpZWRDb25maWcuc3Vic3RyaW5nKDAsIHBhZ2VzTWFya2VySW5kZXggKyBwYWdlc01hcmtlci5sZW5ndGgpO1xuXHRcdFx0XHRjb25zdCBhZnRlciA9IG1vZGlmaWVkQ29uZmlnLnN1YnN0cmluZyhzb2NpYWxNYXJrZXJJbmRleCk7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gYCR7YmVmb3JlfVxcbiAgICBwYWdlczogW1xcbiR7cGFnZXNBcnJheX1cXG4gICAgXSxcXG4gICAgJHthZnRlcn1gO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvbiBzb2NpYWxcblx0XHRjb25zdCBzb2NpYWxBcnJheSA9IHNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsLm1hcCgoc29jaWFsKSA9PiB7XG5cdFx0XHRyZXR1cm4gYCAgICAgIHtcXG4gICAgICAgIHRpdGxlOiBcIiR7c29jaWFsLnRpdGxlfVwiLFxcbiAgICAgICAgdXJsOiBcIiR7c29jaWFsLnVybH1cIixcXG4gICAgICAgIGljb246IFwiJHtzb2NpYWwuaWNvbn1cIixcXG4gICAgICB9YDtcblx0XHR9KS5qb2luKCcsXFxuJyk7XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6TkFWSUdBVElPTl9TT0NJQUxcXF1cXHMqXFxuXFxzKnNvY2lhbDpcXHMqXFxbW1xcc1xcU10qP1xcXS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NPQ0lBTF1cXG4gICAgc29jaWFsOiBbXFxuJHtzb2NpYWxBcnJheX0sXFxuICAgIF1gXG5cdFx0KTtcblx0XHRcblx0XHRyZXR1cm4gbW9kaWZpZWRDb25maWc7XG5cdH1cblxuXHRtb2RpZnlDb25maWdGcm9tRmVhdHVyZXMoc2V0dGluZ3M6IEFzdHJvTW9kdWxhclNldHRpbmdzLCBjdXJyZW50Q29uZmlnOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGxldCBtb2RpZmllZENvbmZpZyA9IGN1cnJlbnRDb25maWc7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHRoZW1lXG5cdFx0Y29uc3QgdGhlbWVSZWdleCA9IC9cXC9cXC8gXFxbQ09ORklHOlRIRU1FXFxdXFxzKlxcblxccyp0aGVtZTpcXHMqXCJbXlwiXSpcIi87XG5cdFx0XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0dGhlbWVSZWdleCxcblx0XHRcdGAvLyBbQ09ORklHOlRIRU1FXVxcbiAgdGhlbWU6IFwiJHtzZXR0aW5ncy5jdXJyZW50VGhlbWV9XCJgXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgY3VzdG9tIHRoZW1lIGZpbGVcblx0XHRpZiAoc2V0dGluZ3MuY3VzdG9tVGhlbWVGaWxlKSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNVU1RPTV9USEVNRV9GSUxFXFxdXFxzKlxcblxccypjdXN0b21UaGVtZUZpbGU6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpDVVNUT01fVEhFTUVfRklMRV1cXG4gIGN1c3RvbVRoZW1lRmlsZTogXCIke3NldHRpbmdzLmN1c3RvbVRoZW1lRmlsZX1cImBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBvcHRpb25hbCBjb250ZW50IHR5cGVzXG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzKSB7XG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMucHJvamVjdHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCBwcm9qZWN0c1JlZ2V4ID0gL1xcL1xcLyBcXFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19QUk9KRUNUU1xcXVxccypcXG5cXHMqcHJvamVjdHM6XFxzKih0cnVlfGZhbHNlKS87XG5cdFx0XHRcdFxuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0cHJvamVjdHNSZWdleCxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpPUFRJT05BTF9DT05URU5UX1RZUEVTX1BST0pFQ1RTXVxcbiAgICBwcm9qZWN0czogJHtzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0c31gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMuZG9jcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnN0IGRvY3NSZWdleCA9IC9cXC9cXC8gXFxbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfRE9DU1xcXVxccypcXG5cXHMqZG9jczpcXHMqKHRydWV8ZmFsc2UpLztcblx0XHRcdFx0XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRkb2NzUmVnZXgsXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19ET0NTXVxcbiAgICBkb2NzOiAke3NldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3N9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgYXZhaWxhYmxlIHRoZW1lc1xuXHRcdGlmIChzZXR0aW5ncy5hdmFpbGFibGVUaGVtZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bGV0IGF2YWlsYWJsZVRoZW1lc1ZhbHVlOiBzdHJpbmc7XG5cdFx0XHRpZiAoc2V0dGluZ3MuYXZhaWxhYmxlVGhlbWVzID09PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0YXZhaWxhYmxlVGhlbWVzVmFsdWUgPSAnXCJkZWZhdWx0XCInO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gQ29udmVydCBhcnJheSB0byBzdHJpbmcgZm9ybWF0IGFuZCBtZXJnZSB3aXRoIGN1c3RvbSB0aGVtZXMgaWYgdGhleSBleGlzdFxuXHRcdFx0XHRsZXQgdGhlbWVzQXJyYXkgPSBbLi4uc2V0dGluZ3MuYXZhaWxhYmxlVGhlbWVzXTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIElmIGN1c3RvbSB0aGVtZXMgYXJlIHNwZWNpZmllZCwgYWRkIHRoZW0gdG8gdGhlIGFycmF5XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5jdXN0b21UaGVtZXMgJiYgc2V0dGluZ3MuY3VzdG9tVGhlbWVzLnRyaW0oKSkge1xuXHRcdFx0XHRcdGNvbnN0IGN1c3RvbVRoZW1lc0xpc3QgPSBzZXR0aW5ncy5jdXN0b21UaGVtZXMuc3BsaXQoJywnKS5tYXAodGhlbWUgPT4gdGhlbWUudHJpbSgpKS5maWx0ZXIodGhlbWUgPT4gdGhlbWUpLmZpbHRlcigodGhlbWUpOiB0aGVtZSBpcyBFeGNsdWRlPHN0cmluZywgJ2N1c3RvbSc+ID0+IHRoZW1lICE9PSAnY3VzdG9tJyk7XG5cdFx0XHRcdFx0dGhlbWVzQXJyYXkgPSBbLi4udGhlbWVzQXJyYXksIC4uLmN1c3RvbVRoZW1lc0xpc3RdIGFzIEFycmF5PEV4Y2x1ZGU8VGhlbWVUeXBlLCAnY3VzdG9tJz4+O1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCB0aGVtZXNTdHJpbmcgPSB0aGVtZXNBcnJheS5tYXAodGhlbWUgPT4gYFwiJHt0aGVtZX1cImApLmpvaW4oJywgJyk7XG5cdFx0XHRcdGF2YWlsYWJsZVRoZW1lc1ZhbHVlID0gYFske3RoZW1lc1N0cmluZ31dYDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgYXZhaWxhYmxlVGhlbWVzUmVnZXggPSAvXFwvXFwvIFxcW0NPTkZJRzpBVkFJTEFCTEVfVEhFTUVTXFxdXFxzKlxcblxccyphdmFpbGFibGVUaGVtZXM6XFxzKig/OlwiZGVmYXVsdFwifFxcW1teXFxdXSpcXF0pLztcblx0XHRcdFxuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRhdmFpbGFibGVUaGVtZXNSZWdleCxcblx0XHRcdFx0YC8vIFtDT05GSUc6QVZBSUxBQkxFX1RIRU1FU11cXG4gIGF2YWlsYWJsZVRoZW1lczogJHthdmFpbGFibGVUaGVtZXNWYWx1ZX1gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgY3VzdG9tIHRoZW1lc1xuXHRcdGlmIChzZXR0aW5ncy5jdXN0b21UaGVtZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgY3VzdG9tVGhlbWVzVmFsdWUgPSBzZXR0aW5ncy5jdXN0b21UaGVtZXMgPyBgXCIke3NldHRpbmdzLmN1c3RvbVRoZW1lc31cImAgOiAnXCJcIic7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGN1c3RvbVRoZW1lc1JlZ2V4ID0gL1xcL1xcLyBcXFtDT05GSUc6Q1VTVE9NX1RIRU1FU1xcXVxccypcXG5cXHMqY3VzdG9tVGhlbWVzOlxccypcIlteXCJdKlwiLztcblx0XHRcdFxuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRjdXN0b21UaGVtZXNSZWdleCxcblx0XHRcdFx0YC8vIFtDT05GSUc6Q1VTVE9NX1RIRU1FU11cXG4gIGN1c3RvbVRoZW1lczogJHtjdXN0b21UaGVtZXNWYWx1ZX1gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgZm9udCBzb3VyY2Vcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT05UX1NPVVJDRVxcXVxccypcXG5cXHMqc291cmNlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOkZPTlRfU09VUkNFXVxcbiAgICBzb3VyY2U6IFwiJHtzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2V9XCJgXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgZm9udCBkaXNwbGF5XG5cdFx0aWYgKHNldHRpbmdzLnR5cG9ncmFwaHkuZm9udERpc3BsYXkpIHtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9ESVNQTEFZXFxdXFxzKlxcblxccypkaXNwbGF5OlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6Rk9OVF9ESVNQTEFZXVxcbiAgICBkaXNwbGF5OiBcIiR7c2V0dGluZ3MudHlwb2dyYXBoeS5mb250RGlzcGxheX1cImBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBmb250IGZhbWlsaWVzXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9CT0RZXFxdXFxzKlxcblxccypib2R5OlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOkZPTlRfQk9EWV1cXG4gICAgICBib2R5OiBcIiR7c2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlID09PSAnY2RuJyA/IHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMucHJvc2UgOiBzZXR0aW5ncy50eXBvZ3JhcGh5LnByb3NlRm9udH1cImBcblx0XHQpO1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfSEVBRElOR1xcXVxccypcXG5cXHMqaGVhZGluZzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpGT05UX0hFQURJTkddXFxuICAgICAgaGVhZGluZzogXCIke3NldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZSA9PT0gJ2NkbicgPyBzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLmhlYWRpbmcgOiBzZXR0aW5ncy50eXBvZ3JhcGh5LmhlYWRpbmdGb250fVwiYFxuXHRcdCk7XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9NT05PXFxdXFxzKlxcblxccyptb25vOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOkZPTlRfTU9OT11cXG4gICAgICBtb25vOiBcIiR7c2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlID09PSAnY2RuJyA/IHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMubW9ubyA6IHNldHRpbmdzLnR5cG9ncmFwaHkubW9ub0ZvbnR9XCJgXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgZGVwbG95bWVudCBwbGF0Zm9ybVxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkRFUExPWU1FTlRfUExBVEZPUk1cXF1cXHMqXFxuXFxzKnBsYXRmb3JtOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOkRFUExPWU1FTlRfUExBVEZPUk1dXFxuICAgIHBsYXRmb3JtOiBcIiR7c2V0dGluZ3MuZGVwbG95bWVudC5wbGF0Zm9ybX1cImBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBsYXlvdXQgY29udGVudCB3aWR0aFxuXHRcdGlmIChzZXR0aW5ncy5sYXlvdXQ/LmNvbnRlbnRXaWR0aCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpMQVlPVVRfQ09OVEVOVF9XSURUSFxcXVxccypcXG5cXHMqY29udGVudFdpZHRoOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6TEFZT1VUX0NPTlRFTlRfV0lEVEhdXFxuICAgIGNvbnRlbnRXaWR0aDogXCIke3NldHRpbmdzLmxheW91dC5jb250ZW50V2lkdGh9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgdGFibGUgb2YgY29udGVudHMgc2V0dGluZ3Ncblx0XHRpZiAoc2V0dGluZ3MudGFibGVPZkNvbnRlbnRzKSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlRBQkxFX09GX0NPTlRFTlRTX0VOQUJMRURcXF1cXHMqXFxuXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlRBQkxFX09GX0NPTlRFTlRTX0VOQUJMRURdXFxuICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzLmVuYWJsZWR9YFxuXHRcdFx0KTtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6VEFCTEVfT0ZfQ09OVEVOVFNfREVQVEhcXF1cXHMqXFxuXFxzKmRlcHRoOlxccypcXGQrLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6VEFCTEVfT0ZfQ09OVEVOVFNfREVQVEhdXFxuICAgIGRlcHRoOiAke3NldHRpbmdzLnRhYmxlT2ZDb250ZW50cy5kZXB0aH1gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgZm9vdGVyIHNldHRpbmdzXG5cdFx0aWYgKHNldHRpbmdzLmZvb3Rlcikge1xuXHRcdFx0aWYgKHNldHRpbmdzLmZvb3Rlci5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPT1RFUl9FTkFCTEVEXFxdXFxzKlxcblxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOkZPT1RFUl9FTkFCTEVEXVxcbiAgICBlbmFibGVkOiAke3NldHRpbmdzLmZvb3Rlci5lbmFibGVkfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5mb290ZXIuY29udGVudCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9PVEVSX0NPTlRFTlRcXF1cXHMqXFxuXFxzKmNvbnRlbnQ6XFxzKmBbXmBdKmAvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOkZPT1RFUl9DT05URU5UXVxcbiAgICBjb250ZW50OiBcXGAke3NldHRpbmdzLmZvb3Rlci5jb250ZW50fVxcYGBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5mb290ZXIuc2hvd1NvY2lhbEljb25zSW5Gb290ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9PVEVSX1NIT1dfU09DSUFMX0lDT05TXFxdXFxzKlxcblxccypzaG93U29jaWFsSWNvbnNJbkZvb3RlcjpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpGT09URVJfU0hPV19TT0NJQUxfSUNPTlNdXFxuICAgIHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiAke3NldHRpbmdzLmZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3Rlcn1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBmYXZpY29uIHRoZW1lIGFkYXB0aXZlXG5cdFx0aWYgKHNldHRpbmdzLnNpdGVJbmZvPy5mYXZpY29uVGhlbWVBZGFwdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZBVklDT05fVEhFTUVfQURBUFRJVkVcXF1cXHMqXFxuXFxzKmZhdmljb25UaGVtZUFkYXB0aXZlOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpGQVZJQ09OX1RIRU1FX0FEQVBUSVZFXVxcbiAgZmF2aWNvblRoZW1lQWRhcHRpdmU6ICR7c2V0dGluZ3Muc2l0ZUluZm8uZmF2aWNvblRoZW1lQWRhcHRpdmV9YFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIFNFTyBzZXR0aW5ncyAoYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgLSBhbHNvIGNoZWNrIHNpdGVJbmZvKVxuXHRcdGNvbnN0IGRlZmF1bHRPZ0ltYWdlQWx0ID0gc2V0dGluZ3Muc2l0ZUluZm8/LmRlZmF1bHRPZ0ltYWdlQWx0IHx8IHNldHRpbmdzLnNlbz8uZGVmYXVsdE9nSW1hZ2VBbHQ7XG5cdFx0aWYgKGRlZmF1bHRPZ0ltYWdlQWx0KSB7XG5cdFx0XHQvLyBUcnkgYm90aCBtYXJrZXIgZm9ybWF0cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6U0VPX0RFRkFVTFRfT0dfSU1BR0VfQUxUXFxdXFxzKlxcblxccypkZWZhdWx0T2dJbWFnZUFsdDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlNFT19ERUZBVUxUX09HX0lNQUdFX0FMVF1cXG4gICAgZGVmYXVsdE9nSW1hZ2VBbHQ6IFwiJHtkZWZhdWx0T2dJbWFnZUFsdH1cImBcblx0XHRcdCk7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkRFRkFVTFRfT0dfSU1BR0VfQUxUXFxdXFxzKlxcblxccypkZWZhdWx0T2dJbWFnZUFsdDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOkRFRkFVTFRfT0dfSU1BR0VfQUxUXVxcbiAgZGVmYXVsdE9nSW1hZ2VBbHQ6IFwiJHtkZWZhdWx0T2dJbWFnZUFsdH1cImBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBuYXZpZ2F0aW9uIHNldHRpbmdzXG5cdFx0aWYgKHNldHRpbmdzLm5hdmlnYXRpb24pIHtcblx0XHRcdGlmIChzZXR0aW5ncy5uYXZpZ2F0aW9uLnNob3dOYXZpZ2F0aW9uICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fU0hPV19OQVZJR0FUSU9OXFxdXFxzKlxcblxccypzaG93TmF2aWdhdGlvbjpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NIT1dfTkFWSUdBVElPTl1cXG4gICAgc2hvd05hdmlnYXRpb246ICR7c2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TmF2aWdhdGlvbn1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MubmF2aWdhdGlvbi5zdHlsZSkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6TkFWSUdBVElPTl9TVFlMRVxcXVxccypcXG5cXHMqc3R5bGU6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk5BVklHQVRJT05fU1RZTEVdXFxuICAgIHN0eWxlOiBcIiR7c2V0dGluZ3MubmF2aWdhdGlvbi5zdHlsZX1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5uYXZpZ2F0aW9uLnNob3dNb2JpbGVNZW51ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fU0hPV19NT0JJTEVfTUVOVVxcXVxccypcXG5cXHMqc2hvd01vYmlsZU1lbnU6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6TkFWSUdBVElPTl9TSE9XX01PQklMRV9NRU5VXVxcbiAgICBzaG93TW9iaWxlTWVudTogJHtzZXR0aW5ncy5uYXZpZ2F0aW9uLnNob3dNb2JpbGVNZW51fWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBuYXZpZ2F0aW9uIHBhZ2VzICh3aXRoIG5lc3RlZCBzdXBwb3J0KVxuXHRcdFx0aWYgKHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXMpIHtcblx0XHRcdFx0Y29uc3Qgc2VyaWFsaXplTmF2aWdhdGlvbkl0ZW0gPSAoaXRlbTogeyB0aXRsZTogc3RyaW5nOyB1cmw/OiBzdHJpbmc7IGNoaWxkcmVuPzogQXJyYXk8eyB0aXRsZTogc3RyaW5nOyB1cmw6IHN0cmluZyB9PiB9LCBpbmRlbnQ6IHN0cmluZyA9ICcgICAgICAnKTogc3RyaW5nID0+IHtcblx0XHRcdFx0XHRsZXQgcmVzdWx0ID0gYCR7aW5kZW50fXsgdGl0bGU6IFwiJHtpdGVtLnRpdGxlfVwiYDtcblx0XHRcdFx0XHRpZiAoaXRlbS51cmwpIHtcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBgLCB1cmw6IFwiJHtpdGVtLnVybH1cImA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IGAsXFxuJHtpbmRlbnR9ICBjaGlsZHJlbjogW1xcbmA7XG5cdFx0XHRcdFx0XHQvLyBDaGlsZHJlbiBhcmUgZmxhdCAtIHRoZXkgZG9uJ3QgaGF2ZSB0aGVpciBvd24gY2hpbGRyZW5cblx0XHRcdFx0XHRcdHJlc3VsdCArPSBpdGVtLmNoaWxkcmVuLm1hcCgoY2hpbGQ6IE5hdmlnYXRpb25JdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCBjaGlsZFJlc3VsdCA9IGAke2luZGVudH0gICAgeyB0aXRsZTogXCIke2NoaWxkLnRpdGxlfVwiLCB1cmw6IFwiJHtjaGlsZC51cmx9XCIgfWA7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjaGlsZFJlc3VsdDtcblx0XHRcdFx0XHRcdH0pLmpvaW4oJyxcXG4nKTtcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBgXFxuJHtpbmRlbnR9ICBdYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzdWx0ICs9ICcgfSc7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29uc3QgcGFnZXNBcnJheSA9IHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXMubWFwKHBhZ2UgPT4gc2VyaWFsaXplTmF2aWdhdGlvbkl0ZW0ocGFnZSBhcyB7IHRpdGxlOiBzdHJpbmc7IHVybD86IHN0cmluZzsgY2hpbGRyZW4/OiBBcnJheTx7IHRpdGxlOiBzdHJpbmc7IHVybDogc3RyaW5nIH0+IH0pKS5qb2luKCcsXFxuJyk7XG5cdFx0XHRcdGNvbnN0IHBhZ2VzVmFsdWUgPSBwYWdlc0FycmF5ID8gYFtcXG4ke3BhZ2VzQXJyYXl9XFxuICAgIF1gIDogJ1tdJztcblx0XHRcdFx0Ly8gTWF0Y2ggZnJvbSBDT05GSUc6TkFWSUdBVElPTl9QQUdFUyB0byBDT05GSUc6TkFWSUdBVElPTl9TT0NJQUwsIHJlcGxhY2luZyBldmVyeXRoaW5nIGluIGJldHdlZW5cblx0XHRcdFx0Ly8gVGhpcyBlbnN1cmVzIHdlIGNhcHR1cmUgdGhlIGVudGlyZSBwYWdlcyBhcnJheSBpbmNsdWRpbmcgbmVzdGVkIGNoaWxkcmVuXG5cdFx0XHRcdGNvbnN0IHBhZ2VzTWFya2VyID0gJy8vIFtDT05GSUc6TkFWSUdBVElPTl9QQUdFU10nO1xuXHRcdFx0XHRjb25zdCBzb2NpYWxNYXJrZXIgPSAnLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NPQ0lBTF0nO1xuXHRcdFx0XHRjb25zdCBwYWdlc01hcmtlckluZGV4ID0gbW9kaWZpZWRDb25maWcuaW5kZXhPZihwYWdlc01hcmtlcik7XG5cdFx0XHRcdGNvbnN0IHNvY2lhbE1hcmtlckluZGV4ID0gbW9kaWZpZWRDb25maWcuaW5kZXhPZihzb2NpYWxNYXJrZXIpO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKHBhZ2VzTWFya2VySW5kZXggIT09IC0xICYmIHNvY2lhbE1hcmtlckluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdC8vIEZpbmQgdGhlIHN0YXJ0IG9mIHBhZ2VzOiBbIChhZnRlciB0aGUgbWFya2VyKVxuXHRcdFx0XHRcdGNvbnN0IHBhZ2VzQXJyYXlTdGFydCA9IG1vZGlmaWVkQ29uZmlnLmluZGV4T2YoJ3BhZ2VzOiBbJywgcGFnZXNNYXJrZXJJbmRleCk7XG5cdFx0XHRcdFx0aWYgKHBhZ2VzQXJyYXlTdGFydCAhPT0gLTEpIHtcblx0XHRcdFx0XHRcdC8vIFJlcGxhY2UgZnJvbSBhZnRlciB0aGUgbWFya2VyIHRvIGJlZm9yZSB0aGUgc29jaWFsIG1hcmtlclxuXHRcdFx0XHRcdFx0Y29uc3QgYmVmb3JlID0gbW9kaWZpZWRDb25maWcuc3Vic3RyaW5nKDAsIHBhZ2VzTWFya2VySW5kZXggKyBwYWdlc01hcmtlci5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0Y29uc3QgYWZ0ZXIgPSBtb2RpZmllZENvbmZpZy5zdWJzdHJpbmcoc29jaWFsTWFya2VySW5kZXgpO1xuXHRcdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBgJHtiZWZvcmV9XFxuICAgIHBhZ2VzOiAke3BhZ2VzVmFsdWV9LFxcbiAgICAke2FmdGVyfWA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvbiBzb2NpYWxcblx0XHRcdGlmIChzZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbCkge1xuXHRcdFx0XHRjb25zdCBzb2NpYWxBcnJheSA9IHNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsLm1hcChzb2NpYWwgPT4gXG5cdFx0XHRcdFx0YCAgICAgIHtcXG4gICAgICAgIHRpdGxlOiBcIiR7c29jaWFsLnRpdGxlfVwiLFxcbiAgICAgICAgdXJsOiBcIiR7c29jaWFsLnVybH1cIixcXG4gICAgICAgIGljb246IFwiJHtzb2NpYWwuaWNvbn1cIixcXG4gICAgICB9YFxuXHRcdFx0XHQpLmpvaW4oJyxcXG4nKTtcblx0XHRcdFx0Y29uc3Qgc29jaWFsVmFsdWUgPSBzb2NpYWxBcnJheSA/IGBbXFxuJHtzb2NpYWxBcnJheX0sXFxuICAgIF1gIDogJ1tdJztcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fU09DSUFMXFxdXFxzKlxcblxccypzb2NpYWw6XFxzKlxcW1tcXHNcXFNdKj9cXF0vLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk5BVklHQVRJT05fU09DSUFMXVxcbiAgICBzb2NpYWw6ICR7c29jaWFsVmFsdWV9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgY29tbWFuZCBwYWxldHRlIHNldHRpbmdzXG5cdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlKSB7XG5cdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfRU5BQkxFRFxcXVxccypcXG5cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfRU5BQkxFRF1cXG4gICAgZW5hYmxlZDogJHtzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5lbmFibGVkfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NIT1JUQ1VUXFxdXFxzKlxcblxccypzaG9ydGN1dDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NIT1JUQ1VUXVxcbiAgICBzaG9ydGN1dDogXCIke3NldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNob3J0Y3V0fVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnBsYWNlaG9sZGVyKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUExBQ0VIT0xERVJcXF1cXHMqXFxuXFxzKnBsYWNlaG9sZGVyOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUExBQ0VIT0xERVJdXFxuICAgIHBsYWNlaG9sZGVyOiBcIiR7c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXJ9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoKSB7XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gucG9zdHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUE9TVFNcXF1cXHMqXFxuXFxzKnBvc3RzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QT1NUU11cXG4gICAgICBwb3N0czogJHtzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gucG9zdHN9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaC5wYWdlcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QQUdFU1xcXVxccypcXG5cXHMqcGFnZXM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BBR0VTXVxcbiAgICAgIHBhZ2VzOiAke3NldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaC5wYWdlc31gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLnByb2plY3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BST0pFQ1RTXFxdXFxzKlxcblxccypwcm9qZWN0czpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUFJPSkVDVFNdXFxuICAgICAgcHJvamVjdHM6ICR7c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLnByb2plY3RzfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2guZG9jcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9ET0NTXFxdXFxzKlxcblxccypkb2NzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9ET0NTXVxcbiAgICAgIGRvY3M6ICR7c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLmRvY3N9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucykge1xuXHRcdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMucXVpY2tBY3Rpb25zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUVVJQ0tfQUNUSU9OU1xcXVxccypcXG5cXHMqcXVpY2tBY3Rpb25zOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1FVSUNLX0FDVElPTlNdXFxuICAgICAgcXVpY2tBY3Rpb25zOiAke3NldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnF1aWNrQWN0aW9uc31gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMucGFnZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19QQUdFU1xcXVxccypcXG5cXHMqcGFnZXM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUEFHRVNdXFxuICAgICAgcGFnZXM6ICR7c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMucGFnZXN9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnNvY2lhbCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1NPQ0lBTFxcXVxccypcXG5cXHMqc29jaWFsOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1NPQ0lBTF1cXG4gICAgICBzb2NpYWw6ICR7c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMuc29jaWFsfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBob21lT3B0aW9uc1xuXHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucykge1xuXHRcdFx0aWYgKHNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCkge1xuXHRcdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0LmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX0VOQUJMRURcXF1cXHMqXFxuXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfRkVBVFVSRURfUE9TVF9FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0LmVuYWJsZWR9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdC50eXBlKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfVFlQRVxcXVxccypcXG5cXHMqdHlwZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfRkVBVFVSRURfUE9TVF9UWVBFXVxcbiAgICAgIHR5cGU6IFwiJHtzZXR0aW5ncy5ob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QudHlwZX1cImBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5mZWF0dXJlZFBvc3Quc2x1Zykge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX1NMVUdcXF1cXHMqXFxuXFxzKnNsdWc6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfU0xVR11cXG4gICAgICBzbHVnOiBcIiR7c2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0LnNsdWd9XCJgXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHNldHRpbmdzLmhvbWVPcHRpb25zLnJlY2VudFBvc3RzKSB7XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5yZWNlbnRQb3N0cy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfUkVDRU5UX1BPU1RTX0VOQUJMRURcXF1cXHMqXFxuXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfUkVDRU5UX1BPU1RTX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtzZXR0aW5ncy5ob21lT3B0aW9ucy5yZWNlbnRQb3N0cy5lbmFibGVkfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5yZWNlbnRQb3N0cy5jb3VudCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19SRUNFTlRfUE9TVFNfQ09VTlRcXF1cXHMqXFxuXFxzKmNvdW50OlxccypcXGQrLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19SRUNFTlRfUE9TVFNfQ09VTlRdXFxuICAgICAgY291bnQ6ICR7c2V0dGluZ3MuaG9tZU9wdGlvbnMucmVjZW50UG9zdHMuY291bnR9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cykge1xuXHRcdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMucHJvamVjdHMuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0VOQUJMRURcXF1cXHMqXFxuXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfUFJPSkVDVFNfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke3NldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzLmVuYWJsZWR9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzLmNvdW50KSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0NPVU5UXFxdXFxzKlxcblxccypjb3VudDpcXHMqXFxkKy8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfUFJPSkVDVFNfQ09VTlRdXFxuICAgICAgY291bnQ6ICR7c2V0dGluZ3MuaG9tZU9wdGlvbnMucHJvamVjdHMuY291bnR9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5kb2NzKSB7XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5kb2NzLmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19ET0NTX0VOQUJMRURcXF1cXHMqXFxuXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3MuaG9tZU9wdGlvbnMuZG9jcy5lbmFibGVkfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5kb2NzLmNvdW50KSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX0RPQ1NfQ09VTlRcXF1cXHMqXFxuXFxzKmNvdW50OlxccypcXGQrLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19ET0NTX0NPVU5UXVxcbiAgICAgIGNvdW50OiAke3NldHRpbmdzLmhvbWVPcHRpb25zLmRvY3MuY291bnR9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5ibHVyYj8ucGxhY2VtZW50KSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfQkxVUkJfUExBQ0VNRU5UXFxdXFxzKlxcblxccypwbGFjZW1lbnQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19CTFVSQl9QTEFDRU1FTlRdXFxuICAgICAgcGxhY2VtZW50OiBcIiR7c2V0dGluZ3MuaG9tZU9wdGlvbnMuYmx1cmIucGxhY2VtZW50fVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgcG9zdE9wdGlvbnNcblx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy5wb3N0c1BlclBhZ2UpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUU19QRVJfUEFHRVxcXVxccypcXG5cXHMqcG9zdHNQZXJQYWdlOlxccypcXGQrLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVFNfUEVSX1BBR0VdXFxuICAgIHBvc3RzUGVyUGFnZTogJHtzZXR0aW5ncy5wb3N0T3B0aW9ucy5wb3N0c1BlclBhZ2V9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zLndvcmRDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfV09SRF9DT1VOVFxcXVxccypcXG5cXHMqd29yZENvdW50OlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19XT1JEX0NPVU5UXVxcbiAgICB3b3JkQ291bnQ6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnMud29yZENvdW50fWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy50YWdzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19UQUdTXFxdXFxzKlxcblxccyp0YWdzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19UQUdTXVxcbiAgICB0YWdzOiAke3NldHRpbmdzLnBvc3RPcHRpb25zLnRhZ3N9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zKSB7XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfQ09NUEFDVFxcXVxccypcXG5cXHMqbGlua2VkTWVudGlvbnNDb21wYWN0OlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0xJTktFRF9NRU5USU9OU19DT01QQUNUXVxcbiAgICAgIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogJHtzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3R9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcpIHtcblx0XHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5zaG93SW5TaWRlYmFyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19TSE9XX0lOX1NJREVCQVJcXF1cXHMqXFxuXFxzKnNob3dJblNpZGViYXI6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19TSE9XX0lOX1NJREVCQVJdXFxuICAgICAgc2hvd0luU2lkZWJhcjogJHtzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuc2hvd0luU2lkZWJhcn1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3Lm1heE5vZGVzKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfTUFYX05PREVTXFxdXFxzKlxcblxccyptYXhOb2RlczpcXHMqXFxkKy8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19NQVhfTk9ERVNdXFxuICAgICAgbWF4Tm9kZXM6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3Lm1heE5vZGVzfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuc2hvd09ycGhhbmVkUG9zdHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX1NIT1dfT1JQSEFORURfUE9TVFNcXF1cXHMqXFxuXFxzKnNob3dPcnBoYW5lZFBvc3RzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfU0hPV19PUlBIQU5FRF9QT1NUU11cXG4gICAgICBzaG93T3JwaGFuZWRQb3N0czogJHtzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuc2hvd09ycGhhbmVkUG9zdHN9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy5jdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ1VTVE9NX1BPU1RfQ0FSRF9BU1BFQ1RfUkFUSU9cXF1cXHMqXFxuXFxzKmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DVVNUT01fUE9TVF9DQVJEX0FTUEVDVF9SQVRJT11cXG4gICAgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogXCIke3NldHRpbmdzLnBvc3RPcHRpb25zLmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW99XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBjb21tYW5kIHBhbGV0dGUgZW5hYmxlZCBzdGF0ZSBmcm9tIGZlYXR1cmVzIChiYWNrd2FyZCBjb21wYXQpXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX0VOQUJMRURcXF1cXHMqXFxuXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfRU5BQkxFRF1cXG4gICAgZW5hYmxlZDogJHtzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyBzZXR0aW5ncy5mZWF0dXJlcy5jb21tYW5kUGFsZXR0ZX1gXG5cdFx0KTtcblx0XHRcblx0XHRcblx0XHQvLyBVcGRhdGUgcmVhZGluZyB0aW1lXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1JFQURJTkdfVElNRVxcXVxccypyZWFkaW5nVGltZTpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19SRUFESU5HX1RJTUVdXFxuICAgIHJlYWRpbmdUaW1lOiAke3NldHRpbmdzLmZlYXR1cmVzLnJlYWRpbmdUaW1lfWBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSB3b3JkIGNvdW50IChmcm9tIHBvc3RPcHRpb25zLCBub3QgZmVhdHVyZXMpXG5cdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zPy53b3JkQ291bnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfV09SRF9DT1VOVFxcXVxccyp3b3JkQ291bnQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19XT1JEX0NPVU5UXVxcbiAgICB3b3JkQ291bnQ6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnMud29yZENvdW50fWBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSB0YWdzIChmcm9tIHBvc3RPcHRpb25zLCBub3QgZmVhdHVyZXMpXG5cdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zPy50YWdzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1RBR1NcXF1cXHMqdGFnczpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX1RBR1NdXFxuICAgIHRhZ3M6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnMudGFnc31gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgbGlua2VkIG1lbnRpb25zIGVuYWJsZWRcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke3NldHRpbmdzLmZlYXR1cmVzLmxpbmtlZE1lbnRpb25zfWBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBsaW5rZWQgbWVudGlvbnMgY29tcGFjdFxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfQ09NUEFDVFxcXVxccypsaW5rZWRNZW50aW9uc0NvbXBhY3Q6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0NPTVBBQ1RdXFxuICAgICAgbGlua2VkTWVudGlvbnNDb21wYWN0OiAke3NldHRpbmdzLmZlYXR1cmVzLmxpbmtlZE1lbnRpb25zQ29tcGFjdCA/PyBmYWxzZX1gXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgY29tbWVudHMgZW5hYmxlZCAtIHVzZSBvcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWQgbGlrZSBwcm9maWxlIHBpY3R1cmVcblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM/LmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZH1gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgb3RoZXIgY29tbWVudHMgc2V0dGluZ3Mgb25seSBpZiBjb21tZW50cyBleGlzdCBBTkQgYXJlIGVuYWJsZWRcblx0XHQvLyBUaGlzIHByZXZlbnRzIHVwZGF0aW5nIGNvbmZpZy50cyB3aXRoIGNvbW1lbnQgdmFsdWVzIHdoZW4gY29tbWVudHMgYXJlIGRpc2FibGVkXG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzICYmIHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZCkge1xuXHRcdFx0Ly8gVXBkYXRlIHByb3ZpZGVyIC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5wcm92aWRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUFJPVklERVJcXF1cXHMqcHJvdmlkZXI6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19QUk9WSURFUl1cXG4gICAgICBwcm92aWRlcjogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucHJvdmlkZXIgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgcmVwbyAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVwbyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVQT1xcXVxccypyZXBvOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVQT11cXG4gICAgICByZXBvOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5yZXBvIHx8ICcnfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIHJlcG9JZCAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVwb0lkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRVBPX0lEXFxdXFxzKnJlcG9JZDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFUE9fSURdXFxuICAgICAgcmVwb0lkOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5yZXBvSWQgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgY2F0ZWdvcnkgLSBhbHdheXMgdXBkYXRlIGlmIGl0IGV4aXN0cyBpbiBzZXR0aW5ncyAoZXZlbiBpZiBlbXB0eSlcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmNhdGVnb3J5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19DQVRFR09SWVxcXVxccypjYXRlZ29yeTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0NBVEVHT1JZXVxcbiAgICAgIGNhdGVnb3J5OiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5jYXRlZ29yeSB8fCAnJ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBjYXRlZ29yeUlkIC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5jYXRlZ29yeUlkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19DQVRFR09SWV9JRFxcXVxccypjYXRlZ29yeUlkOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfQ0FURUdPUllfSURdXFxuICAgICAgY2F0ZWdvcnlJZDogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuY2F0ZWdvcnlJZCB8fCAnJ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBtYXBwaW5nIC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5tYXBwaW5nICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19NQVBQSU5HXFxdXFxzKm1hcHBpbmc6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19NQVBQSU5HXVxcbiAgICAgIG1hcHBpbmc6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLm1hcHBpbmcgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgc3RyaWN0IC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5zdHJpY3QgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1NUUklDVFxcXVxccypzdHJpY3Q6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19TVFJJQ1RdXFxuICAgICAgc3RyaWN0OiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5zdHJpY3QgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgcmVhY3Rpb25zIC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5yZWFjdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFQUNUSU9OU1xcXVxccypyZWFjdGlvbnM6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRUFDVElPTlNdXFxuICAgICAgcmVhY3Rpb25zOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5yZWFjdGlvbnMgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgbWV0YWRhdGEgLSBhbHdheXMgdXBkYXRlIGlmIGl0IGV4aXN0cyBpbiBzZXR0aW5ncyAoZXZlbiBpZiBlbXB0eSlcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLm1ldGFkYXRhICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19NRVRBREFUQVxcXVxccyptZXRhZGF0YTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX01FVEFEQVRBXVxcbiAgICAgIG1ldGFkYXRhOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5tZXRhZGF0YSB8fCAnJ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBpbnB1dFBvc2l0aW9uIC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5pbnB1dFBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19JTlBVVF9QT1NJVElPTlxcXVxccyppbnB1dFBvc2l0aW9uOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfSU5QVVRfUE9TSVRJT05dXFxuICAgICAgaW5wdXRQb3NpdGlvbjogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuaW5wdXRQb3NpdGlvbiB8fCAnJ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSB0aGVtZSAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMudGhlbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1RIRU1FXFxdXFxzKnRoZW1lOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfVEhFTUVdXFxuICAgICAgdGhlbWU6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnRoZW1lIHx8ICcnfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIGxhbmcgLSBhbHdheXMgdXBkYXRlIGlmIGl0IGV4aXN0cyBpbiBzZXR0aW5ncyAoZXZlbiBpZiBlbXB0eSlcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmxhbmcgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0xBTkdcXF1cXHMqbGFuZzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0xBTkddXFxuICAgICAgbGFuZzogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubGFuZyB8fCAnJ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBsb2FkaW5nIC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5sb2FkaW5nICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MT0FESU5HXFxdXFxzKmxvYWRpbmc6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MT0FESU5HXVxcbiAgICAgIGxvYWRpbmc6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmxvYWRpbmcgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBncmFwaCB2aWV3IGVuYWJsZWQgLSB1c2UgcG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgYXMgc291cmNlIG9mIHRydXRoXG5cdFx0Ly8gTk9UIGZlYXR1cmVzLmdyYXBoVmlldyB3aGljaCBvbmx5IGNvbnRyb2xzIHRoZSBVSSB0b2dnbGVcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldz8uZW5hYmxlZCA/PyBzZXR0aW5ncy5mZWF0dXJlcy5ncmFwaFZpZXd9YFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHBvc3QgbmF2aWdhdGlvblxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUX05BVklHQVRJT05cXF1cXHMqcG9zdE5hdmlnYXRpb246XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVF9OQVZJR0FUSU9OXVxcbiAgICBwb3N0TmF2aWdhdGlvbjogJHtzZXR0aW5ncy5mZWF0dXJlcy5wb3N0TmF2aWdhdGlvbn1gXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgaGlkZSBzY3JvbGwgYmFyXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcL1xccypcXFtDT05GSUc6SElERV9TQ1JPTExfQkFSXFxdXFxzKmhpZGVTY3JvbGxCYXI6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy9bQ09ORklHOkhJREVfU0NST0xMX0JBUl1cXG4gIGhpZGVTY3JvbGxCYXI6ICR7c2V0dGluZ3MuZmVhdHVyZXMuaGlkZVNjcm9sbEJhcn1gXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgc2Nyb2xsIHRvIHRvcFxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlNDUk9MTF9UT19UT1BcXF1cXHMqc2Nyb2xsVG9Ub3A6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpTQ1JPTExfVE9fVE9QXVxcbiAgc2Nyb2xsVG9Ub3A6ICR7c2V0dGluZ3MuZmVhdHVyZXMuc2Nyb2xsVG9Ub3B9YFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHNvY2lhbCBpY29ucyBpbiBmb290ZXJcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT09URVJfU0hPV19TT0NJQUxfSUNPTlNcXF1cXHMqc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6XFxzKlteLFxcbn1dKy8sXG5cdFx0XHRgLy8gW0NPTkZJRzpGT09URVJfU0hPV19TT0NJQUxfSUNPTlNdXFxuICAgIHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiAke3NldHRpbmdzLmZlYXR1cmVzLnNob3dTb2NpYWxJY29uc0luRm9vdGVyfWBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBmZWF0dXJlIGJ1dHRvblxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZFQVRVUkVfQlVUVE9OXFxdXFxzKmZlYXR1cmVCdXR0b246XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6RkVBVFVSRV9CVVRUT05dXFxuICBmZWF0dXJlQnV0dG9uOiBcIiR7c2V0dGluZ3MuZmVhdHVyZXMuZmVhdHVyZUJ1dHRvbn1cImBcblx0XHQpO1xuXHRcdFxuXHQvLyBVcGRhdGUgcXVpY2sgYWN0aW9ucyBzZXR0aW5nc1xuXHRpZiAoc2V0dGluZ3MuZmVhdHVyZXM/LnF1aWNrQWN0aW9ucykge1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMuZW5hYmxlZH1gXG5cdFx0KTtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19UT0dHTEVfTU9ERVxcXVxccyp0b2dnbGVNb2RlOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfVE9HR0xFX01PREVdXFxuICAgICAgdG9nZ2xlTW9kZTogJHtzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMudG9nZ2xlTW9kZX1gXG5cdFx0KTtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19HUkFQSF9WSUVXXFxdXFxzKmdyYXBoVmlldzpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0dSQVBIX1ZJRVddXFxuICAgICAgZ3JhcGhWaWV3OiAke3NldHRpbmdzLmZlYXR1cmVzLnF1aWNrQWN0aW9ucy5ncmFwaFZpZXd9YFxuXHRcdCk7XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfQ0hBTkdFX1RIRU1FXFxdXFxzKmNoYW5nZVRoZW1lOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfQ0hBTkdFX1RIRU1FXVxcbiAgICAgIGNoYW5nZVRoZW1lOiAke3NldHRpbmdzLmZlYXR1cmVzLnF1aWNrQWN0aW9ucy5jaGFuZ2VUaGVtZX1gXG5cdFx0KTtcblx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBwb3N0IGNhcmQgY292ZXIgaW1hZ2VzXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1NIT1dfUE9TVF9DQVJEX0NPVkVSX0lNQUdFU1xcXVxccypzaG93UG9zdENhcmRDb3ZlckltYWdlczpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfU0hPV19QT1NUX0NBUkRfQ09WRVJfSU1BR0VTXVxcbiAgICBzaG93UG9zdENhcmRDb3ZlckltYWdlczogXCIke3NldHRpbmdzLnBvc3RPcHRpb25zLnNob3dQb3N0Q2FyZENvdmVySW1hZ2VzfVwiYFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHBvc3QgY2FyZCBhc3BlY3QgcmF0aW9cblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVF9DQVJEX0FTUEVDVF9SQVRJT1xcXVxccypwb3N0Q2FyZEFzcGVjdFJhdGlvOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUX0NBUkRfQVNQRUNUX1JBVElPXVxcbiAgICBwb3N0Q2FyZEFzcGVjdFJhdGlvOiBcIiR7c2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdENhcmRBc3BlY3RSYXRpb31cImBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBjdXN0b20gcG9zdCBjYXJkIGFzcGVjdCByYXRpbyBpZiBpdCBleGlzdHNcblx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMuY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbykge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ1VTVE9NX1BPU1RfQ0FSRF9BU1BFQ1RfUkFUSU9cXF1cXHMqY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DVVNUT01fUE9TVF9DQVJEX0FTUEVDVF9SQVRJT11cXG4gICAgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogXCIke3NldHRpbmdzLnBvc3RPcHRpb25zLmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW99XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgcHJvZmlsZSBwaWN0dXJlIHNldHRpbmdzIC0gYWx3YXlzIHVwZGF0ZSBlbmFibGVkIHN0YXRlLCBvdGhlciBzZXR0aW5ncyBvbmx5IGlmIGVuYWJsZWRcblx0XHQvLyBVcGRhdGUgZW5hYmxlZCBzdGF0ZSAoYWx3YXlzIHVwZGF0ZSB0aGlzKVxuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8uZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9FTkFCTEVEXVxcbiAgICBlbmFibGVkOiAke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUuZW5hYmxlZH1gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgb3RoZXIgcHJvZmlsZSBwaWN0dXJlIHNldHRpbmdzIG9ubHkgaWYgZW5hYmxlZFxuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8uZW5hYmxlZCkge1xuXHRcdFx0Ly8gVXBkYXRlIGltYWdlXG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9JTUFHRVxcXVxccyppbWFnZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9JTUFHRV1cXG4gICAgaW1hZ2U6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmltYWdlfVwiYFxuXHRcdFx0KTtcblx0XHRcdC8vIFVwZGF0ZSBhbHRcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX0FMVFxcXVxccyphbHQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfQUxUXVxcbiAgICBhbHQ6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmFsdH1cImBcblx0XHRcdCk7XG5cdFx0XHQvLyBVcGRhdGUgc2l6ZVxuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfU0laRVxcXVxccypzaXplOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX1NJWkVdXFxuICAgIHNpemU6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLnNpemV9XCJgXG5cdFx0XHQpO1xuXHRcdFx0Ly8gVXBkYXRlIHVybFxuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfVVJMXFxdXFxzKnVybDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9VUkxdXFxuICAgIHVybDogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUudXJsIHx8ICcnfVwiYFxuXHRcdFx0KTtcblx0XHRcdC8vIFVwZGF0ZSBwbGFjZW1lbnRcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX1BMQUNFTUVOVFxcXVxccypwbGFjZW1lbnQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfUExBQ0VNRU5UXVxcbiAgICBwbGFjZW1lbnQ6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLnBsYWNlbWVudH1cImBcblx0XHRcdCk7XG5cdFx0XHQvLyBVcGRhdGUgc3R5bGVcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX1NUWUxFXFxdXFxzKnN0eWxlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX1NUWUxFXVxcbiAgICBzdHlsZTogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUuc3R5bGV9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gbW9kaWZpZWRDb25maWc7XG5cdH1cbn1cbiIsICJ7XHJcblx0XCJuYW1lXCI6IFwiU3RhbmRhcmRcIixcclxuXHRcImRlc2NyaXB0aW9uXCI6IFwiRnVsbC1mZWF0dXJlZCBibG9nIHdpdGggYWxsIG9wdGlvbnMgZW5hYmxlZFwiLFxyXG5cdFwiY29uZmlnXCI6IHtcclxuXHRcdFwiY3VycmVudFRlbXBsYXRlXCI6IFwic3RhbmRhcmRcIixcclxuXHRcdFwiZmVhdHVyZXNcIjoge1xyXG5cdFx0XHRcImNvbW1hbmRQYWxldHRlXCI6IHRydWUsXHJcblx0XHRcdFwicmVhZGluZ1RpbWVcIjogdHJ1ZSxcclxuXHRcdFx0XCJsaW5rZWRNZW50aW9uc1wiOiB0cnVlLFxyXG5cdFx0XHRcImxpbmtlZE1lbnRpb25zQ29tcGFjdFwiOiBmYWxzZSxcclxuXHRcdFx0XCJncmFwaFZpZXdcIjogdHJ1ZSxcclxuXHRcdFx0XCJwb3N0TmF2aWdhdGlvblwiOiB0cnVlLFxyXG5cdFx0XHRcImhpZGVTY3JvbGxCYXJcIjogZmFsc2UsXHJcblx0XHRcdFwic2Nyb2xsVG9Ub3BcIjogdHJ1ZSxcclxuXHRcdFx0XCJzaG93U29jaWFsSWNvbnNJbkZvb3RlclwiOiB0cnVlLFxyXG5cdFx0XHRcInByb2ZpbGVQaWN0dXJlXCI6IGZhbHNlLFxyXG5cdFx0XHRcImNvbW1lbnRzXCI6IGZhbHNlLFxyXG5cdFx0XHRcImZlYXR1cmVCdXR0b25cIjogXCJtb2RlXCIsXHJcblx0XHRcdFwicXVpY2tBY3Rpb25zXCI6IHtcclxuXHRcdFx0XHRcImVuYWJsZWRcIjogdHJ1ZSxcclxuXHRcdFx0XHRcInRvZ2dsZU1vZGVcIjogdHJ1ZSxcclxuXHRcdFx0XHRcImdyYXBoVmlld1wiOiB0cnVlLFxyXG5cdFx0XHRcdFwiY2hhbmdlVGhlbWVcIjogdHJ1ZVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XCJ0YWJsZU9mQ29udGVudHNcIjoge1xyXG5cdFx0XHRcImVuYWJsZWRcIjogdHJ1ZSxcclxuXHRcdFx0XCJkZXB0aFwiOiA0XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJ7XHJcblx0XCJuYW1lXCI6IFwiTWluaW1hbFwiLFxyXG5cdFwiZGVzY3JpcHRpb25cIjogXCJDbGVhbiwgc2ltcGxlIGJsb2cgd2l0aCBtaW5pbWFsIGZlYXR1cmVzXCIsXHJcblx0XCJjb25maWdcIjoge1xyXG5cdFx0XCJjdXJyZW50VGVtcGxhdGVcIjogXCJtaW5pbWFsXCIsXHJcblx0XHRcImZlYXR1cmVzXCI6IHtcclxuXHRcdFx0XCJjb21tYW5kUGFsZXR0ZVwiOiB0cnVlLFxyXG5cdFx0XHRcInJlYWRpbmdUaW1lXCI6IGZhbHNlLFxyXG5cdFx0XHRcImxpbmtlZE1lbnRpb25zXCI6IGZhbHNlLFxyXG5cdFx0XHRcImxpbmtlZE1lbnRpb25zQ29tcGFjdFwiOiBmYWxzZSxcclxuXHRcdFx0XCJncmFwaFZpZXdcIjogZmFsc2UsXHJcblx0XHRcdFwicG9zdE5hdmlnYXRpb25cIjogZmFsc2UsXHJcblx0XHRcdFwiaGlkZVNjcm9sbEJhclwiOiB0cnVlLFxyXG5cdFx0XHRcInNjcm9sbFRvVG9wXCI6IGZhbHNlLFxyXG5cdFx0XHRcInNob3dTb2NpYWxJY29uc0luRm9vdGVyXCI6IGZhbHNlLFxyXG5cdFx0XHRcInByb2ZpbGVQaWN0dXJlXCI6IGZhbHNlLFxyXG5cdFx0XHRcImNvbW1lbnRzXCI6IGZhbHNlLFxyXG5cdFx0XHRcImZlYXR1cmVCdXR0b25cIjogXCJub25lXCIsXHJcblx0XHRcdFwicXVpY2tBY3Rpb25zXCI6IHtcclxuXHRcdFx0XHRcImVuYWJsZWRcIjogZmFsc2UsXHJcblx0XHRcdFx0XCJ0b2dnbGVNb2RlXCI6IGZhbHNlLFxyXG5cdFx0XHRcdFwiZ3JhcGhWaWV3XCI6IGZhbHNlLFxyXG5cdFx0XHRcdFwiY2hhbmdlVGhlbWVcIjogZmFsc2VcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFwidGFibGVPZkNvbnRlbnRzXCI6IHtcclxuXHRcdFx0XCJlbmFibGVkXCI6IGZhbHNlLFxyXG5cdFx0XHRcImRlcHRoXCI6IDRcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgIntcclxuXHRcIm5hbWVcIjogXCJDb21wYWN0XCIsXHJcblx0XCJkZXNjcmlwdGlvblwiOiBcIkJhbGFuY2VkIHNldHVwIGZvciBzbWFsbGVyIHNpdGVzXCIsXHJcblx0XCJjb25maWdcIjoge1xyXG5cdFx0XCJjdXJyZW50VGVtcGxhdGVcIjogXCJjb21wYWN0XCIsXHJcblx0XHRcImZlYXR1cmVzXCI6IHtcclxuXHRcdFx0XCJjb21tYW5kUGFsZXR0ZVwiOiB0cnVlLFxyXG5cdFx0XHRcInJlYWRpbmdUaW1lXCI6IHRydWUsXHJcblx0XHRcdFwibGlua2VkTWVudGlvbnNcIjogdHJ1ZSxcclxuXHRcdFx0XCJsaW5rZWRNZW50aW9uc0NvbXBhY3RcIjogdHJ1ZSxcclxuXHRcdFx0XCJncmFwaFZpZXdcIjogZmFsc2UsXHJcblx0XHRcdFwicG9zdE5hdmlnYXRpb25cIjogdHJ1ZSxcclxuXHRcdFx0XCJoaWRlU2Nyb2xsQmFyXCI6IGZhbHNlLFxyXG5cdFx0XHRcInNjcm9sbFRvVG9wXCI6IHRydWUsXHJcblx0XHRcdFwic2hvd1NvY2lhbEljb25zSW5Gb290ZXJcIjogZmFsc2UsXHJcblx0XHRcdFwicHJvZmlsZVBpY3R1cmVcIjogZmFsc2UsXHJcblx0XHRcdFwiY29tbWVudHNcIjogZmFsc2UsXHJcblx0XHRcdFwiZmVhdHVyZUJ1dHRvblwiOiBcIm5vbmVcIixcclxuXHRcdFx0XCJxdWlja0FjdGlvbnNcIjoge1xyXG5cdFx0XHRcdFwiZW5hYmxlZFwiOiB0cnVlLFxyXG5cdFx0XHRcdFwidG9nZ2xlTW9kZVwiOiB0cnVlLFxyXG5cdFx0XHRcdFwiZ3JhcGhWaWV3XCI6IGZhbHNlLFxyXG5cdFx0XHRcdFwiY2hhbmdlVGhlbWVcIjogdHJ1ZVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XCJ0YWJsZU9mQ29udGVudHNcIjoge1xyXG5cdFx0XHRcImVuYWJsZWRcIjogdHJ1ZSxcclxuXHRcdFx0XCJkZXB0aFwiOiAyXHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IEFzdHJvTW9kdWxhclNldHRpbmdzLCBQcmVzZXRUZW1wbGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgQ29uZmlnRmlsZU1hbmFnZXIgfSBmcm9tICcuL2NvbmZpZy9Db25maWdGaWxlTWFuYWdlcic7XHJcbmltcG9ydCB7IENvbmZpZ1ByZXNldE1vZGlmaWVyIH0gZnJvbSAnLi9jb25maWcvQ29uZmlnUHJlc2V0TW9kaWZpZXInO1xyXG5pbXBvcnQgKiBhcyBzdGFuZGFyZFByZXNldCBmcm9tICcuLi9wcmVzZXRzL3N0YW5kYXJkLmpzb24nO1xyXG5pbXBvcnQgKiBhcyBtaW5pbWFsUHJlc2V0IGZyb20gJy4uL3ByZXNldHMvbWluaW1hbC5qc29uJztcclxuaW1wb3J0ICogYXMgY29tcGFjdFByZXNldCBmcm9tICcuLi9wcmVzZXRzL2NvbXBhY3QuanNvbic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlnTWFuYWdlciB7XHJcblx0cHJpdmF0ZSBhcHA6IEFwcDtcclxuXHRwdWJsaWMgZmlsZU1hbmFnZXI6IENvbmZpZ0ZpbGVNYW5hZ2VyO1xyXG5cdHByaXZhdGUgcHJlc2V0TW9kaWZpZXI6IENvbmZpZ1ByZXNldE1vZGlmaWVyO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG5cdFx0dGhpcy5hcHAgPSBhcHA7XHJcblx0XHR0aGlzLmZpbGVNYW5hZ2VyID0gbmV3IENvbmZpZ0ZpbGVNYW5hZ2VyKGFwcCk7XHJcblx0XHR0aGlzLnByZXNldE1vZGlmaWVyID0gbmV3IENvbmZpZ1ByZXNldE1vZGlmaWVyKCk7XHJcblx0fVxyXG5cclxuXHRnZXRDb25maWdGaWxlSW5mbygpIHtcclxuXHRcdHJldHVybiB0aGlzLmZpbGVNYW5hZ2VyLmdldENvbmZpZ0ZpbGVJbmZvKCk7XHJcblx0fVxyXG5cclxuXHRyZWFkQ29uZmlnKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5maWxlTWFuYWdlci5yZWFkQ29uZmlnKCk7XHJcblx0fVxyXG5cclxuXHR3cml0ZUNvbmZpZyhjb250ZW50OiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmZpbGVNYW5hZ2VyLndyaXRlQ29uZmlnKGNvbnRlbnQpO1xyXG5cdH1cclxuXHJcblx0YXBwbHlQcmVzZXQocHJlc2V0OiBQcmVzZXRUZW1wbGF0ZSk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gUmVhZCB0aGUgZXhpc3RpbmcgY29uZmlnIGZpbGVcclxuXHRcdGNvbnN0IGN1cnJlbnRDb25maWcgPSB0aGlzLnJlYWRDb25maWcoKTtcclxuXHRcdFxyXG5cdFx0Ly8gTW9kaWZ5IHRoZSBleGlzdGluZyBjb25maWcgYmFzZWQgb24gdGhlIHByZXNldFxyXG5cdFx0Y29uc3QgbW9kaWZpZWRDb25maWcgPSB0aGlzLnByZXNldE1vZGlmaWVyLm1vZGlmeUNvbmZpZ0Zyb21QcmVzZXQocHJlc2V0LCBjdXJyZW50Q29uZmlnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3Qgd3JpdGVSZXN1bHQgPSB0aGlzLndyaXRlQ29uZmlnKG1vZGlmaWVkQ29uZmlnKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHdyaXRlUmVzdWx0O1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZGV0ZWN0QXN0cm9EZXZTZXJ2ZXIoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5maWxlTWFuYWdlci5kZXRlY3RBc3Ryb0RldlNlcnZlcigpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlSW5kaXZpZHVhbEZlYXR1cmVzKHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gUmVhZCB0aGUgZXhpc3RpbmcgY29uZmlnIGZpbGVcclxuXHRcdGNvbnN0IGN1cnJlbnRDb25maWcgPSB0aGlzLnJlYWRDb25maWcoKTtcclxuXHRcdFxyXG5cdFx0Ly8gTW9kaWZ5IHRoZSBleGlzdGluZyBjb25maWcgYmFzZWQgb24gaW5kaXZpZHVhbCBmZWF0dXJlc1xyXG5cdFx0Y29uc3QgbW9kaWZpZWRDb25maWcgPSB0aGlzLnByZXNldE1vZGlmaWVyLm1vZGlmeUNvbmZpZ0Zyb21GZWF0dXJlcyhzZXR0aW5ncywgY3VycmVudENvbmZpZyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHdyaXRlUmVzdWx0ID0gdGhpcy53cml0ZUNvbmZpZyhtb2RpZmllZENvbmZpZyk7XHJcblx0XHRcclxuXHRcdHJldHVybiB3cml0ZVJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZVRoZW1lT25seSh0aGVtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHQvLyBSZWFkIHRoZSBleGlzdGluZyBjb25maWcgZmlsZVxyXG5cdFx0Y29uc3QgY3VycmVudENvbmZpZyA9IHRoaXMucmVhZENvbmZpZygpO1xyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgb25seSB0aGUgdGhlbWUgc2V0dGluZ1xyXG5cdFx0Y29uc3QgbW9kaWZpZWRDb25maWcgPSB0aGlzLnByZXNldE1vZGlmaWVyLnVwZGF0ZVRoZW1lSW5Db25maWcoY3VycmVudENvbmZpZywgdGhlbWUpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB3cml0ZVJlc3VsdCA9IHRoaXMud3JpdGVDb25maWcobW9kaWZpZWRDb25maWcpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gd3JpdGVSZXN1bHQ7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVGb250T25seShmb250VHlwZTogJ2hlYWRpbmcnIHwgJ3Byb3NlJyB8ICdtb25vJywgZm9udE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gUmVhZCB0aGUgZXhpc3RpbmcgY29uZmlnIGZpbGVcclxuXHRcdGNvbnN0IGN1cnJlbnRDb25maWcgPSB0aGlzLnJlYWRDb25maWcoKTtcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIG9ubHkgdGhlIHNwZWNpZmljIGZvbnQgc2V0dGluZ1xyXG5cdFx0Y29uc3QgbW9kaWZpZWRDb25maWcgPSB0aGlzLnByZXNldE1vZGlmaWVyLnVwZGF0ZUZvbnRJbkNvbmZpZyhjdXJyZW50Q29uZmlnLCBmb250VHlwZSwgZm9udE5hbWUpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB3cml0ZVJlc3VsdCA9IHRoaXMud3JpdGVDb25maWcobW9kaWZpZWRDb25maWcpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gd3JpdGVSZXN1bHQ7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVGZWF0dXJlT25seShmZWF0dXJlTmFtZTogc3RyaW5nLCB2YWx1ZTogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gUmVhZCB0aGUgZXhpc3RpbmcgY29uZmlnIGZpbGVcclxuXHRcdGNvbnN0IGN1cnJlbnRDb25maWcgPSB0aGlzLnJlYWRDb25maWcoKTtcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIG9ubHkgdGhlIHNwZWNpZmljIGZlYXR1cmUgc2V0dGluZ1xyXG5cdFx0Y29uc3QgbW9kaWZpZWRDb25maWcgPSB0aGlzLnByZXNldE1vZGlmaWVyLnVwZGF0ZUZlYXR1cmVJbkNvbmZpZyhjdXJyZW50Q29uZmlnLCBmZWF0dXJlTmFtZSwgdmFsdWUpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB3cml0ZVJlc3VsdCA9IHRoaXMud3JpdGVDb25maWcobW9kaWZpZWRDb25maWcpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gd3JpdGVSZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRhc3luYyB0cmlnZ2VyUmVidWlsZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91IG1pZ2h0OlxyXG5cdFx0Ly8gMS4gU2VuZCBhIHNpZ25hbCB0byB0aGUgQXN0cm8gZGV2IHNlcnZlclxyXG5cdFx0Ly8gMi4gVXNlIHRoZSBTaGVsbCBDb21tYW5kcyBwbHVnaW4gdG8gcmVzdGFydCB0aGUgZGV2IHNlcnZlclxyXG5cdFx0Ly8gMy4gU2hvdyBpbnN0cnVjdGlvbnMgdG8gdGhlIHVzZXJcclxuXHRcdC8vIE5vdGljZSB3aWxsIGJlIHNob3duIGJ5IHRoZSBtYWluIHNldHVwIGNvbXBsZXRpb25cclxuXHR9XHJcblxyXG5cdGdldFRlbXBsYXRlUHJlc2V0KHRlbXBsYXRlSWQ6IHN0cmluZyk6IFByZXNldFRlbXBsYXRlIHwgbnVsbCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBSZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHByZXNldCBiYXNlZCBvbiB0ZW1wbGF0ZSBJRCB1c2luZyBlbWJlZGRlZCBkYXRhXHJcblx0XHRcdHN3aXRjaCAodGVtcGxhdGVJZCkge1xyXG5cdFx0XHRcdGNhc2UgJ3N0YW5kYXJkJzpcclxuXHRcdFx0XHRcdHJldHVybiBzdGFuZGFyZFByZXNldCBhcyBQcmVzZXRUZW1wbGF0ZTtcclxuXHRcdFx0XHRjYXNlICdtaW5pbWFsJzpcclxuXHRcdFx0XHRcdHJldHVybiBtaW5pbWFsUHJlc2V0IGFzIFByZXNldFRlbXBsYXRlO1xyXG5cdFx0XHRcdGNhc2UgJ2NvbXBhY3QnOlxyXG5cdFx0XHRcdFx0cmV0dXJuIGNvbXBhY3RQcmVzZXQgYXMgUHJlc2V0VGVtcGxhdGU7XHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYFVua25vd24gdGVtcGxhdGUgSUQ6ICR7dGVtcGxhdGVJZH1gKTtcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHRlbXBsYXRlIHByZXNldDonLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0VGVtcGxhdGVDb25maWcodGVtcGxhdGVOYW1lOiBzdHJpbmcsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcclxuXHRcdC8vIEV4cG9zZSB0ZW1wbGF0ZSBjb25maWcgZnJvbSBwcmVzZXRNb2RpZmllciBmb3IgdGVtcGxhdGUgc3dpdGNoaW5nXHJcblx0XHRyZXR1cm4gdGhpcy5wcmVzZXRNb2RpZmllci5nZXRUZW1wbGF0ZUNvbmZpZyh0ZW1wbGF0ZU5hbWUsIHNldHRpbmdzKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgeyBQbHVnaW5TdGF0dXMsIFBsdWdpbkNvbmZpZ3VyYXRpb24sIE9ic2lkaWFuUGx1Z2lucywgT2JzaWRpYW5WYXVsdENvbmZpZywgQ29udGVudE9yZ2FuaXphdGlvblR5cGUsIE9ic2lkaWFuU2V0dGluZ3MsIEFzdHJvQ29tcG9zZXJTZXR0aW5ncywgSW1hZ2VNYW5hZ2VyU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XG5cbmludGVyZmFjZSBQbHVnaW5XaXRoU2V0dGluZ3MgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5ncz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufVxuXG5leHBvcnQgY2xhc3MgUGx1Z2luTWFuYWdlciB7XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cdHByaXZhdGUgZ2V0Q29udGVudE9yZ2FuaXphdGlvbj86ICgpID0+IENvbnRlbnRPcmdhbml6YXRpb25UeXBlO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBnZXRDb250ZW50T3JnYW5pemF0aW9uPzogKCkgPT4gQ29udGVudE9yZ2FuaXphdGlvblR5cGUpIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLmdldENvbnRlbnRPcmdhbml6YXRpb24gPSBnZXRDb250ZW50T3JnYW5pemF0aW9uO1xuXHR9XG5cblx0Z2V0UGx1Z2luU3RhdHVzKGNvbnRlbnRPcmc/OiBDb250ZW50T3JnYW5pemF0aW9uVHlwZSk6IFBsdWdpblN0YXR1c1tdIHtcblx0XHRjb25zdCBwbHVnaW5zID0gKHRoaXMuYXBwIGFzIHVua25vd24gYXMgeyBwbHVnaW5zPzogT2JzaWRpYW5QbHVnaW5zIH0pLnBsdWdpbnM7XG5cdFx0Y29uc3QgcmVxdWlyZWRQbHVnaW5zID0gW1xuXHRcdFx0J2FzdHJvLWNvbXBvc2VyJyxcblx0XHRcdCdpbWFnZS1tYW5hZ2VyJ1xuXHRcdF07XG5cblx0XHRjb25zdCBzdGF0dXM6IFBsdWdpblN0YXR1c1tdID0gW107XG5cblx0XHQvLyBBZGQgT2JzaWRpYW4gc2V0dGluZ3MgY2hlY2sgZmlyc3Rcblx0XHRjb25zdCBvYnNpZGlhblNldHRpbmdzU3RhdHVzID0gdGhpcy5jaGVja09ic2lkaWFuU2V0dGluZ3MoY29udGVudE9yZyk7XG5cdFx0c3RhdHVzLnB1c2gob2JzaWRpYW5TZXR0aW5nc1N0YXR1cyk7XG5cblx0XHQvLyBUaGVuIGFkZCBwbHVnaW4gY2hlY2tzXG5cdFx0Zm9yIChjb25zdCBwbHVnaW5JZCBvZiByZXF1aXJlZFBsdWdpbnMpIHtcblx0XHRcdGNvbnN0IHBsdWdpbiA9IHBsdWdpbnM/LnBsdWdpbnM/LltwbHVnaW5JZF07XG5cdFx0XHRjb25zdCBpc0luRW5hYmxlZFNldCA9IHBsdWdpbnM/LmVuYWJsZWRQbHVnaW5zICYmIHBsdWdpbnMuZW5hYmxlZFBsdWdpbnMuaGFzKHBsdWdpbklkKTtcblx0XHRcdFxuXHRcdFx0Ly8gQ2hlY2sgaWYgcGx1Z2luIGlzIGluc3RhbGxlZCBieSBsb29raW5nIGF0IGNvbW11bml0eSBwbHVnaW5zIGxpc3Rcblx0XHRcdC8vIFRoaXMgd29ya3MgZXZlbiB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWRcblx0XHRcdGNvbnN0IGlzSW5zdGFsbGVkID0gdGhpcy5pc1BsdWdpbkluc3RhbGxlZChwbHVnaW5JZCk7XG5cdFx0XHRcblx0XHRcdC8vIEZvciBBc3RybyBDb21wb3NlciwgY2hlY2sgY29udGVudCB0eXBlIHNldHRpbmdzIGFuZCBpbmNsdWRlIGluIG1haW4gc3RhdHVzXG5cdFx0XHRsZXQgb3V0T2ZTeW5jQ29udGVudFR5cGVzOiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcblx0XHRcdGlmIChwbHVnaW5JZCA9PT0gJ2FzdHJvLWNvbXBvc2VyJyAmJiBwbHVnaW4pIHtcblx0XHRcdFx0Y29uc3Qgc3luY0NoZWNrID0gdGhpcy5jaGVja0FzdHJvQ29tcG9zZXJTZXR0aW5ncyhwbHVnaW4gYXMgUGx1Z2luLCBjb250ZW50T3JnKTtcblx0XHRcdFx0aWYgKHN5bmNDaGVjaykge1xuXHRcdFx0XHRcdG91dE9mU3luY0NvbnRlbnRUeXBlcyA9IHN5bmNDaGVjay5vdXRPZlN5bmNDb250ZW50VHlwZXM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gRm9yIEltYWdlIE1hbmFnZXIsIGNoZWNrIGlmIHNldHRpbmdzIG1hdGNoIGNvbnRlbnQgb3JnYW5pemF0aW9uXG5cdFx0XHRsZXQgaW1hZ2VNYW5hZ2VyU2V0dGluZ3NNYXRjaCA9IHRydWU7XG5cdFx0XHRpZiAocGx1Z2luSWQgPT09ICdpbWFnZS1tYW5hZ2VyJyAmJiBwbHVnaW4gJiYgaXNJbnN0YWxsZWQgJiYgaXNJbkVuYWJsZWRTZXQpIHtcblx0XHRcdFx0aW1hZ2VNYW5hZ2VyU2V0dGluZ3NNYXRjaCA9IHRoaXMuY2hlY2tJbWFnZU1hbmFnZXJTZXR0aW5ncyhwbHVnaW4gYXMgUGx1Z2luLCBjb250ZW50T3JnKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0c3RhdHVzLnB1c2goe1xuXHRcdFx0XHRuYW1lOiB0aGlzLmdldFBsdWdpbkRpc3BsYXlOYW1lKHBsdWdpbklkKSxcblx0XHRcdFx0aW5zdGFsbGVkOiBpc0luc3RhbGxlZCxcblx0XHRcdFx0ZW5hYmxlZDogaXNJbkVuYWJsZWRTZXQgfHwgZmFsc2UsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdGhpcy5pc1BsdWdpbkNvbmZpZ3VyYWJsZShwbHVnaW5JZCksXG5cdFx0XHRcdGN1cnJlbnRTZXR0aW5nczogcGx1Z2luID8gdGhpcy5nZXRQbHVnaW5TZXR0aW5ncyhwbHVnaW4gYXMgUGx1Z2luKSA6IHVuZGVmaW5lZCxcblx0XHRcdFx0b3V0T2ZTeW5jQ29udGVudFR5cGVzOiBvdXRPZlN5bmNDb250ZW50VHlwZXMsXG5cdFx0XHRcdHNldHRpbmdzTWF0Y2g6IHBsdWdpbklkID09PSAnaW1hZ2UtbWFuYWdlcicgPyBpbWFnZU1hbmFnZXJTZXR0aW5nc01hdGNoIDogdW5kZWZpbmVkXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3RhdHVzO1xuXHR9XG5cblx0cHJpdmF0ZSBpc1BsdWdpbkluc3RhbGxlZChwbHVnaW5JZDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0Ly8gQ2hlY2sgaWYgcGx1Z2luIGlzIGluIHRoZSBjb21tdW5pdHkgcGx1Z2lucyBsaXN0XG5cdFx0Ly8gVGhpcyB3b3JrcyBldmVuIHdoZW4gdGhlIHBsdWdpbiBpcyBkaXNhYmxlZFxuXHRcdGNvbnN0IGFwcFBsdWdpbnMgPSAodGhpcy5hcHAgYXMgdW5rbm93biBhcyB7IHBsdWdpbnM/OiBPYnNpZGlhblBsdWdpbnMgfSkucGx1Z2lucztcblx0XHRjb25zdCBjb21tdW5pdHlQbHVnaW5zID0gYXBwUGx1Z2lucz8uY29tbXVuaXR5UGx1Z2lucztcblx0XHRpZiAoY29tbXVuaXR5UGx1Z2lucyAmJiBBcnJheS5pc0FycmF5KGNvbW11bml0eVBsdWdpbnMpKSB7XG5cdFx0XHRyZXR1cm4gY29tbXVuaXR5UGx1Z2lucy5pbmNsdWRlcyhwbHVnaW5JZCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIEZhbGxiYWNrOiBjaGVjayBpZiBwbHVnaW4gZXhpc3RzIGluIHBsdWdpbnMgb2JqZWN0IChvbmx5IHdvcmtzIHdoZW4gZW5hYmxlZClcblx0XHRyZXR1cm4gISFhcHBQbHVnaW5zPy5wbHVnaW5zPy5bcGx1Z2luSWRdO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRQbHVnaW5EaXNwbGF5TmFtZShwbHVnaW5JZDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBuYW1lczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcblx0XHRcdCdhc3Ryby1jb21wb3Nlcic6ICdBc3RybyBDb21wb3NlcicsXG5cdFx0XHQnaW1hZ2UtbWFuYWdlcic6ICdJbWFnZSBNYW5hZ2VyJ1xuXHRcdH07XG5cdFx0cmV0dXJuIG5hbWVzW3BsdWdpbklkXSB8fCBwbHVnaW5JZDtcblx0fVxuXG5cdHByaXZhdGUgY2hlY2tPYnNpZGlhblNldHRpbmdzKGNvbnRlbnRPcmc/OiBDb250ZW50T3JnYW5pemF0aW9uVHlwZSk6IFBsdWdpblN0YXR1cyB7XG5cdFx0Y29uc3QgY29udGVudE9yZ1ZhbHVlID0gY29udGVudE9yZyB8fCB0aGlzLmdldENvbnRlbnRPcmdhbml6YXRpb24/LigpIHx8ICdmaWxlLWJhc2VkJztcblx0XHRjb25zdCB2YXVsdENvbmZpZyA9ICh0aGlzLmFwcC52YXVsdCBhcyB1bmtub3duIGFzIHsgY29uZmlnPzogT2JzaWRpYW5WYXVsdENvbmZpZyB9KS5jb25maWc7XG5cdFx0XG5cdFx0Ly8gR2V0IHRoZSBleHBlY3RlZCBhdHRhY2htZW50IGxvY2F0aW9uIGJhc2VkIG9uIGNvbnRlbnQgb3JnYW5pemF0aW9uXG5cdFx0Y29uc3QgZXhwZWN0ZWRMb2NhdGlvbiA9IGNvbnRlbnRPcmdWYWx1ZSA9PT0gJ2ZpbGUtYmFzZWQnID8gJ3N1YmZvbGRlcicgOiAnc2FtZS1mb2xkZXInO1xuXHRcdGNvbnN0IGV4cGVjdGVkU3ViZm9sZGVyID0gJ2F0dGFjaG1lbnRzJztcblx0XHRcblx0XHQvLyBDaGVjayBpZiBzZXR0aW5ncyBtYXRjaFxuXHRcdGxldCBpc0NvbmZpZ3VyZWQgPSBmYWxzZTtcblx0XHRcblx0XHQvLyBOb3JtYWxpemUgdGhlIGF0dGFjaG1lbnQgcGF0aCBmb3IgY29tcGFyaXNvblxuXHRcdGNvbnN0IGF0dGFjaG1lbnRQYXRoID0gKHZhdWx0Q29uZmlnPy5hdHRhY2htZW50Rm9sZGVyUGF0aCB8fCAnJykudHJpbSgpO1xuXHRcdGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gYXR0YWNobWVudFBhdGgucmVwbGFjZSgvXFwvKyQvLCAnJyk7IC8vIFJlbW92ZSB0cmFpbGluZyBzbGFzaGVzXG5cdFx0XG5cdFx0aWYgKGV4cGVjdGVkTG9jYXRpb24gPT09ICdzdWJmb2xkZXInKSB7XG5cdFx0XHQvLyBGb3IgZmlsZS1iYXNlZDogc2hvdWxkIGJlIFwiLi9hdHRhY2htZW50c1wiIG9yIFwiYXR0YWNobWVudHNcIlxuXHRcdFx0Ly8gQ2hlY2sgdmFyaW91cyBmb3JtYXRzIHRoYXQgT2JzaWRpYW4gbWlnaHQgdXNlXG5cdFx0XHRpc0NvbmZpZ3VyZWQgPSBub3JtYWxpemVkUGF0aCA9PT0gYC4vJHtleHBlY3RlZFN1YmZvbGRlcn1gIHx8IFxuXHRcdFx0ICAgICAgICAgICAgICAgbm9ybWFsaXplZFBhdGggPT09IGAke2V4cGVjdGVkU3ViZm9sZGVyfWAgfHxcblx0XHRcdCAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoLmVuZHNXaXRoKGAvJHtleHBlY3RlZFN1YmZvbGRlcn1gKSB8fFxuXHRcdFx0ICAgICAgICAgICAgICAgbm9ybWFsaXplZFBhdGggPT09IGAuJHtleHBlY3RlZFN1YmZvbGRlcn1gIHx8XG5cdFx0XHQgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9PT0gYCR7ZXhwZWN0ZWRTdWJmb2xkZXJ9L2AgfHxcblx0XHRcdCAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoID09PSBgLi8ke2V4cGVjdGVkU3ViZm9sZGVyfS9gO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBGb3IgZm9sZGVyLWJhc2VkOiBzaG91bGQgYmUgXCIuL1wiIG9yIGVtcHR5IChzYW1lIGZvbGRlcilcblx0XHRcdC8vIE9ic2lkaWFuIHN0b3JlcyBlbXB0eSBzdHJpbmcgb3IgXCIuL1wiIGZvciBcInNhbWUgZm9sZGVyIGFzIGN1cnJlbnQgZmlsZVwiXG5cdFx0XHRpc0NvbmZpZ3VyZWQgPSBub3JtYWxpemVkUGF0aCA9PT0gJy4vJyB8fCBcblx0XHRcdCAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoID09PSAnJyB8fCBcblx0XHRcdCAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoID09PSAnLicgfHxcblx0XHRcdCAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoID09PSB1bmRlZmluZWQgfHxcblx0XHRcdCAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoID09PSBudWxsO1xuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZTogJ0F0dGFjaG1lbnQgc2V0dGluZ3MnLFxuXHRcdFx0aW5zdGFsbGVkOiBpc0NvbmZpZ3VyZWQsIC8vIFVzZSBpbnN0YWxsZWQgZmllbGQgdG8gaW5kaWNhdGUgY29uZmlndXJlZCBzdGF0dXNcblx0XHRcdGVuYWJsZWQ6IGZhbHNlLCAvLyBOb3QgYXBwbGljYWJsZSBmb3Igc2V0dGluZ3Ncblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdGN1cnJlbnRTZXR0aW5nczogdW5kZWZpbmVkXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgY2hlY2tBc3Ryb0NvbXBvc2VyU2V0dGluZ3MocGx1Z2luOiBQbHVnaW4sIGNvbnRlbnRPcmc/OiBDb250ZW50T3JnYW5pemF0aW9uVHlwZSk6IHsgb3V0T2ZTeW5jQ29udGVudFR5cGVzOiBzdHJpbmdbXSB9IHwgbnVsbCB7XG5cdFx0Y29uc3QgY29udGVudE9yZ1ZhbHVlID0gY29udGVudE9yZyB8fCB0aGlzLmdldENvbnRlbnRPcmdhbml6YXRpb24/LigpIHx8ICdmaWxlLWJhc2VkJztcblx0XHRjb25zdCBleHBlY3RlZE1vZGUgPSBjb250ZW50T3JnVmFsdWUgPT09ICdmaWxlLWJhc2VkJyA/ICdmaWxlJyA6ICdmb2xkZXInO1xuXHRcdFxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwbHVnaW5TZXR0aW5ncyA9IChwbHVnaW4gYXMgUGx1Z2luV2l0aFNldHRpbmdzKS5zZXR0aW5ncztcblx0XHRcdGlmICghcGx1Z2luU2V0dGluZ3MpIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IG1pc21hdGNoZWRUeXBlczogc3RyaW5nW10gPSBbXTtcblx0XHRcdFxuXHRcdFx0Ly8gQ2hlY2sgaWYgdXNpbmcgbmV3IGNvbnRlbnRUeXBlcyBhcnJheSBzdHJ1Y3R1cmVcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHBsdWdpblNldHRpbmdzLmNvbnRlbnRUeXBlcykpIHtcblx0XHRcdFx0Ly8gTmV3IHN0cnVjdHVyZTogY2hlY2sgZWFjaCBjb250ZW50IHR5cGUgaW4gdGhlIGNvbnRlbnRUeXBlcyBhcnJheVxuXHRcdFx0XHRjb25zdCBleHBlY3RlZENvbnRlbnRUeXBlcyA9IFsncG9zdHMnLCAncGFnZXMnLCAncHJvamVjdHMnLCAnZG9jcyddO1xuXHRcdFx0XHRcblx0XHRcdFx0Zm9yIChjb25zdCBleHBlY3RlZFR5cGUgb2YgZXhwZWN0ZWRDb250ZW50VHlwZXMpIHtcblx0XHRcdFx0XHRjb25zdCBjb250ZW50VHlwZSA9IHBsdWdpblNldHRpbmdzLmNvbnRlbnRUeXBlcy5maW5kKChjdDogdW5rbm93bikgPT4gXG5cdFx0XHRcdFx0XHRjdCAmJiB0eXBlb2YgY3QgPT09ICdvYmplY3QnICYmIGN0ICE9PSBudWxsICYmICdmb2xkZXInIGluIGN0ICYmIHR5cGVvZiAoY3QgYXMgeyBmb2xkZXI/OiB1bmtub3duIH0pLmZvbGRlciA9PT0gJ3N0cmluZycgJiYgKGN0IGFzIHsgZm9sZGVyOiBzdHJpbmcgfSkuZm9sZGVyLnRvTG93ZXJDYXNlKCkgPT09IGV4cGVjdGVkVHlwZVxuXHRcdFx0XHRcdCkgYXMgeyBlbmFibGVkPzogYm9vbGVhbjsgY3JlYXRpb25Nb2RlPzogc3RyaW5nIH0gfCB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKGNvbnRlbnRUeXBlKSB7XG5cdFx0XHRcdFx0XHQvLyBDb250ZW50IHR5cGUgZXhpc3RzIC0gY2hlY2sgaWYgaXQncyBlbmFibGVkIGFuZCBtYXRjaGVzIGV4cGVjdGVkIG1vZGVcblx0XHRcdFx0XHRcdGlmIChjb250ZW50VHlwZS5lbmFibGVkICE9PSBmYWxzZSkgeyAvLyBPbmx5IGNoZWNrIGlmIGVuYWJsZWQgKG9yIG5vdCBleHBsaWNpdGx5IGRpc2FibGVkKVxuXHRcdFx0XHRcdFx0XHRpZiAoY29udGVudFR5cGUuY3JlYXRpb25Nb2RlICE9PSBleHBlY3RlZE1vZGUpIHtcblx0XHRcdFx0XHRcdFx0XHRtaXNtYXRjaGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyBJZiBkaXNhYmxlZCwgd2UgZG9uJ3QgY2hlY2sgaXQgKGRvbid0IGFkZCB0byBtaXNtYXRjaGVkKVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBDb250ZW50IHR5cGUgbm90IGZvdW5kIC0gb25seSBjaGVjayBpZiBpdCdzIG9uZSBvZiB0aGUgcmVxdWlyZWQgb25lc1xuXHRcdFx0XHRcdFx0Ly8gRm9yIG5vdywgd2UnbGwgb25seSBjaGVjayB0aGUgb25lcyB0aGF0IGV4aXN0XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBGYWxsYmFjayB0byBvbGQgc3RydWN0dXJlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5cdFx0XHRcdC8vIENoZWNrIHBvc3RzOiB1c2UgZ2xvYmFsIGNyZWF0aW9uTW9kZVxuXHRcdFx0XHRpZiAocGx1Z2luU2V0dGluZ3MuY3JlYXRpb25Nb2RlICYmIHR5cGVvZiBwbHVnaW5TZXR0aW5ncy5jcmVhdGlvbk1vZGUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0aWYgKHBsdWdpblNldHRpbmdzLmNyZWF0aW9uTW9kZSAhPT0gZXhwZWN0ZWRNb2RlKSB7XG5cdFx0XHRcdFx0XHRtaXNtYXRjaGVkVHlwZXMucHVzaCgncG9zdHMnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gTm8gY3JlYXRpb25Nb2RlIHNldCwgbmVlZHMgY29uZmlndXJhdGlvblxuXHRcdFx0XHRcdG1pc21hdGNoZWRUeXBlcy5wdXNoKCdwb3N0cycpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBDaGVjayBwYWdlczogdXNlIHBhZ2VzQ3JlYXRpb25Nb2RlXG5cdFx0XHRcdGlmIChwbHVnaW5TZXR0aW5ncy5wYWdlc0NyZWF0aW9uTW9kZSkge1xuXHRcdFx0XHRcdGlmIChwbHVnaW5TZXR0aW5ncy5wYWdlc0NyZWF0aW9uTW9kZSAhPT0gZXhwZWN0ZWRNb2RlKSB7XG5cdFx0XHRcdFx0XHRtaXNtYXRjaGVkVHlwZXMucHVzaCgncGFnZXMnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gTm8gcGFnZXNDcmVhdGlvbk1vZGUgc2V0LCBuZWVkcyBjb25maWd1cmF0aW9uXG5cdFx0XHRcdFx0bWlzbWF0Y2hlZFR5cGVzLnB1c2goJ3BhZ2VzJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdC8vIENoZWNrIHByb2plY3RzIGFuZCBkb2NzOiB1c2UgY3VzdG9tQ29udGVudFR5cGVzXG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KHBsdWdpblNldHRpbmdzLmN1c3RvbUNvbnRlbnRUeXBlcykpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGNvbnRlbnRUeXBlIG9mIFsncHJvamVjdHMnLCAnZG9jcyddKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBjdXN0b21UeXBlID0gcGx1Z2luU2V0dGluZ3MuY3VzdG9tQ29udGVudFR5cGVzLmZpbmQoKGN0OiB1bmtub3duKSA9PiBcblx0XHRcdFx0XHRcdFx0Y3QgJiYgdHlwZW9mIGN0ID09PSAnb2JqZWN0JyAmJiBjdCAhPT0gbnVsbCAmJiAnZm9sZGVyJyBpbiBjdCAmJiB0eXBlb2YgKGN0IGFzIHsgZm9sZGVyPzogdW5rbm93biB9KS5mb2xkZXIgPT09ICdzdHJpbmcnICYmIChjdCBhcyB7IGZvbGRlcjogc3RyaW5nIH0pLmZvbGRlci50b0xvd2VyQ2FzZSgpID09PSBjb250ZW50VHlwZVxuXHRcdFx0XHRcdFx0KSBhcyB7IGNyZWF0aW9uTW9kZT86IHN0cmluZyB9IHwgdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0aWYgKGN1c3RvbVR5cGUgJiYgY3VzdG9tVHlwZS5jcmVhdGlvbk1vZGUpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGN1c3RvbVR5cGUuY3JlYXRpb25Nb2RlICE9PSBleHBlY3RlZE1vZGUpIHtcblx0XHRcdFx0XHRcdFx0XHRtaXNtYXRjaGVkVHlwZXMucHVzaChjb250ZW50VHlwZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIEN1c3RvbSB0eXBlIGV4aXN0cyBidXQgbm8gY3JlYXRpb25Nb2RlIHNldCwgbmVlZHMgY29uZmlndXJhdGlvblxuXHRcdFx0XHRcdFx0XHRtaXNtYXRjaGVkVHlwZXMucHVzaChjb250ZW50VHlwZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIE5vIGN1c3RvbUNvbnRlbnRUeXBlcyBhcnJheSwgcHJvamVjdHMgYW5kIGRvY3MgbmVlZCBjb25maWd1cmF0aW9uXG5cdFx0XHRcdFx0bWlzbWF0Y2hlZFR5cGVzLnB1c2goJ3Byb2plY3RzJywgJ2RvY3MnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBJZiBhbGwgY29udGVudCB0eXBlcyBtYXRjaCwgcmV0dXJuIG51bGwgKG5vIGlzc3Vlcylcblx0XHRcdGlmIChtaXNtYXRjaGVkVHlwZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBSZXR1cm4gdGhlIGxpc3Qgb2Ygb3V0LW9mLXN5bmMgY29udGVudCB0eXBlc1xuXHRcdFx0cmV0dXJuIHsgb3V0T2ZTeW5jQ29udGVudFR5cGVzOiBtaXNtYXRjaGVkVHlwZXMgfTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIEFzdHJvIENvbXBvc2VyIHNldHRpbmdzOicsIGVycm9yKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXHRcblx0cHJpdmF0ZSBjaGVja0ltYWdlTWFuYWdlclNldHRpbmdzKHBsdWdpbjogUGx1Z2luLCBjb250ZW50T3JnPzogQ29udGVudE9yZ2FuaXphdGlvblR5cGUpOiBib29sZWFuIHtcblx0XHRjb25zdCBjb250ZW50T3JnVmFsdWUgPSBjb250ZW50T3JnIHx8IHRoaXMuZ2V0Q29udGVudE9yZ2FuaXphdGlvbj8uKCkgfHwgJ2ZpbGUtYmFzZWQnO1xuXHRcdGNvbnN0IGV4cGVjdGVkRm9ybWF0ID0gY29udGVudE9yZ1ZhbHVlID09PSAnZmlsZS1iYXNlZCcgXG5cdFx0XHQ/ICdbW2F0dGFjaG1lbnRzL3tpbWFnZS11cmx9XV0nIFxuXHRcdFx0OiAnW1t7aW1hZ2UtdXJsfV1dJztcblx0XHRcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcGx1Z2luU2V0dGluZ3MgPSAocGx1Z2luIGFzIFBsdWdpbldpdGhTZXR0aW5ncykuc2V0dGluZ3M7XG5cdFx0XHRpZiAoIXBsdWdpblNldHRpbmdzKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gQ2hlY2sgdGhhdCBwcm9wZXJ0eUxpbmtGb3JtYXQgaXMgc2V0IHRvICdjdXN0b20nXG5cdFx0XHRjb25zdCBwcm9wZXJ0eUxpbmtGb3JtYXQgPSBwbHVnaW5TZXR0aW5ncy5wcm9wZXJ0eUxpbmtGb3JtYXQ7XG5cdFx0XHRpZiAocHJvcGVydHlMaW5rRm9ybWF0ICE9PSAnY3VzdG9tJykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIENoZWNrIHRoZSBjdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXQgbWF0Y2hlcyBleHBlY3RlZCBmb3JtYXRcblx0XHRcdGNvbnN0IGFjdHVhbEZvcm1hdCA9IHBsdWdpblNldHRpbmdzLmN1c3RvbVByb3BlcnR5TGlua0Zvcm1hdDtcblx0XHRcdHJldHVybiBhY3R1YWxGb3JtYXQgPT09IGV4cGVjdGVkRm9ybWF0O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2hlY2sgSW1hZ2UgTWFuYWdlciBzZXR0aW5nczonLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBpc1BsdWdpbkNvbmZpZ3VyYWJsZShwbHVnaW5JZDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgY29uZmlndXJhYmxlUGx1Z2lucyA9IFtcblx0XHRcdCdhc3Ryby1jb21wb3NlcicsXG5cdFx0XHQnaW1hZ2UtbWFuYWdlcidcblx0XHRdO1xuXHRcdHJldHVybiBjb25maWd1cmFibGVQbHVnaW5zLmluY2x1ZGVzKHBsdWdpbklkKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0UGx1Z2luU2V0dGluZ3MocGx1Z2luOiBQbHVnaW4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZCB7XG5cdFx0Ly8gVGhpcyB3b3VsZCBuZWVkIHRvIGJlIGltcGxlbWVudGVkIGJhc2VkIG9uIGVhY2ggcGx1Z2luJ3Mgc3BlY2lmaWMgQVBJXG5cdFx0Ly8gRm9yIG5vdywgcmV0dXJuIGEgcGxhY2Vob2xkZXJcblx0XHRjb25zdCBwbHVnaW5XaXRoU2V0dGluZ3MgPSBwbHVnaW4gYXMgUGx1Z2luV2l0aFNldHRpbmdzO1xuXHRcdHJldHVybiBwbHVnaW5XaXRoU2V0dGluZ3Muc2V0dGluZ3M7XG5cdH1cblxuXHRhc3luYyBjb25maWd1cmVQbHVnaW5zKGNvbmZpZzogUGx1Z2luQ29uZmlndXJhdGlvbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdGxldCBzdWNjZXNzQ291bnQgPSAwO1xuXHRcdFxuXHRcdHRyeSB7XG5cdFx0XHQvLyBDb25maWd1cmUgT2JzaWRpYW4gc2V0dGluZ3Ncblx0XHRcdGF3YWl0IHRoaXMuY29uZmlndXJlT2JzaWRpYW5TZXR0aW5ncyhjb25maWcub2JzaWRpYW5TZXR0aW5ncyk7XG5cdFx0XHRzdWNjZXNzQ291bnQrKztcblx0XHRcdFxuXHRcdFx0Ly8gQ29uZmlndXJlIEFzdHJvIENvbXBvc2VyIHNldHRpbmdzXG5cdFx0XHRhd2FpdCB0aGlzLmNvbmZpZ3VyZUFzdHJvQ29tcG9zZXJTZXR0aW5ncyhjb25maWcuYXN0cm9Db21wb3NlclNldHRpbmdzKTtcblx0XHRcdHN1Y2Nlc3NDb3VudCsrO1xuXHRcdFx0XG5cdFx0XHQvLyBDb25maWd1cmUgSW1hZ2UgTWFuYWdlciBzZXR0aW5nc1xuXHRcdFx0YXdhaXQgdGhpcy5jb25maWd1cmVJbWFnZU1hbmFnZXJTZXR0aW5ncyhjb25maWcuaW1hZ2VNYW5hZ2VyU2V0dGluZ3MpO1xuXHRcdFx0c3VjY2Vzc0NvdW50Kys7XG5cdFx0XHRcblx0XHRcdHJldHVybiBzdWNjZXNzQ291bnQgPiAwOyAvLyBSZXR1cm4gdHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29uZmlndXJhdGlvbiBzdWNjZWVkZWRcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignUGx1Z2luIGNvbmZpZ3VyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGNvbmZpZ3VyZU9ic2lkaWFuU2V0dGluZ3Moc2V0dGluZ3M6IE9ic2lkaWFuU2V0dGluZ3MpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgYXBwID0gdGhpcy5hcHAgYXMgdW5rbm93biBhcyB7IHNldHRpbmc/OiB7IHNldD86IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjsgc2F2ZT86ICgpID0+IFByb21pc2U8dm9pZD4gfSB9O1xuXHRcdFx0Y29uc3QgdGFyZ2V0UGF0aCA9IHNldHRpbmdzLmF0dGFjaG1lbnRMb2NhdGlvbiA9PT0gJ3N1YmZvbGRlcicgXG5cdFx0XHRcdD8gYC4vJHtzZXR0aW5ncy5zdWJmb2xkZXJOYW1lfWAgXG5cdFx0XHRcdDogJy4vJztcblx0XHRcdFxuXHRcdFx0Ly8gTWV0aG9kIDE6IFRyeSB0byB1c2UgdGhlIGFwcCdzIHNldHRpbmdzIG1hbmFnZXIgaWYgYXZhaWxhYmxlXG5cdFx0XHRpZiAoYXBwLnNldHRpbmcgJiYgdHlwZW9mIGFwcC5zZXR0aW5nLnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRhd2FpdCBhcHAuc2V0dGluZy5zZXQoJ2F0dGFjaG1lbnRGb2xkZXJQYXRoJywgdGFyZ2V0UGF0aCk7XG5cdFx0XHRcdGF3YWl0IGFwcC5zZXR0aW5nLnNldCgnbmV3TGlua0Zvcm1hdCcsICdyZWxhdGl2ZScpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gU2F2ZSB0aGUgc2V0dGluZ3Ncblx0XHRcdFx0aWYgKHR5cGVvZiBhcHAuc2V0dGluZy5zYXZlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0YXdhaXQgYXBwLnNldHRpbmcuc2F2ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBNZXRob2QgMjogRmFsbGJhY2sgdG8gdmF1bHQgY29uZmlnIChjdXJyZW50IGFwcHJvYWNoKVxuXHRcdFx0XHRjb25zdCB2YXVsdCA9IHRoaXMuYXBwLnZhdWx0IGFzIHVua25vd24gYXMgeyBjb25maWc/OiBPYnNpZGlhblZhdWx0Q29uZmlnOyBzYXZlQ29uZmlnPzogKCkgPT4gUHJvbWlzZTx2b2lkPiB9O1xuXHRcdFx0XHRjb25zdCBvYnNpZGlhblNldHRpbmdzID0gdmF1bHQuY29uZmlnO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKG9ic2lkaWFuU2V0dGluZ3MpIHtcblx0XHRcdFx0XHRvYnNpZGlhblNldHRpbmdzLm5ld0xpbmtGb3JtYXQgPSAncmVsYXRpdmUnO1xuXHRcdFx0XHRcdG9ic2lkaWFuU2V0dGluZ3MuYXR0YWNobWVudEZvbGRlclBhdGggPSB0YXJnZXRQYXRoO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmICh0eXBlb2YgdmF1bHQuc2F2ZUNvbmZpZyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0YXdhaXQgdmF1bHQuc2F2ZUNvbmZpZygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25maWd1cmUgT2JzaWRpYW4gc2V0dGluZ3M6JywgZXJyb3IpO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBjb25maWd1cmVBc3Ryb0NvbXBvc2VyU2V0dGluZ3Moc2V0dGluZ3M6IEFzdHJvQ29tcG9zZXJTZXR0aW5ncyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwbHVnaW5zID0gKHRoaXMuYXBwIGFzIHVua25vd24gYXMgeyBwbHVnaW5zPzogT2JzaWRpYW5QbHVnaW5zIH0pLnBsdWdpbnM7XG5cdFx0XHRjb25zdCBhc3Ryb0NvbXBvc2VyUGx1Z2luID0gcGx1Z2lucz8ucGx1Z2lucz8uWydhc3Ryby1jb21wb3NlciddO1xuXHRcdFx0XG5cdFx0XHRpZiAoIWFzdHJvQ29tcG9zZXJQbHVnaW4pIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKCdBc3RybyBDb21wb3NlciBwbHVnaW4gbm90IGZvdW5kJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgYXN0cm9Db21wb3NlclBsdWdpbldpdGhTZXR0aW5ncyA9IGFzdHJvQ29tcG9zZXJQbHVnaW4gYXMgUGx1Z2luV2l0aFNldHRpbmdzO1xuXHRcdFx0aWYgKCFhc3Ryb0NvbXBvc2VyUGx1Z2luV2l0aFNldHRpbmdzLnNldHRpbmdzKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybignQXN0cm8gQ29tcG9zZXIgcGx1Z2luIHNldHRpbmdzIG5vdCBhdmFpbGFibGUnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRjb25zdCBwbHVnaW5TZXR0aW5ncyA9IGFzdHJvQ29tcG9zZXJQbHVnaW5XaXRoU2V0dGluZ3Muc2V0dGluZ3M7XG5cdFx0XHRjb25zdCBjcmVhdGlvbk1vZGUgPSBzZXR0aW5ncy5jcmVhdGlvbk1vZGU7XG5cdFx0XHRcblx0XHRcdC8vIENoZWNrIGlmIHVzaW5nIG5ldyBjb250ZW50VHlwZXMgYXJyYXkgc3RydWN0dXJlXG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShwbHVnaW5TZXR0aW5ncy5jb250ZW50VHlwZXMpKSB7XG5cdFx0XHRcdC8vIE5ldyBzdHJ1Y3R1cmU6IHVwZGF0ZSBlYWNoIGNvbnRlbnQgdHlwZSBpbiB0aGUgY29udGVudFR5cGVzIGFycmF5XG5cdFx0XHRcdGNvbnN0IGNvbnRlbnRUeXBlc1RvVXBkYXRlID0gWydwb3N0cycsICdwYWdlcycsICdwcm9qZWN0cycsICdkb2NzJ107XG5cdFx0XHRcdFxuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbnRlbnRUeXBlIG9mIHBsdWdpblNldHRpbmdzLmNvbnRlbnRUeXBlcykge1xuXHRcdFx0XHRcdGlmIChjb250ZW50VHlwZSAmJiB0eXBlb2YgY29udGVudFR5cGUgPT09ICdvYmplY3QnICYmIGNvbnRlbnRUeXBlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBjb250ZW50VHlwZU9iaiA9IGNvbnRlbnRUeXBlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0Y29uc3QgZm9sZGVyTmFtZSA9ICh0eXBlb2YgY29udGVudFR5cGVPYmouZm9sZGVyID09PSAnc3RyaW5nJyA/IGNvbnRlbnRUeXBlT2JqLmZvbGRlciA6ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0aWYgKGNvbnRlbnRUeXBlc1RvVXBkYXRlLmluY2x1ZGVzKGZvbGRlck5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlT2JqLmNyZWF0aW9uTW9kZSA9IGNyZWF0aW9uTW9kZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEZhbGxiYWNrIHRvIG9sZCBzdHJ1Y3R1cmUgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcblx0XHRcdFx0Ly8gVXBkYXRlIHBvc3RzOiB1c2UgZ2xvYmFsIGNyZWF0aW9uTW9kZSAoZm9yIHBvc3RzKVxuXHRcdFx0XHRwbHVnaW5TZXR0aW5ncy5jcmVhdGlvbk1vZGUgPSBjcmVhdGlvbk1vZGU7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBVcGRhdGUgcGFnZXM6IHVzZSBwYWdlc0NyZWF0aW9uTW9kZVxuXHRcdFx0XHRwbHVnaW5TZXR0aW5ncy5wYWdlc0NyZWF0aW9uTW9kZSA9IGNyZWF0aW9uTW9kZTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFVwZGF0ZSBwcm9qZWN0cyBhbmQgZG9jczogdXNlIGN1c3RvbUNvbnRlbnRUeXBlcyBhcnJheVxuXHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheShwbHVnaW5TZXR0aW5ncy5jdXN0b21Db250ZW50VHlwZXMpKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBjdXN0b21UeXBlIG9mIHBsdWdpblNldHRpbmdzLmN1c3RvbUNvbnRlbnRUeXBlcykge1xuXHRcdFx0XHRcdFx0aWYgKGN1c3RvbVR5cGUgJiYgdHlwZW9mIGN1c3RvbVR5cGUgPT09ICdvYmplY3QnICYmIGN1c3RvbVR5cGUgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgY3VzdG9tVHlwZU9iaiA9IGN1c3RvbVR5cGUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgcHJvamVjdHMgb3IgZG9jcyBieSBmb2xkZXIgbmFtZVxuXHRcdFx0XHRcdFx0XHRjb25zdCBmb2xkZXJOYW1lID0gKHR5cGVvZiBjdXN0b21UeXBlT2JqLmZvbGRlciA9PT0gJ3N0cmluZycgPyBjdXN0b21UeXBlT2JqLmZvbGRlciA6ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0XHRpZiAoZm9sZGVyTmFtZSA9PT0gJ3Byb2plY3RzJyB8fCBmb2xkZXJOYW1lID09PSAnZG9jcycpIHtcblx0XHRcdFx0XHRcdFx0XHRjdXN0b21UeXBlT2JqLmNyZWF0aW9uTW9kZSA9IGNyZWF0aW9uTW9kZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgaW5kZXggZmlsZSBuYW1lXG5cdFx0XHRwbHVnaW5TZXR0aW5ncy5pbmRleEZpbGVOYW1lID0gc2V0dGluZ3MuaW5kZXhGaWxlTmFtZTtcblx0XHRcdFxuXHRcdFx0Ly8gU2F2ZSB0aGUgc2V0dGluZ3Ncblx0XHRcdGNvbnN0IHBsdWdpbldpdGhTYXZlID0gYXN0cm9Db21wb3NlclBsdWdpbiBhcyB7IHNhdmVTZXR0aW5ncz86ICgpID0+IFByb21pc2U8dm9pZD4gfTtcblx0XHRcdGNvbnN0IHNhdmVTZXR0aW5ncyA9IHBsdWdpbldpdGhTYXZlLnNhdmVTZXR0aW5ncztcblx0XHRcdGlmIChzYXZlU2V0dGluZ3MgJiYgdHlwZW9mIHNhdmVTZXR0aW5ncyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRhd2FpdCBzYXZlU2V0dGluZ3MoKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvbmZpZ3VyZSBBc3RybyBDb21wb3NlcjonLCBlcnJvcik7XG5cdFx0XHR0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdG8gbGV0IGNhbGxlciBrbm93IGl0IGZhaWxlZFxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgY29uZmlndXJlSW1hZ2VNYW5hZ2VyU2V0dGluZ3Moc2V0dGluZ3M6IEltYWdlTWFuYWdlclNldHRpbmdzKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBsdWdpbnMgPSAodGhpcy5hcHAgYXMgdW5rbm93biBhcyB7IHBsdWdpbnM/OiBPYnNpZGlhblBsdWdpbnMgfSkucGx1Z2lucztcblx0XHRcdGNvbnN0IGltYWdlTWFuYWdlclBsdWdpbiA9IHBsdWdpbnM/LnBsdWdpbnM/LlsnaW1hZ2UtbWFuYWdlciddO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBpbWFnZU1hbmFnZXJQbHVnaW5XaXRoU2V0dGluZ3MgPSBpbWFnZU1hbmFnZXJQbHVnaW4gYXMgUGx1Z2luV2l0aFNldHRpbmdzIHwgdW5kZWZpbmVkO1xuXHRcdFx0aWYgKGltYWdlTWFuYWdlclBsdWdpbldpdGhTZXR0aW5ncyAmJiBpbWFnZU1hbmFnZXJQbHVnaW5XaXRoU2V0dGluZ3Muc2V0dGluZ3MpIHtcblx0XHRcdFx0Ly8gVXBkYXRlIEltYWdlIE1hbmFnZXIgc2V0dGluZ3Ncblx0XHRcdFx0Ly8gU2V0IHByb3BlcnR5TGlua0Zvcm1hdCB0byAnY3VzdG9tJyBhbmQgdXBkYXRlIGN1c3RvbVByb3BlcnR5TGlua0Zvcm1hdFxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG5cdFx0XHRcdGNvbnN0IHBsdWdpblNldHRpbmdzID0gaW1hZ2VNYW5hZ2VyUGx1Z2luV2l0aFNldHRpbmdzLnNldHRpbmdzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRwbHVnaW5TZXR0aW5ncy5wcm9wZXJ0eUxpbmtGb3JtYXQgPSAnY3VzdG9tJztcblx0XHRcdFx0cGx1Z2luU2V0dGluZ3MuY3VzdG9tUHJvcGVydHlMaW5rRm9ybWF0ID0gc2V0dGluZ3MuY3VzdG9tUHJvcGVydHlMaW5rRm9ybWF0O1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gU2F2ZSB0aGUgc2V0dGluZ3Ncblx0XHRcdFx0Y29uc3QgcGx1Z2luV2l0aFNhdmUgPSBpbWFnZU1hbmFnZXJQbHVnaW4gYXMgeyBzYXZlU2V0dGluZ3M/OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH07XG5cdFx0XHRcdGNvbnN0IHNhdmVTZXR0aW5ncyA9IHBsdWdpbldpdGhTYXZlLnNhdmVTZXR0aW5ncztcblx0XHRcdFx0aWYgKHNhdmVTZXR0aW5ncyAmJiB0eXBlb2Ygc2F2ZVNldHRpbmdzID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0YXdhaXQgc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvbmZpZ3VyZSBJbWFnZSBNYW5hZ2VyOicsIGVycm9yKTtcblx0XHR9XG5cdH1cblxuXHRnZXRNYW51YWxDb25maWd1cmF0aW9uSW5zdHJ1Y3Rpb25zKGNvbmZpZzogUGx1Z2luQ29uZmlndXJhdGlvbik6IHN0cmluZyB7XG5cdFx0bGV0IGluc3RydWN0aW9ucyA9ICcjIyBPYnNpZGlhbiBTZXR0aW5nc1xcbic7XG5cdFx0aW5zdHJ1Y3Rpb25zICs9IGAxLiBHbyB0byAqKlNldHRpbmdzIFx1MjE5MiBGaWxlcyAmIExpbmtzKipcXG5gO1xuXHRcdGluc3RydWN0aW9ucyArPSBgMi4gU2V0ICoqRGVmYXVsdCBsb2NhdGlvbiBmb3IgbmV3IGF0dGFjaG1lbnRzKiogdG86IGA7XG5cdFx0aW5zdHJ1Y3Rpb25zICs9IGNvbmZpZy5vYnNpZGlhblNldHRpbmdzLmF0dGFjaG1lbnRMb2NhdGlvbiA9PT0gJ3N1YmZvbGRlcicgXG5cdFx0XHQ/IGAqKlwiSW4gc3ViZm9sZGVyIHVuZGVyIGN1cnJlbnQgZm9sZGVyXCIqKlxcbmAgXG5cdFx0XHQ6IGAqKlwiU2FtZSBmb2xkZXIgYXMgY3VycmVudCBmaWxlXCIqKlxcbmA7XG5cdFx0aWYgKGNvbmZpZy5vYnNpZGlhblNldHRpbmdzLmF0dGFjaG1lbnRMb2NhdGlvbiA9PT0gJ3N1YmZvbGRlcicpIHtcblx0XHRcdGluc3RydWN0aW9ucyArPSBgMy4gU2V0ICoqU3ViZm9sZGVyIG5hbWUqKiB0bzogKipcIiR7Y29uZmlnLm9ic2lkaWFuU2V0dGluZ3Muc3ViZm9sZGVyTmFtZX1cIioqXFxuYDtcblx0XHR9XG5cdFx0XG5cdFx0aW5zdHJ1Y3Rpb25zICs9ICcjIyBBc3RybyBDb21wb3NlciBQbHVnaW5cXG4nO1xuXHRcdGluc3RydWN0aW9ucyArPSBgMS4gR28gdG8gKipTZXR0aW5ncyBcdTIxOTIgQ29tbXVuaXR5IHBsdWdpbnMgXHUyMTkyIEFzdHJvIENvbXBvc2VyKipcXG5gO1xuXHRcdGluc3RydWN0aW9ucyArPSBgMi4gU2V0ICoqQ3JlYXRpb24gbW9kZSoqIHRvOiBcIiR7Y29uZmlnLmFzdHJvQ29tcG9zZXJTZXR0aW5ncy5jcmVhdGlvbk1vZGUgPT09ICdmaWxlJyA/ICdGaWxlLWJhc2VkJyA6ICdGb2xkZXItYmFzZWQnfVwiXFxuYDtcblx0XHRpbnN0cnVjdGlvbnMgKz0gYDMuIEVuc3VyZSAqKkNyZWF0aW9uIG1vZGUqKiBpcyBzZXQgdG8gXCIke2NvbmZpZy5hc3Ryb0NvbXBvc2VyU2V0dGluZ3MuY3JlYXRpb25Nb2RlID09PSAnZmlsZScgPyAnRmlsZS1iYXNlZCcgOiAnRm9sZGVyLWJhc2VkJ31cIiBmb3IgYWxsIGNvbnRlbnQgdHlwZXM6XFxuYDtcblx0XHRpbnN0cnVjdGlvbnMgKz0gYCAgIC0gUG9zdHNcXG5gO1xuXHRcdGluc3RydWN0aW9ucyArPSBgICAgLSBQYWdlc1xcbmA7XG5cdFx0aW5zdHJ1Y3Rpb25zICs9IGAgICAtIFByb2plY3RzXFxuYDtcblx0XHRpbnN0cnVjdGlvbnMgKz0gYCAgIC0gRG9jc1xcbmA7XG5cdFx0aWYgKGNvbmZpZy5hc3Ryb0NvbXBvc2VyU2V0dGluZ3MuY3JlYXRpb25Nb2RlID09PSAnZm9sZGVyJykge1xuXHRcdFx0aW5zdHJ1Y3Rpb25zICs9IGA0LiBTZXQgKipJbmRleCBmaWxlIG5hbWUqKiB0bzogXCIke2NvbmZpZy5hc3Ryb0NvbXBvc2VyU2V0dGluZ3MuaW5kZXhGaWxlTmFtZX1cIlxcbmA7XG5cdFx0fVxuXHRcdFxuXHRcdGluc3RydWN0aW9ucyArPSAnIyMgSW1hZ2UgTWFuYWdlciBQbHVnaW5cXG4nO1xuXHRcdGluc3RydWN0aW9ucyArPSBgMS4gR28gdG8gKipTZXR0aW5ncyBcdTIxOTIgQ29tbXVuaXR5IHBsdWdpbnMgXHUyMTkyIEltYWdlIE1hbmFnZXIqKlxcbmA7XG5cdFx0aW5zdHJ1Y3Rpb25zICs9IGAyLiBTZXQgKipQcm9wZXJ0eSBpbnNlcnRpb24gXHUyMTkyIFByb3BlcnR5IGxpbmsgZm9ybWF0KiogdG86ICoqXCJDdXN0b20gZm9ybWF0XCIqKlxcbmA7XG5cdFx0aW5zdHJ1Y3Rpb25zICs9IGAzLiBTZXQgKipQcm9wZXJ0eSBpbnNlcnRpb24gXHUyMTkyIEN1c3RvbSBmb3JtYXQgdGVtcGxhdGUqKiB0bzogXCIke2NvbmZpZy5pbWFnZU1hbmFnZXJTZXR0aW5ncy5jdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXR9XCJcXG5gO1xuXHRcdFxuXHRcdGluc3RydWN0aW9ucyArPSAnKipOb3RlKio6IEFmdGVyIG1ha2luZyB0aGVzZSBjaGFuZ2VzLCB5b3Ugc2hvdWxkIHNlZSB0aGVtIHJlZmxlY3RlZCBpbiBPYnNpZGlhblxcJ3Mgc2V0dGluZ3MgaW50ZXJmYWNlLiBJZiB0aGUgYXV0b21hdGljIGNvbmZpZ3VyYXRpb24gd29ya2VkLCB0aGVzZSBzZXR0aW5ncyBzaG91bGQgYWxyZWFkeSBiZSBhcHBsaWVkLlxcbic7XG5cdFx0XG5cdFx0cmV0dXJuIGluc3RydWN0aW9ucztcblx0fVxufVxuIiwgImltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8qKlxyXG4gKiBNYW5hZ2VzIHRoZSByaWJib24gaWNvbiBsaWZlY3ljbGUgZm9yIHRoZSBwbHVnaW4uXHJcbiAqIEtlZXBzIGEgZGlyZWN0IHJlZmVyZW5jZSB0byB0aGUgSFRNTEVsZW1lbnQgdG8gYXZvaWQgRE9NIHF1ZXJ5aW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJpYmJvbkljb25NYW5hZ2VyIHtcclxuXHRwcml2YXRlIHJpYmJvbkljb24/OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIGNvbnRleHRNZW51T2JzZXJ2ZXI/OiBNdXRhdGlvbk9ic2VydmVyO1xyXG5cdHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XHJcblx0cHJpdmF0ZSBvbkNsaWNrOiAoKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46IFBsdWdpbiwgb25DbGljazogKCkgPT4gdm9pZCkge1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLm9uQ2xpY2sgPSBvbkNsaWNrO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2hvd3MgdGhlIHJpYmJvbiBpY29uIGlmIG5vdCBhbHJlYWR5IHZpc2libGUuXHJcblx0ICovXHJcblx0c2hvdygpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLnJpYmJvbkljb24pIHtcclxuXHRcdFx0cmV0dXJuOyAvLyBBbHJlYWR5IHNob3dpbmdcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnJpYmJvbkljb24gPSB0aGlzLnBsdWdpbi5hZGRSaWJib25JY29uKFxyXG5cdFx0XHQnd2FuZC1zcGFya2xlcycsXHJcblx0XHRcdCdPcGVuIHdpemFyZCcsXHJcblx0XHRcdHRoaXMub25DbGlja1xyXG5cdFx0KTtcclxuXHRcdHRoaXMucmliYm9uSWNvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYXN0cm8tbW9kdWxhci1zZXR0aW5ncy1yaWJib24nLCAndHJ1ZScpO1xyXG5cclxuXHRcdC8vIFJlbW92ZSBDU1MgbWFya2VyIGZvciBoaWRkZW4gc3RhdGVcclxuXHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFzdHJvLW1vZHVsYXItcmliYm9uLXJlbW92ZWQnKTtcclxuXHJcblx0XHQvLyBDbGVhbnVwIGNvbnRleHQgbWVudSBvYnNlcnZlciB3aGVuIHNob3dpbmdcclxuXHRcdHRoaXMuc3RvcENvbnRleHRNZW51T2JzZXJ2ZXIoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhpZGVzIGFuZCByZW1vdmVzIHRoZSByaWJib24gaWNvbi5cclxuXHQgKi9cclxuXHRoaWRlKCk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMucmliYm9uSWNvbikge1xyXG5cdFx0XHR0aGlzLnJpYmJvbkljb24ucmVtb3ZlKCk7XHJcblx0XHRcdHRoaXMucmliYm9uSWNvbiA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTZXQgQ1NTIG1hcmtlciB0byBoaWRlIGZyb20gY29udGV4dCBtZW51c1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYXN0cm8tbW9kdWxhci1yaWJib24tcmVtb3ZlZCcsICd0cnVlJyk7XHJcblxyXG5cdFx0Ly8gU3RhcnQgb2JzZXJ2aW5nIGZvciBjb250ZXh0IG1lbnUgYXBwZWFyYW5jZXNcclxuXHRcdHRoaXMuc3RhcnRDb250ZXh0TWVudU9ic2VydmVyKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGVzIHZpc2liaWxpdHkgYmFzZWQgb24gdGhlIHJlbW92ZVJpYmJvbkljb24gc2V0dGluZy5cclxuXHQgKi9cclxuXHR1cGRhdGUoc2hvdWxkSGlkZTogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0aWYgKHNob3VsZEhpZGUpIHtcclxuXHRcdFx0dGhpcy5oaWRlKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnNob3coKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFucyB1cCBhbGwgcmVzb3VyY2VzLlxyXG5cdCAqL1xyXG5cdGRlc3Ryb3koKTogdm9pZCB7XHJcblx0XHR0aGlzLnN0b3BDb250ZXh0TWVudU9ic2VydmVyKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMucmliYm9uSWNvbikge1xyXG5cdFx0XHR0aGlzLnJpYmJvbkljb24ucmVtb3ZlKCk7XHJcblx0XHRcdHRoaXMucmliYm9uSWNvbiA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hc3Ryby1tb2R1bGFyLXJpYmJvbi1yZW1vdmVkJyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdGFydHMgb2JzZXJ2aW5nIGZvciBjb250ZXh0IG1lbnVzIHRvIHJlbW92ZSBvdXIgaXRlbSB3aGVuIHJpYmJvbiBpcyBoaWRkZW4uXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGFydENvbnRleHRNZW51T2JzZXJ2ZXIoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5jb250ZXh0TWVudU9ic2VydmVyKSB7XHJcblx0XHRcdHJldHVybjsgLy8gQWxyZWFkeSBvYnNlcnZpbmdcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNvbnRleHRNZW51T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XHJcblx0XHRcdGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBub2RlIG9mIEFycmF5LmZyb20obXV0YXRpb24uYWRkZWROb2RlcykpIHtcclxuXHRcdFx0XHRcdGlmIChub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51JykgfHwgbm9kZS5xdWVyeVNlbGVjdG9yKCcubWVudScpKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVGcm9tQ29udGV4dE1lbnUobm9kZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuY29udGV4dE1lbnVPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcclxuXHRcdFx0Y2hpbGRMaXN0OiB0cnVlLFxyXG5cdFx0XHRzdWJ0cmVlOiB0cnVlLFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdG9wcyB0aGUgY29udGV4dCBtZW51IG9ic2VydmVyLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RvcENvbnRleHRNZW51T2JzZXJ2ZXIoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5jb250ZXh0TWVudU9ic2VydmVyKSB7XHJcblx0XHRcdHRoaXMuY29udGV4dE1lbnVPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcblx0XHRcdHRoaXMuY29udGV4dE1lbnVPYnNlcnZlciA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZXMgb3VyIHdpemFyZCBpdGVtIGZyb20gYSBjb250ZXh0IG1lbnUuXHJcblx0ICovXHJcblx0cHJpdmF0ZSByZW1vdmVGcm9tQ29udGV4dE1lbnUobWVudUVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBtZW51SXRlbXMgPSBtZW51RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVudS1pdGVtJyk7XHJcblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgQXJyYXkuZnJvbShtZW51SXRlbXMpKSB7XHJcblx0XHRcdGNvbnN0IHN2ZyA9IGl0ZW0ucXVlcnlTZWxlY3Rvcignc3ZnJyk7XHJcblx0XHRcdGlmIChzdmcpIHtcclxuXHRcdFx0XHRjb25zdCBpY29uTmFtZSA9IHN2Zy5nZXRBdHRyaWJ1dGUoJ2RhdGEtbHVjaWRlJykgfHxcclxuXHRcdFx0XHRcdHN2Zy5nZXRBdHRyaWJ1dGUoJ3htbG5zOmx1Y2lkZScpIHx8XHJcblx0XHRcdFx0XHQoc3ZnLmNsYXNzTGlzdC5jb250YWlucygnbHVjaWRlLXdhbmQtc3BhcmtsZXMnKSA/ICd3YW5kLXNwYXJrbGVzJyA6IG51bGwpO1xyXG5cclxuXHRcdFx0XHRpZiAoaWNvbk5hbWUgPT09ICd3YW5kLXNwYXJrbGVzJykge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbVRleHQgPSBpdGVtLnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG5cdFx0XHRcdFx0aWYgKGl0ZW1UZXh0LmluY2x1ZGVzKCd3aXphcmQnKSB8fCBpdGVtVGV4dC5pbmNsdWRlcygnYXN0cm8gbW9kdWxhcicpKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW0ucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQWthYSxjQU1BLGtCQWlPQSxlQW1KQTtBQTV4QmI7QUFBQTtBQUFBO0FBa2FPLElBQU0sZUFBZTtBQUFBLE1BQzNCO0FBQUEsTUFBUztBQUFBLE1BQVU7QUFBQSxNQUFhO0FBQUEsTUFBUTtBQUFBLE1BQVc7QUFBQSxNQUFtQjtBQUFBLE1BQVU7QUFBQSxNQUNoRjtBQUFBLE1BQW9CO0FBQUEsTUFBZ0I7QUFBQSxNQUFRO0FBQUEsTUFBZ0I7QUFBQSxNQUFZO0FBQUEsTUFDeEU7QUFBQSxNQUFhO0FBQUEsTUFBa0I7QUFBQSxNQUFtQjtBQUFBLE1BQWlCO0FBQUEsSUFDcEU7QUFFTyxJQUFNLG1CQUF5QztBQUFBLE1BQ3JELG9CQUFvQjtBQUFBLE1BQ3BCLGlCQUFpQjtBQUFBLE1BQ2pCLGNBQWM7QUFBQSxNQUNkLGlCQUFpQjtBQUFBLE1BQ2pCLHFCQUFxQjtBQUFBLE1BQ3JCLGFBQWE7QUFBQSxRQUNaLE1BQU07QUFBQSxRQUNOLGlCQUFpQjtBQUFBLFFBQ2pCLGNBQWM7QUFBQSxVQUNiLFFBQVE7QUFBQSxVQUNSLFlBQVk7QUFBQSxRQUNiO0FBQUEsUUFDQSxlQUFlO0FBQUEsTUFDaEI7QUFBQSxNQUNBLFVBQVU7QUFBQSxRQUNULE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLGFBQWE7QUFBQSxRQUNiLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLHNCQUFzQjtBQUFBLFFBQ3RCLG1CQUFtQjtBQUFBLE1BQ3BCO0FBQUEsTUFDQSxRQUFRO0FBQUEsUUFDUCxjQUFjO0FBQUEsTUFDZjtBQUFBLE1BQ0EsaUJBQWlCO0FBQUEsUUFDaEIsU0FBUztBQUFBLFFBQ1QsT0FBTztBQUFBLE1BQ1I7QUFBQSxNQUNBLFFBQVE7QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULHlCQUF5QjtBQUFBLE1BQzFCO0FBQUEsTUFDQSxLQUFLO0FBQUEsUUFDSixtQkFBbUI7QUFBQSxNQUNwQjtBQUFBLE1BQ0EsWUFBWTtBQUFBLFFBQ1gsZ0JBQWdCO0FBQUEsUUFDaEIsT0FBTztBQUFBLFFBQ1AsZ0JBQWdCO0FBQUEsUUFDaEIsT0FBTztBQUFBLFVBQ04sRUFBRSxPQUFPLFNBQVMsS0FBSyxTQUFTO0FBQUEsVUFDaEMsRUFBRSxPQUFPLFlBQVksS0FBSyxZQUFZO0FBQUEsVUFDdEMsRUFBRSxPQUFPLFFBQVEsS0FBSyxRQUFRO0FBQUEsVUFDOUIsRUFBRSxPQUFPLFNBQVMsS0FBSyxTQUFTO0FBQUEsVUFDaEMsRUFBRSxPQUFPLFVBQVUsS0FBSyxpREFBaUQ7QUFBQSxRQUMxRTtBQUFBLFFBQ0EsUUFBUTtBQUFBLFVBQ1AsRUFBRSxPQUFPLEtBQUssS0FBSywrQkFBK0IsTUFBTSxZQUFZO0FBQUEsVUFDcEUsRUFBRSxPQUFPLFVBQVUsS0FBSyxvQ0FBb0MsTUFBTSxTQUFTO0FBQUEsUUFDNUU7QUFBQSxNQUNEO0FBQUEsTUFDQSxnQkFBZ0I7QUFBQSxRQUNmLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLGFBQWE7QUFBQSxRQUNiLFFBQVE7QUFBQSxVQUNQLE9BQU87QUFBQSxVQUNQLE9BQU87QUFBQSxVQUNQLFVBQVU7QUFBQSxVQUNWLE1BQU07QUFBQSxRQUNQO0FBQUEsUUFDQSxVQUFVO0FBQUEsVUFDVCxjQUFjO0FBQUEsVUFDZCxPQUFPO0FBQUEsVUFDUCxRQUFRO0FBQUEsUUFDVDtBQUFBLFFBQ0EsY0FBYztBQUFBLFVBQ2IsU0FBUztBQUFBLFVBQ1QsWUFBWTtBQUFBLFVBQ1osV0FBVztBQUFBLFVBQ1gsYUFBYTtBQUFBLFFBQ2Q7QUFBQSxNQUNEO0FBQUEsTUFDQSxhQUFhO0FBQUEsUUFDWixjQUFjO0FBQUEsVUFDYixTQUFTO0FBQUEsVUFDVCxNQUFNO0FBQUEsVUFDTixNQUFNO0FBQUEsUUFDUDtBQUFBLFFBQ0EsYUFBYTtBQUFBLFVBQ1osU0FBUztBQUFBLFVBQ1QsT0FBTztBQUFBLFFBQ1I7QUFBQSxRQUNBLFVBQVU7QUFBQSxVQUNULFNBQVM7QUFBQSxVQUNULE9BQU87QUFBQSxRQUNSO0FBQUEsUUFDQSxNQUFNO0FBQUEsVUFDTCxTQUFTO0FBQUEsVUFDVCxPQUFPO0FBQUEsUUFDUjtBQUFBLFFBQ0EsT0FBTztBQUFBLFVBQ04sV0FBVztBQUFBLFFBQ1o7QUFBQSxNQUNEO0FBQUEsTUFDQSxhQUFhO0FBQUEsUUFDWixjQUFjO0FBQUEsUUFDZCxhQUFhO0FBQUEsUUFDYixXQUFXO0FBQUEsUUFDWCxNQUFNO0FBQUEsUUFDTixnQkFBZ0I7QUFBQSxVQUNmLFNBQVM7QUFBQSxVQUNULHVCQUF1QjtBQUFBLFFBQ3hCO0FBQUEsUUFDQSxXQUFXO0FBQUEsVUFDVixTQUFTO0FBQUEsVUFDVCxlQUFlO0FBQUEsVUFDZixVQUFVO0FBQUEsVUFDVixtQkFBbUI7QUFBQSxRQUNwQjtBQUFBLFFBQ0EsZ0JBQWdCO0FBQUEsUUFDaEIseUJBQXlCO0FBQUEsUUFDekIscUJBQXFCO0FBQUEsUUFDckIsMkJBQTJCO0FBQUEsUUFDM0IsVUFBVTtBQUFBLFVBQ1QsU0FBUztBQUFBLFVBQ1QsVUFBVTtBQUFBLFVBQ1YsV0FBVztBQUFBLFVBQ1gsTUFBTTtBQUFBLFVBQ04sUUFBUTtBQUFBLFVBQ1IsVUFBVTtBQUFBLFVBQ1YsWUFBWTtBQUFBLFVBQ1osU0FBUztBQUFBLFVBQ1QsUUFBUTtBQUFBLFVBQ1IsV0FBVztBQUFBLFVBQ1gsVUFBVTtBQUFBLFVBQ1YsZUFBZTtBQUFBLFVBQ2YsT0FBTztBQUFBLFVBQ1AsTUFBTTtBQUFBLFVBQ04sU0FBUztBQUFBLFFBQ1Y7QUFBQSxNQUNEO0FBQUEsTUFDQSxVQUFVO0FBQUEsUUFDVCxnQkFBZ0I7QUFBQSxRQUNoQixhQUFhO0FBQUEsUUFDYixnQkFBZ0I7QUFBQSxRQUNoQix1QkFBdUI7QUFBQSxRQUN2QixVQUFVO0FBQUEsUUFDVixXQUFXO0FBQUEsUUFDWCxnQkFBZ0I7QUFBQSxRQUNoQixlQUFlO0FBQUEsUUFDZixhQUFhO0FBQUEsUUFDYixlQUFlO0FBQUEsUUFDZix5QkFBeUI7QUFBQSxRQUN6Qix5QkFBeUI7QUFBQSxRQUN6QixxQkFBcUI7QUFBQSxRQUNyQixnQkFBZ0I7QUFBQSxRQUNoQixjQUFjO0FBQUEsVUFDYixTQUFTO0FBQUEsVUFDVCxZQUFZO0FBQUEsVUFDWixXQUFXO0FBQUEsVUFDWCxhQUFhO0FBQUEsUUFDZDtBQUFBLE1BQ0Q7QUFBQSxNQUNBLFlBQVk7QUFBQSxRQUNYLGFBQWE7QUFBQSxRQUNiLFdBQVc7QUFBQSxRQUNYLFVBQVU7QUFBQSxRQUNWLFlBQVk7QUFBQSxRQUNaLGFBQWE7QUFBQSxRQUNiLGFBQWE7QUFBQSxVQUNaLFNBQVM7QUFBQSxVQUNULE9BQU87QUFBQSxVQUNQLE1BQU07QUFBQSxVQUNOLE1BQU07QUFBQSxRQUNQO0FBQUEsTUFDRDtBQUFBLE1BQ0Esa0JBQWtCO0FBQUEsUUFDakIsZ0JBQWdCO0FBQUEsVUFDZixTQUFTO0FBQUEsVUFDVCxPQUFPO0FBQUEsVUFDUCxLQUFLO0FBQUEsVUFDTCxNQUFNO0FBQUEsVUFDTixLQUFLO0FBQUEsVUFDTCxXQUFXO0FBQUEsVUFDWCxPQUFPO0FBQUEsUUFDUjtBQUFBLFFBQ0EsVUFBVTtBQUFBLFVBQ1QsU0FBUztBQUFBLFVBQ1QsVUFBVTtBQUFBLFVBQ1YsV0FBVztBQUFBLFVBQ1gsTUFBTTtBQUFBLFVBQ04sUUFBUTtBQUFBLFVBQ1IsVUFBVTtBQUFBLFVBQ1YsWUFBWTtBQUFBLFVBQ1osU0FBUztBQUFBLFVBQ1QsUUFBUTtBQUFBLFVBQ1IsV0FBVztBQUFBLFVBQ1gsVUFBVTtBQUFBLFVBQ1YsZUFBZTtBQUFBLFVBQ2YsT0FBTztBQUFBLFVBQ1AsTUFBTTtBQUFBLFVBQ04sU0FBUztBQUFBLFFBQ1Y7QUFBQSxNQUNEO0FBQUEsTUFDQSxZQUFZO0FBQUEsUUFDWCxVQUFVO0FBQUEsTUFDWDtBQUFBLE1BQ0EsY0FBYztBQUFBLFFBQ2Isa0JBQWtCO0FBQUEsVUFDakIsb0JBQW9CO0FBQUEsVUFDcEIsZUFBZTtBQUFBLFFBQ2hCO0FBQUEsUUFDQSx1QkFBdUI7QUFBQSxVQUN0QixjQUFjO0FBQUEsVUFDZCxlQUFlO0FBQUEsUUFDaEI7QUFBQSxRQUNBLHNCQUFzQjtBQUFBLFVBQ3JCLDBCQUEwQjtBQUFBLFFBQzNCO0FBQUEsTUFDRDtBQUFBLE1BQ0Esc0JBQXNCO0FBQUEsUUFDckIsVUFBVTtBQUFBO0FBQUEsUUFDVixNQUFNO0FBQUE7QUFBQSxNQUNQO0FBQUEsTUFDQSxpQkFBaUI7QUFBQSxNQUNqQixjQUFjO0FBQUEsTUFDZCw4QkFBOEI7QUFBQSxNQUM5QixrQkFBa0I7QUFBQSxJQUNuQjtBQUVPLElBQU0sZ0JBQStCO0FBQUEsTUFDM0M7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLGFBQWE7QUFBQSxRQUNiLGVBQWUsQ0FBQyxXQUFXLFNBQVM7QUFBQSxRQUNwQyxzQkFBc0I7QUFBQSxRQUN0QixxQkFBcUI7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxRQUNDLElBQUk7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LAogICJuYW1lcyI6IFsiX2EiLCAiX2IiLCAiX2MiLCAiaW1wb3J0X29ic2lkaWFuIiwgIm5hbWUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImNvbmZpZyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiX2EiLCAibmFtZSIsICJfYiIsICJfYyIsICJHaXNjdXNTY3JpcHRQYXJzZXIiLCAiaW1wb3J0X29ic2lkaWFuIiwgImNvbmZpZyIsICJjb250ZW50T3JnIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIlNldHVwV2l6YXJkTW9kYWwiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJuYW1lIiwgImRlc2NyaXB0aW9uIiwgInZhbHVlIiwgImltcG9ydF9vYnNpZGlhbiIsICJTZXR1cFdpemFyZE1vZGFsIiwgImltcG9ydF9vYnNpZGlhbiIsICJCdWZmZXIiLCAiX2EiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY29uZmlnIiwgImNvbnRlbnRPcmciLCAiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgImltcG9ydF9vYnNpZGlhbiIsICJzZXR0aW5nIiwgIl9hIiwgIl9iIiwgIl9jIiwgImNvbW1lbnRzU2V0dGluZ3MiLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiR2lzY3VzU2NyaXB0UGFyc2VyIiwgImltcG9ydF9vYnNpZGlhbiIsICJzZXR0aW5ncyIsICJfYSIsICJmZWF0dXJlcyIsICJlIiwgImltcG9ydF9vYnNpZGlhbiIsICJjb25maWciLCAiY29udGVudCIsICJwb3MiLCAic29jaWFsTWF0Y2giLCAiY29uZmlnIiwgImNvbmZpZyIsICJkZXNjcmlwdGlvbiIsICJuYW1lIiwgImNvbmZpZyIsICJkZXNjcmlwdGlvbiIsICJuYW1lIiwgImNvbmZpZyIsICJTZXR1cFdpemFyZE1vZGFsIl0KfQo=
