/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name4 in all)
    __defProp(target, name4, { get: all[name4], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/utils/GiscusScriptParser.ts
var GiscusScriptParser_exports = {};
__export(GiscusScriptParser_exports, {
  GiscusScriptParser: () => GiscusScriptParser
});
var GiscusScriptParser;
var init_GiscusScriptParser = __esm({
  "src/utils/GiscusScriptParser.ts"() {
    "use strict";
    GiscusScriptParser = class {
      /**
       * Parse a Giscus script tag and extract all data attributes
       */
      static parseScript(scriptContent) {
        try {
          const normalizedScript = scriptContent.trim();
          if (!normalizedScript.includes("giscus.app/client.js")) {
            return null;
          }
          const dataAttributes = {};
          const dataAttributeRegex = /data-([a-z-]+)="([^"]*)"/g;
          let match;
          while ((match = dataAttributeRegex.exec(normalizedScript)) !== null) {
            const [, attributeName, value] = match;
            dataAttributes[attributeName] = value;
          }
          const config4 = {
            repo: dataAttributes["repo"] || "",
            repoId: dataAttributes["repo-id"] || "",
            category: dataAttributes["category"] || "",
            categoryId: dataAttributes["category-id"] || "",
            // Optional attributes - use empty string if not present (so they can be cleared)
            mapping: dataAttributes["mapping"] !== void 0 ? dataAttributes["mapping"] : "",
            strict: dataAttributes["strict"] !== void 0 ? dataAttributes["strict"] : "",
            reactions: dataAttributes["reactions-enabled"] !== void 0 ? dataAttributes["reactions-enabled"] : "",
            metadata: dataAttributes["emit-metadata"] !== void 0 ? dataAttributes["emit-metadata"] : "",
            inputPosition: dataAttributes["input-position"] !== void 0 ? dataAttributes["input-position"] : "",
            theme: dataAttributes["theme"] !== void 0 ? dataAttributes["theme"] : "",
            lang: dataAttributes["lang"] !== void 0 ? dataAttributes["lang"] : "",
            loading: dataAttributes["loading"] !== void 0 ? dataAttributes["loading"] : ""
          };
          if (!config4.repo || !config4.repoId) {
            return null;
          }
          return config4;
        } catch (error) {
          console.error("Error parsing Giscus script:", error);
          return null;
        }
      }
      /**
       * Validate that a script looks like a valid Giscus script
       */
      static validateScript(scriptContent) {
        const normalizedScript = scriptContent.trim();
        if (!normalizedScript.includes("giscus.app/client.js")) {
          return { valid: false, error: "Script must contain giscus.app/client.js" };
        }
        if (!normalizedScript.includes("<script") || !normalizedScript.includes("<\/script>")) {
          return { valid: false, error: "Script must be a valid HTML script tag" };
        }
        const parsed = this.parseScript(scriptContent);
        if (!parsed) {
          return { valid: false, error: "Could not parse Giscus configuration from script" };
        }
        if (!parsed.repo) {
          return { valid: false, error: "Repository (data-repo) is required" };
        }
        if (!parsed.repoId) {
          return { valid: false, error: "Repository ID (data-repo-id) is required" };
        }
        return { valid: true };
      }
      /**
       * Generate a sample Giscus script for placeholder text
       */
      static getSampleScript() {
        return `<script src="https://giscus.app/client.js"
        data-repo="davidvkimball/astro-modular"
        data-repo-id="R_kgDOPllfKw"
        data-category="General"
        data-category-id="DIC_kwDOPllfK84CvUpx"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
<\/script>`;
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => AstroModularSettingsPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian19 = require("obsidian");

// src/types.ts
var FONT_OPTIONS = [
  "Inter",
  "Roboto",
  "Open Sans",
  "Lato",
  "Poppins",
  "Source Sans Pro",
  "Nunito",
  "Montserrat",
  "Playfair Display",
  "Merriweather",
  "Lora",
  "Crimson Text",
  "PT Serif",
  "Libre Baskerville",
  "Fira Code",
  "JetBrains Mono",
  "Source Code Pro",
  "IBM Plex Mono",
  "Cascadia Code"
];
var DEFAULT_SETTINGS = {
  runWizardOnStartup: true,
  currentTemplate: "standard",
  currentTheme: "oxygen",
  customThemeFile: "custom",
  contentOrganization: "file-based",
  themeColors: {
    mode: "simple",
    extractedColors: void 0,
    simpleColors: {
      accent: "#5865f2",
      background: "#1e1e1e"
    },
    lastExtracted: void 0
  },
  siteInfo: {
    site: "https://astro-modular.netlify.app",
    title: "Astro Modular",
    description: "A flexible blog theme designed for Obsidian users.",
    author: "David V. Kimball",
    language: "en",
    faviconThemeAdaptive: true,
    defaultOgImageAlt: "Astro Modular logo."
  },
  layout: {
    contentWidth: "45rem"
  },
  tableOfContents: {
    enabled: true,
    depth: 4
  },
  footer: {
    enabled: true,
    content: '\xA9 2025 {author}. Built with the <a href="https://github.com/davidvkimball/astro-modular" target="_blank">Astro Modular</a> theme.',
    showSocialIconsInFooter: true
  },
  seo: {
    defaultOgImageAlt: "Astro Modular logo."
  },
  navigation: {
    showNavigation: true,
    style: "traditional",
    showMobileMenu: true,
    pages: [
      { title: "Posts", url: "/posts" },
      { title: "Projects", url: "/projects" },
      { title: "Docs", url: "/docs" },
      { title: "About", url: "/about" },
      { title: "GitHub", url: "https://github.com/davidvkimball/astro-modular" }
    ],
    social: [
      { title: "X", url: "https://x.com/davidvkimball", icon: "x-twitter" },
      { title: "GitHub", url: "https://github.com/davidvkimball", icon: "github" }
    ]
  },
  commandPalette: {
    enabled: true,
    shortcut: "ctrl+K",
    placeholder: "Search posts",
    search: {
      posts: true,
      pages: false,
      projects: false,
      docs: false
    },
    sections: {
      quickActions: true,
      pages: true,
      social: true
    },
    quickActions: {
      enabled: true,
      toggleMode: true,
      graphView: true,
      changeTheme: true
    }
  },
  homeOptions: {
    featuredPost: {
      enabled: true,
      type: "latest",
      slug: "getting-started"
    },
    recentPosts: {
      enabled: true,
      count: 7
    },
    projects: {
      enabled: true,
      count: 2
    },
    docs: {
      enabled: true,
      count: 3
    },
    blurb: {
      placement: "below"
    }
  },
  postOptions: {
    postsPerPage: 6,
    readingTime: true,
    wordCount: true,
    tags: true,
    linkedMentions: {
      enabled: true,
      linkedMentionsCompact: false
    },
    graphView: {
      enabled: true,
      showInSidebar: true,
      maxNodes: 100,
      showOrphanedPosts: true
    },
    postNavigation: true,
    showPostCardCoverImages: "featured-and-posts",
    postCardAspectRatio: "og",
    customPostCardAspectRatio: "2.5/1",
    comments: {
      enabled: false,
      provider: "giscus",
      rawScript: "",
      repo: "davidvkimball/astro-modular",
      repoId: "R_kgDOPllfKw",
      category: "General",
      categoryId: "DIC_kwDOPllfK84CvUpx",
      mapping: "pathname",
      strict: "0",
      reactions: "1",
      metadata: "0",
      inputPosition: "bottom",
      theme: "preferred_color_scheme",
      lang: "en",
      loading: "lazy"
    }
  },
  features: {
    commandPalette: true,
    readingTime: true,
    linkedMentions: true,
    linkedMentionsCompact: false,
    comments: false,
    graphView: true,
    postNavigation: true,
    hideScrollBar: false,
    scrollToTop: true,
    featureButton: "mode",
    showSocialIconsInFooter: true,
    showPostCardCoverImages: "featured-and-posts",
    postCardAspectRatio: "og",
    profilePicture: false,
    quickActions: {
      enabled: true,
      toggleMode: true,
      graphView: true,
      changeTheme: true
    }
  },
  typography: {
    headingFont: "Inter",
    proseFont: "Inter",
    monoFont: "JetBrains Mono",
    fontSource: "local",
    fontDisplay: "swap",
    customFonts: {
      heading: "",
      prose: "",
      mono: "",
      urls: ""
    }
  },
  optionalFeatures: {
    profilePicture: {
      enabled: false,
      image: "/profile.jpg",
      alt: "Profile picture",
      size: "md",
      url: "",
      placement: "footer",
      style: "circle"
    },
    comments: {
      enabled: false,
      provider: "giscus",
      rawScript: "",
      repo: "davidvkimball/astro-modular",
      repoId: "R_kgDOPllfKw",
      category: "General",
      categoryId: "DIC_kwDOPllfK84CvUpx",
      mapping: "pathname",
      strict: "0",
      reactions: "1",
      metadata: "0",
      inputPosition: "bottom",
      theme: "preferred_color_scheme",
      lang: "en",
      loading: "lazy"
    }
  },
  deployment: {
    platform: "netlify"
  },
  pluginConfig: {
    obsidianSettings: {
      attachmentLocation: "subfolder",
      subfolderName: "attachments"
    },
    astroComposerSettings: {
      creationMode: "file",
      indexFileName: "index"
    },
    imageManagerSettings: {
      customPropertyLinkFormat: "[[attachments/{image-url}]]"
    }
  },
  optionalContentTypes: {
    projects: true,
    // Will be overridden based on template
    docs: true
    // Will be overridden based on template
  },
  availableThemes: "default",
  customThemes: "",
  customThemeGenerationEnabled: false,
  removeRibbonIcon: false
};
var THEME_OPTIONS = [
  {
    id: "oxygen",
    name: "Oxygen",
    description: "Modern, clean design",
    previewColors: ["#075985", "#38bdf8"],
    backgroundColorLight: "#f8fafc",
    backgroundColorDark: "#020617"
  },
  {
    id: "minimal",
    name: "Minimal",
    description: "Understated with high contrast",
    previewColors: ["#2d383c", "#87bfcf"],
    backgroundColorLight: "#fafafa",
    backgroundColorDark: "#1a1a1a"
  },
  {
    id: "atom",
    name: "Atom",
    description: "Dark theme with vibrant accents",
    previewColors: ["#075985", "#578af2"],
    backgroundColorLight: "#f8fafc",
    backgroundColorDark: "#181a1f"
  },
  {
    id: "ayu",
    name: "Ayu",
    description: "Clean theme with warm colors",
    previewColors: ["#99521a", "#ff9933"],
    backgroundColorLight: "#f8f8f0",
    backgroundColorDark: "#0f1419"
  },
  {
    id: "catppuccin",
    name: "Catppuccin",
    description: "Pastel color palette",
    previewColors: ["#95624f", "#df7763"],
    backgroundColorLight: "#fef7ed",
    backgroundColorDark: "#181825"
  },
  {
    id: "charcoal",
    name: "Charcoal",
    description: "Dark, professional look",
    previewColors: ["#202020", "#c0c0c0"],
    backgroundColorLight: "#f8f8f8",
    backgroundColorDark: "#000000"
  },
  {
    id: "dracula",
    name: "Dracula",
    description: "Dark theme with purple accents",
    previewColors: ["#7c3aed", "#a78bfa"],
    backgroundColorLight: "#f8f8f2",
    backgroundColorDark: "#191a21"
  },
  {
    id: "everforest",
    name: "Everforest",
    description: "Soft, warm colors",
    previewColors: ["#5a7a5a", "#83c092"],
    backgroundColorLight: "#f7f6f3",
    backgroundColorDark: "#2d353b"
  },
  {
    id: "flexoki",
    name: "Flexoki",
    description: "Based on Material Design 3",
    previewColors: ["#16504a", "#4dbdb5"],
    backgroundColorLight: "#fefefe",
    backgroundColorDark: "#100f0f"
  },
  {
    id: "gruvbox",
    name: "Gruvbox",
    description: "Retro groove color scheme",
    previewColors: ["#7a5412", "#f78b33"],
    backgroundColorLight: "#fbf1c7",
    backgroundColorDark: "#1d2021"
  },
  {
    id: "macos",
    name: "macOS",
    description: "Native macOS appearance",
    previewColors: ["#002e66", "#339fff"],
    backgroundColorLight: "#f5f5f7",
    backgroundColorDark: "#141414"
  },
  {
    id: "nord",
    name: "Nord",
    description: "Arctic-inspired color palette",
    previewColors: ["#2e4c63", "#5e94b8"],
    backgroundColorLight: "#f8fafc",
    backgroundColorDark: "#2e3440"
  },
  {
    id: "obsidian",
    name: "Obsidian",
    description: "Matches Obsidian's default theme",
    previewColors: ["#522994", "#9c75ff"],
    backgroundColorLight: "#f8f8f8",
    backgroundColorDark: "#0a0a0a"
  },
  {
    id: "rose-pine",
    name: "Ros\xE9 Pine",
    description: "All natural pine, faux fir, and winter",
    previewColors: ["#ab2142", "#ef97a9"],
    backgroundColorLight: "#faf4ed",
    backgroundColorDark: "#191724"
  },
  {
    id: "sky",
    name: "Sky",
    description: "Light, airy design",
    previewColors: ["#136194", "#46aad0"],
    backgroundColorLight: "#f0f9ff",
    backgroundColorDark: "#232729"
  },
  {
    id: "solarized",
    name: "Solarized",
    description: "Precision colors for machines and people",
    previewColors: ["#0e3754", "#339fff"],
    backgroundColorLight: "#fdf6e3",
    backgroundColorDark: "#002b36"
  },
  {
    id: "things",
    name: "Things",
    description: "Clean, minimal design",
    previewColors: ["#1e3a8a", "#4d95f7"],
    backgroundColorLight: "#f8fafc",
    backgroundColorDark: "#17191c"
  },
  {
    id: "custom",
    name: "Custom",
    description: "Use a custom theme file",
    previewColors: ["#666666", "#999999"],
    backgroundColorLight: "#ffffff",
    backgroundColorDark: "#000000"
  }
];
var TEMPLATE_OPTIONS = [
  {
    id: "standard",
    name: "Standard",
    description: "Full-featured blog with all default options enabled",
    features: ["Command palette", "Table of contents", "Reading time", "Linked mentions", "Footer", "Social icons", "Scroll to top", "Dark mode toggle"],
    recommended: true
  },
  {
    id: "compact",
    name: "Compact",
    description: "Balanced setup for smaller sites with optimized layout",
    features: ["Command palette", "Table of contents", "Reading time", "Compact linked mentions", "Custom aspect ratio"],
    recommended: false
  },
  {
    id: "minimal",
    name: "Minimal",
    description: "Clean, simple blog with minimal features and content",
    features: ["Command palette", "Search posts/pages", "Minimal navigation"],
    recommended: false
  }
];

// src/ui/SetupWizardModal.ts
var import_obsidian7 = require("obsidian");

// src/ui/wizard/WizardState.ts
var WizardStateManager = class {
  constructor(plugin) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;
    this.plugin = plugin;
    const settings = plugin.settings;
    this.state = {
      currentStep: 1,
      totalSteps: 10,
      selectedTemplate: settings.currentTemplate,
      selectedTheme: settings.currentTheme,
      selectedContentOrg: settings.contentOrganization,
      selectedSiteInfo: settings.siteInfo,
      selectedNavigation: settings.navigation,
      selectedFeatures: (() => {
        var _a2, _b2;
        const templateFeatures = {
          "standard": {
            commandPalette: true,
            readingTime: true,
            linkedMentions: true,
            linkedMentionsCompact: false,
            graphView: true,
            postNavigation: true,
            hideScrollBar: false,
            scrollToTop: true,
            showSocialIconsInFooter: true,
            profilePicture: false,
            comments: false,
            featureButton: "mode",
            showPostCardCoverImages: "featured-and-posts",
            postCardAspectRatio: "og",
            customPostCardAspectRatio: "2.5/1",
            quickActions: {
              enabled: true,
              toggleMode: true,
              graphView: true,
              changeTheme: true
            }
          },
          "compact": {
            commandPalette: true,
            readingTime: true,
            linkedMentions: true,
            linkedMentionsCompact: true,
            graphView: false,
            postNavigation: true,
            hideScrollBar: false,
            scrollToTop: true,
            showSocialIconsInFooter: false,
            profilePicture: false,
            comments: false,
            featureButton: "none",
            showPostCardCoverImages: "featured-and-posts",
            postCardAspectRatio: "og",
            customPostCardAspectRatio: "2.5/1",
            quickActions: {
              enabled: true,
              toggleMode: true,
              graphView: true,
              changeTheme: true
            }
          },
          "minimal": {
            commandPalette: true,
            readingTime: false,
            linkedMentions: false,
            linkedMentionsCompact: false,
            graphView: false,
            postNavigation: false,
            hideScrollBar: true,
            scrollToTop: true,
            showSocialIconsInFooter: false,
            profilePicture: false,
            comments: false,
            featureButton: "none",
            showPostCardCoverImages: "featured-and-posts",
            postCardAspectRatio: "og",
            customPostCardAspectRatio: "2.5/1",
            quickActions: {
              enabled: true,
              toggleMode: true,
              graphView: true,
              changeTheme: true
            }
          },
          "custom": {
            // For custom, use current settings
            ...settings.features
          }
        };
        const templateFeaturesResult = templateFeatures[settings.currentTemplate] || templateFeatures["standard"];
        if ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.profilePicture) {
          templateFeaturesResult.profilePicture = settings.optionalFeatures.profilePicture.enabled;
        }
        if ((_b2 = settings.optionalFeatures) == null ? void 0 : _b2.comments) {
          templateFeaturesResult.comments = settings.optionalFeatures.comments.enabled;
        }
        return templateFeaturesResult;
      })(),
      selectedTypography: settings.typography,
      selectedOptionalFeatures: {
        profilePicture: {
          enabled: ((_b = (_a = settings.optionalFeatures) == null ? void 0 : _a.profilePicture) == null ? void 0 : _b.enabled) || false,
          image: ((_d = (_c = settings.optionalFeatures) == null ? void 0 : _c.profilePicture) == null ? void 0 : _d.image) || "/profile.jpg",
          alt: ((_f = (_e = settings.optionalFeatures) == null ? void 0 : _e.profilePicture) == null ? void 0 : _f.alt) || "Profile picture",
          size: ((_h = (_g = settings.optionalFeatures) == null ? void 0 : _g.profilePicture) == null ? void 0 : _h.size) || "md",
          url: ((_j = (_i = settings.optionalFeatures) == null ? void 0 : _i.profilePicture) == null ? void 0 : _j.url) || "",
          placement: ((_l = (_k = settings.optionalFeatures) == null ? void 0 : _k.profilePicture) == null ? void 0 : _l.placement) || "footer",
          style: ((_n = (_m = settings.optionalFeatures) == null ? void 0 : _m.profilePicture) == null ? void 0 : _n.style) || "circle"
        },
        comments: (() => {
          var _a2, _b2, _c2;
          const commentsEnabled = ((_b2 = (_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) == null ? void 0 : _b2.enabled) || false;
          const existingComments = (_c2 = settings.optionalFeatures) == null ? void 0 : _c2.comments;
          if (!commentsEnabled) {
            return {
              enabled: false,
              provider: (existingComments == null ? void 0 : existingComments.provider) || "giscus",
              rawScript: (existingComments == null ? void 0 : existingComments.rawScript) || "",
              repo: (existingComments == null ? void 0 : existingComments.repo) || "",
              repoId: (existingComments == null ? void 0 : existingComments.repoId) || "",
              category: (existingComments == null ? void 0 : existingComments.category) || "",
              categoryId: (existingComments == null ? void 0 : existingComments.categoryId) || "",
              mapping: (existingComments == null ? void 0 : existingComments.mapping) || "",
              strict: (existingComments == null ? void 0 : existingComments.strict) || "",
              reactions: (existingComments == null ? void 0 : existingComments.reactions) || "",
              metadata: (existingComments == null ? void 0 : existingComments.metadata) || "",
              inputPosition: (existingComments == null ? void 0 : existingComments.inputPosition) || "",
              theme: (existingComments == null ? void 0 : existingComments.theme) || "",
              lang: (existingComments == null ? void 0 : existingComments.lang) || "",
              loading: (existingComments == null ? void 0 : existingComments.loading) || ""
            };
          }
          return {
            enabled: true,
            provider: (existingComments == null ? void 0 : existingComments.provider) || "giscus",
            rawScript: (existingComments == null ? void 0 : existingComments.rawScript) || "",
            repo: (existingComments == null ? void 0 : existingComments.repo) || "davidvkimball/astro-modular",
            repoId: (existingComments == null ? void 0 : existingComments.repoId) || "R_kgDOPllfKw",
            category: (existingComments == null ? void 0 : existingComments.category) || "General",
            categoryId: (existingComments == null ? void 0 : existingComments.categoryId) || "DIC_kwDOPllfK84CvUpx",
            mapping: (existingComments == null ? void 0 : existingComments.mapping) || "pathname",
            strict: (existingComments == null ? void 0 : existingComments.strict) || "0",
            reactions: (existingComments == null ? void 0 : existingComments.reactions) || "1",
            metadata: (existingComments == null ? void 0 : existingComments.metadata) || "0",
            inputPosition: (existingComments == null ? void 0 : existingComments.inputPosition) || "bottom",
            theme: (existingComments == null ? void 0 : existingComments.theme) || "preferred_color_scheme",
            lang: (existingComments == null ? void 0 : existingComments.lang) || "en",
            loading: (existingComments == null ? void 0 : existingComments.loading) || "lazy"
          };
        })()
      },
      selectedOptionalContentTypes: (() => {
        const isStandard = settings.currentTemplate === "standard";
        return {
          projects: isStandard,
          docs: isStandard
        };
      })(),
      selectedDeployment: settings.deployment.platform,
      runWizardOnStartup: settings.runWizardOnStartup
    };
  }
  getState() {
    return this.state;
  }
  updateState(updates) {
    this.state = { ...this.state, ...updates };
  }
  setState(updates) {
    this.state = { ...this.state, ...updates };
  }
  nextStep() {
    if (this.state.currentStep < this.state.totalSteps) {
      this.state.currentStep++;
    }
  }
  previousStep() {
    if (this.state.currentStep > 1) {
      this.state.currentStep--;
    }
  }
  canGoNext() {
    return this.state.currentStep < this.state.totalSteps;
  }
  canGoPrevious() {
    return this.state.currentStep > 1;
  }
  getProgress() {
    return this.state.currentStep / this.state.totalSteps * 100;
  }
  refreshState() {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;
    const settings = this.plugin.settings;
    this.state.selectedTemplate = settings.currentTemplate;
    this.state.selectedTheme = settings.currentTheme;
    this.state.selectedContentOrg = settings.contentOrganization;
    this.state.selectedSiteInfo = settings.siteInfo;
    this.state.selectedNavigation = settings.navigation;
    this.state.selectedTypography = settings.typography;
    this.state.selectedDeployment = settings.deployment.platform;
    this.state.runWizardOnStartup = settings.runWizardOnStartup;
    const templateFeatures = {
      "standard": {
        commandPalette: true,
        readingTime: true,
        linkedMentions: true,
        linkedMentionsCompact: false,
        graphView: true,
        postNavigation: true,
        hideScrollBar: false,
        scrollToTop: true,
        showSocialIconsInFooter: true,
        profilePicture: false,
        comments: false,
        featureButton: "mode",
        showPostCardCoverImages: "featured-and-posts",
        postCardAspectRatio: "og",
        customPostCardAspectRatio: "2.5/1",
        quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
      },
      "compact": {
        commandPalette: true,
        readingTime: true,
        linkedMentions: true,
        linkedMentionsCompact: true,
        graphView: false,
        postNavigation: true,
        hideScrollBar: false,
        scrollToTop: true,
        showSocialIconsInFooter: false,
        profilePicture: false,
        comments: false,
        featureButton: "none",
        showPostCardCoverImages: "featured-and-posts",
        postCardAspectRatio: "og",
        customPostCardAspectRatio: "2.5/1",
        quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
      },
      "minimal": {
        commandPalette: true,
        readingTime: false,
        linkedMentions: false,
        linkedMentionsCompact: false,
        graphView: false,
        postNavigation: false,
        hideScrollBar: true,
        scrollToTop: true,
        showSocialIconsInFooter: false,
        profilePicture: false,
        comments: false,
        featureButton: "none",
        showPostCardCoverImages: "featured-and-posts",
        postCardAspectRatio: "og",
        customPostCardAspectRatio: "2.5/1",
        quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
      }
    };
    const templateFeaturesResult = templateFeatures[settings.currentTemplate] || templateFeatures["standard"];
    if ((_a = settings.optionalFeatures) == null ? void 0 : _a.profilePicture) {
      templateFeaturesResult.profilePicture = settings.optionalFeatures.profilePicture.enabled;
    }
    if ((_b = settings.optionalFeatures) == null ? void 0 : _b.comments) {
      templateFeaturesResult.comments = settings.optionalFeatures.comments.enabled;
    }
    this.state.selectedFeatures = templateFeaturesResult;
    this.state.selectedOptionalFeatures = {
      profilePicture: {
        enabled: ((_d = (_c = settings.optionalFeatures) == null ? void 0 : _c.profilePicture) == null ? void 0 : _d.enabled) || false,
        image: ((_f = (_e = settings.optionalFeatures) == null ? void 0 : _e.profilePicture) == null ? void 0 : _f.image) || "/profile.jpg",
        alt: ((_h = (_g = settings.optionalFeatures) == null ? void 0 : _g.profilePicture) == null ? void 0 : _h.alt) || "Profile picture",
        size: ((_j = (_i = settings.optionalFeatures) == null ? void 0 : _i.profilePicture) == null ? void 0 : _j.size) || "md",
        url: ((_l = (_k = settings.optionalFeatures) == null ? void 0 : _k.profilePicture) == null ? void 0 : _l.url) || "",
        placement: ((_n = (_m = settings.optionalFeatures) == null ? void 0 : _m.profilePicture) == null ? void 0 : _n.placement) || "footer",
        style: ((_p = (_o = settings.optionalFeatures) == null ? void 0 : _o.profilePicture) == null ? void 0 : _p.style) || "circle"
      },
      comments: (() => {
        var _a2, _b2, _c2;
        const commentsEnabled = ((_b2 = (_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) == null ? void 0 : _b2.enabled) || false;
        const existingComments = (_c2 = settings.optionalFeatures) == null ? void 0 : _c2.comments;
        if (!commentsEnabled) {
          return {
            enabled: false,
            provider: (existingComments == null ? void 0 : existingComments.provider) || "giscus",
            rawScript: (existingComments == null ? void 0 : existingComments.rawScript) || "",
            repo: (existingComments == null ? void 0 : existingComments.repo) || "",
            repoId: (existingComments == null ? void 0 : existingComments.repoId) || "",
            category: (existingComments == null ? void 0 : existingComments.category) || "",
            categoryId: (existingComments == null ? void 0 : existingComments.categoryId) || "",
            mapping: (existingComments == null ? void 0 : existingComments.mapping) || "",
            strict: (existingComments == null ? void 0 : existingComments.strict) || "",
            reactions: (existingComments == null ? void 0 : existingComments.reactions) || "",
            metadata: (existingComments == null ? void 0 : existingComments.metadata) || "",
            inputPosition: (existingComments == null ? void 0 : existingComments.inputPosition) || "",
            theme: (existingComments == null ? void 0 : existingComments.theme) || "",
            lang: (existingComments == null ? void 0 : existingComments.lang) || "",
            loading: (existingComments == null ? void 0 : existingComments.loading) || ""
          };
        }
        return {
          enabled: true,
          provider: (existingComments == null ? void 0 : existingComments.provider) || "giscus",
          rawScript: (existingComments == null ? void 0 : existingComments.rawScript) || "",
          repo: (existingComments == null ? void 0 : existingComments.repo) || "davidvkimball/astro-modular",
          repoId: (existingComments == null ? void 0 : existingComments.repoId) || "R_kgDOPllfKw",
          category: (existingComments == null ? void 0 : existingComments.category) || "General",
          categoryId: (existingComments == null ? void 0 : existingComments.categoryId) || "DIC_kwDOPllfK84CvUpx",
          mapping: (existingComments == null ? void 0 : existingComments.mapping) || "pathname",
          strict: (existingComments == null ? void 0 : existingComments.strict) || "0",
          reactions: (existingComments == null ? void 0 : existingComments.reactions) || "1",
          metadata: (existingComments == null ? void 0 : existingComments.metadata) || "0",
          inputPosition: (existingComments == null ? void 0 : existingComments.inputPosition) || "bottom",
          theme: (existingComments == null ? void 0 : existingComments.theme) || "preferred_color_scheme",
          lang: (existingComments == null ? void 0 : existingComments.lang) || "en",
          loading: (existingComments == null ? void 0 : existingComments.loading) || "lazy"
        };
      })()
    };
    const isStandard = settings.currentTemplate === "standard";
    this.state.selectedOptionalContentTypes = {
      projects: isStandard,
      docs: isStandard
    };
  }
  buildFinalSettings() {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    const settings = this.plugin.settings;
    const originalTemplate = settings.currentTemplate;
    settings.currentTemplate = this.state.selectedTemplate;
    settings.currentTheme = this.state.selectedTheme;
    settings.contentOrganization = this.state.selectedContentOrg;
    settings.siteInfo = this.state.selectedSiteInfo;
    settings.navigation = this.state.selectedNavigation;
    settings.features = this.state.selectedFeatures;
    settings.typography = this.state.selectedTypography;
    settings.optionalFeatures = this.state.selectedOptionalFeatures;
    settings.deployment.platform = this.state.selectedDeployment;
    settings.runWizardOnStartup = this.state.runWizardOnStartup;
    if (this.state.selectedFeatures) {
      if ((_a = settings.postOptions) == null ? void 0 : _a.graphView) {
        settings.postOptions.graphView.enabled = (_b = this.state.selectedFeatures.graphView) != null ? _b : false;
      }
      if ((_c = settings.postOptions) == null ? void 0 : _c.linkedMentions) {
        settings.postOptions.linkedMentions.enabled = (_d = this.state.selectedFeatures.linkedMentions) != null ? _d : false;
        settings.postOptions.linkedMentions.linkedMentionsCompact = (_e = this.state.selectedFeatures.linkedMentionsCompact) != null ? _e : false;
      }
      if (((_f = settings.commandPalette) == null ? void 0 : _f.quickActions) && this.state.selectedFeatures.quickActions) {
        settings.commandPalette.quickActions = {
          ...settings.commandPalette.quickActions,
          ...this.state.selectedFeatures.quickActions
        };
      }
    }
    if (this.state.selectedTemplate !== originalTemplate) {
      const templatePreset = this.plugin.configManager.getTemplatePreset(this.state.selectedTemplate);
      if (templatePreset && templatePreset.config) {
        if (templatePreset.config.tableOfContents) {
          settings.tableOfContents = { ...settings.tableOfContents, ...templatePreset.config.tableOfContents };
        }
      }
    }
    if ((_g = settings.optionalFeatures) == null ? void 0 : _g.profilePicture) {
      settings.features.profilePicture = settings.optionalFeatures.profilePicture.enabled;
    }
    if ((_h = settings.optionalFeatures) == null ? void 0 : _h.comments) {
      settings.features.comments = settings.optionalFeatures.comments.enabled;
      if (!settings.postOptions) {
        settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: { ...settings.optionalFeatures.comments } };
      } else if (!settings.postOptions.comments) {
        settings.postOptions.comments = { ...settings.optionalFeatures.comments };
      } else {
        settings.postOptions.comments.enabled = settings.optionalFeatures.comments.enabled;
        Object.assign(settings.postOptions.comments, settings.optionalFeatures.comments);
      }
    }
    settings.optionalContentTypes = this.state.selectedOptionalContentTypes;
  }
};

// src/ui/wizard/BaseWizardStep.ts
var BaseWizardStep = class {
  constructor(app, modal, stateManager, plugin) {
    this.app = app;
    this.modal = modal;
    this.stateManager = stateManager;
    this.plugin = plugin;
  }
  nextStep() {
    this.stateManager.nextStep();
    this.modal.close();
  }
  previousStep() {
    this.stateManager.previousStep();
    this.modal.close();
  }
  updateState(updates) {
    this.stateManager.updateState(updates);
  }
  getState() {
    return this.stateManager.getState();
  }
};

// src/ui/wizard/WelcomeStep.ts
var WelcomeStep = class extends BaseWizardStep {
  render(container) {
    var _a, _b, _c, _d, _e, _f;
    const state = this.getState();
    const welcomeContent = container.createDiv("welcome-content");
    welcomeContent.createEl("h2", { text: "Welcome to Astro Modular!" });
    welcomeContent.createEl("p", { text: "This wizard will help you set up your Astro Modular theme with the perfect configuration for your needs." });
    const checkboxOption = welcomeContent.createDiv("checkbox-option");
    const checkbox = checkboxOption.createEl("input", { type: "checkbox" });
    checkbox.id = "run-wizard-startup";
    if (state.runWizardOnStartup) {
      checkbox.setAttribute("checked", "checked");
    }
    const label = checkboxOption.createEl("label", { text: "Run this wizard on startup" });
    label.setAttribute("for", "run-wizard-startup");
    const siteInfoForm = welcomeContent.createDiv("site-info-form");
    siteInfoForm.createEl("h3", { text: "Site information" });
    const urlGroup = siteInfoForm.createDiv("form-group");
    const urlLabel = urlGroup.createEl("label", { text: "URL" });
    urlLabel.setAttribute("for", "site-url");
    const urlInput = urlGroup.createEl("input", { type: "text" });
    urlInput.id = "site-url";
    urlInput.placeholder = "https://astro-modular.netlify.app";
    urlInput.setAttribute("value", state.selectedSiteInfo.site);
    const titleGroup = siteInfoForm.createDiv("form-group");
    const titleLabel = titleGroup.createEl("label", { text: "Title" });
    titleLabel.setAttribute("for", "site-title");
    const titleInput = titleGroup.createEl("input", { type: "text" });
    titleInput.id = "site-title";
    titleInput.placeholder = "Astro Modular";
    titleInput.setAttribute("value", state.selectedSiteInfo.title);
    const descGroup = siteInfoForm.createDiv("form-group");
    const descLabel = descGroup.createEl("label", { text: "Description" });
    descLabel.setAttribute("for", "site-description");
    const descInput = descGroup.createEl("input", { type: "text" });
    descInput.id = "site-description";
    descInput.placeholder = "A flexible blog theme designed for Obsidian users.";
    descInput.setAttribute("value", state.selectedSiteInfo.description);
    const authorGroup = siteInfoForm.createDiv("form-group");
    const authorLabel = authorGroup.createEl("label", { text: "Author name" });
    authorLabel.setAttribute("for", "site-author");
    const authorInput = authorGroup.createEl("input", { type: "text" });
    authorInput.id = "site-author";
    authorInput.placeholder = "David V. Kimball";
    authorInput.setAttribute("value", state.selectedSiteInfo.author);
    const langGroup = siteInfoForm.createDiv("form-group");
    const langLabel = langGroup.createEl("label", { text: "Language" });
    langLabel.setAttribute("for", "site-language");
    const langInput = langGroup.createEl("input", { type: "text" });
    langInput.id = "site-language";
    langInput.placeholder = "en";
    langInput.setAttribute("value", state.selectedSiteInfo.language);
    (_a = container.querySelector("#run-wizard-startup")) == null ? void 0 : _a.addEventListener("change", (e) => {
      const target = e.target;
      this.updateState({ runWizardOnStartup: target.checked });
    });
    (_b = container.querySelector("#site-url")) == null ? void 0 : _b.addEventListener("input", (e) => {
      const currentState = this.getState();
      this.updateState({
        selectedSiteInfo: {
          ...currentState.selectedSiteInfo,
          site: e.target.value
        }
      });
    });
    (_c = container.querySelector("#site-title")) == null ? void 0 : _c.addEventListener("input", (e) => {
      const currentState = this.getState();
      this.updateState({
        selectedSiteInfo: {
          ...currentState.selectedSiteInfo,
          title: e.target.value
        }
      });
    });
    (_d = container.querySelector("#site-description")) == null ? void 0 : _d.addEventListener("input", (e) => {
      const currentState = this.getState();
      this.updateState({
        selectedSiteInfo: {
          ...currentState.selectedSiteInfo,
          description: e.target.value
        }
      });
    });
    (_e = container.querySelector("#site-author")) == null ? void 0 : _e.addEventListener("input", (e) => {
      const currentState = this.getState();
      this.updateState({
        selectedSiteInfo: {
          ...currentState.selectedSiteInfo,
          author: e.target.value
        }
      });
    });
    (_f = container.querySelector("#site-language")) == null ? void 0 : _f.addEventListener("input", (e) => {
      const currentState = this.getState();
      this.updateState({
        selectedSiteInfo: {
          ...currentState.selectedSiteInfo,
          language: e.target.value
        }
      });
    });
  }
};

// src/ui/wizard/TemplateStep.ts
var import_obsidian = require("obsidian");
var TemplateStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const templateSelectionDiv = container.createDiv("template-selection");
    templateSelectionDiv.createEl("h2", { text: "Choose your preset" });
    templateSelectionDiv.createEl("p", { text: "Select a preset that best fits your content type and goals." });
    const templateOptions = templateSelectionDiv.createDiv("template-options");
    TEMPLATE_OPTIONS.forEach((template) => {
      const templateOption = templateOptions.createDiv("template-option");
      if (state.selectedTemplate === template.id) {
        templateOption.addClass("selected");
      }
      templateOption.setAttribute("data-template", template.id);
      const templateHeader = templateOption.createDiv("template-header");
      templateHeader.createEl("h3", { text: template.name });
      if (template.recommended) {
        templateHeader.createEl("span", { text: "Default", cls: "recommended" });
      }
      templateOption.createEl("p", { text: template.description, cls: "template-description" });
      const templateFeatures = templateOption.createDiv("template-features");
      template.features.forEach((feature) => {
        templateFeatures.createEl("span", { text: feature, cls: "feature-tag" });
      });
      templateOption.addEventListener("click", () => {
        const templateId = template.id;
        this.updateState({ selectedTemplate: templateId });
        const isStandard = templateId === "standard";
        this.updateState({
          selectedOptionalContentTypes: {
            projects: isStandard,
            docs: isStandard
          }
        });
        this.syncFeaturesWithTemplate(templateId);
        this.render(container);
      });
    });
    const templateSelectionEl = container.querySelector(".template-selection");
    if (templateSelectionEl) {
      const setting = new import_obsidian.Setting(templateSelectionEl).setName("Edit config.ts directly (advanced)").setDesc("Skip the wizard and edit your Astro configuration file directly.").addButton((button) => button.setButtonText("Edit config.ts").onClick(() => {
        this.openConfigFile();
      }));
      const settingEl = setting.settingEl;
      if (settingEl) {
        settingEl.setCssProps({ marginTop: "2rem" });
      }
    }
  }
  syncFeaturesWithTemplate(template) {
    const pluginInstance = this.plugin;
    const templatePreset = pluginInstance.configManager.getTemplatePreset(template);
    if (!templatePreset || !templatePreset.config || !templatePreset.config.features) {
      console.error("Template preset not found:", template);
      return;
    }
    this.updateState({
      selectedFeatures: templatePreset.config.features
    });
  }
  async updatePluginSettingsWithTemplate(template) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A;
    const pluginForUpdate = this.plugin;
    const settings = pluginForUpdate.settings;
    const templatePreset = pluginForUpdate.configManager.getTemplatePreset(template);
    if (!templatePreset || !templatePreset.config) {
      console.error("Template preset not found:", template);
      return;
    }
    const templateConfig = pluginForUpdate.configManager.getTemplateConfig(template, settings);
    if (templatePreset.config.features) {
      const currentComments = settings.features.comments;
      const currentProfilePicture = settings.features.profilePicture;
      settings.features = { ...settings.features, ...templatePreset.config.features };
      settings.features.comments = currentComments;
      settings.features.profilePicture = currentProfilePicture;
      if ((_a = settings.postOptions) == null ? void 0 : _a.graphView) {
        settings.postOptions.graphView.enabled = (_b = templatePreset.config.features.graphView) != null ? _b : false;
        settings.features.graphView = settings.postOptions.graphView.enabled;
      }
      if ((_c = settings.postOptions) == null ? void 0 : _c.linkedMentions) {
        settings.postOptions.linkedMentions.enabled = (_d = templatePreset.config.features.linkedMentions) != null ? _d : false;
        settings.postOptions.linkedMentions.linkedMentionsCompact = (_e = templatePreset.config.features.linkedMentionsCompact) != null ? _e : false;
      }
      if (((_f = settings.commandPalette) == null ? void 0 : _f.quickActions) && templatePreset.config.features.quickActions) {
        settings.commandPalette.quickActions = { ...settings.commandPalette.quickActions, ...templatePreset.config.features.quickActions };
      }
    }
    if (templateConfig.commandPalette && typeof templateConfig.commandPalette === "object") {
      const commandPalette = templateConfig.commandPalette;
      settings.commandPalette = {
        ...settings.commandPalette,
        enabled: (_g = commandPalette.enabled) != null ? _g : settings.commandPalette.enabled,
        placeholder: (_h = commandPalette.placeholder) != null ? _h : settings.commandPalette.placeholder,
        shortcut: (_i = commandPalette.shortcut) != null ? _i : settings.commandPalette.shortcut,
        search: {
          ...settings.commandPalette.search,
          ...commandPalette.search && typeof commandPalette.search === "object" ? commandPalette.search : {}
        },
        sections: {
          ...settings.commandPalette.sections,
          ...commandPalette.sections && typeof commandPalette.sections === "object" ? commandPalette.sections : {}
        },
        quickActions: {
          ...settings.commandPalette.quickActions,
          ...((_j = templatePreset.config.features) == null ? void 0 : _j.quickActions) || {}
        }
      };
      if (templatePreset.config.features && templatePreset.config.features.quickActions) {
        settings.features.quickActions = {
          ...settings.features.quickActions,
          ...templatePreset.config.features.quickActions
        };
      }
    }
    if (templateConfig.homeOptions && typeof templateConfig.homeOptions === "object") {
      const homeOptions = templateConfig.homeOptions;
      settings.homeOptions = {
        ...settings.homeOptions,
        featuredPost: {
          ...settings.homeOptions.featuredPost,
          ...homeOptions.featuredPost && typeof homeOptions.featuredPost === "object" ? homeOptions.featuredPost : {}
        },
        recentPosts: {
          ...settings.homeOptions.recentPosts,
          ...homeOptions.recentPosts && typeof homeOptions.recentPosts === "object" ? homeOptions.recentPosts : {}
        },
        projects: {
          ...settings.homeOptions.projects,
          ...homeOptions.projects && typeof homeOptions.projects === "object" ? homeOptions.projects : {}
        },
        docs: {
          ...settings.homeOptions.docs,
          ...homeOptions.docs && typeof homeOptions.docs === "object" ? homeOptions.docs : {}
        },
        blurb: {
          ...settings.homeOptions.blurb,
          ...homeOptions.blurb && typeof homeOptions.blurb === "object" ? homeOptions.blurb : {}
        }
      };
    }
    if (templateConfig.postOptions && typeof templateConfig.postOptions === "object") {
      const postOptions = templateConfig.postOptions;
      settings.postOptions = {
        ...settings.postOptions,
        postsPerPage: (_k = postOptions.postsPerPage) != null ? _k : settings.postOptions.postsPerPage,
        readingTime: (_l = postOptions.readingTime) != null ? _l : settings.postOptions.readingTime,
        wordCount: (_m = postOptions.wordCount) != null ? _m : settings.postOptions.wordCount,
        tags: (_n = postOptions.tags) != null ? _n : settings.postOptions.tags,
        postNavigation: (_o = postOptions.postNavigation) != null ? _o : settings.postOptions.postNavigation,
        showPostCardCoverImages: (_p = postOptions.showPostCardCoverImages) != null ? _p : settings.postOptions.showPostCardCoverImages,
        postCardAspectRatio: (_q = postOptions.postCardAspectRatio) != null ? _q : settings.postOptions.postCardAspectRatio,
        linkedMentions: {
          ...settings.postOptions.linkedMentions,
          ...postOptions.linkedMentions && typeof postOptions.linkedMentions === "object" ? postOptions.linkedMentions : {}
        },
        graphView: {
          ...settings.postOptions.graphView,
          enabled: (_r = postOptions.graphView && typeof postOptions.graphView === "object" ? postOptions.graphView.enabled : void 0) != null ? _r : settings.postOptions.graphView.enabled,
          showInSidebar: (_s = postOptions.graphView && typeof postOptions.graphView === "object" ? postOptions.graphView.showInSidebar : void 0) != null ? _s : settings.postOptions.graphView.showInSidebar,
          maxNodes: (_t = postOptions.graphView && typeof postOptions.graphView === "object" ? postOptions.graphView.maxNodes : void 0) != null ? _t : settings.postOptions.graphView.maxNodes,
          showOrphanedPosts: (_u = postOptions.graphView && typeof postOptions.graphView === "object" ? postOptions.graphView.showOrphanedPosts : void 0) != null ? _u : settings.postOptions.graphView.showOrphanedPosts
        },
        comments: settings.postOptions.comments
        // Preserve comments
      };
    }
    if (templateConfig.navigation && typeof templateConfig.navigation === "object") {
      const navigation = templateConfig.navigation;
      settings.navigation = {
        ...settings.navigation,
        showNavigation: (_v = navigation.showNavigation) != null ? _v : settings.navigation.showNavigation,
        showMobileMenu: (_w = navigation.showMobileMenu) != null ? _w : settings.navigation.showMobileMenu,
        style: (_x = navigation.style) != null ? _x : settings.navigation.style
        // Preserve pages and social arrays from user settings
      };
    }
    if (templatePreset.config.tableOfContents) {
      settings.tableOfContents = { ...settings.tableOfContents, ...templatePreset.config.tableOfContents };
    }
    if (templateConfig.optionalContentTypes && typeof templateConfig.optionalContentTypes === "object") {
      const optionalContentTypes = templateConfig.optionalContentTypes;
      settings.optionalContentTypes = {
        projects: (_y = optionalContentTypes.projects) != null ? _y : false,
        docs: (_z = optionalContentTypes.docs) != null ? _z : false
      };
    }
    if (templateConfig.footer && typeof templateConfig.footer === "object") {
      const footer = templateConfig.footer;
      const showSocialIconsInFooter = (_A = footer.showSocialIconsInFooter) != null ? _A : settings.footer.showSocialIconsInFooter;
      settings.footer = {
        ...settings.footer,
        showSocialIconsInFooter
      };
      settings.features.showSocialIconsInFooter = showSocialIconsInFooter;
    }
    await this.plugin.saveData(settings);
    const pluginInstance = this.plugin;
    await pluginInstance.loadSettings();
    this.refreshSettingsTab();
  }
  refreshSettingsTab() {
    const plugin = this.plugin;
    const settingsTab = plugin.settingsTab;
    if (settingsTab && typeof settingsTab.display === "function") {
      settingsTab.display();
    }
  }
  openConfigFile() {
    try {
      const fs = require("fs");
      const path = require("path");
      const electronModule = require("electron");
      const shellRaw = electronModule.shell;
      const vaultAdapter = this.app.vault.adapter;
      const vaultPath = vaultAdapter.basePath || vaultAdapter.path;
      const vaultPathString = typeof vaultPath === "string" ? vaultPath : vaultPath ? String(vaultPath) : "";
      if (!shellRaw || typeof shellRaw !== "object" || !("openPath" in shellRaw) || typeof shellRaw.openPath !== "function") {
        throw new Error("Electron shell API not available");
      }
      const shell = shellRaw;
      const configPath = path.join(vaultPathString, "..", "config.ts");
      if (fs.existsSync(configPath)) {
        shell.openPath(configPath);
      } else {
        fs.writeFileSync(configPath, "// Astro Modular Configuration\n// Customize your settings here\n\nexport const siteConfig = {\n  // Add your configuration here\n};\n");
        shell.openPath(configPath);
      }
      new import_obsidian.Notice("Opening config.ts for direct editing");
      this.modal.close();
    } catch (error) {
      new import_obsidian.Notice(`Error opening config file: ${error instanceof Error ? error.message : String(error)}`);
    }
  }
};

// src/ui/wizard/ThemeStep.ts
var ThemeStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const isDarkMode = this.isObsidianDarkMode();
    const wizardThemes = THEME_OPTIONS.filter((theme) => theme.id !== "custom");
    const themeSelection = container.createDiv("theme-selection");
    themeSelection.createEl("h2", { text: "Choose your theme" });
    themeSelection.createEl("p", { text: "Select a color scheme that matches your style and content." });
    const themeOptions = themeSelection.createDiv("theme-options");
    wizardThemes.forEach((theme) => {
      const themeOption = themeOptions.createDiv("theme-option");
      if (state.selectedTheme === theme.id) {
        themeOption.addClass("selected");
      }
      themeOption.setAttribute("data-theme", theme.id);
      themeOption.setCssProps({
        background: isDarkMode ? theme.backgroundColorDark : theme.backgroundColorLight
      });
      const themePreview = themeOption.createDiv("theme-preview");
      themePreview.setCssProps({
        background: `linear-gradient(135deg, ${theme.previewColors.join(", ")})`
      });
      const previewContent = themePreview.createDiv("theme-preview-content");
      const previewText = previewContent.createDiv("preview-text");
      previewText.textContent = "Sample text";
      const previewAccent = previewContent.createDiv("preview-accent");
      previewAccent.textContent = "Accent";
      const themeInfo = themeOption.createDiv("theme-info");
      themeInfo.createEl("h3", { text: theme.name });
      themeOption.addEventListener("click", () => {
        this.updateState({ selectedTheme: theme.id });
        this.render(container);
      });
    });
  }
  isObsidianDarkMode() {
    const body = document.body;
    const isDarkClass = body.classList.contains("theme-dark") || body.classList.contains("dark");
    const computedStyle = getComputedStyle(document.documentElement);
    const colorScheme = computedStyle.getPropertyValue("color-scheme").trim();
    const isDarkProperty = colorScheme === "dark";
    const bgColor = computedStyle.getPropertyValue("--background-primary").trim();
    const isDarkBackground = Boolean(bgColor && (bgColor.includes("#") && parseInt(bgColor.slice(1, 3), 16) < 128 || bgColor.includes("rgb") && bgColor.includes("0, 0, 0") || bgColor.includes("hsl") && bgColor.includes("0, 0%, 0%")));
    return isDarkClass || isDarkProperty || isDarkBackground;
  }
};

// src/ui/wizard/FontStep.ts
var import_obsidian2 = require("obsidian");
var FontStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const fontSelection = container.createDiv("font-selection");
    fontSelection.createEl("h2", { text: "Choose your fonts" });
    fontSelection.createEl("p", { text: "Select fonts for headings, body text, and code." });
    const fontOptions = fontSelection.createDiv("font-options");
    const createFontDropdown = (name4, desc, currentValue, onChange) => {
      new import_obsidian2.Setting(fontOptions).setName(name4).setDesc(desc).addDropdown((dropdown) => {
        FONT_OPTIONS.forEach((font) => {
          dropdown.addOption(font, font);
        });
        dropdown.setValue(currentValue).onChange(onChange);
      });
    };
    createFontDropdown(
      "Heading Font",
      "Font for headings and titles",
      state.selectedTypography.headingFont,
      (value) => this.updateTypographySetting("headingFont", value, state)
    );
    createFontDropdown(
      "Body Font",
      "Font for body text and paragraphs",
      state.selectedTypography.proseFont,
      (value) => this.updateTypographySetting("proseFont", value, state)
    );
    createFontDropdown(
      "Monospace Font",
      "Font for code blocks and inline code",
      state.selectedTypography.monoFont,
      (value) => this.updateTypographySetting("monoFont", value, state)
    );
    new import_obsidian2.Setting(fontOptions).setName("Font source").setDesc("Choose how fonts are loaded").addDropdown((dropdown) => {
      dropdown.addOption("local", "Local (Google Fonts)");
      dropdown.addOption("cdn", "CDN (Custom)");
      dropdown.setValue(state.selectedTypography.fontSource).onChange((value) => {
        this.updateTypographySetting("fontSource", value, state);
        this.render(container);
      });
    });
    if (state.selectedTypography.fontSource === "cdn") {
      new import_obsidian2.Setting(fontOptions).setName("Custom font URLs").setDesc("Comma-separated URLs for custom fonts").addText((text) => {
        var _a;
        return text.setValue(((_a = state.selectedTypography.customFonts) == null ? void 0 : _a.urls) || "").setPlaceholder("https://fonts.googleapis.com/css2?family=Custom+Font:wght@400;600&display=swap").onChange((value) => this.updateCustomFontSetting("urls", value, state));
      });
      new import_obsidian2.Setting(fontOptions).setName("Custom heading font name").setDesc("Font family name for headings").addText((text) => {
        var _a;
        return text.setValue(((_a = state.selectedTypography.customFonts) == null ? void 0 : _a.heading) || "").setPlaceholder("Custom Heading Font").onChange((value) => this.updateCustomFontSetting("heading", value, state));
      });
      new import_obsidian2.Setting(fontOptions).setName("Custom body font name").setDesc("Font family name for body text").addText((text) => {
        var _a;
        return text.setValue(((_a = state.selectedTypography.customFonts) == null ? void 0 : _a.prose) || "").setPlaceholder("Custom Body Font").onChange((value) => this.updateCustomFontSetting("prose", value, state));
      });
      new import_obsidian2.Setting(fontOptions).setName("Custom monospace font name").setDesc("Font family name for code").addText((text) => {
        var _a;
        return text.setValue(((_a = state.selectedTypography.customFonts) == null ? void 0 : _a.mono) || "").setPlaceholder("Custom Monospace Font").onChange((value) => this.updateCustomFontSetting("mono", value, state));
      });
    }
  }
  updateTypographySetting(key, value, state) {
    const currentState = this.getState();
    this.updateState({
      selectedTypography: {
        ...currentState.selectedTypography,
        [key]: value
      }
    });
  }
  updateCustomFontSetting(key, value, state) {
    const currentState = this.getState();
    this.updateState({
      selectedTypography: {
        ...currentState.selectedTypography,
        customFonts: {
          ...currentState.selectedTypography.customFonts,
          [key]: value
        }
      }
    });
  }
};

// src/ui/wizard/ContentOrgStep.ts
var ContentOrgStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const contentOrgSelection = container.createDiv("content-org-selection");
    contentOrgSelection.createEl("h2", { text: "Content organization" });
    contentOrgSelection.createEl("p", { text: "Choose how you want to organize your content and assets." });
    const orgOptions = contentOrgSelection.createDiv("org-options");
    const fileBasedOption = orgOptions.createDiv("org-option");
    if (state.selectedContentOrg === "file-based") {
      fileBasedOption.addClass("selected");
    }
    fileBasedOption.setAttribute("data-org", "file-based");
    const fileBasedHeader = fileBasedOption.createDiv("org-header");
    fileBasedHeader.createEl("h3", { text: "File-based" });
    fileBasedHeader.createEl("span", { text: "Default", cls: "default-badge" });
    fileBasedOption.createEl("p", { text: "Single markdown files with images in attachments subfolder" });
    const fileBasedExample = fileBasedOption.createDiv("org-example");
    const fileBasedPre = fileBasedExample.createEl("pre");
    fileBasedPre.createEl("code", { text: "posts/\n\u251C\u2500\u2500 my-post.md\n\u2514\u2500\u2500 attachments/\n    \u2514\u2500\u2500 image.jpg" });
    const folderBasedOption = orgOptions.createDiv("org-option");
    if (state.selectedContentOrg === "folder-based") {
      folderBasedOption.addClass("selected");
    }
    folderBasedOption.setAttribute("data-org", "folder-based");
    const folderBasedHeader = folderBasedOption.createDiv("org-header");
    folderBasedHeader.createEl("h3", { text: "Folder-based" });
    folderBasedOption.createEl("p", { text: "Each post gets its own folder with co-located assets" });
    const folderBasedExample = folderBasedOption.createDiv("org-example");
    const folderBasedPre = folderBasedExample.createEl("pre");
    folderBasedPre.createEl("code", { text: "posts/\n\u251C\u2500\u2500 my-post/\n\u2502   \u251C\u2500\u2500 index.md\n\u2502   \u2514\u2500\u2500 image.jpg\n\u2514\u2500\u2500 another-post/\n    \u251C\u2500\u2500 index.md\n    \u2514\u2500\u2500 image.jpg" });
    fileBasedOption.addEventListener("click", () => {
      this.updateState({ selectedContentOrg: "file-based" });
      this.render(container);
    });
    folderBasedOption.addEventListener("click", () => {
      this.updateState({ selectedContentOrg: "folder-based" });
      this.render(container);
    });
  }
};

// src/ui/wizard/NavigationStep.ts
var import_obsidian3 = require("obsidian");
var NavigationStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const navigationSelection = container.createDiv("navigation-selection");
    navigationSelection.createEl("h2", { text: "Navigation setup" });
    navigationSelection.createEl("p", { text: "Configure your site navigation and social links." });
    const navigationSections = navigationSelection.createDiv("navigation-sections");
    const pagesSection = navigationSections.createDiv("nav-section");
    pagesSection.createEl("h3", { text: "Navigation pages" });
    pagesSection.createEl("p", { text: "Add pages to your main navigation menu. Leave URL empty to create dropdown-only parents." });
    const pagesList = pagesSection.createDiv("nav-items");
    pagesList.id = "pages-list";
    state.selectedNavigation.pages.forEach((page, index) => {
      this.renderPageItem(pagesList, page, index);
    });
    const addPageBtn = pagesSection.createEl("button", { text: "+ Add page", cls: "nav-add" });
    addPageBtn.id = "add-page";
    const socialSection = navigationSections.createDiv("nav-section");
    socialSection.createEl("h3", { text: "Social links" });
    socialSection.createEl("p", { text: "Add social media links for your footer." });
    const socialList = socialSection.createDiv("nav-items");
    socialList.id = "social-list";
    state.selectedNavigation.social.forEach((social, index) => {
      this.renderSocialItem(socialList, social, index);
    });
    const addSocialBtn = socialSection.createEl("button", { text: "+ Add social link", cls: "nav-add" });
    addSocialBtn.id = "add-social";
    this.setupEventHandlers(container);
  }
  renderPageItem(container, page, index) {
    const hasChildren = page.children && page.children.length > 0;
    const navItem = container.createDiv("nav-item");
    navItem.setAttribute("data-index", index.toString());
    navItem.setAttribute("draggable", "true");
    const itemContent = navItem.createDiv("nav-item-content");
    const itemFields = itemContent.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-title",
      // False positive: Placeholder text for input field
      // eslint-disable-next-line obsidianmd/ui/sentence-case
      attr: { placeholder: "Page Title", draggable: "false" }
    });
    titleInput.value = page.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-url",
      attr: { placeholder: "/page-url (leave empty for dropdown-only)", draggable: "false" }
    });
    urlInput.value = page.url || "";
    const itemActions = itemContent.createDiv("nav-item-actions");
    itemActions.createEl("button", {
      text: "+ child",
      cls: "nav-add-child",
      attr: { "data-index": index.toString(), title: "Add child page" }
    });
    const removeBtn = itemActions.createEl("button", {
      cls: "nav-remove mod-warning",
      attr: { "data-index": index.toString(), "data-icon": "trash", title: "Remove", "aria-label": "Remove" }
    });
    (0, import_obsidian3.setIcon)(removeBtn, "trash");
    const childrenContainer = navItem.createDiv("nav-children-container");
    childrenContainer.setAttribute("data-parent-index", index.toString());
    if (!hasChildren) {
      childrenContainer.setCssProps({ display: "none" });
    }
    childrenContainer.createDiv("nav-children-label").textContent = "Child pages:";
    const childrenDiv = childrenContainer.createDiv("nav-children");
    childrenDiv.setAttribute("data-parent-index", index.toString());
    if (hasChildren && page.children) {
      page.children.forEach((child, childIndex) => {
        this.renderChildItem(childrenDiv, child, index, childIndex);
      });
    }
  }
  renderChildItem(container, child, parentIndex, childIndex) {
    const childItem = container.createDiv("nav-child-item");
    childItem.setAttribute("data-index", parentIndex.toString());
    childItem.setAttribute("data-child-index", childIndex.toString());
    const itemFields = childItem.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-child-title",
      // False positive: Placeholder text for input field
      // eslint-disable-next-line obsidianmd/ui/sentence-case
      attr: { placeholder: "Child Title", draggable: "false" }
    });
    titleInput.value = child.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-child-url",
      attr: { placeholder: "/child-url", draggable: "false" }
    });
    urlInput.value = child.url || "";
    const removeBtn = childItem.createEl("button", {
      cls: "nav-child-remove mod-warning",
      attr: {
        "data-index": parentIndex.toString(),
        "data-child-index": childIndex.toString(),
        "data-icon": "trash",
        title: "Remove",
        "aria-label": "Remove"
      }
    });
    (0, import_obsidian3.setIcon)(removeBtn, "trash");
  }
  renderSocialItem(container, social, index) {
    const navItem = container.createDiv("nav-item");
    navItem.setAttribute("data-index", index.toString());
    navItem.setAttribute("draggable", "true");
    const itemContent = navItem.createDiv("nav-item-content");
    const itemFields = itemContent.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-title",
      // False positive: Placeholder text for input field
      // eslint-disable-next-line obsidianmd/ui/sentence-case
      attr: { placeholder: "Social Title", draggable: "false" }
    });
    titleInput.value = social.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-url",
      attr: { placeholder: "https://example.com", draggable: "false" }
    });
    urlInput.value = social.url || "";
    const removeBtn = itemContent.createEl("button", {
      cls: "nav-remove mod-warning",
      attr: { "data-index": index.toString(), "data-icon": "trash", title: "Remove", "aria-label": "Remove" }
    });
    (0, import_obsidian3.setIcon)(removeBtn, "trash");
    const iconRow = navItem.createDiv("nav-icon-row");
    const iconInput = iconRow.createEl("input", {
      type: "text",
      cls: "nav-icon",
      // False positive: Placeholder text for input field (kebab-case format)
      // eslint-disable-next-line obsidianmd/ui/sentence-case
      attr: { placeholder: "icon-name", draggable: "false" }
    });
    iconInput.value = social.icon || "";
    const iconHelp = iconRow.createDiv("nav-icon-help");
    iconHelp.createEl("small", { text: "Icon names from FontAwesome Brands" });
  }
  setupEventHandlers(container) {
    const state = this.getState();
    const pagesList = container.querySelector("#pages-list");
    if (pagesList) {
      const pagesInputHandler = (e) => {
        const target = e.target;
        if (target.classList.contains("nav-title")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          state.selectedNavigation.pages[index].title = target.value;
        } else if (target.classList.contains("nav-url")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          if (target.value.trim() === "") {
            delete state.selectedNavigation.pages[index].url;
          } else {
            state.selectedNavigation.pages[index].url = target.value;
          }
        } else if (target.classList.contains("nav-child-title")) {
          const childItem = target.closest(".nav-child-item");
          const parentIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-index")) || "0");
          const childIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-child-index")) || "0");
          if (!state.selectedNavigation.pages[parentIndex].children) {
            state.selectedNavigation.pages[parentIndex].children = [];
          }
          if (!state.selectedNavigation.pages[parentIndex].children[childIndex]) {
            state.selectedNavigation.pages[parentIndex].children[childIndex] = { title: "", url: "" };
          }
          state.selectedNavigation.pages[parentIndex].children[childIndex].title = target.value;
        } else if (target.classList.contains("nav-child-url")) {
          const childItem = target.closest(".nav-child-item");
          const parentIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-index")) || "0");
          const childIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-child-index")) || "0");
          if (!state.selectedNavigation.pages[parentIndex].children) {
            state.selectedNavigation.pages[parentIndex].children = [];
          }
          if (!state.selectedNavigation.pages[parentIndex].children[childIndex]) {
            state.selectedNavigation.pages[parentIndex].children[childIndex] = { title: "", url: "" };
          }
          state.selectedNavigation.pages[parentIndex].children[childIndex].url = target.value;
        }
      };
      const pagesListWithHandlers = pagesList;
      if (pagesListWithHandlers._inputHandler) {
        pagesList.removeEventListener("input", pagesListWithHandlers._inputHandler);
      }
      pagesListWithHandlers._inputHandler = pagesInputHandler;
      pagesList.addEventListener("input", pagesInputHandler);
    }
    const socialList = container.querySelector("#social-list");
    if (socialList) {
      const socialInputHandler = (e) => {
        const target = e.target;
        if (target.classList.contains("nav-title") || target.classList.contains("nav-url") || target.classList.contains("nav-icon")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          const field = target.classList.contains("nav-title") ? "title" : target.classList.contains("nav-url") ? "url" : "icon";
          state.selectedNavigation.social[index][field] = target.value;
        }
      };
      const socialListWithHandlers = socialList;
      if (socialListWithHandlers._inputHandler) {
        socialList.removeEventListener("input", socialListWithHandlers._inputHandler);
      }
      socialListWithHandlers._inputHandler = socialInputHandler;
      socialList.addEventListener("input", socialInputHandler);
    }
    const addPageBtn = container.querySelector("#add-page");
    if (addPageBtn) {
      const addPageHandler = () => {
        state.selectedNavigation.pages.push({ title: "New Page", url: "/new-page" });
        this.render(container);
      };
      const addPageBtnWithHandlers = addPageBtn;
      if (addPageBtnWithHandlers._clickHandler) {
        addPageBtn.removeEventListener("click", addPageBtnWithHandlers._clickHandler);
      }
      addPageBtnWithHandlers._clickHandler = addPageHandler;
      addPageBtn.addEventListener("click", addPageHandler);
    }
    const addSocialBtn = container.querySelector("#add-social");
    if (addSocialBtn) {
      const addSocialHandler = () => {
        state.selectedNavigation.social.push({ title: "New Social", url: "https://example.com", icon: "" });
        this.render(container);
      };
      const addSocialBtnWithHandlers = addSocialBtn;
      if (addSocialBtnWithHandlers._clickHandler) {
        addSocialBtn.removeEventListener("click", addSocialBtnWithHandlers._clickHandler);
      }
      addSocialBtnWithHandlers._clickHandler = addSocialHandler;
      addSocialBtn.addEventListener("click", addSocialHandler);
    }
    const removeHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-remove")) {
        e.preventDefault();
        e.stopPropagation();
        const index = parseInt(target.getAttribute("data-index") || "0");
        const isPage = target.closest("#pages-list");
        if (isPage) {
          state.selectedNavigation.pages.splice(index, 1);
        } else {
          state.selectedNavigation.social.splice(index, 1);
        }
        this.render(container);
      } else if (target.classList.contains("nav-child-remove")) {
        e.preventDefault();
        e.stopPropagation();
        const parentIndex = parseInt(target.getAttribute("data-index") || "0");
        const childIndex = parseInt(target.getAttribute("data-child-index") || "0");
        if (state.selectedNavigation.pages[parentIndex].children) {
          state.selectedNavigation.pages[parentIndex].children.splice(childIndex, 1);
          if (state.selectedNavigation.pages[parentIndex].children.length === 0) {
            delete state.selectedNavigation.pages[parentIndex].children;
          }
          const navItem = target.closest(".nav-item");
          const childrenContainer = navItem == null ? void 0 : navItem.querySelector(".nav-children-container");
          if (childrenContainer && (!state.selectedNavigation.pages[parentIndex].children || state.selectedNavigation.pages[parentIndex].children.length === 0)) {
            childrenContainer.setCssProps({ display: "none" });
          }
        }
        this.render(container);
      } else if (target.classList.contains("nav-add-child")) {
        e.preventDefault();
        e.stopPropagation();
        const index = parseInt(target.getAttribute("data-index") || "0");
        if (!state.selectedNavigation.pages[index].children) {
          state.selectedNavigation.pages[index].children = [];
        }
        state.selectedNavigation.pages[index].children.push({ title: "New Child", url: "/new-child" });
        const navItem = target.closest(".nav-item");
        const childrenContainer = navItem == null ? void 0 : navItem.querySelector(".nav-children-container");
        if (childrenContainer) {
          childrenContainer.setCssProps({ display: "block" });
        }
        this.render(container);
      }
    };
    const containerWithHandlers = container;
    if (containerWithHandlers._removeHandler) {
      container.removeEventListener("click", containerWithHandlers._removeHandler);
    }
    containerWithHandlers._removeHandler = removeHandler;
    container.addEventListener("click", removeHandler);
    this.setupDragAndDrop(container);
  }
  setupDragAndDrop(container) {
    const state = this.getState();
    let draggedElement = null;
    const dragStartHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        draggedElement = target;
        target.setCssProps({ opacity: "0.5" });
      }
    };
    const dragEndHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        target.setCssProps({ opacity: "1" });
        draggedElement = null;
      }
    };
    const dragOverHandler = (e) => {
      e.preventDefault();
      const target = e.target;
      if (target.classList.contains("nav-item") && draggedElement && target !== draggedElement) {
        const rect = target.getBoundingClientRect();
        const midpoint = rect.top + rect.height / 2;
        if (e.clientY < midpoint) {
          target.setCssProps({
            borderTop: "2px solid var(--interactive-accent)",
            borderBottom: "none"
          });
        } else {
          target.setCssProps({
            borderBottom: "2px solid var(--interactive-accent)",
            borderTop: "none"
          });
        }
      }
    };
    const dragLeaveHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        target.setCssProps({
          borderTop: "none",
          borderBottom: "none"
        });
      }
    };
    const dropHandler = (e) => {
      e.preventDefault();
      const target = e.target;
      if (target.classList.contains("nav-item") && draggedElement) {
        const targetIndex = parseInt(target.getAttribute("data-index") || "0");
        const draggedIndex = parseInt(draggedElement.getAttribute("data-index") || "0");
        const isPage = target.closest("#pages-list");
        const isSocial = target.closest("#social-list");
        target.setCssProps({
          borderTop: "none",
          borderBottom: "none"
        });
        if (targetIndex !== draggedIndex) {
          if (isPage) {
            const draggedItem = state.selectedNavigation.pages.splice(draggedIndex, 1)[0];
            state.selectedNavigation.pages.splice(targetIndex, 0, draggedItem);
          } else if (isSocial) {
            const draggedItem = state.selectedNavigation.social.splice(draggedIndex, 1)[0];
            state.selectedNavigation.social.splice(targetIndex, 0, draggedItem);
          }
          this.render(container);
        }
      }
    };
    const containerWithHandlers = container;
    if (containerWithHandlers._dragStartHandler) {
      container.removeEventListener("dragstart", containerWithHandlers._dragStartHandler);
    }
    if (containerWithHandlers._dragEndHandler) {
      container.removeEventListener("dragend", containerWithHandlers._dragEndHandler);
    }
    if (containerWithHandlers._dragOverHandler) {
      container.removeEventListener("dragover", containerWithHandlers._dragOverHandler);
    }
    if (containerWithHandlers._dragLeaveHandler) {
      container.removeEventListener("dragleave", containerWithHandlers._dragLeaveHandler);
    }
    if (containerWithHandlers._dropHandler) {
      container.removeEventListener("drop", containerWithHandlers._dropHandler);
    }
    containerWithHandlers._dragStartHandler = dragStartHandler;
    containerWithHandlers._dragEndHandler = dragEndHandler;
    containerWithHandlers._dragOverHandler = dragOverHandler;
    containerWithHandlers._dragLeaveHandler = dragLeaveHandler;
    containerWithHandlers._dropHandler = dropHandler;
    container.addEventListener("dragstart", dragStartHandler);
    container.addEventListener("dragend", dragEndHandler);
    container.addEventListener("dragover", dragOverHandler);
    container.addEventListener("dragleave", dragLeaveHandler);
    container.addEventListener("drop", dropHandler);
  }
};

// src/ui/wizard/OptionalFeaturesStep.ts
var import_obsidian4 = require("obsidian");
var OptionalFeaturesStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const featuresSelection = container.createDiv("features-selection");
    featuresSelection.createEl("h2", { text: "Optional features" });
    featuresSelection.createEl("p", { text: "Enable or disable specific features for your site." });
    const featuresList = featuresSelection.createDiv("features-list");
    this.renderProfilePictureFeatureNative(featuresList, state);
    this.renderCommentsFeatureNative(featuresList, state);
  }
  renderProfilePictureFeatureNative(container, state) {
    var _a, _b, _c;
    const isEnabled = ((_b = (_a = state.selectedOptionalFeatures) == null ? void 0 : _a.profilePicture) == null ? void 0 : _b.enabled) || false;
    const profileSettings = ((_c = state.selectedOptionalFeatures) == null ? void 0 : _c.profilePicture) || {
      enabled: false,
      image: "/profile.jpg",
      alt: "Profile picture",
      size: "md",
      url: "",
      placement: "footer",
      style: "circle"
    };
    new import_obsidian4.Setting(container).setName("Profile picture").setDesc("Show profile picture in header or footer").addToggle((toggle) => toggle.setValue(isEnabled).onChange((value) => {
      var _a2;
      const currentState = this.getState();
      this.updateState({
        selectedFeatures: { ...currentState.selectedFeatures, profilePicture: value },
        selectedOptionalFeatures: {
          ...currentState.selectedOptionalFeatures,
          profilePicture: { ...(_a2 = currentState.selectedOptionalFeatures) == null ? void 0 : _a2.profilePicture, enabled: value }
        }
      });
      const optionsDiv = container.querySelector(".profile-picture-options");
      if (optionsDiv) optionsDiv.setCssProps({ display: value ? "block" : "none" });
    }));
    const optionsContainer = container.createDiv("profile-picture-options");
    optionsContainer.setCssProps({ display: isEnabled ? "block" : "none" });
    optionsContainer.className = "profile-picture-options";
    const createSetting = (name4, desc, type, options) => {
      const setting = new import_obsidian4.Setting(optionsContainer).setName(name4).setDesc(desc);
      if (type === "text") {
        setting.addText((text) => {
          var _a2, _b2;
          return text.setValue(String((_a2 = profileSettings[name4]) != null ? _a2 : "")).setPlaceholder(((_b2 = options == null ? void 0 : options[0]) == null ? void 0 : _b2.value) || "").onChange((value) => {
            void this.updateProfileSetting(name4, value, state);
          });
        });
      } else {
        setting.addDropdown((dropdown) => {
          var _a2;
          if (options) {
            for (const opt of options) {
              dropdown.addOption(opt.value, opt.label);
            }
          }
          dropdown.setValue(String((_a2 = profileSettings[name4]) != null ? _a2 : "")).onChange((value) => {
            void this.updateProfileSetting(name4, value, state);
          });
        });
      }
    };
    createSetting("image", "Image path", "text", [{ value: "/profile.jpg", label: "/profile.jpg" }]);
    createSetting("alt", "Alt text", "text", [{ value: "Profile picture", label: "Profile picture" }]);
    createSetting("size", "Size", "dropdown", [
      { value: "sm", label: "Small" },
      { value: "md", label: "Medium" },
      { value: "lg", label: "Large" }
    ]);
    createSetting("url", "URL (optional)", "text", [{ value: "https://example.com", label: "https://example.com" }]);
    createSetting("placement", "Placement", "dropdown", [
      { value: "footer", label: "Footer" },
      { value: "header", label: "Header" }
    ]);
    createSetting("style", "Style", "dropdown", [
      { value: "circle", label: "Circle" },
      { value: "square", label: "Square" },
      { value: "none", label: "None" }
    ]);
  }
  updateProfileSetting(key, value, state) {
    var _a;
    const currentState = this.getState();
    this.updateState({
      selectedOptionalFeatures: {
        ...currentState.selectedOptionalFeatures,
        profilePicture: { ...(_a = currentState.selectedOptionalFeatures) == null ? void 0 : _a.profilePicture, [key]: value }
      }
    });
  }
  renderCommentsFeatureNative(container, state) {
    var _a, _b, _c;
    const isEnabled = ((_b = (_a = state.selectedOptionalFeatures) == null ? void 0 : _a.comments) == null ? void 0 : _b.enabled) || false;
    const commentsSettings = ((_c = state.selectedOptionalFeatures) == null ? void 0 : _c.comments) || {
      enabled: false,
      provider: "giscus",
      rawScript: "",
      repo: "davidvkimball/astro-modular",
      repoId: "R_kgDOPllfKw",
      category: "General",
      categoryId: "DIC_kwDOPllfK84CvUpx",
      mapping: "pathname",
      strict: "0",
      reactions: "1",
      metadata: "0",
      inputPosition: "bottom",
      theme: "preferred_color_scheme",
      lang: "en",
      loading: "lazy"
    };
    new import_obsidian4.Setting(container).setName("Comments").setDesc("Enable Giscus comment system for posts").addToggle((toggle) => {
      toggle.setValue(isEnabled).onChange((value) => {
        var _a2;
        const currentState = this.getState();
        this.updateState({
          selectedFeatures: { ...currentState.selectedFeatures, comments: value },
          selectedOptionalFeatures: {
            ...currentState.selectedOptionalFeatures,
            comments: { ...(_a2 = currentState.selectedOptionalFeatures) == null ? void 0 : _a2.comments, enabled: value }
          }
        });
        const optionsDiv = container.querySelector(".comments-options");
        if (optionsDiv) optionsDiv.setCssProps({ display: value ? "block" : "none" });
      });
    });
    const optionsContainer = container.createDiv("comments-options");
    optionsContainer.setCssProps({ display: isEnabled ? "block" : "none" });
    optionsContainer.className = "comments-options";
    const instructionsDiv = optionsContainer.createDiv("comments-instructions");
    instructionsDiv.setCssProps({
      marginBottom: "15px",
      padding: "10px",
      background: "var(--background-modifier-border)",
      borderRadius: "4px",
      borderLeft: "3px solid var(--interactive-accent)"
    });
    const instructionsText = instructionsDiv.createEl("p");
    instructionsText.setCssProps({
      margin: "0",
      fontSize: "13px",
      color: "var(--text-muted)",
      whiteSpace: "pre-line"
    });
    instructionsText.appendText("1. Go to ");
    const giscusLink = instructionsText.createEl("a", {
      href: "https://giscus.app/",
      // eslint-disable-next-line obsidianmd/ui/sentence-case -- URL should remain lowercase
      text: "giscus.app",
      attr: {
        target: "_blank",
        rel: "noopener noreferrer"
      }
    });
    giscusLink.setCssProps({
      color: "var(--interactive-accent)",
      textDecoration: "none"
    });
    instructionsText.appendText(" and configure your comments\n2. Copy the generated script\n3. Paste it below");
    giscusLink.addEventListener("mouseenter", () => {
      giscusLink.setCssProps({ textDecoration: "underline" });
    });
    giscusLink.addEventListener("mouseleave", () => {
      giscusLink.setCssProps({ textDecoration: "none" });
    });
    const scriptSetting = new import_obsidian4.Setting(optionsContainer).setName("Giscus script").setDesc("Paste your Giscus script here (the plugin will automatically parse all settings)");
    const textarea = scriptSetting.controlEl.createEl("textarea", {
      attr: {
        placeholder: `<script src="https://giscus.app/client.js"
        data-repo="davidvkimball/astro-modular"
        data-repo-id="R_kgDOPllfKw"
        data-category="General"
        data-category-id="DIC_kwDOPllfK84CvUpx"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
<\/script>`,
        rows: "8"
      }
    });
    textarea.setCssProps({
      width: "100%",
      fontFamily: "var(--font-monospace)",
      fontSize: "12px",
      padding: "8px",
      border: "1px solid var(--background-modifier-border)",
      borderRadius: "4px",
      background: "var(--background-primary)",
      color: "var(--text-normal)",
      resize: "none"
    });
    textarea.value = commentsSettings.rawScript || "";
    const validationDiv = optionsContainer.createDiv("script-validation");
    validationDiv.setCssProps({
      marginTop: "8px",
      fontSize: "12px"
    });
    const updateValidation = async () => {
      var _a2, _b2, _c2, _d, _e, _f, _g, _h;
      const scriptContent = textarea.value.trim();
      if (!scriptContent) {
        validationDiv.empty();
        const currentState = this.getState();
        const currentEnabled = (_c2 = (_b2 = (_a2 = currentState.selectedOptionalFeatures) == null ? void 0 : _a2.comments) == null ? void 0 : _b2.enabled) != null ? _c2 : false;
        this.updateState({
          selectedOptionalFeatures: {
            ...currentState.selectedOptionalFeatures,
            comments: {
              ...(_d = currentState.selectedOptionalFeatures) == null ? void 0 : _d.comments,
              rawScript: "",
              repo: "",
              repoId: "",
              category: "",
              categoryId: "",
              mapping: "",
              strict: "",
              reactions: "",
              metadata: "",
              inputPosition: "",
              theme: "",
              lang: "",
              loading: "",
              enabled: currentEnabled
              // Preserve enabled state
            }
          }
        });
        return;
      }
      const { GiscusScriptParser: GiscusScriptParser2 } = await Promise.resolve().then(() => (init_GiscusScriptParser(), GiscusScriptParser_exports));
      const validation = GiscusScriptParser2.validateScript(scriptContent);
      if (validation.valid) {
        validationDiv.empty();
        const successSpan = validationDiv.createEl("span", { text: "\u2713 Valid Giscus script detected" });
        successSpan.setCssProps({ color: "var(--text-success)" });
        const parsed = GiscusScriptParser2.parseScript(scriptContent);
        if (parsed) {
          const currentState = this.getState();
          const currentEnabled = (_g = (_f = (_e = currentState.selectedOptionalFeatures) == null ? void 0 : _e.comments) == null ? void 0 : _f.enabled) != null ? _g : false;
          this.updateState({
            selectedOptionalFeatures: {
              ...currentState.selectedOptionalFeatures,
              comments: {
                ...(_h = currentState.selectedOptionalFeatures) == null ? void 0 : _h.comments,
                rawScript: scriptContent,
                repo: parsed.repo,
                repoId: parsed.repoId,
                category: parsed.category,
                categoryId: parsed.categoryId,
                mapping: parsed.mapping,
                strict: parsed.strict,
                reactions: parsed.reactions,
                metadata: parsed.metadata,
                inputPosition: parsed.inputPosition,
                theme: parsed.theme,
                lang: parsed.lang,
                loading: parsed.loading,
                enabled: currentEnabled
                // Preserve enabled state
              }
            }
          });
        }
      } else {
        validationDiv.empty();
        const errorSpan = validationDiv.createEl("span", { text: `\u2717 ${validation.error}` });
        errorSpan.setCssProps({ color: "var(--text-error)" });
      }
    };
    textarea.addEventListener("input", () => {
      void updateValidation();
    });
    void updateValidation();
  }
  updateCommentSetting(key, value, state) {
    var _a;
    const currentState = this.getState();
    this.updateState({
      selectedOptionalFeatures: {
        ...currentState.selectedOptionalFeatures,
        comments: { ...(_a = currentState.selectedOptionalFeatures) == null ? void 0 : _a.comments, [key]: value }
      }
    });
  }
};

// src/ui/wizard/DeploymentStep.ts
var DeploymentStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const deploymentSelection = container.createDiv("deployment-selection");
    deploymentSelection.createEl("h2", { text: "Deployment platform" });
    deploymentSelection.createEl("p", { text: "Choose your preferred deployment platform." });
    const deploymentOptions = deploymentSelection.createDiv("deployment-options");
    const deployments = [
      { id: "netlify", name: "Netlify", desc: "Zero-config deployments with built-in CI/CD and serverless functions." },
      { id: "vercel", name: "Vercel", desc: "Edge-optimized platform with instant deployments and global CDN." },
      { id: "github-pages", name: "GitHub Pages", desc: "Free static hosting integrated directly with your GitHub repository." },
      { id: "cloudflare-workers", name: "Cloudflare Workers", desc: "Global edge network with unlimited bandwidth and custom headers on all plans." }
    ];
    deployments.forEach((deployment) => {
      const option = deploymentOptions.createDiv("deployment-option");
      if (state.selectedDeployment === deployment.id) {
        option.addClass("selected");
      }
      option.setAttribute("data-deployment", deployment.id);
      const header = option.createDiv("deployment-header");
      header.createEl("h3", { text: deployment.name });
      option.createEl("p", { text: deployment.desc });
      option.addEventListener("click", () => {
        this.updateState({
          selectedDeployment: deployment.id
        });
        this.render(container);
      });
    });
  }
};

// src/ui/wizard/PluginConfigStep.ts
var import_obsidian5 = require("obsidian");
var PluginConfigStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const contentOrg = state.selectedContentOrg;
    void (async () => {
      const pluginStatus = await this.plugin.pluginManager.getPluginStatus(contentOrg);
      const pluginConfig = container.createDiv("plugin-config");
      pluginConfig.createEl("h2", { text: "Plugin configuration" });
      pluginConfig.createEl("p", { text: "Configure your Obsidian plugins for optimal integration." });
      const pluginStatusDiv = pluginConfig.createDiv("plugin-status");
      for (const plugin of pluginStatus) {
        this.renderPluginStatusItem(pluginStatusDiv, plugin);
      }
      const configOptions = pluginConfig.createDiv("config-options");
      const autoBtn = configOptions.createEl("button", { text: "Configure Automatically", cls: "mod-button mod-cta" });
      autoBtn.id = "configure-plugins";
      const manualBtn = configOptions.createEl("button", { text: "Show Manual Instructions", cls: "mod-button" });
      manualBtn.id = "show-instructions";
      this.setupEventHandlers(container);
    })();
  }
  renderPluginStatusItem(container, plugin) {
    const isSettingsCheck = plugin.name === "Attachment settings";
    const isConfigured = plugin.installed;
    const hasSyncIssues = plugin.outOfSyncContentTypes && plugin.outOfSyncContentTypes.length > 0;
    const allOutOfSync = hasSyncIssues && plugin.outOfSyncContentTypes && plugin.outOfSyncContentTypes.length === 4;
    const isPartiallyConfigured = hasSyncIssues && !allOutOfSync && plugin.installed && plugin.enabled;
    const allMismatched = allOutOfSync && plugin.installed && plugin.enabled;
    const isImageManager = plugin.name === "Image Manager";
    const imageManagerMismatch = isImageManager && plugin.installed && plugin.enabled && plugin.settingsMatch === false;
    const isProperlyConfigured = plugin.installed && plugin.enabled && !imageManagerMismatch && !allMismatched && !isPartiallyConfigured;
    let statusText;
    if (isSettingsCheck) {
      statusText = isConfigured ? "Configured" : "Doesn't match";
    } else if (!plugin.installed) {
      statusText = "Not installed";
    } else if (!plugin.enabled) {
      statusText = "Disabled";
    } else if (imageManagerMismatch || allMismatched) {
      statusText = "Doesn't match";
    } else if (isPartiallyConfigured) {
      statusText = "Partially configured";
    } else if (isProperlyConfigured) {
      statusText = "Configured";
    } else {
      statusText = "Configured";
    }
    let itemClass = "plugin-item";
    if (isSettingsCheck) {
      itemClass += isConfigured ? " installed" : " missing";
    } else if (imageManagerMismatch || allMismatched) {
      itemClass += " missing";
    } else if (isPartiallyConfigured) {
      itemClass += " partially-configured";
    } else {
      itemClass += plugin.installed && plugin.enabled ? " installed" : " missing";
    }
    const pluginItem = container.createDiv(itemClass);
    const iconDiv = pluginItem.createDiv("plugin-icon");
    if (isSettingsCheck) {
      (0, import_obsidian5.setIcon)(iconDiv, isConfigured ? "check" : "x");
    } else if (imageManagerMismatch || allMismatched) {
      (0, import_obsidian5.setIcon)(iconDiv, "x");
    } else if (isPartiallyConfigured) {
      (0, import_obsidian5.setIcon)(iconDiv, "alert-triangle");
    } else {
      (0, import_obsidian5.setIcon)(iconDiv, plugin.installed && plugin.enabled ? "check" : "x");
    }
    const info = pluginItem.createDiv("plugin-info");
    info.createEl("h3", { text: plugin.name });
    info.createEl("p", { text: statusText });
    if (hasSyncIssues && plugin.outOfSyncContentTypes) {
      const syncDetails = info.createEl("p", { text: `Out of sync: ${plugin.outOfSyncContentTypes.join(", ")}`, cls: "sync-details" });
      syncDetails.setCssProps({
        fontSize: "0.9em",
        opacity: "0.8",
        marginTop: "4px"
      });
    }
  }
  setupEventHandlers(container) {
    var _a, _b;
    const state = this.getState();
    (_a = container.querySelector("#configure-plugins")) == null ? void 0 : _a.addEventListener("click", () => {
      void (async () => {
        try {
          const contentOrg = state.selectedContentOrg;
          const config4 = {
            obsidianSettings: {
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              attachmentLocation: contentOrg === "file-based" ? "subfolder" : "same-folder",
              subfolderName: "attachments"
            },
            astroComposerSettings: {
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              creationMode: contentOrg === "file-based" ? "file" : "folder",
              indexFileName: "index"
            },
            imageManagerSettings: {
              customPropertyLinkFormat: contentOrg === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
            }
          };
          const success = await this.plugin.pluginManager.configurePlugins(config4);
          if (success) {
            const updatedStatus = await this.plugin.pluginManager.getPluginStatus(state.selectedContentOrg);
            const statusContainerEl = container.querySelector(".plugin-status");
            if (statusContainerEl) {
              statusContainerEl.empty();
              updatedStatus.forEach((plugin) => {
                this.renderPluginStatusItem(statusContainerEl, plugin);
              });
            }
            const contentOrg2 = state.selectedContentOrg;
            const attachmentLocation = contentOrg2 === "file-based" ? "subfolder (attachments/)" : "same folder";
            const creationMode = contentOrg2 === "file-based" ? "file" : "folder";
            new import_obsidian5.Notice(`Plugins configured successfully!

\u2022 Obsidian: Attachments \u2192 ${attachmentLocation}
\u2022 Astro Composer: Creation mode \u2192 ${creationMode}
\u2022 Image Manager: Format updated for ${contentOrg2}`, 8e3);
          } else {
            new import_obsidian5.Notice("\u26A0\uFE0F Some plugins could not be configured automatically. Check console for details.", 5e3);
          }
        } catch (error) {
          new import_obsidian5.Notice(`Error configuring plugins: ${error instanceof Error ? error.message : String(error)}`);
        }
      })();
    });
    (_b = container.querySelector("#show-instructions")) == null ? void 0 : _b.addEventListener("click", () => {
      void (async () => {
        try {
          const contentOrg = state.selectedContentOrg;
          const config4 = {
            obsidianSettings: {
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              attachmentLocation: contentOrg === "file-based" ? "subfolder" : "same-folder",
              subfolderName: "attachments"
            },
            astroComposerSettings: {
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              creationMode: contentOrg === "file-based" ? "file" : "folder",
              indexFileName: "index"
            },
            imageManagerSettings: {
              customPropertyLinkFormat: contentOrg === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
            }
          };
          const instructions = await this.plugin.pluginManager.getManualConfigurationInstructions(config4);
          const instructionModal = new import_obsidian5.Modal(this.app);
          instructionModal.titleEl.setText("Manual Configuration Instructions");
          const contentDiv = instructionModal.contentEl.createDiv();
          contentDiv.setCssProps({
            padding: "20px",
            lineHeight: "1.6"
          });
          const lines = instructions.split("\n");
          let currentList = null;
          lines.forEach((line) => {
            const trimmedLine = line.trim();
            if (trimmedLine === "") {
              contentDiv.createEl("br");
            } else if (trimmedLine.startsWith("## ")) {
              if (currentList) {
                currentList = null;
              }
              const h2 = contentDiv.createEl("h2");
              h2.setText(trimmedLine.substring(3));
              h2.setCssProps({
                marginTop: "20px",
                marginBottom: "10px",
                fontSize: "1.2em",
                fontWeight: "bold"
              });
            } else if (trimmedLine.match(/^\d+\.\s/)) {
              if (!currentList) {
                currentList = contentDiv.createEl("ol");
                if (currentList) {
                  currentList.setCssProps({
                    marginLeft: "20px",
                    marginBottom: "15px"
                  });
                }
              }
              if (currentList) {
                const li = currentList.createEl("li");
                li.setCssProps({
                  marginBottom: "5px"
                });
                this.parseBoldText(li, trimmedLine.replace(/^\d+\.\s/, ""));
              }
            } else if (trimmedLine.startsWith("- ") || trimmedLine.startsWith("* ")) {
              if (!currentList) {
                currentList = contentDiv.createEl("ul");
                if (currentList) {
                  currentList.setCssProps({
                    marginLeft: "20px",
                    marginBottom: "15px"
                  });
                }
              }
              if (currentList) {
                const li = currentList.createEl("li");
                li.setCssProps({
                  marginBottom: "5px"
                });
                this.parseBoldText(li, trimmedLine.substring(2));
              }
            } else {
              if (currentList) {
                currentList = null;
              }
              const p = contentDiv.createEl("p");
              p.setCssProps({
                marginBottom: "10px"
              });
              this.parseBoldText(p, trimmedLine);
            }
          });
          instructionModal.open();
        } catch (error) {
          new import_obsidian5.Notice(`Error getting instructions: ${error instanceof Error ? error.message : String(error)}`);
        }
      })();
    });
  }
  parseBoldText(container, text) {
    const parts = text.split(/(\*\*.*?\*\*)/g);
    parts.forEach((part) => {
      if (part.startsWith("**") && part.endsWith("**")) {
        const strong = container.createEl("strong");
        strong.setText(part.substring(2, part.length - 2));
      } else if (part.trim() !== "") {
        container.appendText(part);
      }
    });
  }
};

// src/ui/wizard/FinalizeStep.ts
var import_obsidian6 = require("obsidian");
var FinalizeStep = class extends BaseWizardStep {
  render(container) {
    const state = this.getState();
    const templateName = this.formatTemplateName(state.selectedTemplate);
    const themeName = this.formatThemeName(state.selectedTheme);
    const contentOrgName = this.formatContentOrganization(state.selectedContentOrg);
    const deploymentName = this.formatDeploymentName(state.selectedDeployment);
    const finalizeDiv = container.createDiv("finalize-step");
    finalizeDiv.createEl("h2", { text: "Finalize your configuration" });
    finalizeDiv.createEl("p", { text: "Review your settings and complete the setup." });
    const configSummary = finalizeDiv.createDiv("config-summary");
    configSummary.createEl("h3", { text: "Configuration summary" });
    const createConfigItem = (label, value) => {
      const item = configSummary.createDiv("config-item");
      item.createEl("strong", { text: `${label}: ` });
      item.appendText(value);
    };
    createConfigItem("Template", templateName);
    createConfigItem("Theme", themeName);
    createConfigItem("Content Organization", contentOrgName);
    createConfigItem("Deployment", deploymentName);
    createConfigItem("Site Title", state.selectedSiteInfo.title);
    createConfigItem("Site URL", state.selectedSiteInfo.site);
    this.setupEventHandlers(container);
  }
  setupEventHandlers(container) {
  }
  async completeWizard() {
    try {
      this.stateManager.buildFinalSettings();
      const plugin = this.plugin;
      await plugin.saveData(plugin.settings);
      await plugin.loadSettings();
      const settings = plugin.settings;
      const presetSuccess = await plugin.configManager.applyPreset({
        name: settings.currentTemplate,
        description: "",
        features: settings.features,
        theme: settings.currentTheme,
        contentOrganization: settings.contentOrganization,
        config: settings
      });
      if (presetSuccess) {
        new import_obsidian6.Notice("Configuration applied successfully!");
      } else {
        new import_obsidian6.Notice("Failed to apply configuration. Check the console for errors.");
      }
      this.stateManager.updateState({ currentStep: this.stateManager.getState().totalSteps });
    } catch (error) {
      new import_obsidian6.Notice(`Error completing wizard: ${error instanceof Error ? error.message : String(error)}`);
    }
  }
  formatTemplateName(template) {
    const option = TEMPLATE_OPTIONS.find((t) => t.id === template);
    return option ? option.name : template;
  }
  formatThemeName(theme) {
    const option = THEME_OPTIONS.find((t) => t.id === theme);
    return option ? option.name : theme;
  }
  formatContentOrganization(org) {
    return org === "file-based" ? "File-based" : "Folder-based";
  }
  formatDeploymentName(deployment) {
    switch (deployment) {
      case "netlify":
        return "Netlify";
      case "vercel":
        return "Vercel";
      case "github-pages":
        return "GitHub Pages";
      case "cloudflare-workers":
        return "Cloudflare Workers";
      default:
        return deployment;
    }
  }
};

// src/ui/SetupWizardModal.ts
var SetupWizardModal = class extends import_obsidian7.Modal {
  constructor(app, plugin) {
    super(app);
    this.isCompleting = false;
    this.initialSettingsSnapshot = null;
    this.plugin = plugin;
    this.stateManager = new WizardStateManager(plugin);
    this.steps = [
      new WelcomeStep(app, this, this.stateManager, this.plugin),
      new TemplateStep(app, this, this.stateManager, this.plugin),
      new ThemeStep(app, this, this.stateManager, this.plugin),
      new FontStep(app, this, this.stateManager, this.plugin),
      new ContentOrgStep(app, this, this.stateManager, this.plugin),
      new NavigationStep(app, this, this.stateManager, this.plugin),
      new OptionalFeaturesStep(app, this, this.stateManager, this.plugin),
      new DeploymentStep(app, this, this.stateManager, this.plugin),
      new PluginConfigStep(app, this, this.stateManager, this.plugin),
      new FinalizeStep(app, this, this.stateManager, this.plugin)
    ];
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("astro-modular-wizard");
    this.stateManager.refreshState();
    this.initialSettingsSnapshot = this.createSettingsSnapshot();
    void this.renderCurrentStep();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
    void this.saveWizardStateToDataJson(!this.isCompleting);
    this.isCompleting = false;
  }
  scrollToTop() {
    const { contentEl } = this;
    let scrollableParent = contentEl;
    while (scrollableParent && scrollableParent !== document.body) {
      const style = window.getComputedStyle(scrollableParent);
      if (scrollableParent.scrollHeight > scrollableParent.clientHeight && (style.overflowY === "auto" || style.overflowY === "scroll" || style.overflow === "auto" || style.overflow === "scroll")) {
        scrollableParent.scrollTop = 0;
        break;
      }
      scrollableParent = scrollableParent.parentElement;
    }
    const modalContent = contentEl.closest(".modal-content");
    if (modalContent) {
      modalContent.scrollTop = 0;
    }
    const modalContainer = contentEl.closest(".modal-container");
    if (modalContainer) {
      modalContainer.scrollTop = 0;
    }
    contentEl.scrollTop = 0;
  }
  renderCurrentStep() {
    const { contentEl } = this;
    this.scrollToTop();
    contentEl.empty();
    contentEl.addClass("astro-modular-wizard");
    this.scrollToTop();
    this.renderProgress(contentEl);
    const stepContent = contentEl.createDiv("wizard-content");
    this.renderStepContent(stepContent);
    this.renderFooter(contentEl);
    requestAnimationFrame(() => {
      this.scrollToTop();
    });
  }
  renderHeader(container) {
    const header = container.createDiv("wizard-header");
    header.createEl("h1", { text: "Astro modular setup" });
  }
  renderProgress(container) {
    const state = this.stateManager.getState();
    const progress = container.createDiv("wizard-progress");
    const progressBar = progress.createDiv("progress-bar");
    const progressFill = progressBar.createDiv("progress-fill");
    progressFill.setCssProps({ width: `${this.stateManager.getProgress()}%` });
    const progressText = progress.createDiv("progress-text");
    progressText.textContent = `Step ${state.currentStep} of ${state.totalSteps}`;
  }
  renderStepContent(container) {
    const state = this.stateManager.getState();
    const stepIndex = state.currentStep - 1;
    if (stepIndex >= 0 && stepIndex < this.steps.length) {
      const result = this.steps[stepIndex].render(container);
      if (result !== void 0 && result !== null && typeof result === "object" && "then" in result) {
        void result;
      }
    }
  }
  renderFooter(container) {
    const footer = container.createDiv("wizard-footer");
    const buttons = footer.createDiv("wizard-buttons");
    if (this.stateManager.canGoPrevious()) {
      const prevBtn = buttons.createEl("button", {
        text: "Previous",
        cls: "mod-button"
      });
      prevBtn.addEventListener("click", () => {
        this.discardCurrentStepChanges();
        this.stateManager.previousStep();
        void this.renderCurrentStep();
      });
    }
    if (this.stateManager.canGoNext()) {
      const nextBtn = buttons.createEl("button", {
        text: "Next",
        cls: "mod-button mod-cta"
      });
      nextBtn.addEventListener("click", () => {
        void (async () => {
          await this.saveCurrentStepToWizardState();
          this.stateManager.nextStep();
          this.renderCurrentStep();
        })();
      });
    } else {
      const completeBtn = buttons.createEl("button", {
        text: "Complete setup",
        cls: "mod-button mod-cta"
      });
      completeBtn.addEventListener("click", () => {
        this.isCompleting = true;
        void (async () => {
          const finalStep = this.steps[this.steps.length - 1];
          await finalStep.completeWizard();
          await this.plugin.saveData(this.plugin.settings);
          await this.plugin.loadSettings();
          await this.plugin.triggerSettingsRefresh();
          this.close();
        })();
      });
    }
    if (this.stateManager.canGoNext()) {
      const skipBtn = buttons.createEl("button", {
        text: "Skip",
        cls: "mod-button"
      });
      skipBtn.addClass("wizard-skip-button");
      skipBtn.addEventListener("click", () => {
        this.stateManager.nextStep();
        this.renderCurrentStep();
      });
    }
  }
  async saveCurrentStepToWizardState() {
    try {
      this.stateManager.buildFinalSettings();
      await this.plugin.saveData(this.plugin.settings);
      await this.plugin.loadSettings();
      const settings = this.plugin.settings;
      await this.plugin.configManager.applyPreset({
        name: settings.currentTemplate,
        description: "",
        features: settings.features,
        theme: settings.currentTheme,
        contentOrganization: settings.contentOrganization,
        config: settings
      });
    } catch (error) {
      console.error("Error saving current step to data.json and config.ts:", error);
    }
  }
  discardCurrentStepChanges() {
    this.stateManager.refreshState();
  }
  async saveWizardStateToDataJson(showNotification = true) {
    try {
      this.stateManager.buildFinalSettings();
      const hasChanges = this.hasSettingsChanged();
      if (!hasChanges) {
        return;
      }
      await this.plugin.saveData(this.plugin.settings);
      await this.plugin.loadSettings();
      const settings = this.plugin.settings;
      const presetSuccess = await this.plugin.configManager.applyPreset({
        name: settings.currentTemplate,
        description: "",
        features: settings.features,
        theme: settings.currentTheme,
        contentOrganization: settings.contentOrganization,
        config: settings
      });
      if (showNotification) {
        if (presetSuccess) {
          new import_obsidian7.Notice("Configuration saved to config.ts");
        } else {
          new import_obsidian7.Notice("Failed to save configuration to config.ts");
        }
      }
    } catch (error) {
      console.error("Error saving wizard state to data.json and config.ts:", error);
      if (showNotification) {
        new import_obsidian7.Notice(`Failed to save configuration: ${error instanceof Error ? error.message : String(error)}`);
      }
    }
  }
  createSettingsSnapshot() {
    const settings = this.plugin.settings;
    return JSON.parse(JSON.stringify({
      currentTemplate: settings.currentTemplate,
      currentTheme: settings.currentTheme,
      contentOrganization: settings.contentOrganization,
      siteInfo: settings.siteInfo,
      navigation: settings.navigation,
      features: settings.features,
      typography: settings.typography,
      optionalFeatures: settings.optionalFeatures,
      deployment: settings.deployment,
      optionalContentTypes: settings.optionalContentTypes
    }));
  }
  hasSettingsChanged() {
    if (!this.initialSettingsSnapshot) {
      return false;
    }
    const currentSnapshot = this.createSettingsSnapshot();
    return currentSnapshot.currentTemplate !== this.initialSettingsSnapshot.currentTemplate || currentSnapshot.currentTheme !== this.initialSettingsSnapshot.currentTheme || currentSnapshot.contentOrganization !== this.initialSettingsSnapshot.contentOrganization || JSON.stringify(currentSnapshot.siteInfo) !== JSON.stringify(this.initialSettingsSnapshot.siteInfo) || JSON.stringify(currentSnapshot.navigation) !== JSON.stringify(this.initialSettingsSnapshot.navigation) || JSON.stringify(currentSnapshot.features) !== JSON.stringify(this.initialSettingsSnapshot.features) || JSON.stringify(currentSnapshot.typography) !== JSON.stringify(this.initialSettingsSnapshot.typography) || JSON.stringify(currentSnapshot.optionalFeatures) !== JSON.stringify(this.initialSettingsSnapshot.optionalFeatures) || JSON.stringify(currentSnapshot.deployment) !== JSON.stringify(this.initialSettingsSnapshot.deployment) || JSON.stringify(currentSnapshot.optionalContentTypes) !== JSON.stringify(this.initialSettingsSnapshot.optionalContentTypes);
  }
  applyDefaultValuesForCurrentStep() {
  }
};

// src/commands/index.ts
function registerCommands(plugin) {
  plugin.addCommand({
    id: "open-settings",
    name: "Open settings",
    icon: "settings-2",
    callback: () => {
      plugin.app.setting.open();
      plugin.app.setting.openTabById(plugin.manifest.id);
    }
  });
  plugin.addCommand({
    id: "run-setup-wizard",
    name: "Run setup wizard",
    icon: "wand",
    callback: async () => {
      await plugin.loadData().then((data) => {
        if (data && "settings" in plugin) {
          Object.assign(plugin.settings, data);
        }
      });
      const wizard = new SetupWizardModal(plugin.app, plugin);
      wizard.open();
    }
  });
}

// src/ui/SettingsTab.ts
var import_obsidian17 = require("obsidian");

// src/ui/common/TabRenderer.ts
var import_obsidian8 = require("obsidian");
var TabRenderer = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
  }
  getSettings() {
    const plugin = this.plugin;
    return plugin.settings || {};
  }
  async applyCurrentConfiguration(showNotice = false) {
    try {
      const settings = this.getSettings();
      const plugin = this.plugin;
      const success = await plugin.configManager.updateIndividualFeatures(settings);
      if (success) {
        if (showNotice) {
          new import_obsidian8.Notice("Configuration applied successfully!");
        }
        await plugin.configManager.triggerRebuild();
      } else {
        if (showNotice) {
          new import_obsidian8.Notice("Failed to apply configuration. Check the console for errors.");
        }
      }
    } catch (error) {
      if (showNotice) {
        new import_obsidian8.Notice(`Error applying configuration: ${error instanceof Error ? error.message : String(error)}`);
      }
    }
  }
  createDropdownSetting(container, name4, description4, value, options, onChange) {
    return new import_obsidian8.Setting(container).setName(name4).setDesc(description4).addDropdown((dropdown) => {
      Object.entries(options).forEach(([key, label]) => {
        dropdown.addOption(key, label);
      });
      dropdown.setValue(value);
      dropdown.onChange(async (value2) => {
        onChange(value2);
        await this.plugin.saveData(this.getSettings());
      });
      return dropdown;
    });
  }
  createTextSetting(container, name4, description4, value, onChange, debounceMs = 1e3, onApplyConfig, placeholder) {
    return new import_obsidian8.Setting(container).setName(name4).setDesc(description4).addText((text) => {
      text.setValue(value);
      if (placeholder) {
        text.setPlaceholder(placeholder);
      }
      let timeoutId = null;
      text.onChange((value2) => {
        if (timeoutId) {
          clearTimeout(timeoutId);
        }
        onChange(value2);
        void this.plugin.saveData(this.getSettings());
        timeoutId = window.setTimeout(() => {
          if (onApplyConfig) {
            void onApplyConfig();
          }
        }, debounceMs);
      });
      text.inputEl.addEventListener("blur", () => {
        if (timeoutId) {
          clearTimeout(timeoutId);
          if (onApplyConfig) {
            void onApplyConfig();
          }
        }
      });
      return text;
    });
  }
  createToggleSetting(container, name4, description4, value, onChange) {
    return new import_obsidian8.Setting(container).setName(name4).setDesc(description4).addToggle((toggle) => {
      toggle.setValue(value);
      toggle.onChange(async (value2) => {
        onChange(value2);
        await this.plugin.saveData(this.getSettings());
      });
      return toggle;
    });
  }
};

// src/utils/settings-compat.ts
var import_obsidian9 = require("obsidian");
function createSettingsGroup(containerEl, heading, manifestId) {
  if ((0, import_obsidian9.requireApiVersion)("1.11.0")) {
    const obsidian = require("obsidian");
    const SettingGroup = obsidian.SettingGroup;
    const group = heading ? new SettingGroup(containerEl).setHeading(heading) : new SettingGroup(containerEl);
    return {
      addSetting(cb) {
        group.addSetting(cb);
      }
    };
  } else {
    if (manifestId) {
      containerEl.addClass(`${manifestId}-settings-compat`);
    }
    if (heading) {
      new import_obsidian9.Setting(containerEl).setHeading().setName(heading);
    }
    return {
      addSetting(cb) {
        const setting = new import_obsidian9.Setting(containerEl);
        cb(setting);
      }
    };
  }
}

// src/ui/tabs/GeneralTab.ts
var GeneralTab = class extends TabRenderer {
  render(container) {
    container.empty();
    const settings = this.getSettings();
    const configGroup = createSettingsGroup(container, "Current configuration", "astro-modular-settings");
    configGroup.addSetting((setting) => {
      var _a, _b;
      const nameEl = setting.settingEl.querySelector(".setting-item-name");
      const descEl = setting.settingEl.querySelector(".setting-item-description");
      const controlEl = setting.settingEl.querySelector(".setting-item-control");
      if (nameEl) nameEl.setCssProps({ display: "none" });
      if (descEl) descEl.setCssProps({ display: "none" });
      if (controlEl) controlEl.setCssProps({ display: "none" });
      setting.settingEl.setCssProps({
        borderTop: "none",
        paddingTop: "0",
        paddingBottom: "0",
        display: "block"
      });
      const configItems = setting.settingEl.createDiv("config-items");
      configItems.setCssProps({
        width: "100%",
        marginBottom: "0"
      });
      const templateItem = configItems.createDiv("config-item");
      templateItem.createEl("strong", { text: "Template: " });
      templateItem.createSpan({ text: ((_a = TEMPLATE_OPTIONS.find((t) => t.id === settings.currentTemplate)) == null ? void 0 : _a.name) || "Unknown" });
      const themeItem = configItems.createDiv("config-item");
      themeItem.createEl("strong", { text: "Theme: " });
      themeItem.createSpan({ text: ((_b = THEME_OPTIONS.find((t) => t.id === settings.currentTheme)) == null ? void 0 : _b.name) || "Unknown" });
      const orgItem = configItems.createDiv("config-item");
      orgItem.createEl("strong", { text: "Organization: " });
      orgItem.createSpan({ text: settings.contentOrganization === "file-based" ? "File-based" : "Folder-based" });
      const deploymentItem = configItems.createDiv("config-item");
      deploymentItem.createEl("strong", { text: "Deployment: " });
      deploymentItem.createSpan({ text: this.formatDeploymentName(settings.deployment.platform) });
      const siteTitleItem = configItems.createDiv("config-item");
      siteTitleItem.createEl("strong", { text: "Site title: " });
      siteTitleItem.createSpan({ text: settings.siteInfo.title });
      const siteUrlItem = configItems.createDiv("config-item");
      siteUrlItem.createEl("strong", { text: "Site URL: " });
      siteUrlItem.createSpan({ text: settings.siteInfo.site });
    });
    const wizardGroup = createSettingsGroup(container, "Wizard", "astro-modular-settings");
    wizardGroup.addSetting((setting) => {
      setting.setName("Setup wizard").setDesc("Run the setup wizard to reconfigure your theme").addButton((button) => button.setButtonText("Run setup wizard").setCta().onClick(async () => {
        const plugin = this.plugin;
        await this.plugin.loadData().then((data) => {
          if (data) {
            Object.assign(plugin.settings, data);
          }
        });
        const wizard = new SetupWizardModal(this.app, plugin);
        wizard.open();
      }));
    });
    wizardGroup.addSetting((setting) => {
      setting.setName("Run wizard on startup").setDesc("Show the setup wizard when Obsidian starts (if not disabled)").addToggle((toggle) => toggle.setValue(settings.runWizardOnStartup).onChange(async (value) => {
        settings.runWizardOnStartup = value;
        await this.plugin.saveData(settings);
      }));
    });
    wizardGroup.addSetting((setting) => {
      setting.setName("Remove ribbon icon").setDesc("Remove the wizard icon from the left ribbon").addToggle((toggle) => {
        var _a;
        return toggle.setValue((_a = settings.removeRibbonIcon) != null ? _a : false).onChange(async (value) => {
          settings.removeRibbonIcon = value;
          await this.plugin.saveData(settings);
          const plugin = this.plugin;
          if (plugin.updateRibbonIcon) {
            await plugin.updateRibbonIcon();
          }
        });
      });
    });
  }
  formatDeploymentName(deployment) {
    switch (deployment) {
      case "netlify":
        return "Netlify";
      case "vercel":
        return "Vercel";
      case "github-pages":
        return "GitHub Pages";
      case "cloudflare-workers":
        return "Cloudflare Workers";
      default:
        return deployment;
    }
  }
};

// src/ui/tabs/SiteInfoTab.ts
var import_obsidian10 = require("obsidian");
var Buffer2 = require("buffer").Buffer;
var SiteInfoTab = class extends TabRenderer {
  render(container) {
    var _a;
    container.empty();
    const settings = this.getSettings();
    const siteInfoGroup = createSettingsGroup(container, void 0, "astro-modular-settings");
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Site URL").setDesc("Your site's base URL (e.g., https://yoursite.com)").addText((text) => {
        text.setValue(settings.siteInfo.site);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.site = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
    });
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Site title").setDesc("Your site's title").addText((text) => {
        text.setValue(settings.siteInfo.title);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.title = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
    });
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Site description").setDesc("A brief description of your site").addText((text) => {
        text.setValue(settings.siteInfo.description);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.description = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
    });
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Author name").setDesc("Your name or the site author's name").addText((text) => {
        text.setValue(settings.siteInfo.author);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.author = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
    });
    siteInfoGroup.addSetting((setting) => {
      setting.setName("Language code").setDesc("Your site's primary language (ISO 639-1 code)").addText((text) => {
        text.setValue(settings.siteInfo.language);
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.language = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration();
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration();
          }
        });
      });
      setting.settingEl.setCssProps({
        marginBottom: "var(--size-4-6)"
      });
    });
    const assetsSection = container.createDiv("assets-section");
    const assetsHeaderSetting = new import_obsidian10.Setting(assetsSection).setHeading().setName("Assets & metadata");
    assetsHeaderSetting.settingEl.setCssProps({
      marginTop: "var(--size-4-6)",
      marginBottom: "var(--size-4-2)",
      position: "relative"
    });
    const sharedFolderButton = assetsHeaderSetting.controlEl.createEl("button", {
      cls: "clickable-icon",
      attr: { "aria-label": "Open public folder" }
    });
    sharedFolderButton.setCssProps({
      padding: "4px",
      border: "none",
      backgroundColor: "transparent",
      color: "var(--text-normal)",
      display: "flex",
      alignItems: "center",
      justifyContent: "center",
      position: "absolute",
      right: "0",
      top: "50%",
      transform: "translateY(-50%)"
    });
    (0, import_obsidian10.setIcon)(sharedFolderButton, "folder");
    sharedFolderButton.addEventListener("click", () => {
      var _a2, _b, _c;
      const publicPath = "../../public";
      void ((_c = (_b = (_a2 = this.app).openWithDefaultApp) == null ? void 0 : _b.call(_a2, publicPath)) != null ? _c : Promise.resolve()).catch((error) => {
        new import_obsidian10.Notice(`Failed to open public folder: ${error instanceof Error ? error.message : String(error)}`);
      });
    });
    const assetsGroup = createSettingsGroup(assetsSection, void 0, "astro-modular-settings");
    const copyImageToPublic = async (sourcePath, targetFileName) => {
      try {
        const fs = require("fs");
        const path = require("path");
        const vaultAdapter = this.app.vault.adapter;
        const vaultPath = vaultAdapter.basePath || vaultAdapter.path;
        const vaultPathString = typeof vaultPath === "string" ? vaultPath : String(vaultPath != null ? vaultPath : "");
        const publicFolderPath = path.join(vaultPathString, "..", "..", "public");
        const targetPath = path.join(publicFolderPath, targetFileName);
        if (!fs.existsSync(publicFolderPath)) {
          fs.mkdirSync(publicFolderPath, { recursive: true });
        }
        fs.copyFileSync(sourcePath, targetPath);
        new import_obsidian10.Notice(`Successfully copied ${targetFileName} to public folder`);
      } catch (error) {
        throw new Error(`Failed to copy file: ${error instanceof Error ? error.message : String(error)}`);
      }
    };
    const showFilePicker = async (targetFileName) => {
      const fileInput = document.createElement("input");
      fileInput.type = "file";
      fileInput.accept = ".png";
      let selectedFile = null;
      fileInput.onchange = (e) => {
        var _a2;
        const file = (_a2 = e.target.files) == null ? void 0 : _a2[0];
        if (file) {
          if (!file.name.toLowerCase().endsWith(".png")) {
            new import_obsidian10.Notice("Please select a PNG file");
            return;
          }
          selectedFile = file;
          setTimeout(() => {
            const confirmModal = new import_obsidian10.Modal(this.app);
            confirmModal.titleEl.setText("Replace image");
            const contentDiv = confirmModal.contentEl.createDiv();
            contentDiv.createEl("p", {
              text: `Are you sure you want to replace ${targetFileName} in the public folder with the new image?`
            });
            const buttonContainer = contentDiv.createDiv();
            buttonContainer.setCssProps({
              marginTop: "20px",
              display: "flex",
              gap: "10px",
              justifyContent: "flex-end"
            });
            const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
            cancelButton.className = "mod-button";
            cancelButton.addEventListener("click", () => {
              confirmModal.close();
            });
            const confirmButton = buttonContainer.createEl("button", { text: "Replace" });
            confirmButton.className = "mod-warning";
            confirmButton.addEventListener("click", () => {
              confirmModal.close();
              if (!selectedFile) {
                new import_obsidian10.Notice("File selection was lost. Please try again.");
                return;
              }
              void (async () => {
                try {
                  const fs = require("fs");
                  const path = require("path");
                  const filePath = selectedFile.path;
                  if (filePath) {
                    await copyImageToPublic(filePath, targetFileName);
                  } else {
                    const arrayBuffer = await selectedFile.arrayBuffer();
                    const buffer = Buffer2.from(arrayBuffer);
                    const vaultAdapter = this.app.vault.adapter;
                    const vaultPath = vaultAdapter.basePath || vaultAdapter.path;
                    const vaultPathString = typeof vaultPath === "string" ? vaultPath : String(vaultPath != null ? vaultPath : "");
                    const publicFolderPath = path.join(vaultPathString, "..", "..", "public");
                    const targetPath = path.join(publicFolderPath, targetFileName);
                    if (!fs.existsSync(publicFolderPath)) {
                      fs.mkdirSync(publicFolderPath, { recursive: true });
                    }
                    fs.writeFileSync(targetPath, buffer);
                    new import_obsidian10.Notice(`Successfully copied ${targetFileName} to public folder`);
                  }
                } catch (err) {
                  new import_obsidian10.Notice(`Failed to copy file: ${err instanceof Error ? err.message : String(err)}`);
                }
              })();
            });
            confirmModal.open();
          }, 100);
        }
      };
      fileInput.click();
    };
    assetsGroup.addSetting((setting) => {
      setting.setName("Open graph image").setDesc("Select a PNG image to replace open-graph.png in the public folder (recommended: 1200 x 630 pixels)");
      const ogImageButton = setting.controlEl.createEl("button", {
        text: "Select PNG file",
        cls: "mod-cta"
      });
      ogImageButton.addEventListener("click", () => {
        void showFilePicker("open-graph.png");
      });
    });
    assetsGroup.addSetting((setting) => {
      setting.setName("Open Graph image alt text").setDesc("Alternative text for the Open Graph image").addText((text) => {
        var _a2;
        text.setValue(settings.siteInfo.defaultOgImageAlt || ((_a2 = settings.seo) == null ? void 0 : _a2.defaultOgImageAlt) || "Astro Modular logo.");
        let timeoutId = null;
        text.onChange((value) => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          settings.siteInfo.defaultOgImageAlt = value;
          if (!settings.seo) {
            settings.seo = { defaultOgImageAlt: "" };
          }
          settings.seo.defaultOgImageAlt = value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration().then(() => {
              new import_obsidian10.Notice("Open Graph image alt text updated and applied to config.ts");
            });
          }, 1e3);
        });
        text.inputEl.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void this.applyCurrentConfiguration().then(() => {
              new import_obsidian10.Notice("Open Graph image alt text updated and applied to config.ts");
            });
          }
        });
      });
    });
    assetsGroup.addSetting((setting) => {
      setting.setName("Favicon").setDesc("Select a PNG image to replace favicon.png in the public folder (recommended: 256 x 256 pixels). Standard favicon is used when browser preference cannot be determined.");
      const faviconButton = setting.controlEl.createEl("button", {
        text: "Select PNG file",
        cls: "mod-cta"
      });
      faviconButton.addEventListener("click", () => {
        void showFilePicker("favicon.png");
      });
    });
    assetsGroup.addSetting((setting) => {
      setting.setName("Theme-adaptive favicon").setDesc("If enabled, favicon switches between light and dark variants based on browser theme preference. Standard favicon is used when browser's preference cannot be determined.").addToggle((toggle) => {
        var _a2;
        return toggle.setValue((_a2 = settings.siteInfo.faviconThemeAdaptive) != null ? _a2 : true).onChange(async (value) => {
          settings.siteInfo.faviconThemeAdaptive = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
          this.render(container);
          new import_obsidian10.Notice(`Theme-adaptive favicon ${value ? "enabled" : "disabled"} and applied to config.ts`);
        });
      });
    });
    if ((_a = settings.siteInfo.faviconThemeAdaptive) != null ? _a : true) {
      assetsGroup.addSetting((setting) => {
        setting.setName("Light theme favicon").setDesc("Select a PNG image to replace favicon-light.png in the public folder (recommended: 256 x 256 pixels)");
        const faviconLightButton = setting.controlEl.createEl("button", {
          text: "Select PNG file",
          cls: "mod-cta"
        });
        faviconLightButton.addEventListener("click", () => {
          void showFilePicker("favicon-light.png");
        });
      });
      assetsGroup.addSetting((setting) => {
        setting.setName("Dark theme favicon").setDesc("Select a PNG image to replace favicon-dark.png in the public folder (recommended: 256 x 256 pixels)");
        const faviconDarkButton = setting.controlEl.createEl("button", {
          text: "Select PNG file",
          cls: "mod-cta"
        });
        faviconDarkButton.addEventListener("click", () => {
          void showFilePicker("favicon-dark.png");
        });
      });
    }
  }
};

// src/ui/tabs/NavigationTab.ts
var import_obsidian11 = require("obsidian");
var NavigationTab = class extends TabRenderer {
  constructor() {
    super(...arguments);
    this.saveTimeoutId = null;
    this.listenersAttached = false;
  }
  render(container) {
    container.empty();
    this.listenersAttached = false;
    const settings = this.getSettings();
    const pagesSection = container.createDiv("settings-section");
    new import_obsidian11.Setting(pagesSection).setHeading().setName("Navigation pages").setDesc("Add or remove pages from your main navigation menu.");
    const pagesList = pagesSection.createDiv("nav-items");
    pagesList.id = "pages-list";
    settings.navigation.pages.forEach((page, index) => {
      this.renderPageItem(pagesList, page, index);
    });
    new import_obsidian11.Setting(pagesSection).setName("Add page").setDesc("Add a new page to your navigation").addButton((button) => button.setButtonText("+ Add page").setCta().onClick(async () => {
      settings.navigation.pages.push({ title: "New Page", url: "/new-page" });
      await this.plugin.saveData(settings);
      await this.applyCurrentConfiguration(false);
      new import_obsidian11.Notice("Navigation page added and applied to config.ts");
      this.render(container);
    }));
    const socialSection = container.createDiv("settings-section");
    new import_obsidian11.Setting(socialSection).setHeading().setName("Social links").setDesc("Add or remove social media links.");
    const socialList = socialSection.createDiv("nav-items");
    socialList.id = "social-list";
    settings.navigation.social.forEach((social, index) => {
      this.renderSocialItem(socialList, social, index);
    });
    new import_obsidian11.Setting(socialSection).setName("Add social link").setDesc("Add a new social media link").addButton((button) => button.setButtonText("+ Add social link").setCta().onClick(async () => {
      settings.navigation.social.push({ title: "New Social", url: "https://example.com", icon: "" });
      await this.plugin.saveData(settings);
      await this.applyCurrentConfiguration(false);
      new import_obsidian11.Notice("Social link added and applied to config.ts");
      this.render(container);
    }));
    const navOptionsGroup = createSettingsGroup(container, "Navigation options", "astro-modular-settings");
    navOptionsGroup.addSetting((setting) => {
      setting.setName("Show navigation").setDesc("Display navigation menu on your site").addToggle((toggle) => {
        var _a;
        return toggle.setValue((_a = settings.navigation.showNavigation) != null ? _a : true).onChange(async (value) => {
          settings.navigation.showNavigation = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
          new import_obsidian11.Notice(`Navigation ${value ? "enabled" : "disabled"} and applied to config.ts`);
        });
      });
    });
    navOptionsGroup.addSetting((setting) => {
      setting.setName("Navigation style").setDesc("Choose between minimal or traditional navigation style").addDropdown((dropdown) => dropdown.addOption("traditional", "Traditional").addOption("minimal", "Minimal").setValue(settings.navigation.style || "traditional").onChange(async (value) => {
        settings.navigation.style = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration();
        new import_obsidian11.Notice(`Navigation style changed to ${value} and applied to config.ts`);
      }));
    });
    navOptionsGroup.addSetting((setting) => {
      setting.setName("Show mobile menu").setDesc("Display mobile navigation menu on smaller screens").addToggle((toggle) => {
        var _a;
        return toggle.setValue((_a = settings.navigation.showMobileMenu) != null ? _a : true).onChange(async (value) => {
          settings.navigation.showMobileMenu = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
          new import_obsidian11.Notice(`Mobile menu ${value ? "enabled" : "disabled"} and applied to config.ts`);
        });
      });
    });
    this.setupEventDelegation(container);
    this.setupDragAndDrop(container);
  }
  setupDragAndDrop(container) {
    let draggedElement = null;
    const dragStartHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        draggedElement = target;
        target.setCssProps({ opacity: "0.5" });
      }
    };
    const dragEndHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        target.setCssProps({ opacity: "1" });
        draggedElement = null;
      }
    };
    const dragOverHandler = (e) => {
      e.preventDefault();
      const target = e.target;
      if (target.classList.contains("nav-item") && draggedElement && target !== draggedElement) {
        const rect = target.getBoundingClientRect();
        const midpoint = rect.top + rect.height / 2;
        if (e.clientY < midpoint) {
          target.setCssProps({
            borderTop: "2px solid var(--interactive-accent)",
            borderBottom: "none"
          });
        } else {
          target.setCssProps({
            borderBottom: "2px solid var(--interactive-accent)",
            borderTop: "none"
          });
        }
      }
    };
    const dragLeaveHandler = (e) => {
      const target = e.target;
      if (target.classList.contains("nav-item")) {
        target.setCssProps({
          borderTop: "none",
          borderBottom: "none"
        });
      }
    };
    const dropHandler = async (e) => {
      e.preventDefault();
      const target = e.target;
      if (target.classList.contains("nav-item") && draggedElement) {
        const targetIndex = parseInt(target.getAttribute("data-index") || "0");
        const draggedIndex = parseInt(draggedElement.getAttribute("data-index") || "0");
        const isPage = target.closest("#pages-list");
        const isSocial = target.closest("#social-list");
        target.setCssProps({
          borderTop: "none",
          borderBottom: "none"
        });
        if (targetIndex !== draggedIndex) {
          const currentSettings = this.getSettings();
          if (isPage) {
            const newPages = [...currentSettings.navigation.pages];
            const draggedItem = newPages.splice(draggedIndex, 1)[0];
            newPages.splice(targetIndex, 0, draggedItem);
            currentSettings.navigation.pages = newPages;
          } else if (isSocial) {
            const newSocial = [...currentSettings.navigation.social];
            const draggedItem = newSocial.splice(draggedIndex, 1)[0];
            newSocial.splice(targetIndex, 0, draggedItem);
            currentSettings.navigation.social = newSocial;
          }
          await this.plugin.saveData(currentSettings);
          await this.applyCurrentConfiguration();
          this.render(container);
        }
      }
    };
    const containerWithHandlers = container;
    if (containerWithHandlers._dragStartHandler) {
      container.removeEventListener("dragstart", containerWithHandlers._dragStartHandler);
      container.removeEventListener("dragend", containerWithHandlers._dragEndHandler);
      container.removeEventListener("dragover", containerWithHandlers._dragOverHandler);
      container.removeEventListener("dragleave", containerWithHandlers._dragLeaveHandler);
      container.removeEventListener("drop", containerWithHandlers._dropHandler);
    }
    containerWithHandlers._dragStartHandler = dragStartHandler;
    containerWithHandlers._dragEndHandler = dragEndHandler;
    containerWithHandlers._dragOverHandler = dragOverHandler;
    containerWithHandlers._dragLeaveHandler = dragLeaveHandler;
    containerWithHandlers._dropHandler = dropHandler;
    if (containerWithHandlers._dragStartHandler) {
      container.addEventListener("dragstart", containerWithHandlers._dragStartHandler);
    }
    if (containerWithHandlers._dragEndHandler) {
      container.addEventListener("dragend", containerWithHandlers._dragEndHandler);
    }
    if (containerWithHandlers._dragOverHandler) {
      container.addEventListener("dragover", containerWithHandlers._dragOverHandler);
    }
    if (containerWithHandlers._dragLeaveHandler) {
      container.addEventListener("dragleave", containerWithHandlers._dragLeaveHandler);
    }
    if (containerWithHandlers._dropHandler) {
      container.addEventListener("drop", containerWithHandlers._dropHandler);
    }
  }
  setupEventDelegation(container) {
    const settings = this.getSettings();
    const pagesList = container.querySelector("#pages-list");
    const socialList = container.querySelector("#social-list");
    if (pagesList) {
      pagesList.addEventListener("input", (e) => {
        const target = e.target;
        if (target.classList.contains("nav-title")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          settings.navigation.pages[index].title = target.value;
          this.debouncedSave();
        } else if (target.classList.contains("nav-url")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          if (target.value.trim() === "") {
            delete settings.navigation.pages[index].url;
          } else {
            settings.navigation.pages[index].url = target.value;
          }
          this.debouncedSave();
        } else if (target.classList.contains("nav-child-title")) {
          const childItem = target.closest(".nav-child-item");
          const parentIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-index")) || "0");
          const childIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-child-index")) || "0");
          if (!settings.navigation.pages[parentIndex].children) {
            settings.navigation.pages[parentIndex].children = [];
          }
          if (!settings.navigation.pages[parentIndex].children[childIndex]) {
            settings.navigation.pages[parentIndex].children[childIndex] = { title: "", url: "" };
          }
          settings.navigation.pages[parentIndex].children[childIndex].title = target.value;
          this.debouncedSave();
        } else if (target.classList.contains("nav-child-url")) {
          const childItem = target.closest(".nav-child-item");
          const parentIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-index")) || "0");
          const childIndex = parseInt((childItem == null ? void 0 : childItem.getAttribute("data-child-index")) || "0");
          if (!settings.navigation.pages[parentIndex].children) {
            settings.navigation.pages[parentIndex].children = [];
          }
          if (!settings.navigation.pages[parentIndex].children[childIndex]) {
            settings.navigation.pages[parentIndex].children[childIndex] = { title: "", url: "" };
          }
          settings.navigation.pages[parentIndex].children[childIndex].url = target.value;
          this.debouncedSave();
        }
      });
    }
    if (socialList) {
      socialList.addEventListener("input", (e) => {
        const target = e.target;
        if (target.classList.contains("nav-title") || target.classList.contains("nav-url") || target.classList.contains("nav-icon")) {
          const item = target.closest(".nav-item");
          const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
          const field = target.classList.contains("nav-title") ? "title" : target.classList.contains("nav-url") ? "url" : "icon";
          settings.navigation.social[index][field] = target.value;
          this.debouncedSave();
        }
      });
    }
    const removeHandler = async (e) => {
      const target = e.target;
      if (target.classList.contains("nav-remove")) {
        e.preventDefault();
        e.stopPropagation();
        const item = target.closest(".nav-item");
        const index = parseInt((item == null ? void 0 : item.getAttribute("data-index")) || "0");
        const isPage = item == null ? void 0 : item.closest("#pages-list");
        const currentSettings = this.getSettings();
        if (isPage) {
          currentSettings.navigation.pages.splice(index, 1);
          await this.plugin.saveData(currentSettings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration(false);
          new import_obsidian11.Notice("Navigation page removed and applied to config.ts");
          this.render(container);
        } else {
          currentSettings.navigation.social.splice(index, 1);
          await this.plugin.saveData(currentSettings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration(false);
          new import_obsidian11.Notice("Social link removed and applied to config.ts");
          this.render(container);
        }
      } else if (target.classList.contains("nav-child-remove")) {
        e.preventDefault();
        e.stopPropagation();
        const parentIndex = parseInt(target.getAttribute("data-index") || "0");
        const childIndex = parseInt(target.getAttribute("data-child-index") || "0");
        const currentSettings = this.getSettings();
        if (currentSettings.navigation.pages[parentIndex].children) {
          currentSettings.navigation.pages[parentIndex].children.splice(childIndex, 1);
          if (currentSettings.navigation.pages[parentIndex].children.length === 0) {
            delete currentSettings.navigation.pages[parentIndex].children;
          }
          await this.plugin.saveData(currentSettings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration(false);
          new import_obsidian11.Notice("Child page removed and applied to config.ts");
          const navItem = target.closest(".nav-item");
          const childrenContainer = navItem == null ? void 0 : navItem.querySelector(".nav-children-container");
          if (childrenContainer && (!currentSettings.navigation.pages[parentIndex].children || currentSettings.navigation.pages[parentIndex].children.length === 0)) {
            childrenContainer.setCssProps({ display: "none" });
          }
          this.render(container);
        }
      } else if (target.classList.contains("nav-add-child")) {
        e.preventDefault();
        e.stopPropagation();
        const index = parseInt(target.getAttribute("data-index") || "0");
        const currentSettings = this.getSettings();
        if (!currentSettings.navigation.pages[index].children) {
          currentSettings.navigation.pages[index].children = [];
        }
        currentSettings.navigation.pages[index].children.push({ title: "New Child", url: "/new-child" });
        await this.plugin.saveData(currentSettings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration(false);
        new import_obsidian11.Notice("Child page added and applied to config.ts");
        const navItem = target.closest(".nav-item");
        const childrenContainer = navItem == null ? void 0 : navItem.querySelector(".nav-children-container");
        if (childrenContainer) {
          childrenContainer.setCssProps({ display: "block" });
        }
        this.render(container);
        setTimeout(() => {
          container.querySelectorAll('button[data-icon="trash"]').forEach((button) => {
            button.textContent = "";
            (0, import_obsidian11.setIcon)(button, "trash");
          });
        }, 0);
      }
    };
    const containerWithHandlers = container;
    if (containerWithHandlers._removeHandler) {
      container.removeEventListener("click", containerWithHandlers._removeHandler);
    }
    containerWithHandlers._removeHandler = removeHandler;
    container.addEventListener("click", containerWithHandlers._removeHandler);
  }
  debouncedSave() {
    if (this.saveTimeoutId) {
      clearTimeout(this.saveTimeoutId);
    }
    this.saveTimeoutId = window.setTimeout(() => {
      void this.plugin.saveData(this.getSettings());
      void this.applyCurrentConfiguration(false);
    }, 1e3);
  }
  renderPageItem(container, page, index) {
    const hasChildren = page.children && page.children.length > 0;
    const navItem = container.createDiv("nav-item");
    navItem.setAttribute("data-index", index.toString());
    navItem.setAttribute("draggable", "true");
    const itemContent = navItem.createDiv("nav-item-content");
    const itemFields = itemContent.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-title",
      attr: { placeholder: "Page title", draggable: "false" }
    });
    titleInput.value = page.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-url",
      attr: { placeholder: "/page-url (leave empty for dropdown-only)", draggable: "false" }
    });
    urlInput.value = page.url || "";
    const itemActions = itemContent.createDiv("nav-item-actions");
    itemActions.createEl("button", {
      // "+ Child" is a button label, keep as is
      // eslint-disable-next-line obsidianmd/ui/sentence-case
      text: "+ Child",
      cls: "nav-add-child",
      attr: { "data-index": index.toString(), title: "Add child page" }
    });
    const removeBtn = itemActions.createEl("button", {
      cls: "nav-remove mod-warning",
      attr: { "data-index": index.toString(), "data-icon": "trash", title: "Remove", "aria-label": "Remove" }
    });
    (0, import_obsidian11.setIcon)(removeBtn, "trash");
    const childrenContainer = navItem.createDiv("nav-children-container");
    childrenContainer.setAttribute("data-parent-index", index.toString());
    if (!hasChildren) {
      childrenContainer.setCssProps({ display: "none" });
    }
    childrenContainer.createDiv("nav-children-label").textContent = "Child pages:";
    const childrenDiv = childrenContainer.createDiv("nav-children");
    childrenDiv.setAttribute("data-parent-index", index.toString());
    if (hasChildren && page.children) {
      page.children.forEach((child, childIndex) => {
        this.renderChildItem(childrenDiv, child, index, childIndex);
      });
    }
  }
  renderChildItem(container, child, parentIndex, childIndex) {
    const childItem = container.createDiv("nav-child-item");
    childItem.setAttribute("data-index", parentIndex.toString());
    childItem.setAttribute("data-child-index", childIndex.toString());
    const itemFields = childItem.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-child-title",
      attr: { placeholder: "Child title", draggable: "false" }
    });
    titleInput.value = child.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-child-url",
      attr: { placeholder: "/child-url", draggable: "false" }
    });
    urlInput.value = child.url || "";
    const removeBtn = childItem.createEl("button", {
      cls: "nav-child-remove mod-warning",
      attr: {
        "data-index": parentIndex.toString(),
        "data-child-index": childIndex.toString(),
        "data-icon": "trash",
        title: "Remove",
        "aria-label": "Remove"
      }
    });
    (0, import_obsidian11.setIcon)(removeBtn, "trash");
  }
  renderSocialItem(container, social, index) {
    const navItem = container.createDiv("nav-item");
    navItem.setAttribute("data-index", index.toString());
    navItem.setAttribute("draggable", "true");
    const itemContent = navItem.createDiv("nav-item-content");
    const itemFields = itemContent.createDiv("nav-item-fields");
    const titleInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-title",
      attr: { placeholder: "Social title", draggable: "false" }
    });
    titleInput.value = social.title || "";
    const urlInput = itemFields.createEl("input", {
      type: "text",
      cls: "nav-url",
      attr: { placeholder: "https://example.com", draggable: "false" }
    });
    urlInput.value = social.url || "";
    const removeBtn = itemContent.createEl("button", {
      cls: "nav-remove mod-warning",
      attr: { "data-index": index.toString(), "data-icon": "trash", title: "Remove", "aria-label": "Remove" }
    });
    (0, import_obsidian11.setIcon)(removeBtn, "trash");
    const iconRow = navItem.createDiv("nav-icon-row");
    const iconInput = iconRow.createEl("input", {
      type: "text",
      cls: "nav-icon",
      attr: { placeholder: "Icon name", draggable: "false" }
    });
    iconInput.value = social.icon || "";
    const iconHelp = iconRow.createDiv("nav-icon-help");
    iconHelp.createEl("small", { text: "Icon names from FontAwesome Brands" });
  }
};

// src/ui/tabs/ConfigTab.ts
var import_obsidian13 = require("obsidian");

// src/ui/PresetWarningModal.ts
var import_obsidian12 = require("obsidian");
var PresetWarningModal = class extends import_obsidian12.Modal {
  constructor(app, changes, onConfirm, onCancel) {
    super(app);
    this.changes = changes;
    this.onConfirm = onConfirm;
    this.onCancel = onCancel;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    const header = contentEl.createEl("h2", { text: "Apply template preset" });
    header.addClass("preset-warning-modal-header");
    const warning = contentEl.createEl("p", {
      text: "Applying this template will change the following settings:"
    });
    warning.addClass("preset-warning-message");
    const changesList = contentEl.createEl("ul");
    changesList.addClass("preset-warning-changes-list");
    this.changes.forEach((change) => {
      const listItem = changesList.createEl("li", { text: change });
      listItem.addClass("preset-warning-list-item");
    });
    const question = contentEl.createEl("p", {
      text: "Do you want to apply this template?"
    });
    question.addClass("preset-warning-question");
    const buttonContainer = contentEl.createDiv("modal-button-container");
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.className = "mod-cta";
    cancelButton.addEventListener("click", () => {
      this.onCancel();
      this.close();
    });
    const confirmButton = buttonContainer.createEl("button", { text: "Continue" });
    confirmButton.className = "mod-warning";
    confirmButton.addEventListener("click", () => {
      this.onConfirm();
      this.close();
    });
    confirmButton.focus();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/tabs/ConfigTab.ts
var ConfigTab = class extends TabRenderer {
  async render(container) {
    container.empty();
    const settings = this.getSettings();
    const configGroup = createSettingsGroup(container, void 0, "astro-modular-settings");
    configGroup.addSetting((setting) => {
      setting.setName("Template").setDesc("Choose your content template").addDropdown((dropdown) => {
        TEMPLATE_OPTIONS.forEach((template) => {
          dropdown.addOption(template.id, template.name);
        });
        dropdown.setValue(settings.currentTemplate);
        dropdown.onChange((value) => {
          const changes = this.getTemplateChanges(value);
          const modal = new PresetWarningModal(
            this.app,
            changes,
            () => {
              void (async () => {
                try {
                  await this.updatePluginSettingsWithTemplate(value);
                  const plugin = this.plugin;
                  await plugin.loadSettings();
                  const freshSettings = plugin.settings;
                  const presetSuccess = await plugin.configManager.applyPreset({
                    name: freshSettings.currentTemplate,
                    description: "",
                    features: freshSettings.features,
                    theme: freshSettings.currentTheme,
                    contentOrganization: freshSettings.contentOrganization,
                    config: freshSettings
                  });
                  if (presetSuccess) {
                    new import_obsidian13.Notice(`Template changed to ${value} and applied to config.ts`);
                  } else {
                    new import_obsidian13.Notice("Failed to apply template to config.ts");
                  }
                } catch (error) {
                  new import_obsidian13.Notice(`Failed to apply template change: ${error instanceof Error ? error.message : String(error)}`);
                  dropdown.setValue(settings.currentTemplate);
                }
              })();
            },
            () => {
              dropdown.setValue(settings.currentTemplate);
            }
          );
          modal.open();
        });
      });
    });
    configGroup.addSetting((setting) => {
      setting.setName("Deployment").setDesc("Choose your deployment platform").addDropdown((dropdown) => {
        dropdown.addOption("netlify", "Netlify");
        dropdown.addOption("vercel", "Vercel");
        dropdown.addOption("github-pages", "GitHub pages");
        dropdown.addOption("cloudflare-workers", "Cloudflare Workers");
        dropdown.setValue(settings.deployment.platform);
        dropdown.onChange(async (value) => {
          settings.deployment.platform = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          try {
            await this.applyCurrentConfiguration();
            new import_obsidian13.Notice(`Deployment platform changed to ${value} and applied to config.ts`);
          } catch (error) {
            new import_obsidian13.Notice(`Failed to apply deployment platform change: ${error instanceof Error ? error.message : String(error)}`);
          }
        });
      });
    });
    configGroup.addSetting((setting) => {
      setting.setName("Content organization").setDesc("Choose how to organize your content and assets").addDropdown((dropdown) => {
        dropdown.addOption("file-based", "File-based");
        dropdown.addOption("folder-based", "Folder-based");
        dropdown.setValue(settings.contentOrganization);
        dropdown.onChange(async (value) => {
          settings.contentOrganization = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          const contentOrg = value;
          const config4 = {
            obsidianSettings: {
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              attachmentLocation: contentOrg === "file-based" ? "subfolder" : "same-folder",
              subfolderName: "attachments"
            },
            astroComposerSettings: {
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              creationMode: contentOrg === "file-based" ? "file" : "folder",
              indexFileName: "index"
            },
            imageManagerSettings: {
              customPropertyLinkFormat: contentOrg === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
            }
          };
          try {
            await this.plugin.pluginManager.configurePlugins(config4);
            const attachmentLocation = contentOrg === "file-based" ? "subfolder (attachments/)" : "same folder";
            const creationMode = contentOrg === "file-based" ? "file" : "folder";
            new import_obsidian13.Notice(`Content organization changed to ${value}

\u2022 Obsidian: Attachments \u2192 ${attachmentLocation}
\u2022 Astro Composer: Creation mode \u2192 ${creationMode}
\u2022 Image Manager: Format updated`, 8e3);
          } catch (error) {
            new import_obsidian13.Notice(`Failed to configure plugins for content organization: ${error instanceof Error ? error.message : String(error)}`);
          }
        });
      });
      setting.settingEl.setCssProps({
        marginBottom: "var(--size-4-6)"
      });
    });
    const pluginConfigHeading = new import_obsidian13.Setting(container).setHeading().setName("Plugin configuration");
    pluginConfigHeading.settingEl.setCssProps({
      marginTop: "0",
      marginBottom: "var(--size-4-2)"
    });
    void this.renderPluginStatus(container, settings);
  }
  async renderPluginStatus(container, settings) {
    const contentOrg = settings.contentOrganization;
    const pluginStatus = await this.plugin.pluginManager.getPluginStatus(contentOrg);
    const statusContainer = container.createDiv("plugin-status-container");
    const pluginStatusDiv = statusContainer.createDiv("plugin-status");
    for (const plugin of pluginStatus) {
      const isSettingsCheck = plugin.name === "Attachment settings";
      const isConfigured = plugin.installed;
      const hasSyncIssues = plugin.outOfSyncContentTypes && plugin.outOfSyncContentTypes.length > 0;
      const allOutOfSync = hasSyncIssues && plugin.outOfSyncContentTypes && plugin.outOfSyncContentTypes.length === 4;
      const isPartiallyConfigured = hasSyncIssues && !allOutOfSync && plugin.installed && plugin.enabled;
      const allMismatched = allOutOfSync && plugin.installed && plugin.enabled;
      const isImageManager = plugin.name === "Image Manager";
      const imageManagerMismatch = isImageManager && plugin.installed && plugin.enabled && plugin.settingsMatch === false;
      let itemClass = "plugin-item";
      if (isSettingsCheck) {
        itemClass += isConfigured ? " installed" : " missing";
      } else if (imageManagerMismatch || allMismatched) {
        itemClass += " missing";
      } else if (isPartiallyConfigured) {
        itemClass += " partially-configured";
      } else {
        itemClass += plugin.installed && plugin.enabled ? " installed" : " missing";
      }
      const pluginItem = pluginStatusDiv.createDiv(itemClass);
      const icon = pluginItem.createDiv("plugin-icon");
      if (isSettingsCheck) {
        (0, import_obsidian13.setIcon)(icon, isConfigured ? "check" : "x");
      } else if (imageManagerMismatch || allMismatched) {
        (0, import_obsidian13.setIcon)(icon, "x");
      } else if (isPartiallyConfigured) {
        (0, import_obsidian13.setIcon)(icon, "alert-triangle");
      } else {
        (0, import_obsidian13.setIcon)(icon, plugin.installed && plugin.enabled ? "check" : "x");
      }
      const info = pluginItem.createDiv("plugin-info");
      info.createEl("h3", { text: plugin.name });
      let statusText;
      if (isSettingsCheck) {
        statusText = isConfigured ? "Configured" : "Doesn't match";
      } else if (!plugin.installed) {
        statusText = "Not installed";
      } else if (!plugin.enabled) {
        statusText = "Disabled";
      } else if (imageManagerMismatch || allMismatched) {
        statusText = "Doesn't match";
      } else if (isPartiallyConfigured) {
        statusText = "Partially configured";
      } else {
        statusText = "Configured";
      }
      info.createEl("p", { text: statusText });
      if (hasSyncIssues && plugin.outOfSyncContentTypes) {
        const detailsP = info.createEl("p", {
          text: `Out of sync: ${plugin.outOfSyncContentTypes.join(", ")}`,
          cls: "sync-details"
        });
        detailsP.setCssProps({
          fontSize: "0.9em",
          opacity: "0.8",
          marginTop: "4px"
        });
      }
    }
    const pluginActionsGroup = createSettingsGroup(container, "Plugin actions", "astro-modular-settings");
    pluginActionsGroup.addSetting((setting) => {
      setting.setName("Re-apply configuration").setDesc("Re-apply plugin settings based on your content organization choice (useful if settings were changed manually or configuration failed)").addButton((button) => button.setButtonText("Re-apply configuration").setCta().onClick(async () => {
        const contentOrg2 = settings.contentOrganization;
        const config4 = {
          obsidianSettings: {
            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
            attachmentLocation: contentOrg2 === "file-based" ? "subfolder" : "same-folder",
            subfolderName: "attachments"
          },
          astroComposerSettings: {
            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
            creationMode: contentOrg2 === "file-based" ? "file" : "folder",
            indexFileName: "index"
          },
          imageManagerSettings: {
            customPropertyLinkFormat: contentOrg2 === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
          }
        };
        const success = await this.plugin.pluginManager.configurePlugins(config4);
        if (success) {
          const contentOrg3 = settings.contentOrganization;
          const attachmentLocation = contentOrg3 === "file-based" ? "subfolder (attachments/)" : "same folder";
          const creationMode = contentOrg3 === "file-based" ? "file" : "folder";
          new import_obsidian13.Notice(`Configuration re-applied successfully!

\u2022 Obsidian: Attachments \u2192 ${attachmentLocation}
\u2022 Astro Composer: Creation mode \u2192 ${creationMode}
\u2022 Image Manager: Format updated for ${contentOrg3}`, 8e3);
          const statusContainerEl = container.querySelector(".plugin-status-container");
          if (statusContainerEl) {
            statusContainerEl.remove();
            await this.renderPluginStatus(container, settings);
          }
        } else {
          new import_obsidian13.Notice("\u26A0\uFE0F Some plugins could not be configured automatically. Check console for details.", 5e3);
        }
      }));
    });
    pluginActionsGroup.addSetting((setting) => {
      setting.setName("Show manual instructions").setDesc("Get step-by-step instructions for manual configuration").addButton((button) => button.setButtonText("Show manual instructions").onClick(async () => {
        const contentOrg2 = settings.contentOrganization;
        const config4 = {
          obsidianSettings: {
            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
            attachmentLocation: contentOrg2 === "file-based" ? "subfolder" : "same-folder",
            subfolderName: "attachments"
          },
          astroComposerSettings: {
            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
            creationMode: contentOrg2 === "file-based" ? "file" : "folder",
            indexFileName: "index"
          },
          imageManagerSettings: {
            customPropertyLinkFormat: contentOrg2 === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]"
          }
        };
        const instructions = await this.plugin.pluginManager.getManualConfigurationInstructions(config4);
        const instructionModal = new import_obsidian13.Modal(this.app);
        instructionModal.titleEl.setText("Manual configuration instructions");
        const contentDiv = instructionModal.contentEl.createDiv();
        contentDiv.setCssProps({
          padding: "20px",
          lineHeight: "1.6"
        });
        const lines = instructions.split("\n");
        let currentList = null;
        lines.forEach((line) => {
          const trimmedLine = line.trim();
          if (trimmedLine === "") {
            contentDiv.createEl("br");
          } else if (trimmedLine.startsWith("## ")) {
            if (currentList) {
              currentList = null;
            }
            const h2 = contentDiv.createEl("h2");
            h2.setText(trimmedLine.substring(3));
            h2.setCssProps({
              marginTop: "20px",
              marginBottom: "10px",
              fontSize: "1.2em",
              fontWeight: "bold"
            });
          } else if (trimmedLine.match(/^\d+\.\s/)) {
            if (!currentList) {
              currentList = contentDiv.createEl("ol");
              currentList.setCssProps({
                marginLeft: "20px",
                marginBottom: "15px"
              });
            }
            const li = currentList.createEl("li");
            li.setCssProps({
              marginBottom: "5px"
            });
            this.parseBoldText(li, trimmedLine.replace(/^\d+\.\s/, ""));
          } else if (trimmedLine.startsWith("- ") || trimmedLine.startsWith("* ")) {
            if (!currentList) {
              currentList = contentDiv.createEl("ul");
              currentList.setCssProps({
                marginLeft: "20px",
                marginBottom: "15px"
              });
            }
            const li = currentList.createEl("li");
            li.setCssProps({
              marginBottom: "5px"
            });
            this.parseBoldText(li, trimmedLine.substring(2));
          } else {
            if (currentList) {
              currentList = null;
            }
            const p = contentDiv.createEl("p");
            p.setCssProps({
              marginBottom: "10px"
            });
            this.parseBoldText(p, trimmedLine);
          }
        });
        instructionModal.open();
      }));
    });
  }
  parseBoldText(container, text) {
    const parts = text.split(/(\*\*.*?\*\*)/g);
    parts.forEach((part) => {
      if (part.startsWith("**") && part.endsWith("**")) {
        const strong = container.createEl("strong");
        strong.setText(part.substring(2, part.length - 2));
      } else if (part.trim() !== "") {
        container.appendText(part);
      }
    });
  }
  async updatePluginSettingsWithTemplate(template) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D, _E, _F, _G;
    const plugin = this.plugin;
    const settings = plugin.settings;
    const templatePreset = plugin.configManager.getTemplatePreset(template);
    if (!templatePreset || !templatePreset.config) {
      new import_obsidian13.Notice("Template preset not found");
      return;
    }
    const templateConfig = plugin.configManager.getTemplateConfig(template, settings);
    settings.currentTemplate = template;
    if (templatePreset.config.features) {
      const currentComments = settings.features.comments;
      const currentProfilePicture = settings.features.profilePicture;
      settings.features = { ...settings.features, ...templatePreset.config.features };
      settings.features.comments = currentComments;
      settings.features.profilePicture = currentProfilePicture;
      if ((_a = settings.postOptions) == null ? void 0 : _a.graphView) {
        settings.postOptions.graphView.enabled = (_b = templatePreset.config.features.graphView) != null ? _b : false;
        settings.features.graphView = settings.postOptions.graphView.enabled;
      }
      if ((_c = settings.postOptions) == null ? void 0 : _c.linkedMentions) {
        settings.postOptions.linkedMentions.enabled = (_d = templatePreset.config.features.linkedMentions) != null ? _d : false;
        settings.postOptions.linkedMentions.linkedMentionsCompact = (_e = templatePreset.config.features.linkedMentionsCompact) != null ? _e : false;
      }
      if (((_f = settings.commandPalette) == null ? void 0 : _f.quickActions) && templatePreset.config.features.quickActions) {
        settings.commandPalette.quickActions = { ...settings.commandPalette.quickActions, ...templatePreset.config.features.quickActions };
      }
    }
    const commandPalette = templateConfig.commandPalette;
    if (commandPalette) {
      settings.commandPalette = {
        ...settings.commandPalette,
        enabled: (_g = commandPalette.enabled) != null ? _g : settings.commandPalette.enabled,
        placeholder: (_h = commandPalette.placeholder) != null ? _h : settings.commandPalette.placeholder,
        shortcut: (_i = commandPalette.shortcut) != null ? _i : settings.commandPalette.shortcut,
        search: {
          ...settings.commandPalette.search,
          ...commandPalette.search || {}
        },
        sections: {
          ...settings.commandPalette.sections,
          ...commandPalette.sections || {}
        },
        quickActions: {
          ...settings.commandPalette.quickActions,
          ...((_j = templatePreset.config.features) == null ? void 0 : _j.quickActions) || {}
        }
      };
      if ((_k = templatePreset.config.features) == null ? void 0 : _k.quickActions) {
        settings.features.quickActions = {
          ...settings.features.quickActions,
          ...templatePreset.config.features.quickActions
        };
      }
    }
    const homeOptions = templateConfig.homeOptions;
    if (homeOptions) {
      settings.homeOptions = {
        ...settings.homeOptions,
        featuredPost: {
          ...settings.homeOptions.featuredPost,
          ...homeOptions.featuredPost || {}
        },
        recentPosts: {
          ...settings.homeOptions.recentPosts,
          ...homeOptions.recentPosts || {}
        },
        projects: {
          ...settings.homeOptions.projects,
          ...homeOptions.projects || {}
        },
        docs: {
          ...settings.homeOptions.docs,
          ...homeOptions.docs || {}
        },
        blurb: {
          ...settings.homeOptions.blurb,
          ...homeOptions.blurb || {}
        }
      };
    }
    const postOptions = templateConfig.postOptions;
    if (postOptions) {
      settings.postOptions = {
        ...settings.postOptions,
        postsPerPage: (_l = postOptions.postsPerPage) != null ? _l : settings.postOptions.postsPerPage,
        readingTime: (_m = postOptions.readingTime) != null ? _m : settings.postOptions.readingTime,
        wordCount: (_n = postOptions.wordCount) != null ? _n : settings.postOptions.wordCount,
        tags: (_o = postOptions.tags) != null ? _o : settings.postOptions.tags,
        postNavigation: (_p = postOptions.postNavigation) != null ? _p : settings.postOptions.postNavigation,
        showPostCardCoverImages: (_q = postOptions.showPostCardCoverImages) != null ? _q : settings.postOptions.showPostCardCoverImages,
        postCardAspectRatio: (_r = postOptions.postCardAspectRatio) != null ? _r : settings.postOptions.postCardAspectRatio,
        linkedMentions: {
          ...settings.postOptions.linkedMentions,
          ...postOptions.linkedMentions || {}
        },
        graphView: {
          ...settings.postOptions.graphView,
          enabled: (_t = (_s = postOptions.graphView) == null ? void 0 : _s.enabled) != null ? _t : settings.postOptions.graphView.enabled,
          showInSidebar: (_v = (_u = postOptions.graphView) == null ? void 0 : _u.showInSidebar) != null ? _v : settings.postOptions.graphView.showInSidebar,
          maxNodes: (_x = (_w = postOptions.graphView) == null ? void 0 : _w.maxNodes) != null ? _x : settings.postOptions.graphView.maxNodes,
          showOrphanedPosts: (_z = (_y = postOptions.graphView) == null ? void 0 : _y.showOrphanedPosts) != null ? _z : settings.postOptions.graphView.showOrphanedPosts
        },
        comments: settings.postOptions.comments
        // Preserve comments
      };
    }
    const navigation = templateConfig.navigation;
    if (navigation) {
      settings.navigation = {
        ...settings.navigation,
        showNavigation: (_A = navigation.showNavigation) != null ? _A : settings.navigation.showNavigation,
        showMobileMenu: (_B = navigation.showMobileMenu) != null ? _B : settings.navigation.showMobileMenu,
        style: (_C = navigation.style) != null ? _C : settings.navigation.style
        // Preserve pages and social arrays from user settings
      };
    }
    if (templatePreset.config.tableOfContents) {
      settings.tableOfContents = { ...settings.tableOfContents, ...templatePreset.config.tableOfContents };
    }
    const optionalContentTypes = templateConfig.optionalContentTypes;
    if (optionalContentTypes) {
      settings.optionalContentTypes = {
        projects: (_D = optionalContentTypes.projects) != null ? _D : false,
        docs: (_E = optionalContentTypes.docs) != null ? _E : false
      };
    }
    const footer = templateConfig.footer;
    if (footer) {
      settings.footer = {
        ...settings.footer,
        showSocialIconsInFooter: (_F = footer.showSocialIconsInFooter) != null ? _F : settings.footer.showSocialIconsInFooter
      };
      settings.features.showSocialIconsInFooter = (_G = footer.showSocialIconsInFooter) != null ? _G : settings.features.showSocialIconsInFooter;
    }
    await this.plugin.saveData(settings);
  }
  getTemplateChanges(templateId) {
    var _a, _b, _c, _d;
    const changes = [];
    const settings = this.getSettings();
    const templatePreset = this.plugin.configManager.getTemplatePreset(templateId);
    if (!templatePreset || !templatePreset.config) {
      changes.push("This will apply the template settings to your configuration.");
      return changes;
    }
    const newConfig = templatePreset.config;
    const featureChanges = [];
    if (newConfig.features) {
      const keyFeatures = [
        { key: "graphView", label: "Graph view" },
        { key: "tableOfContents", label: "Table of contents" },
        { key: "readingTime", label: "Reading time" },
        { key: "linkedMentions", label: "Linked mentions" },
        { key: "linkedMentionsCompact", label: "Compact linked mentions" },
        { key: "postNavigation", label: "Post navigation" },
        { key: "showSocialIconsInFooter", label: "Social icons in footer" },
        { key: "featureButton", label: "Feature button" }
      ];
      keyFeatures.forEach(({ key, label }) => {
        const oldFeature = settings.features[key];
        const newFeature = newConfig.features[key];
        if (newFeature !== void 0 && oldFeature !== newFeature) {
          const oldVal = typeof oldFeature === "boolean" ? oldFeature ? "ON" : "OFF" : oldFeature === null || oldFeature === void 0 ? "" : typeof oldFeature === "string" || typeof oldFeature === "number" ? String(oldFeature) : JSON.stringify(oldFeature);
          const newVal = typeof newFeature === "boolean" ? newFeature ? "ON" : "OFF" : newFeature === null || newFeature === void 0 ? "" : typeof newFeature === "string" || typeof newFeature === "number" ? String(newFeature) : JSON.stringify(newFeature);
          featureChanges.push(`${label}: ${oldVal} \u2192 ${newVal}`);
        }
      });
      if (newConfig.features.quickActions && settings.features.quickActions) {
        if (newConfig.features.quickActions.enabled !== settings.features.quickActions.enabled) {
          featureChanges.push(`Quick actions: ${settings.features.quickActions.enabled ? "ON" : "OFF"} \u2192 ${newConfig.features.quickActions.enabled ? "ON" : "OFF"}`);
        }
      }
    }
    const isStandard = templateId === "standard";
    if (((_a = settings.optionalContentTypes) == null ? void 0 : _a.projects) !== isStandard) {
      featureChanges.push(`Projects content type: ${((_b = settings.optionalContentTypes) == null ? void 0 : _b.projects) ? "enabled" : "disabled"} \u2192 ${isStandard ? "enabled" : "disabled"}`);
    }
    if (((_c = settings.optionalContentTypes) == null ? void 0 : _c.docs) !== isStandard) {
      featureChanges.push(`Docs content type: ${((_d = settings.optionalContentTypes) == null ? void 0 : _d.docs) ? "enabled" : "disabled"} \u2192 ${isStandard ? "enabled" : "disabled"}`);
    }
    if (featureChanges.length > 0) {
      changes.push(...featureChanges);
    } else {
      changes.push("No changes needed - your settings already match this template.");
    }
    return changes;
  }
};

// src/ui/tabs/StyleTab.ts
var import_obsidian14 = require("obsidian");

// src/utils/ThemeColorExtractor.ts
var ThemeColorExtractor = class {
  /**
   * Extract colors from the currently active Obsidian theme
   */
  static async extractObsidianThemeColors() {
    const styles = getComputedStyle(document.body);
    const primaryColors = this.extractPrimaryColors(styles);
    const highlightColors = this.extractHighlightColors(styles);
    return {
      primary: primaryColors,
      highlight: highlightColors
    };
  }
  /**
   * Extract primary color scale from Obsidian theme
   */
  static extractPrimaryColors(styles) {
    const backgroundPrimary = this.getColorValue(styles, "--background-primary");
    const backgroundSecondary = this.getColorValue(styles, "--background-secondary");
    const backgroundRgb = this.hexToRgb(backgroundPrimary);
    const isDarkTheme = backgroundRgb ? (0.299 * backgroundRgb.r + 0.587 * backgroundRgb.g + 0.114 * backgroundRgb.b) / 255 < 0.5 : true;
    if (isDarkTheme) {
      return {
        50: this.lightenColor(backgroundSecondary, 95),
        // Very light
        100: this.lightenColor(backgroundSecondary, 90),
        // Light
        200: this.lightenColor(backgroundSecondary, 80),
        // Light
        300: this.lightenColor(backgroundSecondary, 70),
        // Medium light
        400: this.lightenColor(backgroundSecondary, 55),
        // Medium
        500: this.lightenColor(backgroundSecondary, 40),
        // Medium
        600: this.lightenColor(backgroundSecondary, 25),
        // Medium dark
        700: backgroundSecondary,
        // Main content background
        800: this.darkenColor(backgroundPrimary, 20),
        // Darker far background
        900: this.darkenColor(backgroundPrimary, 35),
        // Very dark (like #1a1a1a)
        950: this.darkenColor(backgroundPrimary, 50)
        // Darkest
      };
    } else {
      return this.createBetterColorScale(backgroundPrimary, true, isDarkTheme);
    }
  }
  /**
   * Extract highlight color scale from Obsidian theme
   */
  static extractHighlightColors(styles) {
    const baseColor = this.getColorValue(styles, "--text-accent") || this.getColorValue(styles, "--interactive-accent") || this.getColorValue(styles, "--text-a") || this.getColorValue(styles, "--text-link");
    const hoverColor = this.getColorValue(styles, "--text-accent-hover") || this.getColorValue(styles, "--text-a-hover") || baseColor;
    return {
      50: hoverColor,
      // Hover/lighter variant
      100: hoverColor,
      // Hover/lighter variant
      200: hoverColor,
      // Hover/lighter variant
      300: baseColor,
      // Base color
      400: baseColor,
      // Base color
      500: baseColor,
      // Base color
      600: baseColor,
      // Base color
      700: baseColor,
      // Base color
      800: baseColor,
      // Base color
      900: baseColor
      // Base color
    };
  }
  /**
   * Get color value from CSS custom property with fallback
   */
  static getColorValue(styles, property) {
    const value = styles.getPropertyValue(property).trim();
    if (!value) {
      switch (property) {
        case "--background-primary":
          return "#1e1e1e";
        case "--background-secondary":
          return "#2d2d2d";
        case "--background-modifier-border":
          return "#3a3a3a";
        case "--text-normal":
          return "#dcddde";
        case "--text-muted":
          return "#72767d";
        case "--text-faint":
          return "#484b51";
        case "--text-accent":
          return "#708794";
        case "--ax1":
          return "#708794";
        case "--ax2":
          return "#889eaa";
        case "--ax3":
          return "#5a6d77";
        case "--text-accent-hover":
          return "#889eaa";
        case "--text-a":
          return "#f8c537";
        case "--text-a-hover":
          return "#f8c537";
        case "--text-link":
          return "#83a598";
        case "--interactive-accent":
          return "#5865f2";
        default:
          return "#666666";
      }
    }
    return this.convertToHex(value);
  }
  /**
   * Convert CSS color value to hex format
   */
  static convertToHex(colorValue) {
    if (colorValue.startsWith("#")) {
      return colorValue;
    }
    const tempElement = document.createElement("div");
    tempElement.setCssProps({ color: colorValue });
    document.body.appendChild(tempElement);
    const computedColor = getComputedStyle(tempElement).color;
    document.body.removeChild(tempElement);
    const rgbMatch = computedColor.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);
    if (rgbMatch) {
      const r = parseInt(rgbMatch[1]);
      const g = parseInt(rgbMatch[2]);
      const b = parseInt(rgbMatch[3]);
      return this.rgbToHex(r, g, b);
    }
    const hslMatch = colorValue.match(/hsl\(\s*(\d+),\s*(\d+)%,\s*(\d+)%\s*\)/);
    if (hslMatch) {
      const h = parseInt(hslMatch[1]);
      const s = parseInt(hslMatch[2]);
      const l = parseInt(hslMatch[3]);
      return this.hslToHex(h, s, l);
    }
    return "#666666";
  }
  /**
   * Convert HSL to hex color
   */
  static hslToHex(h, s, l) {
    const hNorm = h / 360;
    const sNorm = s / 100;
    const lNorm = l / 100;
    const hue2rgb = (p, q, t) => {
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 1 / 6) return p + (q - p) * 6 * t;
      if (t < 1 / 2) return q;
      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
      return p;
    };
    let r, g, b;
    if (sNorm === 0) {
      r = g = b = lNorm;
    } else {
      const q = lNorm < 0.5 ? lNorm * (1 + sNorm) : lNorm + sNorm - lNorm * sNorm;
      const p = 2 * lNorm - q;
      r = hue2rgb(p, q, hNorm + 1 / 3);
      g = hue2rgb(p, q, hNorm);
      b = hue2rgb(p, q, hNorm - 1 / 3);
    }
    return this.rgbToHex(
      Math.round(r * 255),
      Math.round(g * 255),
      Math.round(b * 255)
    );
  }
  /**
   * Generate full color scale from simple colors
   */
  static generateColorScaleFromSimple(accent, background) {
    return {
      primary: this.generatePrimaryScale(background),
      highlight: this.generateHighlightScale(accent)
    };
  }
  /**
   * Generate primary color scale from background color
   */
  static generatePrimaryScale(baseColor) {
    return {
      50: this.lightenColor(baseColor, 95),
      100: this.lightenColor(baseColor, 85),
      200: this.lightenColor(baseColor, 75),
      300: this.lightenColor(baseColor, 50),
      400: this.lightenColor(baseColor, 25),
      500: baseColor,
      600: this.darkenColor(baseColor, 15),
      700: this.darkenColor(baseColor, 30),
      800: this.darkenColor(baseColor, 45),
      900: this.darkenColor(baseColor, 60),
      950: this.darkenColor(baseColor, 75)
    };
  }
  /**
   * Generate highlight color scale from accent color
   */
  static generateHighlightScale(baseColor) {
    return {
      50: this.lightenColor(baseColor, 95),
      100: this.lightenColor(baseColor, 85),
      200: this.lightenColor(baseColor, 75),
      300: this.lightenColor(baseColor, 65),
      400: this.lightenColor(baseColor, 55),
      500: baseColor,
      600: this.darkenColor(baseColor, 10),
      700: this.darkenColor(baseColor, 20),
      800: this.darkenColor(baseColor, 30),
      900: this.darkenColor(baseColor, 40)
    };
  }
  /**
   * Lighten a hex color by a percentage
   */
  static lightenColor(hex, percent) {
    const rgb = this.hexToRgb(hex);
    if (!rgb) return hex;
    const { r, g, b } = rgb;
    const factor = percent / 100;
    return this.rgbToHex(
      Math.round(r + (255 - r) * factor),
      Math.round(g + (255 - g) * factor),
      Math.round(b + (255 - b) * factor)
    );
  }
  /**
   * Darken a hex color by a percentage
   */
  static darkenColor(hex, percent) {
    const rgb = this.hexToRgb(hex);
    if (!rgb) return hex;
    const { r, g, b } = rgb;
    const factor = percent / 100;
    return this.rgbToHex(
      Math.round(r * (1 - factor)),
      Math.round(g * (1 - factor)),
      Math.round(b * (1 - factor))
    );
  }
  /**
   * Create a more aggressive lightening function for better contrast
   */
  static aggressiveLighten(hex, percent) {
    const rgb = this.hexToRgb(hex);
    if (!rgb) return hex;
    const { r, g, b } = rgb;
    const factor = percent / 100;
    return this.rgbToHex(
      Math.round(Math.min(255, r + (255 - r) * factor * 1.2)),
      Math.round(Math.min(255, g + (255 - g) * factor * 1.2)),
      Math.round(Math.min(255, b + (255 - b) * factor * 1.2))
    );
  }
  /**
   * Create a more aggressive darkening function for better contrast
   */
  static aggressiveDarken(hex, percent) {
    const rgb = this.hexToRgb(hex);
    if (!rgb) return hex;
    const { r, g, b } = rgb;
    const factor = percent / 100;
    return this.rgbToHex(
      Math.round(Math.max(0, r * (1 - factor * 1.2))),
      Math.round(Math.max(0, g * (1 - factor * 1.2))),
      Math.round(Math.max(0, b * (1 - factor * 1.2)))
    );
  }
  /**
   * Create a more sophisticated color scale that better matches theme expectations
   */
  static createBetterColorScale(baseColor, isPrimary = true, isDarkTheme = true) {
    const rgb = this.hexToRgb(baseColor);
    if (!rgb) {
      return this.generatePrimaryScale(baseColor);
    }
    const { r, g, b } = rgb;
    const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;
    const isDark = luminance < 0.5;
    if (isPrimary) {
      return {
        50: isDark ? this.lightenColor(baseColor, 95) : this.darkenColor(baseColor, 95),
        100: isDark ? this.lightenColor(baseColor, 90) : this.darkenColor(baseColor, 90),
        200: isDark ? this.lightenColor(baseColor, 80) : this.darkenColor(baseColor, 80),
        300: isDark ? this.lightenColor(baseColor, 70) : this.darkenColor(baseColor, 70),
        400: isDark ? this.lightenColor(baseColor, 55) : this.darkenColor(baseColor, 55),
        500: isDark ? this.lightenColor(baseColor, 40) : this.darkenColor(baseColor, 40),
        600: isDark ? this.lightenColor(baseColor, 25) : this.darkenColor(baseColor, 25),
        700: baseColor,
        800: isDark ? this.darkenColor(baseColor, 20) : this.lightenColor(baseColor, 20),
        900: isDark ? this.darkenColor(baseColor, 35) : this.lightenColor(baseColor, 35),
        950: isDark ? this.darkenColor(baseColor, 50) : this.lightenColor(baseColor, 50)
      };
    } else {
      if (isDarkTheme) {
        return {
          50: this.lightenColor(baseColor, 95),
          // Very light
          100: this.lightenColor(baseColor, 85),
          // Light
          200: this.lightenColor(baseColor, 75),
          // Light
          300: this.lightenColor(baseColor, 65),
          // Medium light
          400: this.lightenColor(baseColor, 25),
          // Much closer to base color
          500: baseColor,
          //  Use the vibrant base color as 500
          600: this.darkenColor(baseColor, 15),
          // Medium dark
          700: this.darkenColor(baseColor, 30),
          // Darker
          800: this.darkenColor(baseColor, 45),
          // Very dark
          900: this.darkenColor(baseColor, 60)
          // Darkest
        };
      } else {
        return {
          50: this.lightenColor(baseColor, 60),
          // Very light
          100: this.lightenColor(baseColor, 50),
          // Light
          200: this.lightenColor(baseColor, 40),
          // Light
          300: this.lightenColor(baseColor, 30),
          // Medium light
          400: this.lightenColor(baseColor, 20),
          // Medium light
          500: baseColor,
          // Base color
          600: this.darkenColor(baseColor, 20),
          // Medium dark
          700: this.darkenColor(baseColor, 40),
          // Dark
          800: this.darkenColor(baseColor, 60),
          // Darker
          900: this.darkenColor(baseColor, 80)
          // Very dark
        };
      }
    }
  }
  /**
   * Convert hex color to RGB
   */
  static hexToRgb(hex) {
    hex = hex.replace("#", "");
    if (hex.length === 3) {
      hex = hex.split("").map((char) => char + char).join("");
    }
    if (hex.length === 6) {
      const r = parseInt(hex.substring(0, 2), 16);
      const g = parseInt(hex.substring(2, 4), 16);
      const b = parseInt(hex.substring(4, 6), 16);
      return { r, g, b };
    }
    return null;
  }
  /**
   * Convert RGB to hex color
   */
  static rgbToHex(r, g, b) {
    const toHex = (n) => {
      const hex = Math.round(Math.max(0, Math.min(255, n))).toString(16);
      return hex.length === 1 ? "0" + hex : hex;
    };
    return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
  }
  /**
   * Validate if a string is a valid hex color
   */
  static isValidHexColor(color) {
    return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(color);
  }
  /**
   * Generate theme file content from colors
   */
  static generateThemeFileContent(colors, themeName = "custom") {
    const timestamp = (/* @__PURE__ */ new Date()).toISOString();
    return `// Custom theme extracted from Obsidian
// Generated: ${timestamp}

export const ${themeName}Theme = {
  primary: {
    50: "${colors.primary[50]}",
    100: "${colors.primary[100]}",
    200: "${colors.primary[200]}",
    300: "${colors.primary[300]}",
    400: "${colors.primary[400]}",
    500: "${colors.primary[500]}",
    600: "${colors.primary[600]}",
    700: "${colors.primary[700]}",
    800: "${colors.primary[800]}",
    900: "${colors.primary[900]}",
    950: "${colors.primary[950]}"
  },
  highlight: {
    50: "${colors.highlight[50]}",
    100: "${colors.highlight[100]}",
    200: "${colors.highlight[200]}",
    300: "${colors.highlight[300]}",
    400: "${colors.highlight[400]}",
    500: "${colors.highlight[500]}",
    600: "${colors.highlight[600]}",
    700: "${colors.highlight[700]}",
    800: "${colors.highlight[800]}",
    900: "${colors.highlight[900]}"
  }
};
`;
  }
};

// src/ui/tabs/StyleTab.ts
var StyleTab = class extends TabRenderer {
  constructor() {
    super(...arguments);
    this.mainContainer = null;
  }
  render(container) {
    container.empty();
    this.mainContainer = container;
    const settings = this.getSettings();
    const colorsGroup = createSettingsGroup(container, "Colors", "astro-modular-settings");
    colorsGroup.addSetting((setting) => {
      setting.setName("Theme").setDesc("Choose your color theme").addDropdown((dropdown) => {
        THEME_OPTIONS.forEach((theme) => {
          dropdown.addOption(theme.id, theme.name);
        });
        dropdown.setValue(settings.currentTheme);
        dropdown.onChange((value) => {
          void (async () => {
            settings.currentTheme = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            this.render(container);
            try {
              const success = await this.plugin.configManager.updateThemeOnly(value);
              if (success) {
                new import_obsidian14.Notice(`Theme changed to ${value} and applied to config.ts`);
              } else {
                new import_obsidian14.Notice(`Failed to apply theme change to config.ts`);
              }
            } catch (error) {
              new import_obsidian14.Notice(`Failed to apply theme change: ${error instanceof Error ? error.message : String(error)}`);
            }
          })();
        });
      });
    });
    colorsGroup.addSetting((setting) => {
      setting.setName("Customize available themes").setDesc("Control which themes are shown to users in the theme selector").addToggle((toggle) => {
        const isCustomized = Array.isArray(settings.availableThemes);
        toggle.setValue(isCustomized);
        toggle.onChange((value) => {
          void (async () => {
            if (value) {
              const allThemes = THEME_OPTIONS.filter((theme) => theme.id !== "custom").map((theme) => theme.id);
              settings.availableThemes = allThemes;
            } else {
              settings.availableThemes = "default";
            }
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            if (this.mainContainer) {
              this.render(this.mainContainer);
            }
            try {
              await this.applyCurrentConfiguration();
              new import_obsidian14.Notice(`Available themes ${value ? "customized" : "set to default"} and applied to config.ts`);
            } catch (error) {
              new import_obsidian14.Notice(`Failed to apply available themes change: ${error instanceof Error ? error.message : String(error)}`);
            }
          })();
        });
      });
    });
    if (Array.isArray(settings.availableThemes)) {
      colorsGroup.addSetting((setting) => {
        const nameEl = setting.settingEl.querySelector(".setting-item-name");
        const descEl = setting.settingEl.querySelector(".setting-item-description");
        const controlEl = setting.settingEl.querySelector(".setting-item-control");
        if (nameEl) nameEl.setCssProps({ display: "none" });
        if (descEl) descEl.setCssProps({ display: "none" });
        if (controlEl) controlEl.setCssProps({ display: "none" });
        setting.settingEl.setCssProps({
          borderTop: "none",
          paddingTop: "0",
          paddingBottom: "0"
        });
        const themePillsContainer = setting.settingEl.createDiv("theme-pills-container");
        themePillsContainer.setCssProps({
          marginTop: "10px",
          marginBottom: "20px"
        });
        const pillsHeader = themePillsContainer.createEl("p", {
          text: "Available themes (click to toggle selection):",
          cls: "theme-pills-header"
        });
        pillsHeader.setCssProps({
          fontSize: "14px",
          marginBottom: "8px",
          color: "var(--text-muted)"
        });
        const pillsWrapper = themePillsContainer.createDiv("theme-pills-wrapper");
        pillsWrapper.setCssProps({
          display: "flex",
          flexWrap: "wrap",
          gap: "8px"
        });
        const allThemes = THEME_OPTIONS.filter((theme) => theme.id !== "custom");
        allThemes.forEach((theme) => {
          const isSelected = settings.availableThemes.includes(theme.id);
          const pill = pillsWrapper.createDiv("theme-pill");
          pill.addClass("theme-pill");
          if (isSelected) {
            pill.setCssProps({
              backgroundColor: "var(--interactive-accent)",
              color: "var(--text-on-accent)",
              border: "1px solid var(--interactive-accent)"
            });
          } else {
            pill.setCssProps({
              backgroundColor: "var(--background-secondary)",
              color: "var(--text-muted)",
              border: "1px solid var(--background-modifier-border)"
            });
          }
          pill.createSpan({ text: theme.name });
          const indicator = pill.createSpan({ text: isSelected ? "\u2713" : "\u25CB" });
          indicator.setCssProps({
            fontSize: "10px",
            opacity: "0.8"
          });
          pill.addEventListener("click", () => {
            void (async () => {
              const currentThemes = settings.availableThemes;
              let newThemes;
              if (isSelected) {
                newThemes = currentThemes.filter((id) => id !== theme.id);
              } else {
                newThemes = [...currentThemes, theme.id];
              }
              settings.availableThemes = newThemes;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              if (this.mainContainer) {
                this.render(this.mainContainer);
              }
              try {
                await this.applyCurrentConfiguration();
                new import_obsidian14.Notice(`Theme "${theme.name}" ${isSelected ? "removed from" : "added to"} available themes`);
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply theme change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
        const customThemesSection = themePillsContainer.createDiv("custom-themes-section");
        customThemesSection.setCssProps({
          marginTop: "15px",
          padding: "10px",
          backgroundColor: "var(--background-secondary)",
          borderRadius: "6px",
          border: "1px solid var(--background-modifier-border)"
        });
        const customThemesLabel = customThemesSection.createEl("label", {
          text: "Custom themes (comma-separated):",
          cls: "custom-themes-label"
        });
        customThemesLabel.setCssProps({
          display: "block",
          fontSize: "12px",
          color: "var(--text-muted)",
          marginBottom: "6px"
        });
        const inputContainer = customThemesSection.createDiv("custom-themes-input-container");
        inputContainer.setCssProps({
          display: "flex",
          gap: "6px",
          alignItems: "center"
        });
        const customThemesInput = inputContainer.createEl("input", {
          type: "text",
          placeholder: "custom,obsidinite",
          value: settings.customThemes || "",
          attr: {
            spellcheck: "false"
          }
        });
        customThemesInput.setCssProps({
          flex: "1",
          padding: "6px 8px",
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "4px",
          backgroundColor: "var(--background-primary)",
          color: "var(--text-normal)",
          fontSize: "12px"
        });
        const folderButton = inputContainer.createEl("button", {
          cls: "clickable-icon",
          attr: {
            "aria-label": "Open themes folder"
          }
        });
        folderButton.setCssProps({
          padding: "4px",
          border: "none",
          backgroundColor: "transparent",
          color: "var(--text-normal)",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          marginTop: "2px"
        });
        const folderIcon = folderButton.createDiv();
        (0, import_obsidian14.setIcon)(folderIcon, "folder");
        folderButton.addEventListener("click", () => {
          var _a, _b, _c;
          const themesPath = "../../src/themes/custom";
          void ((_c = (_b = (_a = this.app).openWithDefaultApp) == null ? void 0 : _b.call(_a, themesPath)) != null ? _c : Promise.resolve()).catch((error) => {
            new import_obsidian14.Notice(`Failed to open themes folder: ${error instanceof Error ? error.message : String(error)}`);
          });
        });
        let timeoutId = null;
        customThemesInput.addEventListener("input", () => {
          settings.customThemes = customThemesInput.value.trim();
          void this.plugin.saveData(settings).then(() => {
            return this.plugin.loadSettings();
          });
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          timeoutId = window.setTimeout(() => {
            void this.applyCurrentConfiguration().then(() => {
              new import_obsidian14.Notice("Custom themes updated and applied to config.ts");
            }).catch((error) => {
              new import_obsidian14.Notice(`Failed to apply custom themes: ${error instanceof Error ? error.message : String(error)}`);
            });
          }, 1e3);
        });
      });
      const customThemeGroup = createSettingsGroup(container, "Custom theme generation", "astro-modular-settings");
      customThemeGroup.addSetting((setting) => {
        setting.setName("Generate custom theme").setDesc("Enable to extract colors from your Obsidian theme and generate custom theme files").addToggle((toggle) => {
          toggle.setValue(settings.customThemeGenerationEnabled || false);
          toggle.onChange((value) => {
            void (async () => {
              settings.customThemeGenerationEnabled = value;
              if (value) {
                if (!settings.themeColors) {
                  settings.themeColors = {
                    mode: "simple",
                    extractedColors: void 0,
                    simpleColors: {
                      accent: "#5865f2",
                      background: "#1e1e1e"
                    },
                    lastExtracted: void 0
                  };
                }
              }
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              this.render(container);
            })();
          });
        });
      });
      if (settings.customThemeGenerationEnabled) {
        customThemeGroup.addSetting((setting) => {
          setting.setName("Custom theme file name").setDesc("Filename for the generated theme file (without .ts extension)").addText((text) => {
            text.setValue(settings.customThemeFile || "custom");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              settings.customThemeFile = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void (async () => {
                  await this.plugin.loadSettings();
                  await this.applyCurrentConfiguration();
                })();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void (async () => {
                  await this.plugin.loadSettings();
                  await this.applyCurrentConfiguration();
                })();
              }
            });
          });
        });
        customThemeGroup.addSetting((setting) => {
          setting.setName("Extract from Obsidian theme").setDesc("Extract colors from your currently active Obsidian theme").addButton((button) => {
            button.setButtonText("Extract colors");
            button.setCta();
            button.onClick(() => {
              void (async () => {
                try {
                  const extractedColors = await ThemeColorExtractor.extractObsidianThemeColors();
                  settings.themeColors.extractedColors = extractedColors;
                  settings.themeColors.lastExtracted = (/* @__PURE__ */ new Date()).toISOString();
                  await this.plugin.saveData(settings);
                  await this.plugin.loadSettings();
                  this.render(container);
                  new import_obsidian14.Notice("Colors extracted successfully from Obsidian theme!");
                } catch (error) {
                  new import_obsidian14.Notice(`Failed to extract colors: ${error instanceof Error ? error.message : String(error)}`);
                }
              })();
            });
          });
        });
        if (settings.themeColors.lastExtracted) {
          customThemeGroup.addSetting((setting) => {
            const lastExtracted = new Date(settings.themeColors.lastExtracted).toLocaleString();
            const nameEl = setting.settingEl.querySelector(".setting-item-name");
            const descEl = setting.settingEl.querySelector(".setting-item-description");
            const controlEl = setting.settingEl.querySelector(".setting-item-control");
            if (nameEl) nameEl.setCssProps({ display: "none" });
            if (descEl) descEl.setCssProps({ display: "none" });
            if (controlEl) controlEl.setCssProps({ display: "none" });
            setting.settingEl.setCssProps({
              borderTop: "none",
              paddingTop: "0",
              paddingBottom: "0"
            });
            const timestampEl = setting.settingEl.createEl("p", {
              text: `Last extracted: ${lastExtracted}`,
              cls: "theme-extraction-timestamp"
            });
            timestampEl.setCssProps({ color: "var(--text-muted)" });
          });
        }
        customThemeGroup.addSetting((setting) => {
          setting.setName("Color editing mode").setDesc("Choose how to edit your theme colors").addDropdown((dropdown) => {
            dropdown.addOption("simple", "Simple (accent + background)");
            dropdown.addOption("advanced", "Advanced (individual shades)");
            dropdown.setValue(settings.themeColors.mode);
            dropdown.onChange((value) => {
              void (async () => {
                settings.themeColors.mode = value;
                await this.plugin.saveData(settings);
                await this.plugin.loadSettings();
                this.render(container);
              })();
            });
          });
        });
        if (settings.themeColors.extractedColors) {
          customThemeGroup.addSetting((setting) => {
            const nameEl = setting.settingEl.querySelector(".setting-item-name");
            const descEl = setting.settingEl.querySelector(".setting-item-description");
            const controlEl = setting.settingEl.querySelector(".setting-item-control");
            if (nameEl) nameEl.setCssProps({ display: "none" });
            if (descEl) descEl.setCssProps({ display: "none" });
            if (controlEl) controlEl.setCssProps({ display: "none" });
            setting.settingEl.setCssProps({
              borderTop: "none",
              paddingTop: "0",
              paddingBottom: "0"
            });
            if (settings.themeColors.extractedColors) {
              this.renderColorPreview(setting.settingEl, settings.themeColors.extractedColors);
            }
          });
        }
        if (settings.themeColors.extractedColors) {
          customThemeGroup.addSetting((setting) => {
            const nameEl = setting.settingEl.querySelector(".setting-item-name");
            const descEl = setting.settingEl.querySelector(".setting-item-description");
            const controlEl = setting.settingEl.querySelector(".setting-item-control");
            if (nameEl) nameEl.setCssProps({ display: "none" });
            if (descEl) descEl.setCssProps({ display: "none" });
            if (controlEl) controlEl.setCssProps({ display: "none" });
            setting.settingEl.setCssProps({
              borderTop: "none",
              paddingTop: "0",
              paddingBottom: "0"
            });
            if (settings.themeColors.mode === "simple") {
              this.renderSimpleColorEditor(setting.settingEl, settings);
            } else {
              this.renderAdvancedColorEditor(setting.settingEl, settings);
            }
          });
        }
        customThemeGroup.addSetting((setting) => {
          setting.setName("Save to custom theme file").setDesc("Generate a custom theme file from your extracted colors").addButton((button) => {
            button.setButtonText("Save theme file");
            button.setCta();
            button.onClick(() => {
              void (async () => {
                try {
                  if (!settings.themeColors.extractedColors) {
                    new import_obsidian14.Notice("No colors available to save. Please extract colors first.");
                    return;
                  }
                  const themeFileName = settings.customThemeFile || "custom";
                  const themeContent = ThemeColorExtractor.generateThemeFileContent(settings.themeColors.extractedColors, themeFileName);
                  const filePath = `../../src/themes/custom/${themeFileName}.ts`;
                  await this.app.vault.adapter.write(filePath, themeContent);
                  settings.customThemeFile = themeFileName;
                  await this.plugin.saveData(settings);
                  try {
                    const success = await this.plugin.configManager.updateIndividualFeatures(settings);
                    if (success) {
                      new import_obsidian14.Notice(`${themeFileName}.ts saved successfully! Use the main theme dropdown to switch to "custom" if you want to use this theme.`);
                    } else {
                      new import_obsidian14.Notice("Theme file saved but failed to apply to config.ts");
                    }
                  } catch (error) {
                    new import_obsidian14.Notice(`Theme file saved but failed to apply: ${error instanceof Error ? error.message : String(error)}`);
                  }
                } catch (error) {
                  new import_obsidian14.Notice(`Failed to save theme file: ${error instanceof Error ? error.message : String(error)}`);
                }
              })();
            });
          });
        });
      }
      const typographyGroup = createSettingsGroup(container, "Typography", "astro-modular-settings");
      typographyGroup.addSetting((setting) => {
        setting.setName("Heading font").setDesc("Font for headings and titles").addDropdown((dropdown) => {
          FONT_OPTIONS.forEach((font) => {
            dropdown.addOption(font, font);
          });
          dropdown.setValue(settings.typography.headingFont);
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.headingFont = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              try {
                const success = await this.plugin.configManager.updateFontOnly("heading", value);
                if (success) {
                  new import_obsidian14.Notice("Heading font updated and applied to config.ts");
                } else {
                  new import_obsidian14.Notice("Failed to apply heading font change to config.ts");
                }
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply heading font change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Prose font").setDesc("Font for body text and content").addDropdown((dropdown) => {
          FONT_OPTIONS.forEach((font) => {
            dropdown.addOption(font, font);
          });
          dropdown.setValue(settings.typography.proseFont);
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.proseFont = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              try {
                const success = await this.plugin.configManager.updateFontOnly("prose", value);
                if (success) {
                  new import_obsidian14.Notice("Prose font updated and applied to config.ts");
                } else {
                  new import_obsidian14.Notice("Failed to apply prose font change to config.ts");
                }
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply prose font change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Monospace font").setDesc("Font for code blocks and technical content").addDropdown((dropdown) => {
          FONT_OPTIONS.forEach((font) => {
            dropdown.addOption(font, font);
          });
          dropdown.setValue(settings.typography.monoFont);
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.monoFont = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              try {
                const success = await this.plugin.configManager.updateFontOnly("mono", value);
                if (success) {
                  new import_obsidian14.Notice("Monospace font updated and applied to config.ts");
                } else {
                  new import_obsidian14.Notice("Failed to apply monospace font change to config.ts");
                }
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply monospace font change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Font source").setDesc("How fonts are loaded").addDropdown((dropdown) => {
          dropdown.addOption("local", "Local (Google Fonts)");
          dropdown.addOption("cdn", "CDN (Custom)");
          dropdown.setValue(settings.typography.fontSource);
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.fontSource = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              this.render(container);
              try {
                await this.applyCurrentConfiguration();
                new import_obsidian14.Notice(`Font source changed to ${value} and applied to config.ts`);
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply font source change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Font display").setDesc("Font display strategy").addDropdown((dropdown) => {
          dropdown.addOption("swap", "Swap (recommended)");
          dropdown.addOption("fallback", "Fallback");
          dropdown.addOption("optional", "Optional");
          dropdown.setValue(settings.typography.fontDisplay || "swap");
          dropdown.onChange((value) => {
            void (async () => {
              settings.typography.fontDisplay = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              try {
                await this.applyCurrentConfiguration();
                new import_obsidian14.Notice("Font display updated and applied to config.ts");
              } catch (error) {
                new import_obsidian14.Notice(`Failed to apply font display change: ${error instanceof Error ? error.message : String(error)}`);
              }
            })();
          });
        });
      });
      typographyGroup.addSetting((setting) => {
        setting.setName("Content width").setDesc("Maximum width for content (e.g., 45rem)").addText((text) => {
          var _a;
          text.setValue(((_a = settings.layout) == null ? void 0 : _a.contentWidth) || "45rem");
          let timeoutId = null;
          text.onChange((value) => {
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            if (!settings.layout) {
              settings.layout = { contentWidth: "45rem" };
            }
            settings.layout.contentWidth = value;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void this.applyCurrentConfiguration();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void this.applyCurrentConfiguration();
            }
          });
        });
      });
      if (settings.typography.fontSource === "cdn") {
        typographyGroup.addSetting((setting) => {
          setting.setName("Custom font URLs").setDesc("Comma-separated URLs for custom fonts (e.g., Google Fonts URL)").addText((text) => {
            var _a;
            text.setValue(((_a = settings.typography.customFonts) == null ? void 0 : _a.urls) || "");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.typography.customFonts) {
                settings.typography.customFonts = { heading: "", prose: "", mono: "", urls: "" };
              }
              settings.typography.customFonts.urls = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void this.applyCurrentConfiguration();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void this.applyCurrentConfiguration();
              }
            });
          });
        });
        typographyGroup.addSetting((setting) => {
          setting.setName("Custom heading font name").setDesc("Font family name for headings").addText((text) => {
            var _a;
            text.setValue(((_a = settings.typography.customFonts) == null ? void 0 : _a.heading) || "");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.typography.customFonts) {
                settings.typography.customFonts = { heading: "", prose: "", mono: "", urls: "" };
              }
              settings.typography.customFonts.heading = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void this.applyCurrentConfiguration();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void this.applyCurrentConfiguration();
              }
            });
          });
        });
        typographyGroup.addSetting((setting) => {
          setting.setName("Custom body font name").setDesc("Font family name for body text").addText((text) => {
            var _a;
            text.setValue(((_a = settings.typography.customFonts) == null ? void 0 : _a.prose) || "");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.typography.customFonts) {
                settings.typography.customFonts = { heading: "", prose: "", mono: "", urls: "" };
              }
              settings.typography.customFonts.prose = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void this.applyCurrentConfiguration();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void this.applyCurrentConfiguration();
              }
            });
          });
        });
        typographyGroup.addSetting((setting) => {
          setting.setName("Custom monospace font name").setDesc("Font family name for code").addText((text) => {
            var _a;
            text.setValue(((_a = settings.typography.customFonts) == null ? void 0 : _a.mono) || "");
            let timeoutId = null;
            text.onChange((value) => {
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.typography.customFonts) {
                settings.typography.customFonts = { heading: "", prose: "", mono: "", urls: "" };
              }
              settings.typography.customFonts.mono = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void this.applyCurrentConfiguration();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void this.applyCurrentConfiguration();
              }
            });
          });
        });
      }
    }
  }
  /**
   * Render color preview
   */
  renderColorPreview(container, colors) {
    const previewSection = container.createDiv("color-preview-section");
    previewSection.createEl("h4", { text: "Color preview" });
    const previewContainer = previewSection.createDiv("color-preview-container");
    previewContainer.setCssProps({
      display: "flex",
      gap: "10px",
      marginTop: "10px"
    });
    const primaryShades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 950];
    primaryShades.forEach((shade) => {
      const colorValue = colors.primary[shade];
      if (colorValue) {
        const colorBox = previewContainer.createDiv("color-box");
        colorBox.setCssProps({
          width: "20px",
          height: "20px",
          backgroundColor: colorValue,
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "3px"
        });
        colorBox.title = `Primary ${shade}: ${colorValue}`;
      }
    });
    const highlightShades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900];
    highlightShades.forEach((shade) => {
      const colorValue = colors.highlight[shade];
      if (colorValue) {
        const colorBox = previewContainer.createDiv("color-box");
        colorBox.setCssProps({
          width: "20px",
          height: "20px",
          backgroundColor: colorValue,
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "3px"
        });
        colorBox.title = `Highlight ${shade}: ${colorValue}`;
      }
    });
  }
  /**
   * Render simple color editor (accent + background)
   */
  renderSimpleColorEditor(container, settings) {
    var _a, _b, _c, _d;
    const simpleSection = container.createDiv("simple-color-inputs");
    simpleSection.setCssProps({ marginBottom: "20px" });
    simpleSection.createEl("h4", { text: "Simple color editor" });
    const accentColor = ((_b = (_a = settings.themeColors.extractedColors) == null ? void 0 : _a.highlight) == null ? void 0 : _b[500]) || "#5865f2";
    const backgroundColor = ((_d = (_c = settings.themeColors.extractedColors) == null ? void 0 : _c.primary) == null ? void 0 : _d[800]) || "#1e1e1e";
    settings.themeColors.simpleColors = {
      accent: accentColor,
      background: backgroundColor
    };
    const accentDiv = simpleSection.createDiv("simple-color-input");
    accentDiv.createEl("label", { text: "Accent color:" });
    const accentTextInput = accentDiv.createEl("input", {
      type: "text",
      value: settings.themeColors.simpleColors.accent
    });
    accentTextInput.setCssProps({ fontFamily: "var(--font-monospace)" });
    const accentColorPicker = accentDiv.createEl("input", { type: "color" });
    accentColorPicker.value = settings.themeColors.simpleColors.accent;
    accentColorPicker.className = "color-picker";
    accentTextInput.oninput = async () => {
      if (ThemeColorExtractor.isValidHexColor(accentTextInput.value) && settings.themeColors.simpleColors) {
        settings.themeColors.simpleColors.accent = accentTextInput.value;
        accentColorPicker.value = accentTextInput.value;
        await this.plugin.saveData(settings);
      }
    };
    accentColorPicker.onchange = async () => {
      if (settings.themeColors.simpleColors) {
        settings.themeColors.simpleColors.accent = accentColorPicker.value;
        accentTextInput.value = accentColorPicker.value;
        await this.plugin.saveData(settings);
      }
    };
    const backgroundDiv = simpleSection.createDiv("simple-color-input");
    backgroundDiv.createEl("label", { text: "Background color:" });
    const backgroundTextInput = backgroundDiv.createEl("input", {
      type: "text",
      value: settings.themeColors.simpleColors.background
    });
    backgroundTextInput.setCssProps({ fontFamily: "var(--font-monospace)" });
    const backgroundColorPicker = backgroundDiv.createEl("input", { type: "color" });
    backgroundColorPicker.value = settings.themeColors.simpleColors.background;
    backgroundColorPicker.className = "color-picker";
    backgroundTextInput.oninput = async () => {
      if (ThemeColorExtractor.isValidHexColor(backgroundTextInput.value) && settings.themeColors.simpleColors) {
        settings.themeColors.simpleColors.background = backgroundTextInput.value;
        backgroundColorPicker.value = backgroundTextInput.value;
        await this.plugin.saveData(settings);
      }
    };
    backgroundColorPicker.onchange = async () => {
      if (settings.themeColors.simpleColors) {
        settings.themeColors.simpleColors.background = backgroundColorPicker.value;
      }
      backgroundTextInput.value = backgroundColorPicker.value;
      await this.plugin.saveData(settings);
    };
  }
  /**
   * Render advanced color editor (individual shades)
   */
  renderAdvancedColorEditor(container, settings) {
    const advancedSection = container.createDiv("advanced-mode-section");
    advancedSection.createEl("h4", { text: "Advanced color editor" });
    const primarySection = advancedSection.createDiv("color-scale-editor");
    primarySection.createEl("h5", { text: "Primary colors" });
    const primaryShades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 950];
    primaryShades.forEach((shade) => {
      var _a, _b;
      const colorValue = (_b = (_a = settings.themeColors.extractedColors) == null ? void 0 : _a.primary) == null ? void 0 : _b[shade];
      if (colorValue) {
        const settingItem = primarySection.createDiv("setting-item");
        settingItem.setCssProps({
          display: "flex",
          alignItems: "center",
          gap: "10px",
          marginBottom: "8px"
        });
        const label = settingItem.createDiv("setting-item-name");
        label.textContent = `${shade}:`;
        label.setCssProps({
          minWidth: "40px",
          fontSize: "12px",
          color: "var(--text-muted)"
        });
        const control = settingItem.createDiv("setting-item-control");
        control.setCssProps({
          display: "flex",
          gap: "8px",
          alignItems: "center"
        });
        const textInput = control.createEl("input", { type: "text", value: colorValue });
        textInput.setCssProps({
          width: "100px",
          fontFamily: "var(--font-monospace)",
          fontSize: "12px"
        });
        const colorPicker = control.createEl("input", { type: "color", value: colorValue });
        colorPicker.className = "color-picker";
        textInput.oninput = async () => {
          var _a2;
          if (ThemeColorExtractor.isValidHexColor(textInput.value)) {
            if ((_a2 = settings.themeColors.extractedColors) == null ? void 0 : _a2.primary) {
              settings.themeColors.extractedColors.primary[shade] = textInput.value;
            }
            colorPicker.value = textInput.value;
            await this.plugin.saveData(settings);
          }
        };
        colorPicker.onchange = async () => {
          if (settings.themeColors.extractedColors) {
            settings.themeColors.extractedColors.primary[shade] = colorPicker.value;
          }
          textInput.value = colorPicker.value;
          await this.plugin.saveData(settings);
        };
      }
    });
    const highlightSection = advancedSection.createDiv("color-scale-editor");
    highlightSection.createEl("h5", { text: "Highlight colors" });
    const highlightShades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900];
    highlightShades.forEach((shade) => {
      var _a, _b;
      const colorValue = (_b = (_a = settings.themeColors.extractedColors) == null ? void 0 : _a.highlight) == null ? void 0 : _b[shade];
      if (colorValue) {
        const settingItem = highlightSection.createDiv("setting-item");
        settingItem.setCssProps({
          display: "flex",
          alignItems: "center",
          gap: "10px",
          marginBottom: "8px"
        });
        const label = settingItem.createDiv("setting-item-name");
        label.textContent = `${shade}:`;
        label.setCssProps({
          minWidth: "40px",
          fontSize: "12px",
          color: "var(--text-muted)"
        });
        const control = settingItem.createDiv("setting-item-control");
        control.setCssProps({
          display: "flex",
          gap: "8px",
          alignItems: "center"
        });
        const textInput = control.createEl("input", { type: "text", value: colorValue });
        textInput.setCssProps({
          width: "100px",
          fontFamily: "var(--font-monospace)",
          fontSize: "12px"
        });
        const colorPicker = control.createEl("input", { type: "color", value: colorValue });
        colorPicker.className = "color-picker";
        textInput.oninput = async () => {
          var _a2;
          if (ThemeColorExtractor.isValidHexColor(textInput.value)) {
            if ((_a2 = settings.themeColors.extractedColors) == null ? void 0 : _a2.highlight) {
              settings.themeColors.extractedColors.highlight[shade] = textInput.value;
            }
            colorPicker.value = textInput.value;
            await this.plugin.saveData(settings);
          }
        };
        colorPicker.onchange = async () => {
          if (settings.themeColors.extractedColors) {
            settings.themeColors.extractedColors.highlight[shade] = colorPicker.value;
          }
          textInput.value = colorPicker.value;
          await this.plugin.saveData(settings);
        };
      }
    });
  }
};

// src/ui/tabs/FeaturesTab.ts
var import_obsidian15 = require("obsidian");
var FeaturesTab = class extends TabRenderer {
  render(container) {
    container.empty();
    const settings = this.getSettings();
    const globalGroup = createSettingsGroup(container, "Global options", "astro-modular-settings");
    globalGroup.addSetting((setting) => {
      setting.setName("Enable projects").setDesc("Enable projects as a unique content type for showcasing work and portfolios").addToggle((toggle) => {
        var _a, _b;
        return toggle.setValue((_b = (_a = settings.optionalContentTypes) == null ? void 0 : _a.projects) != null ? _b : true).onChange(async (value) => {
          if (!settings.optionalContentTypes) {
            settings.optionalContentTypes = { projects: true, docs: true };
          }
          settings.optionalContentTypes.projects = value;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
          new import_obsidian15.Notice(`Projects ${value ? "enabled" : "disabled"} and applied to config.ts`);
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Enable docs").setDesc("Enable docs as a unique content type for documentation and knowledge base").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.optionalContentTypes) == null ? void 0 : _a.docs) != null ? _b : true).onChange(async (value) => {
            if (!settings.optionalContentTypes) {
              settings.optionalContentTypes = { projects: true, docs: true };
            }
            settings.optionalContentTypes.docs = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Docs ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Table of contents").setDesc("Show table of contents on content pages").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.tableOfContents) == null ? void 0 : _a.enabled) != null ? _b : true).onChange(async (value) => {
            if (!settings.tableOfContents) {
              settings.tableOfContents = { enabled: true, depth: 4 };
            }
            settings.tableOfContents.enabled = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const tocDepthSetting = container.querySelector(".toc-depth-setting");
            if (tocDepthSetting) {
              tocDepthSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Table of contents ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("toc-depth-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.tableOfContents) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Table of contents depth").setDesc("Maximum heading depth to include in ToC (2=H2, 3=H3, 4=H4, 5=H5, 6=H6)").addText((text) => {
          var _a2;
          return text.setPlaceholder("4").setValue(String(((_a2 = settings.tableOfContents) == null ? void 0 : _a2.depth) || 4)).onChange(async (value) => {
            const num = parseInt(value) || 4;
            const clampedNum = Math.max(2, Math.min(6, num));
            if (!settings.tableOfContents) {
              settings.tableOfContents = { enabled: true, depth: 4 };
            }
            settings.tableOfContents.depth = clampedNum;
            text.setValue(String(clampedNum));
            void this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Table of contents depth set to ${clampedNum} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Footer").setDesc("Enable footer on your site").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.footer) == null ? void 0 : _a.enabled) != null ? _b : true).onChange(async (value) => {
            if (!settings.footer) {
              settings.footer = { enabled: true, content: '\xA9 2025 {author}. Built with the <a href="https://github.com/davidvkimball/astro-modular" target="_blank">Astro Modular</a> theme.', showSocialIconsInFooter: true };
            }
            settings.footer.enabled = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const footerContentSetting = container.querySelector(".footer-content-setting");
            const footerSocialSetting = container.querySelector(".footer-social-setting");
            if (footerContentSetting) {
              footerContentSetting.setCssProps({ display: value ? "block" : "none" });
            }
            if (footerSocialSetting) {
              footerSocialSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Footer ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("footer-content-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.footer) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Footer content").setDesc("Text to display in footer. Use {author} for site author and {title} for site title");
        const descEl = setting2.settingEl.querySelector(".setting-item-description");
        if (descEl) {
          descEl.setCssProps({
            marginBottom: "var(--size-4-3)"
          });
        }
        const textarea = setting2.controlEl.createEl("textarea", {
          attr: {
            placeholder: "\xA9 2025 {author}. Built with the Astro Modular theme.",
            rows: "3"
          }
        });
        textarea.value = ((_c = settings.footer) == null ? void 0 : _c.content) || '\xA9 2025 {author}. Built with the <a href="https://github.com/davidvkimball/astro-modular" target="_blank">Astro Modular</a> theme.';
        textarea.setCssProps({
          width: "100%",
          minHeight: "80px",
          resize: "vertical",
          fontFamily: "var(--font-text)",
          fontSize: "var(--font-ui-small)",
          padding: "var(--size-4-2) var(--size-4-3)",
          border: "1px solid var(--background-modifier-border)",
          borderRadius: "var(--radius-s)",
          background: "var(--background-primary)",
          color: "var(--text-normal)"
        });
        setting2.controlEl.setCssProps({
          width: "100%",
          display: "block"
        });
        let timeoutId = null;
        textarea.addEventListener("input", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
          }
          if (!settings.footer) {
            settings.footer = { enabled: true, content: "", showSocialIconsInFooter: true };
          }
          settings.footer.content = textarea.value;
          void this.plugin.saveData(settings);
          timeoutId = window.setTimeout(() => {
            void (async () => {
              await this.plugin.loadSettings();
              void this.applyCurrentConfiguration();
            })();
          }, 1e3);
        });
        textarea.addEventListener("blur", () => {
          if (timeoutId) {
            clearTimeout(timeoutId);
            void (async () => {
              await this.plugin.loadSettings();
              void this.applyCurrentConfiguration();
            })();
          }
        });
      });
      globalGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("footer-social-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.footer) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Show social icons in footer").setDesc("Display social media icons in the footer").addToggle((toggle) => {
          var _a2, _b2;
          return toggle.setValue((_b2 = (_a2 = settings.footer) == null ? void 0 : _a2.showSocialIconsInFooter) != null ? _b2 : true).onChange(async (value) => {
            if (!settings.footer) {
              settings.footer = { enabled: true, content: '\xA9 2025 {author}. Built with the <a href="https://github.com/davidvkimball/astro-modular" target="_blank">Astro Modular</a> theme.', showSocialIconsInFooter: true };
            }
            settings.footer.showSocialIconsInFooter = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Social icons in footer ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Hide scroll bar").setDesc("Hide the browser scroll bar for a cleaner look").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.features) == null ? void 0 : _a.hideScrollBar) != null ? _b : false).onChange(async (value) => {
            settings.features.hideScrollBar = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Hide scroll bar ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Scroll to top").setDesc("Show scroll to top button").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.features) == null ? void 0 : _a.scrollToTop) != null ? _b : true).onChange(async (value) => {
            settings.features.scrollToTop = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Scroll to top ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      globalGroup.addSetting((setting2) => {
        setting2.setName("Feature button").setDesc("Choose which feature button appears in the header").addDropdown((dropdown) => {
          var _a;
          return dropdown.addOption("mode", "Dark/light mode toggle").addOption("graph", "View graph").addOption("theme", "Change theme").addOption("none", "None").setValue(((_a = settings.features) == null ? void 0 : _a.featureButton) || "mode").onChange(async (value) => {
            settings.features.featureButton = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Feature button updated to "${value}" and applied to config.ts`);
          });
        });
      });
      const commandPaletteGroup = createSettingsGroup(container, "Command palette", "astro-modular-settings");
      commandPaletteGroup.addSetting((setting2) => {
        setting2.setName("Enable command palette").setDesc("Add a command palette to your site").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true).onChange(async (value) => {
            if (!settings.commandPalette) {
              settings.commandPalette = {
                enabled: true,
                shortcut: "ctrl+K",
                placeholder: "Search posts",
                search: { posts: true, pages: false, projects: false, docs: false },
                sections: { quickActions: true, pages: true, social: true },
                quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
              };
            }
            settings.commandPalette.enabled = value;
            settings.features.commandPalette = value;
            void this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const cpSettings = container.querySelectorAll(".cp-option-setting");
            cpSettings.forEach((el) => {
              el.setCssProps({ display: value ? "block" : "none" });
            });
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Command palette ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Shortcut").setDesc("Keyboard shortcut to open command palette (Ctrl = Cmd on Mac)").addText((text) => {
          var _a2;
          text.setValue(((_a2 = settings.commandPalette) == null ? void 0 : _a2.shortcut) || "ctrl+K");
          let timeoutId = null;
          text.onChange((value) => {
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            if (!settings.commandPalette) {
              settings.commandPalette = { enabled: true, shortcut: "ctrl+K", placeholder: "Search posts", search: { posts: true, pages: false, projects: false, docs: false }, sections: { quickActions: true, pages: true, social: true }, quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true } };
            }
            settings.commandPalette.shortcut = value;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void this.applyCurrentConfiguration();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void this.applyCurrentConfiguration();
            }
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Placeholder").setDesc("Placeholder text in command palette search box").addText((text) => {
          var _a2;
          text.setValue(((_a2 = settings.commandPalette) == null ? void 0 : _a2.placeholder) || "Search posts");
          let timeoutId = null;
          text.onChange((value) => {
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            if (!settings.commandPalette) {
              settings.commandPalette = { enabled: true, shortcut: "ctrl+K", placeholder: "Search posts", search: { posts: true, pages: false, projects: false, docs: false }, sections: { quickActions: true, pages: true, social: true }, quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true } };
            }
            settings.commandPalette.placeholder = value;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void this.applyCurrentConfiguration();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void this.applyCurrentConfiguration();
            }
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Search posts").setDesc("Include posts in search results").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.search) == null ? void 0 : _b2.posts) != null ? _c : true).onChange(async (value) => {
            if (!settings.commandPalette) {
              settings.commandPalette = { enabled: true, shortcut: "ctrl+K", placeholder: "Search posts", search: { posts: true, pages: false, projects: false, docs: false }, sections: { quickActions: true, pages: true, social: true }, quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true } };
            }
            if (!settings.commandPalette.search) {
              settings.commandPalette.search = { posts: true, pages: false, projects: false, docs: false };
            }
            settings.commandPalette.search.posts = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Search pages").setDesc("Include pages in search results").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.search) == null ? void 0 : _b2.pages) != null ? _c : false).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.search)) {
              settings.commandPalette.search = { posts: true, pages: false, projects: false, docs: false };
            }
            settings.commandPalette.search.pages = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Search projects").setDesc("Include projects in search results").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.search) == null ? void 0 : _b2.projects) != null ? _c : false).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.search)) {
              settings.commandPalette.search = { posts: true, pages: false, projects: false, docs: false };
            }
            settings.commandPalette.search.projects = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Search docs").setDesc("Include docs in search results").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.search) == null ? void 0 : _b2.docs) != null ? _c : false).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.search)) {
              settings.commandPalette.search = { posts: true, pages: false, projects: false, docs: false };
            }
            settings.commandPalette.search.docs = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Show quick actions section").setDesc("Display quick actions in command palette").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.sections) == null ? void 0 : _b2.quickActions) != null ? _c : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.sections)) {
              settings.commandPalette.sections = { quickActions: true, pages: true, social: true };
            }
            settings.commandPalette.sections.quickActions = value;
            await this.plugin.saveData(settings);
            const qaSettings = container.querySelectorAll(".qa-option-setting");
            qaSettings.forEach((el) => {
              el.setCssProps({ display: value ? "block" : "none" });
            });
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b, _c, _d, _e;
        setting2.settingEl.classList.add("cp-option-setting", "qa-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) && ((_e = (_d = (_c = settings.commandPalette) == null ? void 0 : _c.sections) == null ? void 0 : _d.quickActions) != null ? _e : true) ? "block" : "none"
        });
        setting2.setName("Toggle dark/light mode").setDesc("Show mode toggle button in command palette").addToggle((toggle) => {
          var _a2, _b2, _c2;
          return toggle.setValue((_c2 = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.quickActions) == null ? void 0 : _b2.toggleMode) != null ? _c2 : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.quickActions)) {
              settings.commandPalette.quickActions = { enabled: true, toggleMode: true, graphView: true, changeTheme: true };
            }
            settings.commandPalette.quickActions.toggleMode = value;
            settings.features.quickActions.toggleMode = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b, _c, _d, _e;
        setting2.settingEl.classList.add("cp-option-setting", "qa-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) && ((_e = (_d = (_c = settings.commandPalette) == null ? void 0 : _c.sections) == null ? void 0 : _d.quickActions) != null ? _e : true) ? "block" : "none"
        });
        setting2.setName("View graph").setDesc("Show graph view button in command palette").addToggle((toggle) => {
          var _a2, _b2, _c2;
          return toggle.setValue((_c2 = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.quickActions) == null ? void 0 : _b2.graphView) != null ? _c2 : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.quickActions)) {
              settings.commandPalette.quickActions = { enabled: true, toggleMode: true, graphView: true, changeTheme: true };
            }
            settings.commandPalette.quickActions.graphView = value;
            settings.features.quickActions.graphView = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b, _c, _d, _e;
        setting2.settingEl.classList.add("cp-option-setting", "qa-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) && ((_e = (_d = (_c = settings.commandPalette) == null ? void 0 : _c.sections) == null ? void 0 : _d.quickActions) != null ? _e : true) ? "block" : "none"
        });
        setting2.setName("Change theme").setDesc("Show theme selector button in command palette").addToggle((toggle) => {
          var _a2, _b2, _c2;
          return toggle.setValue((_c2 = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.quickActions) == null ? void 0 : _b2.changeTheme) != null ? _c2 : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.quickActions)) {
              settings.commandPalette.quickActions = { enabled: true, toggleMode: true, graphView: true, changeTheme: true };
            }
            settings.commandPalette.quickActions.changeTheme = value;
            settings.features.quickActions.changeTheme = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Show pages section").setDesc("Display navigation pages in command palette").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.sections) == null ? void 0 : _b2.pages) != null ? _c : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.sections)) {
              settings.commandPalette.sections = { quickActions: true, pages: true, social: true };
            }
            settings.commandPalette.sections.pages = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      commandPaletteGroup.addSetting((setting2) => {
        var _a, _b;
        setting2.settingEl.classList.add("cp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_b = (_a = settings.commandPalette) == null ? void 0 : _a.enabled) != null ? _b : true) ? "block" : "none"
        });
        setting2.setName("Show social section").setDesc("Display social links in command palette").addToggle((toggle) => {
          var _a2, _b2, _c;
          return toggle.setValue((_c = (_b2 = (_a2 = settings.commandPalette) == null ? void 0 : _a2.sections) == null ? void 0 : _b2.social) != null ? _c : true).onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.commandPalette) == null ? void 0 : _a3.sections)) {
              settings.commandPalette.sections = { quickActions: true, pages: true, social: true };
            }
            settings.commandPalette.sections.social = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      const homeOptionsGroup = createSettingsGroup(container, "Home options", "astro-modular-settings");
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Featured post").setDesc("Show featured post on homepage").addToggle((toggle) => {
          var _a, _b, _c;
          return toggle.setValue((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.featuredPost) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
            if (!settings.homeOptions) {
              settings.homeOptions = {
                featuredPost: { enabled: true, type: "latest", slug: "getting-started" },
                recentPosts: { enabled: true, count: 7 },
                projects: { enabled: true, count: 2 },
                docs: { enabled: true, count: 3 },
                blurb: { placement: "below" }
              };
            }
            if (!settings.homeOptions.featuredPost) {
              settings.homeOptions.featuredPost = { enabled: true, type: "latest", slug: "getting-started" };
            }
            settings.homeOptions.featuredPost.enabled = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const fpSettings = container.querySelectorAll(".fp-option-setting");
            fpSettings.forEach((el) => {
              el.setCssProps({ display: value ? "block" : "none" });
            });
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice(`Featured post ${value ? "enabled" : "disabled"} and applied to config.ts`);
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("fp-option-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.featuredPost) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
        });
        setting2.setName("Featured post type").setDesc("Show latest post or a specific featured post").addDropdown((dropdown) => {
          var _a2, _b2;
          dropdown.addOption("latest", "Latest").addOption("featured", "Featured").setValue(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.featuredPost) == null ? void 0 : _b2.type) || "latest").onChange(async (value) => {
            var _a3;
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.featuredPost)) {
              settings.homeOptions.featuredPost = { enabled: true, type: "latest", slug: "getting-started" };
            }
            settings.homeOptions.featuredPost.type = value;
            await this.plugin.saveData(settings);
            const fpSlugSetting = container.querySelector(".fp-slug-setting");
            if (fpSlugSetting) {
              fpSlugSetting.setCssProps({ display: value === "featured" ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
          });
          setTimeout(() => {
            const selectEl = setting2.controlEl.querySelector("select");
            if (selectEl) {
              selectEl.setCssProps({
                width: "200px",
                minWidth: "200px",
                maxWidth: "200px"
              });
            }
          }, 0);
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c, _d, _e;
        setting2.settingEl.classList.add("fp-option-setting", "fp-slug-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.featuredPost) == null ? void 0 : _b.enabled) != null ? _c : true) && ((_e = (_d = settings.homeOptions) == null ? void 0 : _d.featuredPost) == null ? void 0 : _e.type) === "featured" ? "block" : "none"
        });
        setting2.setName("Featured post slug").setDesc('Slug of the post to feature (e.g., "getting-started" for /posts/getting-started)').addText((text) => {
          var _a2, _b2;
          text.setPlaceholder("getting-started");
          text.setValue(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.featuredPost) == null ? void 0 : _b2.slug) || "getting-started");
          let timeoutId = null;
          text.onChange(async (value) => {
            var _a3;
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.featuredPost)) {
              settings.homeOptions.featuredPost = { enabled: true, type: "featured", slug: "getting-started" };
            }
            settings.homeOptions.featuredPost.slug = value;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void (async () => {
                await this.plugin.loadSettings();
                await this.applyCurrentConfiguration();
              })();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void (async () => {
                await this.plugin.loadSettings();
                await this.applyCurrentConfiguration();
              })();
            }
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Recent posts").setDesc("Show recent posts on homepage").addToggle((toggle) => {
          var _a, _b, _c;
          return toggle.setValue((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.recentPosts) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
            var _a2;
            if (!((_a2 = settings.homeOptions) == null ? void 0 : _a2.recentPosts)) {
              settings.homeOptions.recentPosts = { enabled: true, count: 7 };
            }
            settings.homeOptions.recentPosts.enabled = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            const rpCountSetting = container.querySelector(".rp-count-setting");
            if (rpCountSetting) {
              rpCountSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("rp-count-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.recentPosts) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
        });
        setting2.setName("Recent posts count").setDesc("Number of recent posts to show").addText((text) => {
          var _a2, _b2;
          text.setPlaceholder("7");
          text.setValue(String(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.recentPosts) == null ? void 0 : _b2.count) || 7));
          let timeoutId = null;
          text.onChange(async (value) => {
            var _a3;
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            const num = parseInt(value) || 7;
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.recentPosts)) {
              settings.homeOptions.recentPosts = { enabled: true, count: 7 };
            }
            settings.homeOptions.recentPosts.count = num;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void (async () => {
                await this.plugin.loadSettings();
                await this.applyCurrentConfiguration();
              })();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void (async () => {
                await this.plugin.loadSettings();
                await this.applyCurrentConfiguration();
              })();
            }
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Projects on homepage").setDesc("Show featured projects on homepage").addToggle((toggle) => {
          var _a, _b, _c;
          return toggle.setValue((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.projects) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
            var _a2;
            if (!((_a2 = settings.homeOptions) == null ? void 0 : _a2.projects)) {
              settings.homeOptions.projects = { enabled: true, count: 2 };
            }
            settings.homeOptions.projects.enabled = value;
            await this.plugin.saveData(settings);
            const pCountSetting = container.querySelector(".p-count-setting");
            if (pCountSetting) {
              pCountSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("p-count-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.projects) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
        });
        setting2.setName("Projects count").setDesc("Number of projects to show").addText((text) => {
          var _a2, _b2;
          text.setPlaceholder("2");
          text.setValue(String(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.projects) == null ? void 0 : _b2.count) || 2));
          let timeoutId = null;
          text.onChange(async (value) => {
            var _a3;
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            const num = parseInt(value) || 2;
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.projects)) {
              settings.homeOptions.projects = { enabled: true, count: 2 };
            }
            settings.homeOptions.projects.count = num;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void (async () => {
                await this.applyCurrentConfiguration();
              })();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void (async () => {
                await this.applyCurrentConfiguration();
              })();
            }
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Docs on homepage").setDesc("Show featured docs on homepage").addToggle((toggle) => {
          var _a, _b, _c;
          return toggle.setValue((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.docs) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
            var _a2;
            if (!((_a2 = settings.homeOptions) == null ? void 0 : _a2.docs)) {
              settings.homeOptions.docs = { enabled: true, count: 3 };
            }
            settings.homeOptions.docs.enabled = value;
            await this.plugin.saveData(settings);
            const dCountSetting = container.querySelector(".d-count-setting");
            if (dCountSetting) {
              dCountSetting.setCssProps({ display: value ? "block" : "none" });
            }
            await this.applyCurrentConfiguration();
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        var _a, _b, _c;
        setting2.settingEl.classList.add("d-count-setting");
        setting2.settingEl.setCssProps({
          display: ((_c = (_b = (_a = settings.homeOptions) == null ? void 0 : _a.docs) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
        });
        setting2.setName("Docs count").setDesc("Number of docs to show").addText((text) => {
          var _a2, _b2;
          text.setPlaceholder("3");
          text.setValue(String(((_b2 = (_a2 = settings.homeOptions) == null ? void 0 : _a2.docs) == null ? void 0 : _b2.count) || 3));
          let timeoutId = null;
          text.onChange(async (value) => {
            var _a3;
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            const num = parseInt(value) || 3;
            if (!((_a3 = settings.homeOptions) == null ? void 0 : _a3.docs)) {
              settings.homeOptions.docs = { enabled: true, count: 3 };
            }
            settings.homeOptions.docs.count = num;
            void this.plugin.saveData(settings);
            timeoutId = window.setTimeout(() => {
              void (async () => {
                await this.applyCurrentConfiguration();
              })();
            }, 1e3);
          });
          text.inputEl.addEventListener("blur", () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
              void (async () => {
                await this.applyCurrentConfiguration();
              })();
            }
          });
        });
      });
      homeOptionsGroup.addSetting((setting2) => {
        setting2.setName("Blurb placement").setDesc("Where to place the blurb text on homepage").addDropdown((dropdown) => {
          var _a, _b;
          dropdown.addOption("above", "Above").addOption("below", "Below").addOption("none", "None").setValue(((_b = (_a = settings.homeOptions) == null ? void 0 : _a.blurb) == null ? void 0 : _b.placement) || "below").onChange(async (value) => {
            var _a2;
            if (!((_a2 = settings.homeOptions) == null ? void 0 : _a2.blurb)) {
              settings.homeOptions.blurb = { placement: "below" };
            }
            settings.homeOptions.blurb.placement = value;
            await this.plugin.saveData(settings);
            await this.applyCurrentConfiguration();
          });
          setTimeout(() => {
            const selectEl = setting2.controlEl.querySelector("select");
            if (selectEl) {
              selectEl.setCssProps({
                width: "200px",
                minWidth: "200px",
                maxWidth: "200px"
              });
            }
          }, 0);
        });
      });
      const postOptionsGroup = createSettingsGroup(container, "Post options", "astro-modular-settings");
      postOptionsGroup.addSetting((setting2) => {
        setting2.setName("Posts per page").setDesc("Number of posts to show per page").addText((text) => {
          var _a;
          return text.setPlaceholder("6").setValue(String(((_a = settings.postOptions) == null ? void 0 : _a.postsPerPage) || 6)).onChange(async (value) => {
            var _a2;
            const num = parseInt(value) || 6;
            if (!settings.postOptions) {
              settings.postOptions = {
                postsPerPage: 6,
                readingTime: true,
                wordCount: true,
                tags: true,
                linkedMentions: { enabled: true, linkedMentionsCompact: false },
                graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true },
                postNavigation: true,
                showPostCardCoverImages: "featured-and-posts",
                postCardAspectRatio: "og",
                customPostCardAspectRatio: "2.5/1",
                comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" }
              };
            }
            settings.postOptions.postsPerPage = num;
            await this.plugin.saveData(settings);
            await this.applyCurrentConfiguration();
          });
        });
      });
      postOptionsGroup.addSetting((setting2) => {
        setting2.setName("Reading time").setDesc("Display estimated reading time on posts").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.postOptions) == null ? void 0 : _a.readingTime) != null ? _b : true).onChange(async (value) => {
            var _a2;
            if (!settings.postOptions) {
              settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
            }
            settings.postOptions.readingTime = value;
            settings.features.readingTime = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
      });
      postOptionsGroup.addSetting((setting2) => {
        setting2.setName("Word count").setDesc("Display word count on posts").addToggle((toggle) => {
          var _a, _b;
          return toggle.setValue((_b = (_a = settings.postOptions) == null ? void 0 : _a.wordCount) != null ? _b : true).onChange(async (value) => {
            var _a2;
            if (!settings.postOptions) {
              settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
            }
            settings.postOptions.wordCount = value;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration();
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Tags").setDesc("Show tags on posts").addToggle((toggle) => {
            var _a, _b;
            return toggle.setValue((_b = (_a = settings.postOptions) == null ? void 0 : _a.tags) != null ? _b : true).onChange(async (value) => {
              var _a2;
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.tags = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Linked mentions").setDesc("Show linked mentions and backlinks on posts").addToggle((toggle) => {
            var _a, _b, _c;
            return toggle.setValue((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.linkedMentions) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
              var _a2;
              if (!((_a2 = settings.postOptions) == null ? void 0 : _a2.linkedMentions)) {
                settings.postOptions.linkedMentions = { enabled: true, linkedMentionsCompact: false };
              }
              settings.postOptions.linkedMentions.enabled = value;
              settings.features.linkedMentions = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              const lmCompactSetting = container.querySelector(".lm-compact-setting");
              if (lmCompactSetting) {
                lmCompactSetting.setCssProps({ display: value ? "block" : "none" });
              }
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a, _b, _c;
          setting3.settingEl.classList.add("lm-compact-setting");
          setting3.settingEl.setCssProps({
            display: ((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.linkedMentions) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
          });
          setting3.setName("Compact view").setDesc("Use compact view for linked mentions").addToggle((toggle) => {
            var _a2, _b2, _c2;
            return toggle.setValue((_c2 = (_b2 = (_a2 = settings.postOptions) == null ? void 0 : _a2.linkedMentions) == null ? void 0 : _b2.linkedMentionsCompact) != null ? _c2 : false).onChange(async (value) => {
              var _a3;
              if (!((_a3 = settings.postOptions) == null ? void 0 : _a3.linkedMentions)) {
                settings.postOptions.linkedMentions = { enabled: true, linkedMentionsCompact: false };
              }
              settings.postOptions.linkedMentions.linkedMentionsCompact = value;
              settings.features.linkedMentionsCompact = value;
              await this.plugin.saveData(settings);
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Graph view").setDesc("Show graph view of post connections").addToggle((toggle) => {
            var _a, _b, _c;
            return toggle.setValue((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.graphView) == null ? void 0 : _b.enabled) != null ? _c : true).onChange(async (value) => {
              var _a2;
              if (!((_a2 = settings.postOptions) == null ? void 0 : _a2.graphView)) {
                settings.postOptions.graphView = { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true };
              }
              settings.postOptions.graphView.enabled = value;
              settings.features.graphView = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              const gvSettings = container.querySelectorAll(".gv-option-setting");
              gvSettings.forEach((el) => {
                el.setCssProps({ display: value ? "block" : "none" });
              });
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a, _b, _c;
          setting3.settingEl.classList.add("gv-option-setting");
          setting3.settingEl.setCssProps({
            display: ((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.graphView) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
          });
          setting3.setName("Show in sidebar").setDesc("Display graph view in post sidebar").addToggle((toggle) => {
            var _a2, _b2, _c2;
            return toggle.setValue((_c2 = (_b2 = (_a2 = settings.postOptions) == null ? void 0 : _a2.graphView) == null ? void 0 : _b2.showInSidebar) != null ? _c2 : true).onChange(async (value) => {
              var _a3;
              if (!((_a3 = settings.postOptions) == null ? void 0 : _a3.graphView)) {
                settings.postOptions.graphView = { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true };
              }
              settings.postOptions.graphView.showInSidebar = value;
              await this.plugin.saveData(settings);
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a, _b, _c;
          setting3.settingEl.classList.add("gv-option-setting");
          setting3.settingEl.setCssProps({
            display: ((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.graphView) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
          });
          setting3.setName("Maximum nodes").setDesc("Maximum number of nodes to show in graph").addText((text) => {
            var _a2, _b2;
            return text.setPlaceholder("100").setValue(String(((_b2 = (_a2 = settings.postOptions) == null ? void 0 : _a2.graphView) == null ? void 0 : _b2.maxNodes) || 100)).onChange(async (value) => {
              var _a3;
              const num = parseInt(value) || 100;
              if (!((_a3 = settings.postOptions) == null ? void 0 : _a3.graphView)) {
                settings.postOptions.graphView = { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true };
              }
              settings.postOptions.graphView.maxNodes = num;
              await this.plugin.saveData(settings);
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a, _b, _c;
          setting3.settingEl.classList.add("gv-option-setting");
          setting3.settingEl.setCssProps({
            display: ((_c = (_b = (_a = settings.postOptions) == null ? void 0 : _a.graphView) == null ? void 0 : _b.enabled) != null ? _c : true) ? "block" : "none"
          });
          setting3.setName("Show orphaned posts").setDesc("Include posts with no connections in graph view").addToggle((toggle) => {
            var _a2, _b2, _c2;
            return toggle.setValue((_c2 = (_b2 = (_a2 = settings.postOptions) == null ? void 0 : _a2.graphView) == null ? void 0 : _b2.showOrphanedPosts) != null ? _c2 : true).onChange(async (value) => {
              var _a3;
              if (!((_a3 = settings.postOptions) == null ? void 0 : _a3.graphView)) {
                settings.postOptions.graphView = { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true };
              }
              settings.postOptions.graphView.showOrphanedPosts = value;
              await this.plugin.saveData(settings);
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Post navigation").setDesc("Show next/previous post navigation").addToggle((toggle) => {
            var _a, _b;
            return toggle.setValue((_b = (_a = settings.postOptions) == null ? void 0 : _a.postNavigation) != null ? _b : true).onChange(async (value) => {
              var _a2;
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.postNavigation = value;
              settings.features.postNavigation = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              await this.applyCurrentConfiguration();
            });
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Show post card cover images").setDesc("Where to display cover images on post cards").addDropdown((dropdown) => {
            var _a;
            dropdown.addOption("all", "All").addOption("featured", "Featured").addOption("home", "Home").addOption("posts", "Posts").addOption("featured-and-posts", "Featured and posts").addOption("none", "None").setValue(((_a = settings.postOptions) == null ? void 0 : _a.showPostCardCoverImages) || "featured-and-posts").onChange(async (value) => {
              var _a2;
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.showPostCardCoverImages = value;
              settings.features.showPostCardCoverImages = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              await this.applyCurrentConfiguration();
            });
            setTimeout(() => {
              const selectEl = setting3.controlEl.querySelector("select");
              if (selectEl) {
                selectEl.setCssProps({
                  width: "200px",
                  minWidth: "200px",
                  maxWidth: "200px"
                });
              }
            }, 0);
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          setting3.setName("Post card aspect ratio").setDesc("Aspect ratio for post card cover images").addDropdown((dropdown) => {
            var _a;
            dropdown.addOption("16:9", "16:9").addOption("4:3", "4:3").addOption("3:2", "3:2").addOption("og", "Open Graph").addOption("square", "Square").addOption("golden", "Golden").addOption("custom", "Custom").setValue(((_a = settings.postOptions) == null ? void 0 : _a.postCardAspectRatio) || "og").onChange(async (value) => {
              var _a2;
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.postCardAspectRatio = value;
              settings.features.postCardAspectRatio = value;
              await this.plugin.saveData(settings);
              await this.plugin.loadSettings();
              const customARSetting = container.querySelector(".custom-ar-setting");
              if (customARSetting) {
                customARSetting.setCssProps({ display: value === "custom" ? "block" : "none" });
              }
              await this.applyCurrentConfiguration();
            });
            setTimeout(() => {
              const selectEl = setting3.controlEl.querySelector("select");
              if (selectEl) {
                selectEl.setCssProps({
                  width: "200px",
                  minWidth: "200px",
                  maxWidth: "200px"
                });
              }
            }, 0);
          });
        });
        postOptionsGroup.addSetting((setting3) => {
          var _a;
          setting3.settingEl.classList.add("custom-ar-setting");
          setting3.settingEl.setCssProps({
            display: ((_a = settings.postOptions) == null ? void 0 : _a.postCardAspectRatio) === "custom" ? "block" : "none"
          });
          setting3.setName("Custom aspect ratio").setDesc('Custom aspect ratio in format "width/height" (e.g., "2.5/1")').addText((text) => {
            var _a2;
            text.setValue(((_a2 = settings.postOptions) == null ? void 0 : _a2.customPostCardAspectRatio) || "2.5/1");
            let timeoutId = null;
            text.onChange((value) => {
              var _a3;
              if (timeoutId) {
                clearTimeout(timeoutId);
              }
              if (!settings.postOptions) {
                settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: ((_a3 = settings.optionalFeatures) == null ? void 0 : _a3.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
              }
              settings.postOptions.customPostCardAspectRatio = value;
              settings.features.customPostCardAspectRatio = value;
              void this.plugin.saveData(settings);
              timeoutId = window.setTimeout(() => {
                void (async () => {
                  await this.plugin.loadSettings();
                  await this.applyCurrentConfiguration();
                })();
              }, 1e3);
            });
            text.inputEl.addEventListener("blur", () => {
              if (timeoutId) {
                clearTimeout(timeoutId);
                void (async () => {
                  await this.plugin.loadSettings();
                  await this.applyCurrentConfiguration();
                })();
              }
            });
          });
        });
      });
    });
    const optionalFeaturesGroup = createSettingsGroup(container, "Optional features", "astro-modular-settings");
    this.renderProfilePictureSetting(optionalFeaturesGroup, settings);
    this.renderCommentsSetting(optionalFeaturesGroup, settings);
  }
  renderProfilePictureSetting(group, settings) {
    var _a, _b, _c, _d;
    const isEnabled = ((_a = settings.features) == null ? void 0 : _a.profilePicture) || ((_c = (_b = settings.optionalFeatures) == null ? void 0 : _b.profilePicture) == null ? void 0 : _c.enabled);
    const profileSettings = ((_d = settings.optionalFeatures) == null ? void 0 : _d.profilePicture) || {
      enabled: false,
      image: "/profile.jpg",
      alt: "Profile picture",
      size: "md",
      url: "",
      placement: "footer",
      style: "circle"
    };
    group.addSetting((setting) => {
      setting.setName("Profile picture").setDesc("Show profile picture in header or footer").addToggle((toggle) => toggle.setValue(isEnabled).onChange(async (value) => {
        var _a2, _b2;
        settings.features.profilePicture = value;
        if (!settings.optionalFeatures) {
          settings.optionalFeatures = { profilePicture: profileSettings, comments: ((_a2 = settings.postOptions) == null ? void 0 : _a2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
        }
        settings.optionalFeatures.profilePicture.enabled = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        const ppSettings = (_b2 = setting.settingEl.parentElement) == null ? void 0 : _b2.querySelectorAll(".pp-option-setting");
        if (ppSettings) {
          ppSettings.forEach((el) => {
            el.setCssProps({ display: value ? "block" : "none" });
          });
        }
        try {
          await this.applyCurrentConfiguration();
          new import_obsidian15.Notice(`Profile picture ${value ? "enabled" : "disabled"} and applied to config.ts`);
        } catch (error) {
          new import_obsidian15.Notice(`Failed to apply profile picture to config.ts: ${error instanceof Error ? error.message : String(error)}`);
        }
      }));
    });
    group.addSetting((setting) => {
      setting.settingEl.classList.add("pp-option-setting");
      setting.settingEl.setCssProps({
        display: isEnabled ? "block" : "none",
        marginTop: "10px"
      });
      const nameEl = setting.settingEl.querySelector(".setting-item-name");
      const descEl = setting.settingEl.querySelector(".setting-item-description");
      const controlEl = setting.settingEl.querySelector(".setting-item-control");
      if (nameEl) nameEl.setCssProps({ display: "none" });
      if (descEl) descEl.setCssProps({ display: "none" });
      if (controlEl) controlEl.setCssProps({ display: "none" });
      setting.settingEl.setCssProps({
        borderTop: "none",
        paddingTop: "0",
        paddingBottom: "0"
      });
      const optionsContainer = setting.settingEl.createDiv("profile-picture-options");
      const optionsGrid = optionsContainer.createDiv("options-grid");
      optionsGrid.setCssProps({
        display: "grid",
        gridTemplateColumns: "1fr 1fr",
        gap: "10px",
        marginTop: "10px"
      });
      this.createTextSetting(
        optionsGrid,
        "Image path",
        "Path to the profile picture image (in the public folder)",
        profileSettings.image,
        (value) => {
          profileSettings.image = value;
        },
        1e3,
        async () => {
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
        },
        "/profile.jpg"
      );
      this.createTextSetting(
        optionsGrid,
        "Alt text",
        "Alternative text for the profile picture",
        profileSettings.alt,
        (value) => {
          profileSettings.alt = value;
        },
        1e3,
        async () => {
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
        },
        "Profile picture"
      );
      new import_obsidian15.Setting(optionsGrid).setName("Size").setDesc("Size of the profile picture").addDropdown((dropdown) => dropdown.addOption("sm", "Small").addOption("md", "Medium").addOption("lg", "Large").setValue(profileSettings.size).onChange(async (value) => {
        profileSettings.size = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration();
      }));
      this.createTextSetting(
        optionsGrid,
        "URL (optional)",
        "Optional URL to link the profile picture to",
        profileSettings.url || "",
        (value) => {
          profileSettings.url = value;
        },
        1e3,
        async () => {
          await this.plugin.loadSettings();
          await this.applyCurrentConfiguration();
        },
        "/about"
      );
      new import_obsidian15.Setting(optionsGrid).setName("Placement").setDesc("Where to show the profile picture").addDropdown((dropdown) => dropdown.addOption("footer", "Footer").addOption("header", "Header").setValue(profileSettings.placement).onChange(async (value) => {
        profileSettings.placement = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration();
      }));
      new import_obsidian15.Setting(optionsGrid).setName("Style").setDesc("Visual style of the profile picture").addDropdown((dropdown) => dropdown.addOption("circle", "Circle").addOption("square", "Square").addOption("none", "None").setValue(profileSettings.style).onChange(async (value) => {
        profileSettings.style = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        await this.applyCurrentConfiguration();
      }));
    });
  }
  renderCommentsSetting(group, settings) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;
    const isEnabled = (_h = (_g = (_d = (_b = (_a = settings.optionalFeatures) == null ? void 0 : _a.comments) == null ? void 0 : _b.enabled) != null ? _d : (_c = settings.features) == null ? void 0 : _c.comments) != null ? _g : (_f = (_e = settings.postOptions) == null ? void 0 : _e.comments) == null ? void 0 : _f.enabled) != null ? _h : false;
    const commentsSettings = ((_i = settings.postOptions) == null ? void 0 : _i.comments) || ((_j = settings.optionalFeatures) == null ? void 0 : _j.comments) || {
      enabled: false,
      provider: "giscus",
      rawScript: "",
      repo: "davidvkimball/astro-modular",
      repoId: "R_kgDOPllfKw",
      category: "General",
      categoryId: "DIC_kwDOPllfK84CvUpx",
      mapping: "pathname",
      strict: "0",
      reactions: "1",
      metadata: "0",
      inputPosition: "bottom",
      theme: "preferred_color_scheme",
      lang: "en",
      loading: "lazy"
    };
    group.addSetting((setting) => {
      setting.setName("Post comments").setDesc("Enable Giscus comment system for posts").addToggle((toggle) => toggle.setValue(isEnabled).onChange(async (value) => {
        var _a2, _b2, _c2;
        settings.features.comments = value;
        const commentsSettingsEls = (_a2 = setting.settingEl.parentElement) == null ? void 0 : _a2.querySelectorAll(".comments-option-setting");
        const existingComments = ((_b2 = settings.postOptions) == null ? void 0 : _b2.comments) || ((_c2 = settings.optionalFeatures) == null ? void 0 : _c2.comments) || { enabled: false, provider: "giscus", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", term: "", reactionsEnabled: true, emitMetadata: false, inputPosition: "bottom", lang: "en", loading: "lazy", rawScript: "" };
        if (!settings.postOptions) {
          settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: { ...existingComments } };
        }
        settings.postOptions.comments.enabled = value;
        if (!settings.optionalFeatures) {
          settings.optionalFeatures = { profilePicture: { enabled: false, image: "/profile.jpg", alt: "Profile picture", size: "md", url: "", placement: "footer", style: "circle" }, comments: { ...existingComments } };
        }
        settings.optionalFeatures.comments.enabled = value;
        await this.plugin.saveData(settings);
        await this.plugin.loadSettings();
        const commentsSettings2 = commentsSettingsEls;
        if (commentsSettings2) {
          commentsSettings2.forEach((el) => {
            el.setCssProps({ display: value ? "block" : "none" });
          });
        }
        try {
          await this.applyCurrentConfiguration();
          new import_obsidian15.Notice(`Comments system ${value ? "enabled" : "disabled"} and applied to config.ts`);
        } catch (error) {
          new import_obsidian15.Notice(`Failed to apply comments system to config.ts: ${error instanceof Error ? error.message : String(error)}`);
        }
      }));
    });
    group.addSetting((setting) => {
      var _a2, _b2, _c2, _d2;
      setting.settingEl.classList.add("comments-option-setting");
      setting.settingEl.setCssProps({
        display: isEnabled ? "block" : "none",
        marginTop: "10px"
      });
      const nameEl = setting.settingEl.querySelector(".setting-item-name");
      const descEl = setting.settingEl.querySelector(".setting-item-description");
      const controlEl = setting.settingEl.querySelector(".setting-item-control");
      if (nameEl) nameEl.setCssProps({ display: "none" });
      if (descEl) descEl.setCssProps({ display: "none" });
      if (controlEl) controlEl.setCssProps({ display: "none" });
      setting.settingEl.setCssProps({
        borderTop: "none",
        paddingTop: "0",
        paddingBottom: "0"
      });
      const optionsContainer = setting.settingEl.createDiv("comments-options");
      const instructionsDiv = optionsContainer.createDiv("comments-instructions");
      instructionsDiv.setCssProps({
        marginBottom: "15px",
        padding: "10px",
        background: "var(--background-modifier-border)"
      });
      instructionsDiv.setCssProps({
        borderRadius: "4px",
        borderLeft: "3px solid var(--interactive-accent)"
      });
      const instructionsText = instructionsDiv.createEl("p");
      instructionsText.setCssProps({
        margin: "0",
        fontSize: "13px",
        color: "var(--text-muted)",
        whiteSpace: "pre-line"
      });
      instructionsText.appendText("1. Go to ");
      const giscusLink = instructionsText.createEl("a", {
        href: "https://giscus.app/",
        // False positive: "giscus.app" is a domain name, not UI text
        // eslint-disable-next-line obsidianmd/ui/sentence-case
        text: "giscus.app",
        attr: {
          target: "_blank",
          rel: "noopener noreferrer"
        }
      });
      giscusLink.setCssProps({
        color: "var(--interactive-accent)",
        textDecoration: "none"
      });
      instructionsText.appendText(" and configure your comments\n2. Copy the generated script\n3. Paste it below");
      giscusLink.addEventListener("mouseenter", () => {
        giscusLink.setCssProps({ textDecoration: "underline" });
      });
      giscusLink.addEventListener("mouseleave", () => {
        giscusLink.setCssProps({ textDecoration: "none" });
      });
      const scriptSetting = new import_obsidian15.Setting(optionsContainer).setName("Giscus Script").setDesc("Paste your Giscus script here (the plugin will automatically parse all settings)");
      const textarea = scriptSetting.controlEl.createEl("textarea", {
        attr: {
          placeholder: `<script src="https://giscus.app/client.js"
        data-repo="davidvkimball/astro-modular"
        data-repo-id="R_kgDOPllfKw"
        data-category="General"
        data-category-id="DIC_kwDOPllfK84CvUpx"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
<\/script>`,
          rows: "8"
        }
      });
      textarea.setCssProps({
        width: "100%",
        fontFamily: "var(--font-monospace)",
        fontSize: "12px",
        padding: "8px",
        border: "1px solid var(--background-modifier-border)",
        borderRadius: "4px",
        background: "var(--background-primary)",
        color: "var(--text-normal)",
        resize: "none"
      });
      textarea.value = ((_b2 = (_a2 = settings.optionalFeatures) == null ? void 0 : _a2.comments) == null ? void 0 : _b2.rawScript) || ((_d2 = (_c2 = settings.postOptions) == null ? void 0 : _c2.comments) == null ? void 0 : _d2.rawScript) || "";
      const validationDiv = optionsContainer.createDiv("script-validation");
      validationDiv.setCssProps({
        marginTop: "8px",
        fontSize: "12px"
      });
      let debounceTimeoutId = null;
      const updateValidation = async (showNotification = false) => {
        var _a3, _b3, _c3, _d3, _e2, _f2, _g2, _h2, _i2, _j2, _k, _l, _m, _n, _o, _p;
        const scriptContent = textarea.value.trim();
        if (!scriptContent) {
          validationDiv.empty();
          const currentEnabled = (_h2 = (_g2 = (_d3 = (_b3 = (_a3 = settings.optionalFeatures) == null ? void 0 : _a3.comments) == null ? void 0 : _b3.enabled) != null ? _d3 : (_c3 = settings.features) == null ? void 0 : _c3.comments) != null ? _g2 : (_f2 = (_e2 = settings.postOptions) == null ? void 0 : _e2.comments) == null ? void 0 : _f2.enabled) != null ? _h2 : false;
          if (!settings.optionalFeatures) {
            settings.optionalFeatures = { profilePicture: { enabled: false, image: "/profile.jpg", alt: "Profile picture", size: "md", url: "", placement: "footer", style: "circle" }, comments: { enabled: currentEnabled, provider: "giscus", rawScript: "", repo: "", repoId: "", category: "", categoryId: "", mapping: "pathname", strict: "0", reactions: "1", metadata: "0", inputPosition: "bottom", theme: "preferred_color_scheme", lang: "en", loading: "lazy" } };
          } else {
            settings.optionalFeatures.comments = {
              ...settings.optionalFeatures.comments,
              rawScript: "",
              repo: "",
              repoId: "",
              category: "",
              categoryId: "",
              mapping: "",
              strict: "",
              reactions: "",
              metadata: "",
              inputPosition: "",
              theme: "",
              lang: "",
              loading: "",
              enabled: currentEnabled
              // Preserve enabled state
            };
          }
          if (!settings.postOptions) {
            settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: settings.optionalFeatures.comments };
          } else {
            settings.postOptions.comments = { ...settings.optionalFeatures.comments };
          }
          if (!settings.features) {
            settings.features = {
              commandPalette: false,
              readingTime: false,
              linkedMentions: false,
              linkedMentionsCompact: false,
              comments: false,
              graphView: false,
              postNavigation: false,
              hideScrollBar: false,
              scrollToTop: false,
              featureButton: "none",
              showSocialIconsInFooter: false,
              showPostCardCoverImages: "none",
              postCardAspectRatio: "og",
              profilePicture: false,
              quickActions: {
                enabled: false,
                toggleMode: false,
                graphView: false,
                changeTheme: false
              }
            };
          }
          settings.features.comments = currentEnabled;
          await this.plugin.saveData(settings);
          await this.plugin.loadSettings();
          if (showNotification) {
            await this.applyCurrentConfiguration();
            new import_obsidian15.Notice("Giscus script cleared and applied to config.ts");
          }
          return;
        }
        const { GiscusScriptParser: GiscusScriptParser2 } = await Promise.resolve().then(() => (init_GiscusScriptParser(), GiscusScriptParser_exports));
        const validation = GiscusScriptParser2.validateScript(scriptContent);
        if (validation.valid) {
          validationDiv.empty();
          const successSpan = validationDiv.createEl("span", { text: "\u2713 Valid Giscus script detected" });
          successSpan.setCssProps({ color: "var(--text-success)" });
          const parsed = GiscusScriptParser2.parseScript(scriptContent);
          if (parsed) {
            const currentEnabled = (_p = (_o = (_l = (_j2 = (_i2 = settings.optionalFeatures) == null ? void 0 : _i2.comments) == null ? void 0 : _j2.enabled) != null ? _l : (_k = settings.features) == null ? void 0 : _k.comments) != null ? _o : (_n = (_m = settings.postOptions) == null ? void 0 : _m.comments) == null ? void 0 : _n.enabled) != null ? _p : false;
            commentsSettings.rawScript = scriptContent;
            commentsSettings.repo = parsed.repo;
            commentsSettings.repoId = parsed.repoId;
            commentsSettings.category = parsed.category;
            commentsSettings.categoryId = parsed.categoryId;
            commentsSettings.mapping = parsed.mapping;
            commentsSettings.strict = parsed.strict;
            commentsSettings.reactions = parsed.reactions;
            commentsSettings.metadata = parsed.metadata;
            commentsSettings.inputPosition = parsed.inputPosition;
            commentsSettings.theme = parsed.theme;
            commentsSettings.lang = parsed.lang;
            commentsSettings.loading = parsed.loading;
            commentsSettings.enabled = currentEnabled;
            if (!settings.optionalFeatures) {
              settings.optionalFeatures = { profilePicture: { enabled: false, image: "/profile.jpg", alt: "Profile picture", size: "md", url: "", placement: "footer", style: "circle" }, comments: commentsSettings };
            }
            settings.optionalFeatures.comments = { ...commentsSettings };
            if (!settings.postOptions) {
              settings.postOptions = { postsPerPage: 6, readingTime: true, wordCount: true, tags: true, linkedMentions: { enabled: true, linkedMentionsCompact: false }, graphView: { enabled: true, showInSidebar: true, maxNodes: 100, showOrphanedPosts: true }, postNavigation: true, showPostCardCoverImages: "featured-and-posts", postCardAspectRatio: "og", customPostCardAspectRatio: "2.5/1", comments: commentsSettings };
            }
            settings.postOptions.comments = { ...commentsSettings };
            if (!settings.features) {
              settings.features = {
                commandPalette: false,
                readingTime: false,
                linkedMentions: false,
                linkedMentionsCompact: false,
                comments: false,
                graphView: false,
                postNavigation: false,
                hideScrollBar: false,
                scrollToTop: false,
                featureButton: "none",
                showSocialIconsInFooter: false,
                showPostCardCoverImages: "none",
                postCardAspectRatio: "og",
                profilePicture: false,
                quickActions: {
                  enabled: false,
                  toggleMode: false,
                  graphView: false,
                  changeTheme: false
                }
              };
            }
            settings.features.comments = currentEnabled;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            if (showNotification) {
              try {
                await this.applyCurrentConfiguration();
                const statusMessage = currentEnabled ? "Giscus script parsed and applied to config.ts" : "Giscus script parsed and saved. Enable comments to apply to config.ts";
                new import_obsidian15.Notice(statusMessage);
              } catch (error) {
                new import_obsidian15.Notice(`Failed to apply Giscus script to config.ts: ${error instanceof Error ? error.message : String(error)}`);
              }
            }
          }
        } else {
          validationDiv.empty();
          const errorSpan = validationDiv.createEl("span", { text: `\u2717 ${validation.error}` });
          errorSpan.setCssProps({ color: "var(--text-error)" });
        }
      };
      textarea.addEventListener("input", () => {
        if (debounceTimeoutId) {
          clearTimeout(debounceTimeoutId);
        }
        void updateValidation(false);
        debounceTimeoutId = window.setTimeout(() => {
          void updateValidation(true);
        }, 1e3);
      });
      textarea.addEventListener("blur", () => {
        if (debounceTimeoutId) {
          clearTimeout(debounceTimeoutId);
          debounceTimeoutId = null;
        }
        void updateValidation(true);
      });
      void updateValidation(false);
    });
  }
};

// src/ui/tabs/AdvancedTab.ts
var import_obsidian16 = require("obsidian");
var AdvancedTab = class extends TabRenderer {
  render(container) {
    container.empty();
    const settings = this.getSettings();
    const advancedGroup = createSettingsGroup(container, void 0, "astro-modular-settings");
    advancedGroup.addSetting((setting) => {
      setting.setName("Edit config.ts directly").setDesc("Open your Astro configuration file in the editor").addButton((button) => button.setButtonText("Open config.ts").onClick(async () => {
        await this.openConfigFile();
      }));
    });
    advancedGroup.addSetting((setting) => {
      setting.setName("Sync from config.ts").setDesc("Read current config.ts file and update plugin settings to match").addButton((button) => button.setButtonText("Sync from config.ts").setCta().onClick(async () => {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;
        try {
          const plugin = this.plugin;
          const configContent = await plugin.configManager.fileManager.readConfig();
          if (!configContent) {
            new import_obsidian16.Notice("Could not read config.ts file");
            return;
          }
          const currentConfig = await plugin.configManager.fileManager.parseConfigFile(configContent);
          if (!currentConfig) {
            new import_obsidian16.Notice("Could not parse config.ts file");
            return;
          }
          const settings2 = this.getSettings();
          if (currentConfig.siteInfo && typeof currentConfig.siteInfo === "object") {
            const siteInfo = currentConfig.siteInfo;
            settings2.siteInfo.site = (_a = siteInfo.site) != null ? _a : settings2.siteInfo.site;
            settings2.siteInfo.title = (_b = siteInfo.title) != null ? _b : settings2.siteInfo.title;
            settings2.siteInfo.description = (_c = siteInfo.description) != null ? _c : settings2.siteInfo.description;
            settings2.siteInfo.author = (_d = siteInfo.author) != null ? _d : settings2.siteInfo.author;
            settings2.siteInfo.language = (_e = siteInfo.language) != null ? _e : settings2.siteInfo.language;
          }
          if (currentConfig.faviconThemeAdaptive !== void 0) {
            settings2.siteInfo.faviconThemeAdaptive = currentConfig.faviconThemeAdaptive;
          }
          if (currentConfig.defaultOgImageAlt) {
            settings2.siteInfo.defaultOgImageAlt = currentConfig.defaultOgImageAlt;
            if (!settings2.seo) {
              settings2.seo = { defaultOgImageAlt: "" };
            }
            settings2.seo.defaultOgImageAlt = currentConfig.defaultOgImageAlt;
          }
          if (currentConfig.navigation && typeof currentConfig.navigation === "object") {
            const navigation = currentConfig.navigation;
            if (navigation.pages) {
              settings2.navigation.pages = navigation.pages;
            }
            if (navigation.social) {
              settings2.navigation.social = navigation.social;
            }
          }
          if (currentConfig.currentTheme) {
            settings2.currentTheme = currentConfig.currentTheme;
          }
          if (currentConfig.typography && typeof currentConfig.typography === "object") {
            const typography = currentConfig.typography;
            const fontSource = (_f = typography.fontSource) != null ? _f : settings2.typography.fontSource;
            settings2.typography.fontSource = fontSource === "local" || fontSource === "cdn" ? fontSource : settings2.typography.fontSource;
            settings2.typography.proseFont = (_g = typography.proseFont) != null ? _g : settings2.typography.proseFont;
            settings2.typography.headingFont = (_h = typography.headingFont) != null ? _h : settings2.typography.headingFont;
            settings2.typography.monoFont = (_i = typography.monoFont) != null ? _i : settings2.typography.monoFont;
          }
          if (currentConfig.tableOfContents && typeof currentConfig.tableOfContents === "object") {
            const toc = currentConfig.tableOfContents;
            if (!settings2.tableOfContents) {
              settings2.tableOfContents = { enabled: true, depth: 4 };
            }
            settings2.tableOfContents.enabled = (_j = toc.enabled) != null ? _j : settings2.tableOfContents.enabled;
            settings2.tableOfContents.depth = (_k = toc.depth) != null ? _k : settings2.tableOfContents.depth;
          }
          if (currentConfig.postOptions && typeof currentConfig.postOptions === "object") {
            const postOptions = currentConfig.postOptions;
            settings2.features.readingTime = (_l = postOptions.readingTime) != null ? _l : settings2.features.readingTime;
            if (postOptions.linkedMentions && typeof postOptions.linkedMentions === "object") {
              const linkedMentions = postOptions.linkedMentions;
              settings2.features.linkedMentions = (_m = linkedMentions.enabled) != null ? _m : settings2.features.linkedMentions;
              settings2.features.linkedMentionsCompact = (_n = linkedMentions.linkedMentionsCompact) != null ? _n : settings2.features.linkedMentionsCompact;
            }
            if (postOptions.graphView && typeof postOptions.graphView === "object") {
              const graphView = postOptions.graphView;
              settings2.features.graphView = (_o = graphView.enabled) != null ? _o : settings2.features.graphView;
            }
            settings2.features.postNavigation = (_p = postOptions.postNavigation) != null ? _p : settings2.features.postNavigation;
            if (postOptions.comments && typeof postOptions.comments === "object") {
              const comments = postOptions.comments;
              settings2.features.comments = (_q = comments.enabled) != null ? _q : settings2.features.comments;
            }
          }
          if (currentConfig.optionalContentTypes && typeof currentConfig.optionalContentTypes === "object") {
            const optionalContentTypes = currentConfig.optionalContentTypes;
            settings2.optionalContentTypes.projects = (_r = optionalContentTypes.projects) != null ? _r : settings2.optionalContentTypes.projects;
            settings2.optionalContentTypes.docs = (_s = optionalContentTypes.docs) != null ? _s : settings2.optionalContentTypes.docs;
          }
          if (currentConfig.footer && typeof currentConfig.footer === "object") {
            const footer = currentConfig.footer;
            settings2.features.showSocialIconsInFooter = (_t = footer.showSocialIconsInFooter) != null ? _t : false;
          }
          if (currentConfig.commandPalette && typeof currentConfig.commandPalette === "object") {
            const commandPalette = currentConfig.commandPalette;
            settings2.features.commandPalette = (_u = commandPalette.enabled) != null ? _u : false;
            if (!settings2.commandPalette) {
              settings2.commandPalette = {
                enabled: true,
                shortcut: "ctrl+K",
                placeholder: "Search posts",
                search: { posts: true, pages: false, projects: false, docs: false },
                sections: { quickActions: true, pages: true, social: true },
                quickActions: { enabled: true, toggleMode: true, graphView: true, changeTheme: true }
              };
            }
            settings2.commandPalette.enabled = (_v = commandPalette.enabled) != null ? _v : settings2.commandPalette.enabled;
            settings2.commandPalette.placeholder = (_w = commandPalette.placeholder) != null ? _w : settings2.commandPalette.placeholder;
            settings2.commandPalette.shortcut = (_x = commandPalette.shortcut) != null ? _x : settings2.commandPalette.shortcut;
            if (commandPalette.search && typeof commandPalette.search === "object") {
              settings2.commandPalette.search = {
                ...settings2.commandPalette.search,
                ...commandPalette.search
              };
            }
            if (commandPalette.sections && typeof commandPalette.sections === "object") {
              settings2.commandPalette.sections = {
                ...settings2.commandPalette.sections,
                ...commandPalette.sections
              };
            }
            if (commandPalette.quickActions && typeof commandPalette.quickActions === "object") {
              settings2.commandPalette.quickActions = {
                ...settings2.commandPalette.quickActions,
                ...commandPalette.quickActions
              };
              settings2.features.quickActions = {
                ...settings2.features.quickActions,
                ...commandPalette.quickActions
              };
            }
          }
          if (currentConfig.theme) {
            settings2.currentTheme = currentConfig.theme;
          }
          if (currentConfig.site) {
            settings2.siteInfo.site = currentConfig.site;
          }
          if (currentConfig.title) {
            settings2.siteInfo.title = currentConfig.title;
          }
          if (currentConfig.description) {
            settings2.siteInfo.description = currentConfig.description;
          }
          if (currentConfig.author) {
            settings2.siteInfo.author = currentConfig.author;
          }
          if (currentConfig.language) {
            settings2.siteInfo.language = currentConfig.language;
          }
          settings2.currentTemplate = "standard";
          await this.plugin.saveData(settings2);
          await this.plugin.triggerSettingsRefresh();
          new import_obsidian16.Notice("Settings synced from config.ts successfully");
        } catch (error) {
          new import_obsidian16.Notice(`Failed to sync from config.ts: ${error instanceof Error ? error.message : String(error)}`);
        }
      }));
    });
    advancedGroup.addSetting((setting) => {
      var _a;
      setting.setName("Reset to template").setDesc(`Reset all settings to the current template (${(_a = TEMPLATE_OPTIONS.find((t) => t.id === settings.currentTemplate)) == null ? void 0 : _a.name})`).addButton((button) => button.setButtonText("Reset to template").setWarning().onClick(async () => {
        var _a2, _b, _c, _d, _e, _f;
        try {
          const templatePreset = this.plugin.configManager.getTemplatePreset(settings.currentTemplate);
          if (templatePreset && templatePreset.config) {
            const preservedSiteInfo = settings.siteInfo;
            const preservedNavigation = settings.navigation;
            const preservedTheme = settings.currentTheme;
            const preservedContentOrg = settings.contentOrganization;
            const preservedTypography = settings.typography;
            const preservedOptionalFeatures = settings.optionalFeatures;
            const preservedRunWizardOnStartup = settings.runWizardOnStartup;
            if (templatePreset.config.features) {
              settings.features = { ...settings.features, ...templatePreset.config.features };
              if ((_a2 = settings.postOptions) == null ? void 0 : _a2.graphView) {
                settings.postOptions.graphView.enabled = (_b = templatePreset.config.features.graphView) != null ? _b : false;
                settings.features.graphView = settings.postOptions.graphView.enabled;
              }
              if ((_c = settings.postOptions) == null ? void 0 : _c.linkedMentions) {
                const features2 = templatePreset.config.features;
                settings.postOptions.linkedMentions.enabled = (_d = features2.linkedMentions) != null ? _d : false;
                settings.postOptions.linkedMentions.linkedMentionsCompact = (_e = features2.linkedMentionsCompact) != null ? _e : false;
              }
              const features = templatePreset.config.features;
              if (((_f = settings.commandPalette) == null ? void 0 : _f.quickActions) && features.quickActions) {
                settings.commandPalette.quickActions = { ...settings.commandPalette.quickActions, ...features.quickActions };
              }
            }
            if (templatePreset.config.tableOfContents) {
              settings.tableOfContents = { ...settings.tableOfContents, ...templatePreset.config.tableOfContents };
            }
            settings.currentTemplate = templatePreset.config.currentTemplate || settings.currentTemplate;
            settings.siteInfo = preservedSiteInfo;
            settings.navigation = preservedNavigation;
            settings.currentTheme = preservedTheme;
            settings.contentOrganization = preservedContentOrg;
            settings.typography = preservedTypography;
            settings.optionalFeatures = preservedOptionalFeatures;
            settings.runWizardOnStartup = preservedRunWizardOnStartup;
            await this.plugin.saveData(settings);
            await this.plugin.loadSettings();
            await this.applyCurrentConfiguration(true);
            new import_obsidian16.Notice(`Reset to ${settings.currentTemplate} template and applied to config.ts`);
          } else {
            new import_obsidian16.Notice("Template not found");
          }
        } catch (error) {
          new import_obsidian16.Notice(`Failed to reset to template: ${error instanceof Error ? error.message : String(error)}`);
        }
      }));
    });
    advancedGroup.addSetting((setting) => {
      setting.setName("Reset to defaults").setDesc("Reset all settings to their default values").addButton((button) => button.setButtonText("Reset to defaults").setWarning().onClick(() => {
        void (async () => {
          const confirmModal = new import_obsidian16.Modal(this.app);
          confirmModal.titleEl.setText("Reset to defaults");
          const contentDiv = confirmModal.contentEl.createDiv();
          contentDiv.createEl("p", { text: "Are you sure you want to reset all configuration settings to defaults?" });
          contentDiv.createEl("p", { text: "This will preserve your site info and navigation pages/links." });
          const buttonContainer = contentDiv.createDiv();
          buttonContainer.setCssProps({
            marginTop: "20px",
            display: "flex",
            gap: "10px",
            justifyContent: "flex-end"
          });
          const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
          cancelButton.className = "mod-button";
          cancelButton.addEventListener("click", () => {
            confirmModal.close();
          });
          const confirmButton = buttonContainer.createEl("button", { text: "Reset to defaults" });
          confirmButton.className = "mod-warning";
          confirmButton.addEventListener("click", () => {
            void (async () => {
              confirmModal.close();
              const settings2 = this.getSettings();
              const preservedSiteInfo = settings2.siteInfo;
              const preservedNavigationPages = settings2.navigation.pages;
              const preservedNavigationSocial = settings2.navigation.social;
              const resetSettings = { ...DEFAULT_SETTINGS };
              resetSettings.siteInfo = preservedSiteInfo;
              resetSettings.navigation.pages = preservedNavigationPages;
              resetSettings.navigation.social = preservedNavigationSocial;
              this.plugin.settings = resetSettings;
              await this.plugin.saveData(resetSettings);
              await this.plugin.loadSettings();
              try {
                await this.applyCurrentConfiguration();
                new import_obsidian16.Notice("Configuration reset to defaults and applied to config.ts (site info and navigation pages/links preserved)");
              } catch (error) {
                new import_obsidian16.Notice(`Configuration reset but failed to apply to config.ts: ${error instanceof Error ? error.message : String(error)}`);
              }
              await this.plugin.triggerSettingsRefresh();
            })();
          });
          confirmButton.focus();
          confirmModal.open();
        })();
      }));
    });
    advancedGroup.addSetting((setting) => {
      setting.setName("Export configuration").setDesc("Export your current configuration as JSON").addButton((button) => button.setButtonText("Export JSON").onClick(() => {
        this.exportConfiguration();
      }));
    });
    advancedGroup.addSetting((setting) => {
      setting.setName("Import configuration").setDesc("Import configuration from JSON file").addButton((button) => button.setButtonText("Import JSON").onClick(() => {
        this.importConfiguration();
      }));
    });
  }
  exportConfiguration() {
    const configJson = JSON.stringify(this.getSettings(), null, 2);
    const blob = new Blob([configJson], { type: "application/json" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "astro-modular-config.json";
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    new import_obsidian16.Notice("Configuration exported successfully!");
  }
  importConfiguration() {
    const input = document.createElement("input");
    input.type = "file";
    input.accept = ".json";
    input.onchange = async (e) => {
      var _a;
      const file = (_a = e.target.files) == null ? void 0 : _a[0];
      if (file) {
        try {
          const text = await file.text();
          const importedSettings = JSON.parse(text);
          const settings = this.getSettings();
          Object.assign(settings, importedSettings);
          await this.plugin.saveData(settings);
          new import_obsidian16.Notice("Configuration imported successfully!");
        } catch (e2) {
          new import_obsidian16.Notice("Failed to import configuration. Please check the file format.");
        }
      }
    };
    input.click();
  }
  async openConfigFile() {
    try {
      const fs = require("fs");
      const path = require("path");
      const electronModule = require("electron");
      const shell = electronModule.shell;
      if (!shell) {
        throw new Error("Electron shell API not available");
      }
      const adapter = this.app.vault.adapter;
      const vaultPath = adapter.basePath || adapter.path;
      const vaultPathString = typeof vaultPath === "string" ? vaultPath : vaultPath ? String(vaultPath) : "";
      const configPath = path.join(vaultPathString, "..", "config.ts");
      if (fs.existsSync(configPath)) {
        shell.openPath(configPath);
      } else {
        new import_obsidian16.Notice(`Config file not found at: ${configPath}`);
      }
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : String(err);
      new import_obsidian16.Notice(`Error opening config file: ${errorMessage}`);
    }
  }
};

// src/ui/SettingsTab.ts
var AstroModularSettingsTab = class extends import_obsidian17.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    this.render();
  }
  render() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.addClass("astro-modular-settings");
    const tabContainer = containerEl.createDiv("tab-container");
    const tabNav = tabContainer.createDiv("tab-nav");
    const tabContent = tabContainer.createDiv("tab-content");
    const tabs = [
      {
        id: "general",
        name: "General",
        renderer: new GeneralTab(this.app, this.plugin)
      },
      {
        id: "site-info",
        name: "Site Info",
        renderer: new SiteInfoTab(this.app, this.plugin)
      },
      {
        id: "navigation",
        name: "Navigation",
        renderer: new NavigationTab(this.app, this.plugin)
      },
      {
        id: "config",
        name: "Config",
        renderer: new ConfigTab(this.app, this.plugin)
      },
      {
        id: "style",
        name: "Style",
        renderer: new StyleTab(this.app, this.plugin)
      },
      {
        id: "features",
        name: "Features",
        renderer: new FeaturesTab(this.app, this.plugin)
      },
      {
        id: "advanced",
        name: "Advanced",
        renderer: new AdvancedTab(this.app, this.plugin)
      }
    ];
    tabs.forEach((tab, index) => {
      const button = tabNav.createEl("button", {
        text: tab.name,
        cls: `tab-button ${index === 0 ? "active" : ""}`
      });
      button.addEventListener("click", () => {
        tabNav.querySelectorAll(".tab-button").forEach((btn) => btn.classList.remove("active"));
        button.classList.add("active");
        tabContent.empty();
        void tab.renderer.render(tabContent);
      });
    });
    void tabs[0].renderer.render(tabContent);
  }
};

// src/utils/config/ConfigFileManager.ts
var import_obsidian18 = require("obsidian");
var ConfigFileManager = class {
  constructor(app) {
    this.app = app;
    this.configPath = "../../src/config.ts";
  }
  async getConfigFileInfo() {
    const fs = require("fs");
    const path = require("path");
    try {
      const adapter = this.app.vault.adapter;
      const vaultPath = adapter.basePath || adapter.path;
      const vaultPathString = typeof vaultPath === "string" ? vaultPath : vaultPath ? String(vaultPath) : "";
      const configPath = path.join(vaultPathString, "..", "..", "src", "config.ts");
      if (fs.existsSync(configPath)) {
        const content = fs.readFileSync(configPath, "utf8");
        const stats = fs.statSync(configPath);
        return {
          exists: true,
          path: configPath,
          content,
          lastModified: new Date(stats.mtime),
          valid: true,
          errors: []
        };
      } else {
        return {
          exists: false,
          path: configPath,
          content: "",
          lastModified: /* @__PURE__ */ new Date(),
          valid: false,
          errors: ["Config file not found"]
        };
      }
    } catch (e) {
      return {
        exists: false,
        path: this.configPath,
        content: "",
        lastModified: /* @__PURE__ */ new Date(),
        valid: false,
        errors: ["Cannot access file outside vault"]
      };
    }
  }
  validateConfigContent(content) {
    return content.includes("defineConfig") || content.includes("export default") || content.includes("astro/config");
  }
  async readConfig() {
    const fileInfo = await this.getConfigFileInfo();
    return fileInfo.content;
  }
  async writeConfig(content) {
    const fs = require("fs");
    const path = require("path");
    try {
      const adapter = this.app.vault.adapter;
      const vaultPath = adapter.basePath || adapter.path;
      const vaultPathString = typeof vaultPath === "string" ? vaultPath : vaultPath ? String(vaultPath) : "";
      const configPath = path.join(vaultPathString, "..", "..", "src", "config.ts");
      fs.writeFileSync(configPath, content, "utf8");
      return true;
    } catch (e) {
      return false;
    }
  }
  async detectAstroDevServer() {
    const packageJson = this.app.vault.getAbstractFileByPath("package.json");
    if (packageJson && packageJson instanceof import_obsidian18.TFile) {
      try {
        const content = await this.app.vault.read(packageJson);
        return content.includes("astro") && content.includes("dev");
      } catch (e) {
        return false;
      }
    }
    return false;
  }
  async parseConfigFile(content) {
    var _a, _b;
    const configContent = content || await this.readConfig();
    if (!configContent) {
      return null;
    }
    const config4 = {};
    const siteInfo = {};
    const siteUrlMatch = configContent.match(/\/\/ \[CONFIG:SITE_URL\]\s*\n\s*site:\s*"([^"]*)"/);
    if (siteUrlMatch) {
      siteInfo.site = siteUrlMatch[1];
    }
    const siteTitleMatch = configContent.match(/\/\/ \[CONFIG:SITE_TITLE\]\s*\n\s*title:\s*"([^"]*)"/);
    if (siteTitleMatch) {
      siteInfo.title = siteTitleMatch[1];
    }
    const siteDescMatch = configContent.match(/\/\/ \[CONFIG:SITE_DESCRIPTION\]\s*\n\s*description:\s*"([^"]*)"/);
    if (siteDescMatch) {
      siteInfo.description = siteDescMatch[1];
    }
    const siteAuthorMatch = configContent.match(/\/\/ \[CONFIG:SITE_AUTHOR\]\s*\n\s*author:\s*"([^"]*)"/);
    if (siteAuthorMatch) {
      siteInfo.author = siteAuthorMatch[1];
    }
    const siteLangMatch = configContent.match(/\/\/ \[CONFIG:SITE_LANGUAGE\]\s*\n\s*language:\s*"([^"]*)"/);
    if (siteLangMatch) {
      siteInfo.language = siteLangMatch[1];
    }
    config4.siteInfo = siteInfo;
    const faviconThemeAdaptiveMatch = configContent.match(/\/\/ \[CONFIG:FAVICON_THEME_ADAPTIVE\]\s*\n\s*faviconThemeAdaptive:\s*(true|false)/);
    if (faviconThemeAdaptiveMatch) {
      config4.faviconThemeAdaptive = faviconThemeAdaptiveMatch[1] === "true";
    }
    const defaultOgImageAltMatch = configContent.match(/\/\/ \[CONFIG:DEFAULT_OG_IMAGE_ALT\]\s*\n\s*defaultOgImageAlt:\s*"([^"]*)"/);
    if (defaultOgImageAltMatch) {
      config4.defaultOgImageAlt = defaultOgImageAltMatch[1];
    }
    const themeMatch = configContent.match(/\/\/ \[CONFIG:THEME\]\s*\n\s*theme:\s*"([^"]*)"/);
    if (themeMatch) {
      config4.currentTheme = themeMatch[1];
    }
    const availableThemesMatch = configContent.match(/\/\/ \[CONFIG:AVAILABLE_THEMES\]\s*\n\s*availableThemes:\s*(?:"default"|\[[^\]]*\])/);
    if (availableThemesMatch) {
      const value = (_a = availableThemesMatch[0].match(/availableThemes:\s*(.+)$/)) == null ? void 0 : _a[1];
      if (value === '"default"') {
        config4.availableThemes = "default";
      } else if ((value == null ? void 0 : value.startsWith("[")) && (value == null ? void 0 : value.endsWith("]"))) {
        const themesArray = value.slice(1, -1).split(",").map((theme) => theme.trim().replace(/"/g, ""));
        config4.availableThemes = themesArray;
      }
    }
    const customThemesMatch = configContent.match(/\/\/ \[CONFIG:CUSTOM_THEMES\]\s*\n\s*customThemes:\s*"[^"]*"/);
    if (customThemesMatch) {
      const value = (_b = customThemesMatch[0].match(/customThemes:\s*"([^"]*)"/)) == null ? void 0 : _b[1];
      config4.customThemes = value || "";
    }
    const typography = {};
    const fontSourceMatch = configContent.match(/\/\/ \[CONFIG:FONT_SOURCE\]\s*\n\s*source:\s*"([^"]*)"/);
    if (fontSourceMatch) {
      typography.fontSource = fontSourceMatch[1];
    }
    const fontBodyMatch = configContent.match(/\/\/ \[CONFIG:FONT_BODY\]\s*\n\s*body:\s*"([^"]*)"/);
    if (fontBodyMatch) {
      typography.proseFont = fontBodyMatch[1];
    }
    const fontHeadingMatch = configContent.match(/\/\/ \[CONFIG:FONT_HEADING\]\s*\n\s*heading:\s*"([^"]*)"/);
    if (fontHeadingMatch) {
      typography.headingFont = fontHeadingMatch[1];
    }
    const fontMonoMatch = configContent.match(/\/\/ \[CONFIG:FONT_MONO\]\s*\n\s*mono:\s*"([^"]*)"/);
    if (fontMonoMatch) {
      typography.monoFont = fontMonoMatch[1];
    }
    config4.typography = typography;
    const navigation = { pages: [], social: [] };
    const pagesMatch = configContent.match(/\/\/ \[CONFIG:NAVIGATION_PAGES\]\s*\n\s*pages:\s*\[([\s\S]*?)\]/);
    if (pagesMatch) {
      const pagesContent = pagesMatch[1];
      const parseNavigationItem = (content2, startPos = 0) => {
        let pos2 = startPos;
        const item = {};
        while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
        if (content2[pos2] !== "{") {
          return { item: null, endPos: pos2 };
        }
        pos2++;
        while (pos2 < content2.length) {
          while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
          if (content2[pos2] === "}") {
            pos2++;
            break;
          }
          const fieldMatch = content2.slice(pos2).match(/^(\w+):\s*/);
          if (!fieldMatch) {
            pos2++;
            continue;
          }
          const fieldName = fieldMatch[1];
          pos2 += fieldMatch[0].length;
          if (fieldName === "title" || fieldName === "url") {
            const valueMatch = content2.slice(pos2).match(/^"([^"]*)"/);
            if (valueMatch) {
              item[fieldName] = valueMatch[1];
              pos2 += valueMatch[0].length;
            }
          } else if (fieldName === "children") {
            pos2++;
            const children = [];
            while (pos2 < content2.length) {
              while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
              if (content2[pos2] === "]") {
                pos2++;
                break;
              }
              const childResult = parseNavigationItem(content2, pos2);
              if (childResult.item) {
                children.push(childResult.item);
                pos2 = childResult.endPos;
              } else {
                break;
              }
              while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
              if (content2[pos2] === ",") pos2++;
            }
            item.children = children;
          }
          while (pos2 < content2.length && /\s/.test(content2[pos2])) pos2++;
          if (content2[pos2] === ",") pos2++;
        }
        return { item, endPos: pos2 };
      };
      let pos = 0;
      while (pos < pagesContent.length) {
        while (pos < pagesContent.length && /\s/.test(pagesContent[pos])) pos++;
        if (pos >= pagesContent.length || pagesContent[pos] === "]") break;
        const result = parseNavigationItem(pagesContent, pos);
        if (result.item) {
          navigation.pages.push(result.item);
          pos = result.endPos;
        } else {
          const simpleMatch = pagesContent.slice(pos).match(/\{\s*title:\s*"([^"]*)",\s*url:\s*"([^"]*)"\s*\}/);
          if (simpleMatch) {
            navigation.pages.push({
              title: simpleMatch[1],
              url: simpleMatch[2]
            });
            pos += simpleMatch[0].length;
          } else {
            break;
          }
        }
        while (pos < pagesContent.length && /\s/.test(pagesContent[pos])) pos++;
        if (pagesContent[pos] === ",") pos++;
      }
    }
    const socialMatch = configContent.match(/\/\/ \[CONFIG:NAVIGATION_SOCIAL\]\s*\n\s*social:\s*\[([\s\S]*?)\]/);
    if (socialMatch) {
      const socialContent = socialMatch[1];
      const socialMatches = socialContent.matchAll(/\{\s*\n\s*title:\s*"([^"]*)",\s*\n\s*url:\s*"([^"]*)",\s*\n\s*icon:\s*"([^"]*)",?\s*\n\s*\}/g);
      for (const socialMatch2 of socialMatches) {
        navigation.social.push({
          title: socialMatch2[1],
          url: socialMatch2[2],
          icon: socialMatch2[3]
        });
      }
    }
    config4.navigation = navigation;
    const postOptions = {};
    const tocMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_TABLE_OF_CONTENTS\]\s*tableOfContents:\s*(true|false)/);
    if (tocMatch) {
      postOptions.tableOfContents = tocMatch[1] === "true";
    }
    const readingTimeMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_READING_TIME\]\s*readingTime:\s*(true|false)/);
    if (readingTimeMatch) {
      postOptions.readingTime = readingTimeMatch[1] === "true";
    }
    const linkedMentionsEnabledMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED\]\s*enabled:\s*(true|false)/);
    const linkedMentionsCompactMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT\]\s*linkedMentionsCompact:\s*(true|false)/);
    if (linkedMentionsEnabledMatch || linkedMentionsCompactMatch) {
      postOptions.linkedMentions = {
        enabled: linkedMentionsEnabledMatch ? linkedMentionsEnabledMatch[1] === "true" : false,
        linkedMentionsCompact: linkedMentionsCompactMatch ? linkedMentionsCompactMatch[1] === "true" : false
      };
    }
    const graphViewMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED\]\s*enabled:\s*(true|false)/);
    if (graphViewMatch) {
      postOptions.graphView = {
        enabled: graphViewMatch[1] === "true"
      };
    }
    const postNavigationMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_POST_NAVIGATION\]\s*postNavigation:\s*(true|false)/);
    if (postNavigationMatch) {
      postOptions.postNavigation = postNavigationMatch[1] === "true";
    }
    const commentsMatch = configContent.match(/\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_ENABLED\]\s*enabled:\s*(true|false)/);
    if (commentsMatch) {
      postOptions.comments = {
        enabled: commentsMatch[1] === "true"
      };
    }
    config4.postOptions = postOptions;
    const optionalContentTypes = {};
    const projectsMatch = configContent.match(/\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS\]\s*projects:\s*(true|false)/);
    if (projectsMatch) {
      optionalContentTypes.projects = projectsMatch[1] === "true";
    }
    const docsMatch = configContent.match(/\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_DOCS\]\s*docs:\s*(true|false)/);
    if (docsMatch) {
      optionalContentTypes.docs = docsMatch[1] === "true";
    }
    config4.optionalContentTypes = optionalContentTypes;
    const footer = {};
    const footerSocialMatch = configContent.match(/\/\/ \[CONFIG:FOOTER_SHOW_SOCIAL_ICONS\]\s*showSocialIconsInFooter:\s*(true|false)/);
    if (footerSocialMatch) {
      footer.showSocialIconsInFooter = footerSocialMatch[1] === "true";
    }
    config4.footer = footer;
    const commandPalette = {};
    const commandPaletteMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_ENABLED\]\s*enabled:\s*(true|false)/);
    if (commandPaletteMatch) {
      commandPalette.enabled = commandPaletteMatch[1] === "true";
    }
    const commandPalettePlaceholderMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_PLACEHOLDER\]\s*placeholder:\s*['"`]([^'"`]+)['"`]/);
    if (commandPalettePlaceholderMatch) {
      commandPalette.placeholder = commandPalettePlaceholderMatch[1];
    }
    const commandPaletteShortcutMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SHORTCUT\]\s*shortcut:\s*['"`]([^'"`]+)['"`]/);
    if (commandPaletteShortcutMatch) {
      commandPalette.shortcut = commandPaletteShortcutMatch[1];
    }
    const search = {};
    const searchPostsMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_POSTS\]\s*posts:\s*(true|false)/);
    if (searchPostsMatch) {
      search.posts = searchPostsMatch[1] === "true";
    }
    const searchPagesMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PAGES\]\s*pages:\s*(true|false)/);
    if (searchPagesMatch) {
      search.pages = searchPagesMatch[1] === "true";
    }
    const searchProjectsMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS\]\s*projects:\s*(true|false)/);
    if (searchProjectsMatch) {
      search.projects = searchProjectsMatch[1] === "true";
    }
    const searchDocsMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_DOCS\]\s*docs:\s*(true|false)/);
    if (searchDocsMatch) {
      search.docs = searchDocsMatch[1] === "true";
    }
    commandPalette.search = search;
    const sections = {};
    const sectionsQuickActionsMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS\]\s*quickActions:\s*(true|false)/);
    if (sectionsQuickActionsMatch) {
      sections.quickActions = sectionsQuickActionsMatch[1] === "true";
    }
    const sectionsPagesMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_PAGES\]\s*pages:\s*(true|false)/);
    if (sectionsPagesMatch) {
      sections.pages = sectionsPagesMatch[1] === "true";
    }
    const sectionsSocialMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL\]\s*social:\s*(true|false)/);
    if (sectionsSocialMatch) {
      sections.social = sectionsSocialMatch[1] === "true";
    }
    commandPalette.sections = sections;
    const quickActions = {};
    const qaEnabledMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED\]\s*enabled:\s*(true|false)/);
    if (qaEnabledMatch) {
      quickActions.enabled = qaEnabledMatch[1] === "true";
    }
    const qaToggleModeMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE\]\s*toggleMode:\s*(true|false)/);
    if (qaToggleModeMatch) {
      quickActions.toggleMode = qaToggleModeMatch[1] === "true";
    }
    const qaGraphViewMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW\]\s*graphView:\s*(true|false)/);
    if (qaGraphViewMatch) {
      quickActions.graphView = qaGraphViewMatch[1] === "true";
    }
    const qaChangeThemeMatch = configContent.match(/\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME\]\s*changeTheme:\s*(true|false)/);
    if (qaChangeThemeMatch) {
      quickActions.changeTheme = qaChangeThemeMatch[1] === "true";
    }
    commandPalette.quickActions = quickActions;
    config4.commandPalette = commandPalette;
    const siteMatch = configContent.match(/\/\/ \[CONFIG:SITE_URL\]\s*site:\s*['"`]([^'"`]+)['"`]/);
    if (siteMatch) {
      config4.site = siteMatch[1];
    }
    const titleMatch = configContent.match(/\/\/ \[CONFIG:SITE_TITLE\]\s*title:\s*['"`]([^'"`]+)['"`]/);
    if (titleMatch) {
      config4.title = titleMatch[1];
    }
    const descriptionMatch = configContent.match(/\/\/ \[CONFIG:SITE_DESCRIPTION\]\s*description:\s*['"`]([^'"`]+)['"`]/);
    if (descriptionMatch) {
      config4.description = descriptionMatch[1];
    }
    const authorMatch = configContent.match(/\/\/ \[CONFIG:SITE_AUTHOR\]\s*author:\s*['"`]([^'"`]+)['"`]/);
    if (authorMatch) {
      config4.author = authorMatch[1];
    }
    const languageMatch = configContent.match(/\/\/ \[CONFIG:SITE_LANGUAGE\]\s*language:\s*['"`]([^'"`]+)['"`]/);
    if (languageMatch) {
      config4.language = languageMatch[1];
    }
    return config4;
  }
};

// src/utils/config/ConfigTemplateManager.ts
var ConfigTemplateManager = class {
  interpolateTemplate(template, settings, templateName) {
    const result = template.replace(/\$\{settings\.currentTheme\}/g, settings.currentTheme).replace(/\$\{settings\.typography\.fontSource\}/g, settings.typography.fontSource).replace(/\$\{settings\.typography\.proseFont\}/g, settings.typography.proseFont).replace(/\$\{settings\.typography\.headingFont\}/g, settings.typography.headingFont).replace(/\$\{settings\.typography\.monoFont\}/g, settings.typography.monoFont).replace(/\$\{settings\.typography\.customFonts\.prose\}/g, settings.typography.customFonts.prose).replace(/\$\{settings\.typography\.customFonts\.heading\}/g, settings.typography.customFonts.heading).replace(/\$\{settings\.typography\.customFonts\.mono\}/g, settings.typography.customFonts.mono).replace(/\$\{settings\.optionalFeatures\.comments\.enabled\}/g, settings.optionalFeatures.comments.enabled.toString()).replace(/\$\{settings\.optionalFeatures\.profilePicture\.enabled\}/g, settings.optionalFeatures.profilePicture.enabled.toString()).replace(/\$\{settings\.optionalFeatures\.profilePicture\.image\}/g, settings.optionalFeatures.profilePicture.image).replace(/\$\{settings\.optionalFeatures\.profilePicture\.alt\}/g, settings.optionalFeatures.profilePicture.alt).replace(/\$\{settings\.optionalFeatures\.profilePicture\.size\}/g, settings.optionalFeatures.profilePicture.size).replace(/\$\{settings\.optionalFeatures\.profilePicture\.url\}/g, settings.optionalFeatures.profilePicture.url || "").replace(/\$\{settings\.optionalFeatures\.profilePicture\.placement\}/g, settings.optionalFeatures.profilePicture.placement).replace(/\$\{settings\.optionalFeatures\.profilePicture\.style\}/g, settings.optionalFeatures.profilePicture.style).replace(/\$\{settings\.deployment\.platform\}/g, settings.deployment.platform).replace(/\$\{templateName\}/g, templateName);
    return result;
  }
  getTemplateConfig(templateName, settings) {
    switch (templateName) {
      case "standard":
        return {
          layout: {
            contentWidth: "45rem"
          },
          footer: {
            enabled: true,
            showSocialIconsInFooter: true
          },
          darkModeToggleButton: "both",
          commandPalette: {
            enabled: true,
            shortcut: "ctrl+K",
            placeholder: "Search posts",
            search: {
              posts: true,
              pages: false,
              projects: false,
              docs: false
            },
            sections: {
              quickActions: true,
              pages: true,
              social: true
            }
          },
          optionalContentTypes: {
            projects: true,
            docs: true
          },
          homeOptions: {
            featuredPost: {
              enabled: true,
              type: "latest"
            },
            recentPosts: {
              enabled: true,
              count: 7
            },
            projects: {
              enabled: true,
              count: 2
            },
            docs: {
              enabled: true,
              count: 3
            },
            blurb: {
              placement: "below"
            }
          },
          postOptions: {
            postsPerPage: 6,
            readingTime: true,
            wordCount: true,
            tableOfContents: true,
            tags: true,
            linkedMentions: {
              enabled: true,
              linkedMentionsCompact: false
            },
            graphView: {
              enabled: true,
              showInSidebar: true,
              showInCommandPalette: true,
              maxNodes: 100
            },
            postNavigation: true,
            showPostCardCoverImages: "featured-and-posts",
            postCardAspectRatio: "og"
          },
          navigation: {
            showNavigation: true,
            showMobileMenu: true,
            style: "traditional"
          }
        };
      case "compact":
        return {
          layout: {
            contentWidth: "42rem"
          },
          optionalContentTypes: {
            projects: false,
            docs: false
          },
          footer: {
            showSocialIconsInFooter: false
          },
          darkModeToggleButton: "commandPalette",
          commandPalette: {
            enabled: true,
            shortcut: "ctrl+K",
            placeholder: "Search posts",
            search: {
              posts: true,
              pages: false,
              projects: false,
              docs: false
            },
            sections: {
              quickActions: true,
              pages: false,
              social: true
            }
          },
          homeOptions: {
            featuredPost: {
              enabled: false,
              type: "latest"
            },
            recentPosts: {
              enabled: true,
              count: 7
            },
            blurb: {
              placement: "below"
            }
          },
          postOptions: {
            postsPerPage: 6,
            readingTime: true,
            wordCount: true,
            tableOfContents: true,
            tags: true,
            linkedMentions: {
              enabled: true,
              linkedMentionsCompact: true
            },
            graphView: {
              enabled: false
            },
            postNavigation: true,
            showPostCardCoverImages: "posts",
            postCardAspectRatio: "custom",
            customPostCardAspectRatio: "2.5/1"
          },
          navigation: {
            showNavigation: true,
            showMobileMenu: true,
            style: "minimal"
          }
        };
      case "minimal":
        return {
          layout: {
            contentWidth: "40rem"
          },
          optionalContentTypes: {
            projects: false,
            docs: false
          },
          footer: {
            showSocialIconsInFooter: false
          },
          darkModeToggleButton: "commandPalette",
          commandPalette: {
            enabled: true,
            shortcut: "",
            placeholder: "Search content",
            search: {
              posts: true,
              pages: true,
              projects: false,
              docs: false
            },
            sections: {
              quickActions: false,
              pages: false,
              social: false
            }
          },
          homeOptions: {
            featuredPost: {
              enabled: false,
              type: "latest"
            },
            recentPosts: {
              enabled: true,
              count: 7
            },
            blurb: {
              placement: "none"
            }
          },
          postOptions: {
            postsPerPage: 6,
            readingTime: false,
            wordCount: false,
            tableOfContents: false,
            tags: false,
            linkedMentions: {
              enabled: false,
              linkedMentionsCompact: false
            },
            graphView: {
              enabled: false
            },
            postNavigation: false,
            showPostCardCoverImages: "none",
            postCardAspectRatio: "og"
          },
          navigation: {
            showNavigation: false,
            showMobileMenu: false,
            style: "minimal"
          }
        };
      default:
        return {};
    }
  }
};

// src/utils/config/ConfigMarkerValidator.ts
var ConfigMarkerValidator = class {
  validateMarkers(config4) {
    const requiredMarkers = [
      "CONFIG:SITE_URL",
      "CONFIG:SITE_TITLE",
      "CONFIG:SITE_DESCRIPTION",
      "CONFIG:SITE_AUTHOR",
      "CONFIG:SITE_LANGUAGE",
      "CONFIG:THEME",
      "CONFIG:AVAILABLE_THEMES",
      "CONFIG:FONT_SOURCE",
      "CONFIG:FONT_BODY",
      "CONFIG:FONT_HEADING",
      "CONFIG:FONT_MONO",
      "CONFIG:LAYOUT_CONTENT_WIDTH",
      "CONFIG:TABLE_OF_CONTENTS_ENABLED",
      "CONFIG:TABLE_OF_CONTENTS_DEPTH",
      "CONFIG:FOOTER_ENABLED",
      "CONFIG:FOOTER_SHOW_SOCIAL_ICONS",
      "CONFIG:SCROLL_TO_TOP",
      "CONFIG:FEATURE_BUTTON",
      "CONFIG:DEPLOYMENT_PLATFORM",
      "CONFIG:COMMAND_PALETTE_ENABLED",
      "CONFIG:COMMAND_PALETTE_SHORTCUT",
      "CONFIG:COMMAND_PALETTE_PLACEHOLDER",
      "CONFIG:COMMAND_PALETTE_SEARCH_POSTS",
      "CONFIG:COMMAND_PALETTE_SEARCH_PAGES",
      "CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS",
      "CONFIG:COMMAND_PALETTE_SEARCH_DOCS",
      "CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS",
      "CONFIG:COMMAND_PALETTE_SECTIONS_PAGES",
      "CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL",
      "CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED",
      "CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE",
      "CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW",
      "CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME",
      "CONFIG:PROFILE_PICTURE_ENABLED",
      "CONFIG:PROFILE_PICTURE_IMAGE",
      "CONFIG:PROFILE_PICTURE_ALT",
      "CONFIG:PROFILE_PICTURE_SIZE",
      "CONFIG:PROFILE_PICTURE_URL",
      "CONFIG:PROFILE_PICTURE_PLACEMENT",
      "CONFIG:PROFILE_PICTURE_STYLE",
      "CONFIG:NAVIGATION_SHOW_NAVIGATION",
      "CONFIG:NAVIGATION_STYLE",
      "CONFIG:NAVIGATION_SHOW_MOBILE_MENU",
      "CONFIG:NAVIGATION_PAGES",
      "CONFIG:NAVIGATION_SOCIAL",
      "CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS",
      "CONFIG:OPTIONAL_CONTENT_TYPES_DOCS",
      "CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED",
      "CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE",
      "CONFIG:HOME_OPTIONS_FEATURED_POST_SLUG",
      "CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED",
      "CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT",
      "CONFIG:HOME_OPTIONS_PROJECTS_ENABLED",
      "CONFIG:HOME_OPTIONS_PROJECTS_COUNT",
      "CONFIG:HOME_OPTIONS_DOCS_ENABLED",
      "CONFIG:HOME_OPTIONS_DOCS_COUNT",
      "CONFIG:HOME_OPTIONS_BLURB_PLACEMENT",
      "CONFIG:POST_OPTIONS_POSTS_PER_PAGE",
      "CONFIG:POST_OPTIONS_READING_TIME",
      "CONFIG:POST_OPTIONS_WORD_COUNT",
      "CONFIG:POST_OPTIONS_TAGS",
      "CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED",
      "CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT",
      "CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED",
      "CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR",
      "CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES",
      "CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS",
      "CONFIG:POST_OPTIONS_POST_NAVIGATION",
      "CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES",
      "CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO",
      "CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO",
      "CONFIG:POST_OPTIONS_COMMENTS_ENABLED",
      "CONFIG:POST_OPTIONS_COMMENTS_PROVIDER",
      "CONFIG:POST_OPTIONS_COMMENTS_REPO",
      "CONFIG:POST_OPTIONS_COMMENTS_REPO_ID",
      "CONFIG:POST_OPTIONS_COMMENTS_CATEGORY",
      "CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID",
      "CONFIG:POST_OPTIONS_COMMENTS_MAPPING",
      "CONFIG:POST_OPTIONS_COMMENTS_STRICT",
      "CONFIG:POST_OPTIONS_COMMENTS_REACTIONS",
      "CONFIG:POST_OPTIONS_COMMENTS_METADATA",
      "CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION",
      "CONFIG:POST_OPTIONS_COMMENTS_THEME",
      "CONFIG:POST_OPTIONS_COMMENTS_LANG",
      "CONFIG:POST_OPTIONS_COMMENTS_LOADING"
    ];
    const missing = requiredMarkers.filter(
      (marker) => !config4.includes(`// [${marker}]`)
    );
    return { valid: missing.length === 0, missing };
  }
  validateSyntax(config4) {
    const errors = [];
    try {
      const openBraces = (config4.match(/\{/g) || []).length;
      const closeBraces = (config4.match(/\}/g) || []).length;
      const openBrackets = (config4.match(/\[/g) || []).length;
      const closeBrackets = (config4.match(/\]/g) || []).length;
      if (openBraces !== closeBraces) {
        errors.push("Mismatched braces");
      }
      if (openBrackets !== closeBrackets) {
        errors.push("Mismatched brackets");
      }
    } catch (error) {
      errors.push(`Validation failed: ${error instanceof Error ? error.message : String(error)}`);
    }
    return { valid: errors.length === 0, errors };
  }
};

// src/utils/config/ConfigPresetModifier.ts
var ConfigPresetModifier = class {
  constructor() {
    this.templateManager = new ConfigTemplateManager();
    this.markerValidator = new ConfigMarkerValidator();
  }
  safeStringify(value) {
    if (typeof value === "boolean") {
      return String(value);
    }
    if (typeof value === "number") {
      return String(value);
    }
    if (typeof value === "string") {
      return value;
    }
    if (value === null || value === void 0) {
      return String(value);
    }
    return JSON.stringify(value);
  }
  getTemplateConfig(templateName, settings) {
    return this.templateManager.getTemplateConfig(templateName, settings);
  }
  updateThemeInConfig(currentConfig, theme) {
    const themeMarkerExists = currentConfig.includes("// [CONFIG:THEME]");
    if (themeMarkerExists) {
      const themeRegex = /\/\/ \[CONFIG:THEME\]\s*\n\s*theme:\s*"[^"]*"/;
      return currentConfig.replace(
        themeRegex,
        `// [CONFIG:THEME]
  theme: "${theme}"`
      );
    }
    return currentConfig;
  }
  updateFontInConfig(currentConfig, fontType, fontName) {
    const fontMarker = `// [CONFIG:FONT_${fontType.toUpperCase()}]`;
    const fontMarkerExists = currentConfig.includes(fontMarker);
    if (fontMarkerExists) {
      const fontRegex = new RegExp(`${fontMarker}\\s*\\n\\s*${fontType}:\\s*"[^"]*"`);
      return currentConfig.replace(
        fontRegex,
        `${fontMarker}
      ${fontType}: "${fontName}"`
      );
    }
    return currentConfig;
  }
  updateFeatureInConfig(currentConfig, featureName, value) {
    return currentConfig;
  }
  modifyConfigFromPreset(preset, currentConfig) {
    var _a, _b, _c, _d;
    const settings = {
      ...preset.config,
      features: preset.features,
      currentTheme: preset.theme,
      contentOrganization: preset.contentOrganization
    };
    let modifiedConfig = this.modifyConfigFromFeatures(settings, currentConfig);
    const templateConfig = this.templateManager.getTemplateConfig(preset.name, settings);
    const themeMarkerExists = modifiedConfig.includes("// [CONFIG:THEME]");
    if (themeMarkerExists) {
      const themeRegex = /\/\/ \[CONFIG:THEME\]\s*\n\s*theme:\s*"[^"]*"/;
      modifiedConfig = modifiedConfig.replace(
        themeRegex,
        `// [CONFIG:THEME]
  theme: "${settings.currentTheme}"`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_SOURCE\]\s*\n\s*source:\s*"[^"]*"/,
      `// [CONFIG:FONT_SOURCE]
    source: "${settings.typography.fontSource}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_BODY\]\s*\n\s*body:\s*"[^"]*"/,
      `// [CONFIG:FONT_BODY]
      body: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.prose : settings.typography.proseFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_HEADING\]\s*\n\s*heading:\s*"[^"]*"/,
      `// [CONFIG:FONT_HEADING]
      heading: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.heading : settings.typography.headingFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_MONO\]\s*\n\s*mono:\s*"[^"]*"/,
      `// [CONFIG:FONT_MONO]
      mono: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.mono : settings.typography.monoFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:DEPLOYMENT_PLATFORM\]\s*\n\s*platform:\s*"[^"]*"/,
      `// [CONFIG:DEPLOYMENT_PLATFORM]
    platform: "${settings.deployment.platform}"`
    );
    if (settings.optionalContentTypes) {
      if (settings.optionalContentTypes.projects !== void 0) {
        const projectsRegex = /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS\]\s*\n\s*projects:\s*(true|false)/;
        modifiedConfig = modifiedConfig.replace(
          projectsRegex,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS]
    projects: ${settings.optionalContentTypes.projects}`
        );
      }
      if (settings.optionalContentTypes.docs !== void 0) {
        const docsRegex = /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_DOCS\]\s*\n\s*docs:\s*(true|false)/;
        modifiedConfig = modifiedConfig.replace(
          docsRegex,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_DOCS]
    docs: ${settings.optionalContentTypes.docs}`
        );
      }
    }
    const layout = templateConfig.layout;
    if (layout == null ? void 0 : layout.contentWidth) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:LAYOUT_CONTENT_WIDTH\]\s*\n\s*contentWidth:\s*"[^"]*"/,
        `// [CONFIG:LAYOUT_CONTENT_WIDTH]
    contentWidth: "${layout.contentWidth}"`
      );
    }
    const optionalContentTypes = templateConfig.optionalContentTypes;
    if (optionalContentTypes) {
      if (optionalContentTypes.projects !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS\]\s*\n\s*projects:\s*(true|false)/,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS]
    projects: ${optionalContentTypes.projects}`
        );
      }
      if (optionalContentTypes.docs !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_DOCS\]\s*\n\s*docs:\s*(true|false)/,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_DOCS]
    docs: ${optionalContentTypes.docs}`
        );
      }
    }
    if (templateConfig.featureButton) {
      const featureButtonValue = typeof templateConfig.featureButton === "string" ? templateConfig.featureButton : JSON.stringify(templateConfig.featureButton);
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:FEATURE_BUTTON\]\s*\n\s*featureButton:\s*"[^"]*"/,
        `// [CONFIG:FEATURE_BUTTON]
  featureButton: "${featureButtonValue}"`
      );
    }
    const footer = templateConfig.footer;
    if (footer) {
      if (footer.enabled !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_ENABLED\]\s*enabled:\s*(true|false)/,
          `// [CONFIG:FOOTER_ENABLED]
    enabled: ${footer.enabled}`
        );
      }
      if (footer.showSocialIconsInFooter !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_SHOW_SOCIAL_ICONS\]\s*showSocialIconsInFooter:\s*[^,\n}]+/,
          `// [CONFIG:FOOTER_SHOW_SOCIAL_ICONS]
    showSocialIconsInFooter: ${footer.showSocialIconsInFooter}`
        );
      }
    }
    const navigation = templateConfig.navigation;
    if (navigation) {
      if (navigation.style) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_STYLE\]\s*style:\s*"[^"]*"/,
          `// [CONFIG:NAVIGATION_STYLE]
    style: "${navigation.style}"`
        );
      }
      if (navigation.showNavigation !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SHOW_NAVIGATION\]\s*showNavigation:\s*(true|false)/,
          `// [CONFIG:NAVIGATION_SHOW_NAVIGATION]
    showNavigation: ${navigation.showNavigation}`
        );
      }
      if (navigation.showMobileMenu !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SHOW_MOBILE_MENU\]\s*showMobileMenu:\s*(true|false)/,
          `// [CONFIG:NAVIGATION_SHOW_MOBILE_MENU]
    showMobileMenu: ${navigation.showMobileMenu}`
        );
      }
    }
    const commandPalette = templateConfig.commandPalette;
    if (commandPalette) {
      if (commandPalette.enabled !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_ENABLED\]\s*enabled:\s*(true|false)/,
          `// [CONFIG:COMMAND_PALETTE_ENABLED]
    enabled: ${commandPalette.enabled}`
        );
      }
      if (commandPalette.shortcut !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_SHORTCUT\]\s*shortcut:\s*"[^"]*"/,
          `// [CONFIG:COMMAND_PALETTE_SHORTCUT]
    shortcut: "${commandPalette.shortcut}"`
        );
      }
      if (commandPalette.placeholder !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_PLACEHOLDER\]\s*placeholder:\s*"[^"]*"/,
          `// [CONFIG:COMMAND_PALETTE_PLACEHOLDER]
    placeholder: "${commandPalette.placeholder}"`
        );
      }
      if (commandPalette.search && typeof commandPalette.search === "object" && commandPalette.search !== null) {
        const search = commandPalette.search;
        if (search.posts !== void 0) {
          const postsValue = this.safeStringify(search.posts);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_POSTS\]\s*posts:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_POSTS]
      posts: ${postsValue}`
          );
        }
        if (search.pages !== void 0) {
          const pagesValue = this.safeStringify(search.pages);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PAGES\]\s*pages:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_PAGES]
      pages: ${pagesValue}`
          );
        }
        if (search.projects !== void 0) {
          const projectsValue = this.safeStringify(search.projects);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS\]\s*projects:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS]
      projects: ${projectsValue}`
          );
        }
        if (search.docs !== void 0) {
          const docsValue = this.safeStringify(search.docs);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_DOCS\]\s*docs:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_DOCS]
      docs: ${docsValue}`
          );
        }
      }
      if (commandPalette.sections && typeof commandPalette.sections === "object" && commandPalette.sections !== null) {
        const sections = commandPalette.sections;
        if (sections.quickActions !== void 0) {
          const quickActionsValue = this.safeStringify(sections.quickActions);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS\]\s*quickActions:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS]
      quickActions: ${quickActionsValue}`
          );
        }
        if (sections.pages !== void 0) {
          const pagesValue = this.safeStringify(sections.pages);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_PAGES\]\s*pages:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_PAGES]
      pages: ${pagesValue}`
          );
        }
        if (sections.social !== void 0) {
          const socialValue = this.safeStringify(sections.social);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL\]\s*social:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL]
      social: ${socialValue}`
          );
        }
      }
      if (commandPalette.quickActions && typeof commandPalette.quickActions === "object" && commandPalette.quickActions !== null) {
        const quickActions = commandPalette.quickActions;
        if (quickActions.enabled !== void 0) {
          const enabledValue = this.safeStringify(quickActions.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (quickActions.toggleMode !== void 0) {
          const toggleModeValue = this.safeStringify(quickActions.toggleMode);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE\]\s*toggleMode:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE]
      toggleMode: ${toggleModeValue}`
          );
        }
        if (quickActions.graphView !== void 0) {
          const graphViewValue = this.safeStringify(quickActions.graphView);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW\]\s*graphView:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW]
      graphView: ${graphViewValue}`
          );
        }
        if (quickActions.changeTheme !== void 0) {
          const changeThemeValue = this.safeStringify(quickActions.changeTheme);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME\]\s*changeTheme:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME]
      changeTheme: ${changeThemeValue}`
          );
        }
      }
    }
    if (templateConfig.homeOptions && typeof templateConfig.homeOptions === "object" && templateConfig.homeOptions !== null) {
      const homeOptions = templateConfig.homeOptions;
      if (homeOptions.featuredPost && typeof homeOptions.featuredPost === "object" && homeOptions.featuredPost !== null) {
        const featuredPost = homeOptions.featuredPost;
        if (featuredPost.enabled !== void 0) {
          const enabledValue = this.safeStringify(featuredPost.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (featuredPost.type && typeof featuredPost.type === "string") {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE\]\s*type:\s*"[^"]*"/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE]
      type: "${featuredPost.type}"`
          );
        }
      }
      if (homeOptions.recentPosts && typeof homeOptions.recentPosts === "object" && homeOptions.recentPosts !== null) {
        const recentPosts = homeOptions.recentPosts;
        if (recentPosts.enabled !== void 0) {
          const enabledValue = this.safeStringify(recentPosts.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (recentPosts.count !== void 0) {
          const countValue = this.safeStringify(recentPosts.count);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT\]\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT]
      count: ${countValue}`
          );
        }
      }
      if (homeOptions.projects && typeof homeOptions.projects === "object" && homeOptions.projects !== null) {
        const projects = homeOptions.projects;
        if (projects.enabled !== void 0) {
          const enabledValue = this.safeStringify(projects.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_PROJECTS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_PROJECTS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (projects.count !== void 0) {
          const countValue = this.safeStringify(projects.count);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_PROJECTS_COUNT\]\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_PROJECTS_COUNT]
      count: ${countValue}`
          );
        }
      }
      if (homeOptions.docs && typeof homeOptions.docs === "object" && homeOptions.docs !== null) {
        const docs = homeOptions.docs;
        if (docs.enabled !== void 0) {
          const enabledValue = this.safeStringify(docs.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_DOCS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_DOCS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (docs.count !== void 0) {
          const countValue = this.safeStringify(docs.count);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_DOCS_COUNT\]\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_DOCS_COUNT]
      count: ${countValue}`
          );
        }
      }
      if (homeOptions.blurb && typeof homeOptions.blurb === "object" && homeOptions.blurb !== null) {
        const blurb = homeOptions.blurb;
        if (blurb.placement && typeof blurb.placement === "string") {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_BLURB_PLACEMENT\]\s*placement:\s*"[^"]*"/,
            `// [CONFIG:HOME_OPTIONS_BLURB_PLACEMENT]
      placement: "${blurb.placement}"`
          );
        }
      }
    }
    if (templateConfig.postOptions && typeof templateConfig.postOptions === "object" && templateConfig.postOptions !== null) {
      const postOptions = templateConfig.postOptions;
      if (postOptions.postsPerPage !== void 0) {
        const postsPerPageValue = this.safeStringify(postOptions.postsPerPage);
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_POSTS_PER_PAGE\]\s*postsPerPage:\s*\d+/,
          `// [CONFIG:POST_OPTIONS_POSTS_PER_PAGE]
    postsPerPage: ${postsPerPageValue}`
        );
      }
      const booleanFeatures = [
        { key: "readingTime", marker: "CONFIG:POST_OPTIONS_READING_TIME" },
        { key: "wordCount", marker: "CONFIG:POST_OPTIONS_WORD_COUNT" },
        { key: "tags", marker: "CONFIG:POST_OPTIONS_TAGS" },
        { key: "postNavigation", marker: "CONFIG:POST_OPTIONS_POST_NAVIGATION" }
      ];
      booleanFeatures.forEach((feature) => {
        if (postOptions[feature.key] !== void 0) {
          const featureValue = this.safeStringify(postOptions[feature.key]);
          modifiedConfig = modifiedConfig.replace(
            new RegExp(`// \\[${feature.marker}\\]\\s*${feature.key}:\\s*(true|false)`),
            `// [${feature.marker}]
    ${feature.key}: ${featureValue}`
          );
        }
      });
      if (postOptions.linkedMentions && typeof postOptions.linkedMentions === "object" && postOptions.linkedMentions !== null) {
        const linkedMentions = postOptions.linkedMentions;
        if (linkedMentions.enabled !== void 0) {
          const enabledValue = this.safeStringify(linkedMentions.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (linkedMentions.linkedMentionsCompact !== void 0) {
          const compactValue = this.safeStringify(linkedMentions.linkedMentionsCompact);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT\]\s*linkedMentionsCompact:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT]
      linkedMentionsCompact: ${compactValue}`
          );
        }
      }
      if (postOptions.graphView && typeof postOptions.graphView === "object" && postOptions.graphView !== null) {
        const graphView = postOptions.graphView;
        if (graphView.enabled !== void 0) {
          const enabledValue = this.safeStringify(graphView.enabled);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED\]\s*enabled:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED]
      enabled: ${enabledValue}`
          );
        }
        if (graphView.showInSidebar !== void 0) {
          const showInSidebarValue = this.safeStringify(graphView.showInSidebar);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR\]\s*\n?\s*showInSidebar:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR]
      showInSidebar: ${showInSidebarValue}`
          );
        }
        if (graphView.showInCommandPalette !== void 0) {
          const showInCommandPaletteValue = this.safeStringify(graphView.showInCommandPalette);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_COMMAND_PALETTE\]\s*showInCommandPalette:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_COMMAND_PALETTE]
      showInCommandPalette: ${showInCommandPaletteValue}`
          );
        }
        if (graphView.maxNodes !== void 0) {
          const maxNodesValue = this.safeStringify(graphView.maxNodes);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES\]\s*maxNodes:\s*\d+/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES]
      maxNodes: ${maxNodesValue}`
          );
        }
        if (graphView.showOrphanedPosts !== void 0) {
          const showOrphanedPostsValue = this.safeStringify(graphView.showOrphanedPosts);
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS\]\s*showOrphanedPosts:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS]
      showOrphanedPosts: ${showOrphanedPostsValue}`
          );
        }
      }
      if (postOptions.showPostCardCoverImages && typeof postOptions.showPostCardCoverImages === "string") {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES\]\s*showPostCardCoverImages:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES]
    showPostCardCoverImages: "${postOptions.showPostCardCoverImages}"`
        );
      }
      if (postOptions.postCardAspectRatio && typeof postOptions.postCardAspectRatio === "string") {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO\]\s*postCardAspectRatio:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO]
    postCardAspectRatio: "${postOptions.postCardAspectRatio}"`
        );
      }
      if (postOptions.customPostCardAspectRatio && typeof postOptions.customPostCardAspectRatio === "string") {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO\]\s*customPostCardAspectRatio:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO]
    customPostCardAspectRatio: "${postOptions.customPostCardAspectRatio}"`
        );
      }
    }
    if (((_b = (_a = settings.optionalFeatures) == null ? void 0 : _a.comments) == null ? void 0 : _b.enabled) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_ENABLED\]\s*enabled:\s*(true|false)/,
        `// [CONFIG:POST_OPTIONS_COMMENTS_ENABLED]
      enabled: ${settings.optionalFeatures.comments.enabled}`
      );
    }
    if ((_d = (_c = settings.optionalFeatures) == null ? void 0 : _c.comments) == null ? void 0 : _d.enabled) {
      if (settings.optionalFeatures.comments.provider) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_PROVIDER\]\s*provider:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_PROVIDER]
      provider: "${settings.optionalFeatures.comments.provider}"`
        );
      }
      if (settings.optionalFeatures.comments.repo) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REPO\]\s*repo:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REPO]
      repo: "${settings.optionalFeatures.comments.repo}"`
        );
      }
      if (settings.optionalFeatures.comments.repoId) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REPO_ID\]\s*repoId:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REPO_ID]
      repoId: "${settings.optionalFeatures.comments.repoId}"`
        );
      }
      if (settings.optionalFeatures.comments.category) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_CATEGORY\]\s*category:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_CATEGORY]
      category: "${settings.optionalFeatures.comments.category}"`
        );
      }
      if (settings.optionalFeatures.comments.categoryId) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID\]\s*categoryId:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID]
      categoryId: "${settings.optionalFeatures.comments.categoryId}"`
        );
      }
      if (settings.optionalFeatures.comments.mapping) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_MAPPING\]\s*mapping:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_MAPPING]
      mapping: "${settings.optionalFeatures.comments.mapping}"`
        );
      }
      if (settings.optionalFeatures.comments.strict) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_STRICT\]\s*strict:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_STRICT]
      strict: "${settings.optionalFeatures.comments.strict}"`
        );
      }
      if (settings.optionalFeatures.comments.reactions) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REACTIONS\]\s*reactions:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REACTIONS]
      reactions: "${settings.optionalFeatures.comments.reactions}"`
        );
      }
      if (settings.optionalFeatures.comments.metadata) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_METADATA\]\s*metadata:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_METADATA]
      metadata: "${settings.optionalFeatures.comments.metadata}"`
        );
      }
      if (settings.optionalFeatures.comments.inputPosition) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION\]\s*inputPosition:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION]
      inputPosition: "${settings.optionalFeatures.comments.inputPosition}"`
        );
      }
      if (settings.optionalFeatures.comments.theme) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_THEME\]\s*theme:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_THEME]
      theme: "${settings.optionalFeatures.comments.theme}"`
        );
      }
      if (settings.optionalFeatures.comments.lang) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_LANG\]\s*lang:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_LANG]
      lang: "${settings.optionalFeatures.comments.lang}"`
        );
      }
      if (settings.optionalFeatures.comments.loading) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_LOADING\]\s*loading:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_LOADING]
      loading: "${settings.optionalFeatures.comments.loading}"`
        );
      }
    }
    const markerValidation = this.markerValidator.validateMarkers(modifiedConfig);
    if (!markerValidation.valid) {
      console.error("\u274C Config modification failed: Missing markers:", markerValidation.missing);
      console.error("Please ensure all CONFIG markers are present in your config.ts file");
      return currentConfig;
    }
    const syntaxValidation = this.markerValidator.validateSyntax(modifiedConfig);
    if (!syntaxValidation.valid) {
      console.error("\u274C Config modification failed: Syntax errors:", syntaxValidation.errors);
      return currentConfig;
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_URL\]\s*\n\s*site:\s*"[^"]*"/,
      `// [CONFIG:SITE_URL]
  site: "${settings.siteInfo.site}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_TITLE\]\s*\n\s*title:\s*"[^"]*"/,
      `// [CONFIG:SITE_TITLE]
  title: "${settings.siteInfo.title}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_DESCRIPTION\]\s*\n\s*description:\s*"[^"]*"/,
      `// [CONFIG:SITE_DESCRIPTION]
  description: "${settings.siteInfo.description}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_AUTHOR\]\s*\n\s*author:\s*"[^"]*"/,
      `// [CONFIG:SITE_AUTHOR]
  author: "${settings.siteInfo.author}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SITE_LANGUAGE\]\s*\n\s*language:\s*"[^"]*"/,
      `// [CONFIG:SITE_LANGUAGE]
  language: "${settings.siteInfo.language}"`
    );
    if (settings.siteInfo.faviconThemeAdaptive !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:FAVICON_THEME_ADAPTIVE\]\s*\n\s*faviconThemeAdaptive:\s*(true|false)/,
        `// [CONFIG:FAVICON_THEME_ADAPTIVE]
  faviconThemeAdaptive: ${settings.siteInfo.faviconThemeAdaptive}`
      );
    }
    if (settings.siteInfo.defaultOgImageAlt) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:DEFAULT_OG_IMAGE_ALT\]\s*\n\s*defaultOgImageAlt:\s*"[^"]*"/,
        `// [CONFIG:DEFAULT_OG_IMAGE_ALT]
  defaultOgImageAlt: "${settings.siteInfo.defaultOgImageAlt}"`
      );
    }
    const serializeNavigationItem = (item, indent = "      ") => {
      let result = `${indent}{ title: "${item.title}"`;
      if (item.url) {
        result += `, url: "${item.url}"`;
      }
      if (item.children && item.children.length > 0) {
        result += `,
${indent}  children: [
`;
        result += item.children.map((child) => {
          let childResult = `${indent}    { title: "${child.title}", url: "${child.url}" }`;
          return childResult;
        }).join(",\n");
        result += `
${indent}  ]`;
      }
      result += " }";
      return result;
    };
    const pagesArray = settings.navigation.pages.map((page) => serializeNavigationItem(page)).join(",\n");
    const pagesMarker = "// [CONFIG:NAVIGATION_PAGES]";
    const socialMarker = "// [CONFIG:NAVIGATION_SOCIAL]";
    const pagesMarkerIndex = modifiedConfig.indexOf(pagesMarker);
    const socialMarkerIndex = modifiedConfig.indexOf(socialMarker);
    if (pagesMarkerIndex !== -1 && socialMarkerIndex !== -1) {
      const pagesArrayStart = modifiedConfig.indexOf("pages: [", pagesMarkerIndex);
      if (pagesArrayStart !== -1) {
        const before = modifiedConfig.substring(0, pagesMarkerIndex + pagesMarker.length);
        const after = modifiedConfig.substring(socialMarkerIndex);
        modifiedConfig = `${before}
    pages: [
${pagesArray}
    ],
    ${after}`;
      }
    }
    const socialArray = settings.navigation.social.map((social) => {
      return `      {
        title: "${social.title}",
        url: "${social.url}",
        icon: "${social.icon}",
      }`;
    }).join(",\n");
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:NAVIGATION_SOCIAL\]\s*\n\s*social:\s*\[[\s\S]*?\]/,
      `// [CONFIG:NAVIGATION_SOCIAL]
    social: [
${socialArray},
    ]`
    );
    return modifiedConfig;
  }
  modifyConfigFromFeatures(settings, currentConfig) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u;
    let modifiedConfig = currentConfig;
    const themeRegex = /\/\/ \[CONFIG:THEME\]\s*\n\s*theme:\s*"[^"]*"/;
    modifiedConfig = modifiedConfig.replace(
      themeRegex,
      `// [CONFIG:THEME]
  theme: "${settings.currentTheme}"`
    );
    if (settings.customThemeFile) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:CUSTOM_THEME_FILE\]\s*\n\s*customThemeFile:\s*"[^"]*"/,
        `// [CONFIG:CUSTOM_THEME_FILE]
  customThemeFile: "${settings.customThemeFile}"`
      );
    }
    if (settings.optionalContentTypes) {
      if (settings.optionalContentTypes.projects !== void 0) {
        const projectsRegex = /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS\]\s*\n\s*projects:\s*(true|false)/;
        modifiedConfig = modifiedConfig.replace(
          projectsRegex,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_PROJECTS]
    projects: ${settings.optionalContentTypes.projects}`
        );
      }
      if (settings.optionalContentTypes.docs !== void 0) {
        const docsRegex = /\/\/ \[CONFIG:OPTIONAL_CONTENT_TYPES_DOCS\]\s*\n\s*docs:\s*(true|false)/;
        modifiedConfig = modifiedConfig.replace(
          docsRegex,
          `// [CONFIG:OPTIONAL_CONTENT_TYPES_DOCS]
    docs: ${settings.optionalContentTypes.docs}`
        );
      }
    }
    if (settings.availableThemes !== void 0) {
      let availableThemesValue;
      if (settings.availableThemes === "default") {
        availableThemesValue = '"default"';
      } else {
        let themesArray = [...settings.availableThemes];
        if (settings.customThemes && settings.customThemes.trim()) {
          const customThemesList = settings.customThemes.split(",").map((theme) => theme.trim()).filter((theme) => theme).filter((theme) => theme !== "custom");
          themesArray = [...themesArray, ...customThemesList];
        }
        const themesString = themesArray.map((theme) => `"${theme}"`).join(", ");
        availableThemesValue = `[${themesString}]`;
      }
      const availableThemesRegex = /\/\/ \[CONFIG:AVAILABLE_THEMES\]\s*\n\s*availableThemes:\s*(?:"default"|\[[^\]]*\])/;
      modifiedConfig = modifiedConfig.replace(
        availableThemesRegex,
        `// [CONFIG:AVAILABLE_THEMES]
  availableThemes: ${availableThemesValue}`
      );
    }
    if (settings.customThemes !== void 0) {
      const customThemesValue = settings.customThemes ? `"${settings.customThemes}"` : '""';
      const customThemesRegex = /\/\/ \[CONFIG:CUSTOM_THEMES\]\s*\n\s*customThemes:\s*"[^"]*"/;
      modifiedConfig = modifiedConfig.replace(
        customThemesRegex,
        `// [CONFIG:CUSTOM_THEMES]
  customThemes: ${customThemesValue}`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_SOURCE\]\s*\n\s*source:\s*"[^"]*"/,
      `// [CONFIG:FONT_SOURCE]
    source: "${settings.typography.fontSource}"`
    );
    if (settings.typography.fontDisplay) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:FONT_DISPLAY\]\s*\n\s*display:\s*"[^"]*"/,
        `// [CONFIG:FONT_DISPLAY]
    display: "${settings.typography.fontDisplay}"`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_BODY\]\s*\n\s*body:\s*"[^"]*"/,
      `// [CONFIG:FONT_BODY]
      body: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.prose : settings.typography.proseFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_HEADING\]\s*\n\s*heading:\s*"[^"]*"/,
      `// [CONFIG:FONT_HEADING]
      heading: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.heading : settings.typography.headingFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FONT_MONO\]\s*\n\s*mono:\s*"[^"]*"/,
      `// [CONFIG:FONT_MONO]
      mono: "${settings.typography.fontSource === "cdn" ? settings.typography.customFonts.mono : settings.typography.monoFont}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:DEPLOYMENT_PLATFORM\]\s*\n\s*platform:\s*"[^"]*"/,
      `// [CONFIG:DEPLOYMENT_PLATFORM]
    platform: "${settings.deployment.platform}"`
    );
    if ((_a = settings.layout) == null ? void 0 : _a.contentWidth) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:LAYOUT_CONTENT_WIDTH\]\s*\n\s*contentWidth:\s*"[^"]*"/,
        `// [CONFIG:LAYOUT_CONTENT_WIDTH]
    contentWidth: "${settings.layout.contentWidth}"`
      );
    }
    if (settings.tableOfContents) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:TABLE_OF_CONTENTS_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
        `// [CONFIG:TABLE_OF_CONTENTS_ENABLED]
    enabled: ${settings.tableOfContents.enabled}`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:TABLE_OF_CONTENTS_DEPTH\]\s*\n\s*depth:\s*\d+/,
        `// [CONFIG:TABLE_OF_CONTENTS_DEPTH]
    depth: ${settings.tableOfContents.depth}`
      );
    }
    if (settings.footer) {
      if (settings.footer.enabled !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
          `// [CONFIG:FOOTER_ENABLED]
    enabled: ${settings.footer.enabled}`
        );
      }
      if (settings.footer.content) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_CONTENT\]\s*\n\s*content:\s*`[^`]*`/,
          `// [CONFIG:FOOTER_CONTENT]
    content: \`${settings.footer.content}\``
        );
      }
      if (settings.footer.showSocialIconsInFooter !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:FOOTER_SHOW_SOCIAL_ICONS\]\s*\n\s*showSocialIconsInFooter:\s*(true|false)/,
          `// [CONFIG:FOOTER_SHOW_SOCIAL_ICONS]
    showSocialIconsInFooter: ${settings.footer.showSocialIconsInFooter}`
        );
      }
    }
    if (((_b = settings.siteInfo) == null ? void 0 : _b.faviconThemeAdaptive) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:FAVICON_THEME_ADAPTIVE\]\s*\n\s*faviconThemeAdaptive:\s*(true|false)/,
        `// [CONFIG:FAVICON_THEME_ADAPTIVE]
  faviconThemeAdaptive: ${settings.siteInfo.faviconThemeAdaptive}`
      );
    }
    const defaultOgImageAlt = ((_c = settings.siteInfo) == null ? void 0 : _c.defaultOgImageAlt) || ((_d = settings.seo) == null ? void 0 : _d.defaultOgImageAlt);
    if (defaultOgImageAlt) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:SEO_DEFAULT_OG_IMAGE_ALT\]\s*\n\s*defaultOgImageAlt:\s*"[^"]*"/,
        `// [CONFIG:SEO_DEFAULT_OG_IMAGE_ALT]
    defaultOgImageAlt: "${defaultOgImageAlt}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:DEFAULT_OG_IMAGE_ALT\]\s*\n\s*defaultOgImageAlt:\s*"[^"]*"/,
        `// [CONFIG:DEFAULT_OG_IMAGE_ALT]
  defaultOgImageAlt: "${defaultOgImageAlt}"`
      );
    }
    if (settings.navigation) {
      if (settings.navigation.showNavigation !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SHOW_NAVIGATION\]\s*\n\s*showNavigation:\s*(true|false)/,
          `// [CONFIG:NAVIGATION_SHOW_NAVIGATION]
    showNavigation: ${settings.navigation.showNavigation}`
        );
      }
      if (settings.navigation.style) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_STYLE\]\s*\n\s*style:\s*"[^"]*"/,
          `// [CONFIG:NAVIGATION_STYLE]
    style: "${settings.navigation.style}"`
        );
      }
      if (settings.navigation.showMobileMenu !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SHOW_MOBILE_MENU\]\s*\n\s*showMobileMenu:\s*(true|false)/,
          `// [CONFIG:NAVIGATION_SHOW_MOBILE_MENU]
    showMobileMenu: ${settings.navigation.showMobileMenu}`
        );
      }
      if (settings.navigation.pages) {
        const serializeNavigationItem = (item, indent = "      ") => {
          let result = `${indent}{ title: "${item.title}"`;
          if (item.url) {
            result += `, url: "${item.url}"`;
          }
          if (item.children && item.children.length > 0) {
            result += `,
${indent}  children: [
`;
            result += item.children.map((child) => {
              let childResult = `${indent}    { title: "${child.title}", url: "${child.url}" }`;
              return childResult;
            }).join(",\n");
            result += `
${indent}  ]`;
          }
          result += " }";
          return result;
        };
        const pagesArray = settings.navigation.pages.map((page) => serializeNavigationItem(page)).join(",\n");
        const pagesValue = pagesArray ? `[
${pagesArray}
    ]` : "[]";
        const pagesMarker = "// [CONFIG:NAVIGATION_PAGES]";
        const socialMarker = "// [CONFIG:NAVIGATION_SOCIAL]";
        const pagesMarkerIndex = modifiedConfig.indexOf(pagesMarker);
        const socialMarkerIndex = modifiedConfig.indexOf(socialMarker);
        if (pagesMarkerIndex !== -1 && socialMarkerIndex !== -1) {
          const pagesArrayStart = modifiedConfig.indexOf("pages: [", pagesMarkerIndex);
          if (pagesArrayStart !== -1) {
            const before = modifiedConfig.substring(0, pagesMarkerIndex + pagesMarker.length);
            const after = modifiedConfig.substring(socialMarkerIndex);
            modifiedConfig = `${before}
    pages: ${pagesValue},
    ${after}`;
          }
        }
      }
      if (settings.navigation.social) {
        const socialArray = settings.navigation.social.map(
          (social) => `      {
        title: "${social.title}",
        url: "${social.url}",
        icon: "${social.icon}",
      }`
        ).join(",\n");
        const socialValue = socialArray ? `[
${socialArray},
    ]` : "[]";
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:NAVIGATION_SOCIAL\]\s*\n\s*social:\s*\[[\s\S]*?\]/,
          `// [CONFIG:NAVIGATION_SOCIAL]
    social: ${socialValue}`
        );
      }
    }
    if (settings.commandPalette) {
      if (settings.commandPalette.enabled !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
          `// [CONFIG:COMMAND_PALETTE_ENABLED]
    enabled: ${settings.commandPalette.enabled}`
        );
      }
      if (settings.commandPalette.shortcut) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_SHORTCUT\]\s*\n\s*shortcut:\s*"[^"]*"/,
          `// [CONFIG:COMMAND_PALETTE_SHORTCUT]
    shortcut: "${settings.commandPalette.shortcut}"`
        );
      }
      if (settings.commandPalette.placeholder) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:COMMAND_PALETTE_PLACEHOLDER\]\s*\n\s*placeholder:\s*"[^"]*"/,
          `// [CONFIG:COMMAND_PALETTE_PLACEHOLDER]
    placeholder: "${settings.commandPalette.placeholder}"`
        );
      }
      if (settings.commandPalette.search) {
        if (settings.commandPalette.search.posts !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_POSTS\]\s*\n\s*posts:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_POSTS]
      posts: ${settings.commandPalette.search.posts}`
          );
        }
        if (settings.commandPalette.search.pages !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PAGES\]\s*\n\s*pages:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_PAGES]
      pages: ${settings.commandPalette.search.pages}`
          );
        }
        if (settings.commandPalette.search.projects !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS\]\s*\n\s*projects:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_PROJECTS]
      projects: ${settings.commandPalette.search.projects}`
          );
        }
        if (settings.commandPalette.search.docs !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SEARCH_DOCS\]\s*\n\s*docs:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SEARCH_DOCS]
      docs: ${settings.commandPalette.search.docs}`
          );
        }
      }
      if (settings.commandPalette.sections) {
        if (settings.commandPalette.sections.quickActions !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS\]\s*\n\s*quickActions:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_QUICK_ACTIONS]
      quickActions: ${settings.commandPalette.sections.quickActions}`
          );
        }
        if (settings.commandPalette.sections.pages !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_PAGES\]\s*\n\s*pages:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_PAGES]
      pages: ${settings.commandPalette.sections.pages}`
          );
        }
        if (settings.commandPalette.sections.social !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL\]\s*\n\s*social:\s*(true|false)/,
            `// [CONFIG:COMMAND_PALETTE_SECTIONS_SOCIAL]
      social: ${settings.commandPalette.sections.social}`
          );
        }
      }
    }
    if (settings.homeOptions) {
      if (settings.homeOptions.featuredPost) {
        if (settings.homeOptions.featuredPost.enabled !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_ENABLED]
      enabled: ${settings.homeOptions.featuredPost.enabled}`
          );
        }
        if (settings.homeOptions.featuredPost.type) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE\]\s*\n\s*type:\s*"[^"]*"/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_TYPE]
      type: "${settings.homeOptions.featuredPost.type}"`
          );
        }
        if (settings.homeOptions.featuredPost.slug) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_FEATURED_POST_SLUG\]\s*\n\s*slug:\s*"[^"]*"/,
            `// [CONFIG:HOME_OPTIONS_FEATURED_POST_SLUG]
      slug: "${settings.homeOptions.featuredPost.slug}"`
          );
        }
      }
      if (settings.homeOptions.recentPosts) {
        if (settings.homeOptions.recentPosts.enabled !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_RECENT_POSTS_ENABLED]
      enabled: ${settings.homeOptions.recentPosts.enabled}`
          );
        }
        if (settings.homeOptions.recentPosts.count) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT\]\s*\n\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_RECENT_POSTS_COUNT]
      count: ${settings.homeOptions.recentPosts.count}`
          );
        }
      }
      if (settings.homeOptions.projects) {
        if (settings.homeOptions.projects.enabled !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_PROJECTS_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_PROJECTS_ENABLED]
      enabled: ${settings.homeOptions.projects.enabled}`
          );
        }
        if (settings.homeOptions.projects.count) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_PROJECTS_COUNT\]\s*\n\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_PROJECTS_COUNT]
      count: ${settings.homeOptions.projects.count}`
          );
        }
      }
      if (settings.homeOptions.docs) {
        if (settings.homeOptions.docs.enabled !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_DOCS_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
            `// [CONFIG:HOME_OPTIONS_DOCS_ENABLED]
      enabled: ${settings.homeOptions.docs.enabled}`
          );
        }
        if (settings.homeOptions.docs.count) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:HOME_OPTIONS_DOCS_COUNT\]\s*\n\s*count:\s*\d+/,
            `// [CONFIG:HOME_OPTIONS_DOCS_COUNT]
      count: ${settings.homeOptions.docs.count}`
          );
        }
      }
      if ((_e = settings.homeOptions.blurb) == null ? void 0 : _e.placement) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:HOME_OPTIONS_BLURB_PLACEMENT\]\s*\n\s*placement:\s*"[^"]*"/,
          `// [CONFIG:HOME_OPTIONS_BLURB_PLACEMENT]
      placement: "${settings.homeOptions.blurb.placement}"`
        );
      }
    }
    if (settings.postOptions) {
      if (settings.postOptions.postsPerPage) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_POSTS_PER_PAGE\]\s*\n\s*postsPerPage:\s*\d+/,
          `// [CONFIG:POST_OPTIONS_POSTS_PER_PAGE]
    postsPerPage: ${settings.postOptions.postsPerPage}`
        );
      }
      if (settings.postOptions.wordCount !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_WORD_COUNT\]\s*\n\s*wordCount:\s*(true|false)/,
          `// [CONFIG:POST_OPTIONS_WORD_COUNT]
    wordCount: ${settings.postOptions.wordCount}`
        );
      }
      if (settings.postOptions.tags !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_TAGS\]\s*\n\s*tags:\s*(true|false)/,
          `// [CONFIG:POST_OPTIONS_TAGS]
    tags: ${settings.postOptions.tags}`
        );
      }
      if (settings.postOptions.linkedMentions) {
        if (settings.postOptions.linkedMentions.linkedMentionsCompact !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT\]\s*\n\s*linkedMentionsCompact:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT]
      linkedMentionsCompact: ${settings.postOptions.linkedMentions.linkedMentionsCompact}`
          );
        }
      }
      if (settings.postOptions.graphView) {
        if (settings.postOptions.graphView.showInSidebar !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR\]\s*\n\s*showInSidebar:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_IN_SIDEBAR]
      showInSidebar: ${settings.postOptions.graphView.showInSidebar}`
          );
        }
        if (settings.postOptions.graphView.maxNodes) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES\]\s*\n\s*maxNodes:\s*\d+/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_MAX_NODES]
      maxNodes: ${settings.postOptions.graphView.maxNodes}`
          );
        }
        if (settings.postOptions.graphView.showOrphanedPosts !== void 0) {
          modifiedConfig = modifiedConfig.replace(
            /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS\]\s*\n\s*showOrphanedPosts:\s*(true|false)/,
            `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_SHOW_ORPHANED_POSTS]
      showOrphanedPosts: ${settings.postOptions.graphView.showOrphanedPosts}`
          );
        }
      }
      if (settings.postOptions.customPostCardAspectRatio) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO\]\s*\n\s*customPostCardAspectRatio:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO]
    customPostCardAspectRatio: "${settings.postOptions.customPostCardAspectRatio}"`
        );
      }
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:COMMAND_PALETTE_ENABLED\]\s*\n\s*enabled:\s*(true|false)/,
      `// [CONFIG:COMMAND_PALETTE_ENABLED]
    enabled: ${(_g = (_f = settings.commandPalette) == null ? void 0 : _f.enabled) != null ? _g : settings.features.commandPalette}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_READING_TIME\]\s*readingTime:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_READING_TIME]
    readingTime: ${settings.features.readingTime}`
    );
    if (((_h = settings.postOptions) == null ? void 0 : _h.wordCount) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_WORD_COUNT\]\s*wordCount:\s*(true|false)/,
        `// [CONFIG:POST_OPTIONS_WORD_COUNT]
    wordCount: ${settings.postOptions.wordCount}`
      );
    }
    if (((_i = settings.postOptions) == null ? void 0 : _i.tags) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_TAGS\]\s*tags:\s*(true|false)/,
        `// [CONFIG:POST_OPTIONS_TAGS]
    tags: ${settings.postOptions.tags}`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED\]\s*enabled:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_ENABLED]
      enabled: ${settings.features.linkedMentions}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT\]\s*linkedMentionsCompact:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_LINKED_MENTIONS_COMPACT]
      linkedMentionsCompact: ${(_j = settings.features.linkedMentionsCompact) != null ? _j : false}`
    );
    if (((_l = (_k = settings.optionalFeatures) == null ? void 0 : _k.comments) == null ? void 0 : _l.enabled) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_ENABLED\]\s*enabled:\s*(true|false)/,
        `// [CONFIG:POST_OPTIONS_COMMENTS_ENABLED]
      enabled: ${settings.optionalFeatures.comments.enabled}`
      );
    }
    if (((_m = settings.optionalFeatures) == null ? void 0 : _m.comments) && settings.optionalFeatures.comments.enabled) {
      if (settings.optionalFeatures.comments.provider !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_PROVIDER\]\s*provider:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_PROVIDER]
      provider: "${settings.optionalFeatures.comments.provider || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.repo !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REPO\]\s*repo:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REPO]
      repo: "${settings.optionalFeatures.comments.repo || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.repoId !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REPO_ID\]\s*repoId:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REPO_ID]
      repoId: "${settings.optionalFeatures.comments.repoId || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.category !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_CATEGORY\]\s*category:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_CATEGORY]
      category: "${settings.optionalFeatures.comments.category || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.categoryId !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID\]\s*categoryId:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_CATEGORY_ID]
      categoryId: "${settings.optionalFeatures.comments.categoryId || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.mapping !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_MAPPING\]\s*mapping:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_MAPPING]
      mapping: "${settings.optionalFeatures.comments.mapping || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.strict !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_STRICT\]\s*strict:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_STRICT]
      strict: "${settings.optionalFeatures.comments.strict || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.reactions !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_REACTIONS\]\s*reactions:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_REACTIONS]
      reactions: "${settings.optionalFeatures.comments.reactions || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.metadata !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_METADATA\]\s*metadata:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_METADATA]
      metadata: "${settings.optionalFeatures.comments.metadata || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.inputPosition !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION\]\s*inputPosition:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_INPUT_POSITION]
      inputPosition: "${settings.optionalFeatures.comments.inputPosition || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.theme !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_THEME\]\s*theme:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_THEME]
      theme: "${settings.optionalFeatures.comments.theme || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.lang !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_LANG\]\s*lang:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_LANG]
      lang: "${settings.optionalFeatures.comments.lang || ""}"`
        );
      }
      if (settings.optionalFeatures.comments.loading !== void 0) {
        modifiedConfig = modifiedConfig.replace(
          /\/\/ \[CONFIG:POST_OPTIONS_COMMENTS_LOADING\]\s*loading:\s*"[^"]*"/,
          `// [CONFIG:POST_OPTIONS_COMMENTS_LOADING]
      loading: "${settings.optionalFeatures.comments.loading || ""}"`
        );
      }
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED\]\s*enabled:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_GRAPH_VIEW_ENABLED]
      enabled: ${(_p = (_o = (_n = settings.postOptions) == null ? void 0 : _n.graphView) == null ? void 0 : _o.enabled) != null ? _p : settings.features.graphView}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_POST_NAVIGATION\]\s*postNavigation:\s*(true|false)/,
      `// [CONFIG:POST_OPTIONS_POST_NAVIGATION]
    postNavigation: ${settings.features.postNavigation}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/\s*\[CONFIG:HIDE_SCROLL_BAR\]\s*hideScrollBar:\s*(true|false)/,
      `//[CONFIG:HIDE_SCROLL_BAR]
  hideScrollBar: ${settings.features.hideScrollBar}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:SCROLL_TO_TOP\]\s*scrollToTop:\s*(true|false)/,
      `// [CONFIG:SCROLL_TO_TOP]
  scrollToTop: ${settings.features.scrollToTop}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FOOTER_SHOW_SOCIAL_ICONS\]\s*showSocialIconsInFooter:\s*[^,\n}]+/,
      `// [CONFIG:FOOTER_SHOW_SOCIAL_ICONS]
    showSocialIconsInFooter: ${settings.features.showSocialIconsInFooter}`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:FEATURE_BUTTON\]\s*featureButton:\s*"[^"]*"/,
      `// [CONFIG:FEATURE_BUTTON]
  featureButton: "${settings.features.featureButton}"`
    );
    if ((_q = settings.features) == null ? void 0 : _q.quickActions) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED\]\s*enabled:\s*(true|false)/,
        `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_ENABLED]
      enabled: ${settings.features.quickActions.enabled}`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE\]\s*toggleMode:\s*(true|false)/,
        `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_TOGGLE_MODE]
      toggleMode: ${settings.features.quickActions.toggleMode}`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW\]\s*graphView:\s*(true|false)/,
        `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_GRAPH_VIEW]
      graphView: ${settings.features.quickActions.graphView}`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME\]\s*changeTheme:\s*(true|false)/,
        `// [CONFIG:COMMAND_PALETTE_QUICK_ACTIONS_CHANGE_THEME]
      changeTheme: ${settings.features.quickActions.changeTheme}`
      );
    }
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES\]\s*showPostCardCoverImages:\s*"[^"]*"/,
      `// [CONFIG:POST_OPTIONS_SHOW_POST_CARD_COVER_IMAGES]
    showPostCardCoverImages: "${settings.postOptions.showPostCardCoverImages}"`
    );
    modifiedConfig = modifiedConfig.replace(
      /\/\/ \[CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO\]\s*postCardAspectRatio:\s*"[^"]*"/,
      `// [CONFIG:POST_OPTIONS_POST_CARD_ASPECT_RATIO]
    postCardAspectRatio: "${settings.postOptions.postCardAspectRatio}"`
    );
    if (settings.postOptions.customPostCardAspectRatio) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO\]\s*customPostCardAspectRatio:\s*"[^"]*"/,
        `// [CONFIG:POST_OPTIONS_CUSTOM_POST_CARD_ASPECT_RATIO]
    customPostCardAspectRatio: "${settings.postOptions.customPostCardAspectRatio}"`
      );
    }
    if (((_s = (_r = settings.optionalFeatures) == null ? void 0 : _r.profilePicture) == null ? void 0 : _s.enabled) !== void 0) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_ENABLED\]\s*enabled:\s*(true|false)/,
        `// [CONFIG:PROFILE_PICTURE_ENABLED]
    enabled: ${settings.optionalFeatures.profilePicture.enabled}`
      );
    }
    if ((_u = (_t = settings.optionalFeatures) == null ? void 0 : _t.profilePicture) == null ? void 0 : _u.enabled) {
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_IMAGE\]\s*image:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_IMAGE]
    image: "${settings.optionalFeatures.profilePicture.image}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_ALT\]\s*alt:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_ALT]
    alt: "${settings.optionalFeatures.profilePicture.alt}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_SIZE\]\s*size:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_SIZE]
    size: "${settings.optionalFeatures.profilePicture.size}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_URL\]\s*url:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_URL]
    url: "${settings.optionalFeatures.profilePicture.url || ""}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_PLACEMENT\]\s*placement:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_PLACEMENT]
    placement: "${settings.optionalFeatures.profilePicture.placement}"`
      );
      modifiedConfig = modifiedConfig.replace(
        /\/\/ \[CONFIG:PROFILE_PICTURE_STYLE\]\s*style:\s*"[^"]*"/,
        `// [CONFIG:PROFILE_PICTURE_STYLE]
    style: "${settings.optionalFeatures.profilePicture.style}"`
      );
    }
    return modifiedConfig;
  }
};

// src/presets/standard.json
var standard_exports = {};
__export(standard_exports, {
  config: () => config,
  default: () => standard_default,
  description: () => description,
  name: () => name
});
var name = "Standard";
var description = "Full-featured blog with all options enabled";
var config = {
  currentTemplate: "standard",
  features: {
    commandPalette: true,
    readingTime: true,
    linkedMentions: true,
    linkedMentionsCompact: false,
    graphView: true,
    postNavigation: true,
    hideScrollBar: false,
    scrollToTop: true,
    showSocialIconsInFooter: true,
    profilePicture: false,
    comments: false,
    featureButton: "mode",
    quickActions: {
      enabled: true,
      toggleMode: true,
      graphView: true,
      changeTheme: true
    }
  },
  tableOfContents: {
    enabled: true,
    depth: 4
  }
};
var standard_default = {
  name,
  description,
  config
};

// src/presets/minimal.json
var minimal_exports = {};
__export(minimal_exports, {
  config: () => config2,
  default: () => minimal_default,
  description: () => description2,
  name: () => name2
});
var name2 = "Minimal";
var description2 = "Clean, simple blog with minimal features";
var config2 = {
  currentTemplate: "minimal",
  features: {
    commandPalette: true,
    readingTime: false,
    linkedMentions: false,
    linkedMentionsCompact: false,
    graphView: false,
    postNavigation: false,
    hideScrollBar: true,
    scrollToTop: false,
    showSocialIconsInFooter: false,
    profilePicture: false,
    comments: false,
    featureButton: "none",
    quickActions: {
      enabled: false,
      toggleMode: false,
      graphView: false,
      changeTheme: false
    }
  },
  tableOfContents: {
    enabled: false,
    depth: 4
  }
};
var minimal_default = {
  name: name2,
  description: description2,
  config: config2
};

// src/presets/compact.json
var compact_exports = {};
__export(compact_exports, {
  config: () => config3,
  default: () => compact_default,
  description: () => description3,
  name: () => name3
});
var name3 = "Compact";
var description3 = "Balanced setup for smaller sites";
var config3 = {
  currentTemplate: "compact",
  features: {
    commandPalette: true,
    readingTime: true,
    linkedMentions: true,
    linkedMentionsCompact: true,
    graphView: false,
    postNavigation: true,
    hideScrollBar: false,
    scrollToTop: true,
    showSocialIconsInFooter: false,
    profilePicture: false,
    comments: false,
    featureButton: "none",
    quickActions: {
      enabled: true,
      toggleMode: true,
      graphView: false,
      changeTheme: true
    }
  },
  tableOfContents: {
    enabled: true,
    depth: 2
  }
};
var compact_default = {
  name: name3,
  description: description3,
  config: config3
};

// src/utils/ConfigManager.ts
var ConfigManager = class {
  constructor(app) {
    this.app = app;
    this.fileManager = new ConfigFileManager(app);
    this.presetModifier = new ConfigPresetModifier();
  }
  async getConfigFileInfo() {
    return this.fileManager.getConfigFileInfo();
  }
  async readConfig() {
    return this.fileManager.readConfig();
  }
  async writeConfig(content) {
    return this.fileManager.writeConfig(content);
  }
  async applyPreset(preset) {
    const currentConfig = await this.readConfig();
    const modifiedConfig = this.presetModifier.modifyConfigFromPreset(preset, currentConfig);
    const writeResult = await this.writeConfig(modifiedConfig);
    return writeResult;
  }
  async detectAstroDevServer() {
    return this.fileManager.detectAstroDevServer();
  }
  async updateIndividualFeatures(settings) {
    const currentConfig = await this.readConfig();
    const modifiedConfig = this.presetModifier.modifyConfigFromFeatures(settings, currentConfig);
    const writeResult = await this.writeConfig(modifiedConfig);
    return writeResult;
  }
  async updateThemeOnly(theme) {
    const currentConfig = await this.readConfig();
    const modifiedConfig = this.presetModifier.updateThemeInConfig(currentConfig, theme);
    const writeResult = await this.writeConfig(modifiedConfig);
    return writeResult;
  }
  async updateFontOnly(fontType, fontName) {
    const currentConfig = await this.readConfig();
    const modifiedConfig = this.presetModifier.updateFontInConfig(currentConfig, fontType, fontName);
    const writeResult = await this.writeConfig(modifiedConfig);
    return writeResult;
  }
  async updateFeatureOnly(featureName, value) {
    const currentConfig = await this.readConfig();
    const modifiedConfig = this.presetModifier.updateFeatureInConfig(currentConfig, featureName, value);
    const writeResult = await this.writeConfig(modifiedConfig);
    return writeResult;
  }
  async triggerRebuild() {
  }
  getTemplatePreset(templateId) {
    try {
      switch (templateId) {
        case "standard":
          return standard_exports;
        case "minimal":
          return minimal_exports;
        case "compact":
          return compact_exports;
        default:
          console.error(`Unknown template ID: ${templateId}`);
          return null;
      }
    } catch (error) {
      console.error("Error loading template preset:", error);
      return null;
    }
  }
  getTemplateConfig(templateName, settings) {
    return this.presetModifier.getTemplateConfig(templateName, settings);
  }
};

// src/utils/PluginManager.ts
var PluginManager = class {
  constructor(app, getContentOrganization) {
    this.app = app;
    this.getContentOrganization = getContentOrganization;
  }
  async getPluginStatus(contentOrg) {
    var _a;
    const plugins = this.app.plugins;
    const requiredPlugins = [
      "astro-composer",
      "image-manager"
    ];
    const status = [];
    const obsidianSettingsStatus = this.checkObsidianSettings(contentOrg);
    status.push(obsidianSettingsStatus);
    for (const pluginId of requiredPlugins) {
      const plugin = (_a = plugins == null ? void 0 : plugins.plugins) == null ? void 0 : _a[pluginId];
      const isInEnabledSet = (plugins == null ? void 0 : plugins.enabledPlugins) && plugins.enabledPlugins.has(pluginId);
      const isInstalled = this.isPluginInstalled(pluginId);
      let outOfSyncContentTypes;
      if (pluginId === "astro-composer" && plugin) {
        const syncCheck = await this.checkAstroComposerSettings(plugin, contentOrg);
        if (syncCheck) {
          outOfSyncContentTypes = syncCheck.outOfSyncContentTypes;
        }
      }
      let imageManagerSettingsMatch = true;
      if (pluginId === "image-manager" && plugin && isInstalled && isInEnabledSet) {
        imageManagerSettingsMatch = this.checkImageManagerSettings(plugin, contentOrg);
      }
      status.push({
        name: this.getPluginDisplayName(pluginId),
        installed: isInstalled,
        enabled: isInEnabledSet || false,
        configurable: this.isPluginConfigurable(pluginId),
        currentSettings: plugin ? await this.getPluginSettings(plugin) : void 0,
        outOfSyncContentTypes,
        settingsMatch: pluginId === "image-manager" ? imageManagerSettingsMatch : void 0
      });
    }
    return status;
  }
  isPluginInstalled(pluginId) {
    var _a;
    const appPlugins = this.app.plugins;
    const communityPlugins = appPlugins == null ? void 0 : appPlugins.communityPlugins;
    if (communityPlugins && Array.isArray(communityPlugins)) {
      return communityPlugins.includes(pluginId);
    }
    return !!((_a = appPlugins == null ? void 0 : appPlugins.plugins) == null ? void 0 : _a[pluginId]);
  }
  getPluginDisplayName(pluginId) {
    const names = {
      "astro-composer": "Astro Composer",
      "image-manager": "Image Manager"
    };
    return names[pluginId] || pluginId;
  }
  checkObsidianSettings(contentOrg) {
    var _a;
    const contentOrgValue = contentOrg || ((_a = this.getContentOrganization) == null ? void 0 : _a.call(this)) || "file-based";
    const vaultConfig = this.app.vault.config;
    const expectedLocation = contentOrgValue === "file-based" ? "subfolder" : "same-folder";
    const expectedSubfolder = "attachments";
    let isConfigured = false;
    const attachmentPath = ((vaultConfig == null ? void 0 : vaultConfig.attachmentFolderPath) || "").trim();
    const normalizedPath = attachmentPath.replace(/\/+$/, "");
    if (expectedLocation === "subfolder") {
      isConfigured = normalizedPath === `./${expectedSubfolder}` || normalizedPath === `${expectedSubfolder}` || normalizedPath.endsWith(`/${expectedSubfolder}`) || normalizedPath === `.${expectedSubfolder}` || normalizedPath === `${expectedSubfolder}/` || normalizedPath === `./${expectedSubfolder}/`;
    } else {
      isConfigured = normalizedPath === "./" || normalizedPath === "" || normalizedPath === "." || normalizedPath === void 0 || normalizedPath === null;
    }
    return {
      name: "Attachment settings",
      installed: isConfigured,
      // Use installed field to indicate configured status
      enabled: false,
      // Not applicable for settings
      configurable: true,
      currentSettings: void 0
    };
  }
  async checkAstroComposerSettings(plugin, contentOrg) {
    var _a;
    const contentOrgValue = contentOrg || ((_a = this.getContentOrganization) == null ? void 0 : _a.call(this)) || "file-based";
    const expectedMode = contentOrgValue === "file-based" ? "file" : "folder";
    try {
      const pluginSettings = plugin.settings;
      if (!pluginSettings) {
        return null;
      }
      const mismatchedTypes = [];
      if (Array.isArray(pluginSettings.contentTypes)) {
        const expectedContentTypes = ["posts", "pages", "projects", "docs"];
        for (const expectedType of expectedContentTypes) {
          const contentType = pluginSettings.contentTypes.find(
            (ct) => ct && typeof ct === "object" && ct !== null && "folder" in ct && typeof ct.folder === "string" && ct.folder.toLowerCase() === expectedType
          );
          if (contentType) {
            if (contentType.enabled !== false) {
              if (contentType.creationMode !== expectedMode) {
                mismatchedTypes.push(expectedType);
              }
            }
          } else {
          }
        }
      } else {
        if (pluginSettings.creationMode && typeof pluginSettings.creationMode === "string") {
          if (pluginSettings.creationMode !== expectedMode) {
            mismatchedTypes.push("posts");
          }
        } else {
          mismatchedTypes.push("posts");
        }
        if (pluginSettings.pagesCreationMode) {
          if (pluginSettings.pagesCreationMode !== expectedMode) {
            mismatchedTypes.push("pages");
          }
        } else {
          mismatchedTypes.push("pages");
        }
        if (Array.isArray(pluginSettings.customContentTypes)) {
          for (const contentType of ["projects", "docs"]) {
            const customType = pluginSettings.customContentTypes.find(
              (ct) => ct && typeof ct === "object" && ct !== null && "folder" in ct && typeof ct.folder === "string" && ct.folder.toLowerCase() === contentType
            );
            if (customType && customType.creationMode) {
              if (customType.creationMode !== expectedMode) {
                mismatchedTypes.push(contentType);
              }
            } else {
              mismatchedTypes.push(contentType);
            }
          }
        } else {
          mismatchedTypes.push("projects", "docs");
        }
      }
      if (mismatchedTypes.length === 0) {
        return null;
      }
      return { outOfSyncContentTypes: mismatchedTypes };
    } catch (error) {
      console.error("Failed to check Astro Composer settings:", error);
      return null;
    }
  }
  checkImageManagerSettings(plugin, contentOrg) {
    var _a;
    const contentOrgValue = contentOrg || ((_a = this.getContentOrganization) == null ? void 0 : _a.call(this)) || "file-based";
    const expectedFormat = contentOrgValue === "file-based" ? "[[attachments/{image-url}]]" : "[[{image-url}]]";
    try {
      const pluginSettings = plugin.settings;
      if (!pluginSettings) {
        return false;
      }
      const propertyLinkFormat = pluginSettings.propertyLinkFormat;
      if (propertyLinkFormat !== "custom") {
        return false;
      }
      const actualFormat = pluginSettings.customPropertyLinkFormat;
      return actualFormat === expectedFormat;
    } catch (error) {
      console.error("Failed to check Image Manager settings:", error);
      return false;
    }
  }
  isPluginConfigurable(pluginId) {
    const configurablePlugins = [
      "astro-composer",
      "image-manager"
    ];
    return configurablePlugins.includes(pluginId);
  }
  async getPluginSettings(plugin) {
    const pluginWithSettings = plugin;
    return pluginWithSettings.settings;
  }
  async configurePlugins(config4) {
    let successCount = 0;
    try {
      await this.configureObsidianSettings(config4.obsidianSettings);
      successCount++;
      await this.configureAstroComposerSettings(config4.astroComposerSettings);
      successCount++;
      await this.configureImageManagerSettings(config4.imageManagerSettings);
      successCount++;
      return successCount > 0;
    } catch (error) {
      console.error("Plugin configuration failed:", error);
      return false;
    }
  }
  async configureObsidianSettings(settings) {
    try {
      const app = this.app;
      const targetPath = settings.attachmentLocation === "subfolder" ? `./${settings.subfolderName}` : "./";
      if (app.setting && typeof app.setting.set === "function") {
        await app.setting.set("attachmentFolderPath", targetPath);
        await app.setting.set("newLinkFormat", "relative");
        if (typeof app.setting.save === "function") {
          await app.setting.save();
        }
      } else {
        const vault = this.app.vault;
        const obsidianSettings = vault.config;
        if (obsidianSettings) {
          obsidianSettings.newLinkFormat = "relative";
          obsidianSettings.attachmentFolderPath = targetPath;
          if (typeof vault.saveConfig === "function") {
            await vault.saveConfig();
          }
        }
      }
    } catch (error) {
      console.error("Failed to configure Obsidian settings:", error);
      throw error;
    }
  }
  async configureAstroComposerSettings(settings) {
    var _a;
    try {
      const plugins = this.app.plugins;
      const astroComposerPlugin = (_a = plugins == null ? void 0 : plugins.plugins) == null ? void 0 : _a["astro-composer"];
      if (!astroComposerPlugin) {
        console.warn("Astro Composer plugin not found");
        return;
      }
      const astroComposerPluginWithSettings = astroComposerPlugin;
      if (!astroComposerPluginWithSettings.settings) {
        console.warn("Astro Composer plugin settings not available");
        return;
      }
      const pluginSettings = astroComposerPluginWithSettings.settings;
      const creationMode = settings.creationMode;
      if (Array.isArray(pluginSettings.contentTypes)) {
        const contentTypesToUpdate = ["posts", "pages", "projects", "docs"];
        for (const contentType of pluginSettings.contentTypes) {
          if (contentType && typeof contentType === "object" && contentType !== null) {
            const contentTypeObj = contentType;
            const folderName = (typeof contentTypeObj.folder === "string" ? contentTypeObj.folder : "").toLowerCase();
            if (contentTypesToUpdate.includes(folderName)) {
              contentTypeObj.creationMode = creationMode;
            }
          }
        }
      } else {
        pluginSettings.creationMode = creationMode;
        pluginSettings.pagesCreationMode = creationMode;
        if (Array.isArray(pluginSettings.customContentTypes)) {
          for (const customType of pluginSettings.customContentTypes) {
            if (customType && typeof customType === "object" && customType !== null) {
              const customTypeObj = customType;
              const folderName = (typeof customTypeObj.folder === "string" ? customTypeObj.folder : "").toLowerCase();
              if (folderName === "projects" || folderName === "docs") {
                customTypeObj.creationMode = creationMode;
              }
            }
          }
        }
      }
      pluginSettings.indexFileName = settings.indexFileName;
      const pluginWithSave = astroComposerPlugin;
      const saveSettings = pluginWithSave.saveSettings;
      if (saveSettings && typeof saveSettings === "function") {
        await saveSettings();
      }
    } catch (error) {
      console.error("Failed to configure Astro Composer:", error);
      throw error;
    }
  }
  async configureImageManagerSettings(settings) {
    var _a;
    try {
      const plugins = this.app.plugins;
      const imageManagerPlugin = (_a = plugins == null ? void 0 : plugins.plugins) == null ? void 0 : _a["image-manager"];
      const imageManagerPluginWithSettings = imageManagerPlugin;
      if (imageManagerPluginWithSettings && imageManagerPluginWithSettings.settings) {
        const pluginSettings = imageManagerPluginWithSettings.settings;
        pluginSettings.propertyLinkFormat = "custom";
        pluginSettings.customPropertyLinkFormat = settings.customPropertyLinkFormat;
        const pluginWithSave = imageManagerPlugin;
        const saveSettings = pluginWithSave.saveSettings;
        if (saveSettings && typeof saveSettings === "function") {
          await saveSettings();
        }
      }
    } catch (error) {
      console.error("Failed to configure Image Manager:", error);
    }
  }
  async getManualConfigurationInstructions(config4) {
    let instructions = "## Obsidian Settings\n";
    instructions += `1. Go to **Settings \u2192 Files & Links**
`;
    instructions += `2. Set **Default location for new attachments** to: `;
    instructions += config4.obsidianSettings.attachmentLocation === "subfolder" ? `**"In subfolder under current folder"**
` : `**"Same folder as current file"**
`;
    if (config4.obsidianSettings.attachmentLocation === "subfolder") {
      instructions += `3. Set **Subfolder name** to: **"${config4.obsidianSettings.subfolderName}"**
`;
    }
    instructions += "## Astro Composer Plugin\n";
    instructions += `1. Go to **Settings \u2192 Community plugins \u2192 Astro Composer**
`;
    instructions += `2. Set **Creation mode** to: "${config4.astroComposerSettings.creationMode === "file" ? "File-based" : "Folder-based"}"
`;
    instructions += `3. Ensure **Creation mode** is set to "${config4.astroComposerSettings.creationMode === "file" ? "File-based" : "Folder-based"}" for all content types:
`;
    instructions += `   - Posts
`;
    instructions += `   - Pages
`;
    instructions += `   - Projects
`;
    instructions += `   - Docs
`;
    if (config4.astroComposerSettings.creationMode === "folder") {
      instructions += `4. Set **Index file name** to: "${config4.astroComposerSettings.indexFileName}"
`;
    }
    instructions += "## Image Manager Plugin\n";
    instructions += `1. Go to **Settings \u2192 Community plugins \u2192 Image Manager**
`;
    instructions += `2. Set **Property insertion \u2192 Property link format** to: **"Custom format"**
`;
    instructions += `3. Set **Property insertion \u2192 Custom format template** to: "${config4.imageManagerSettings.customPropertyLinkFormat}"
`;
    instructions += "**Note**: After making these changes, you should see them reflected in Obsidian's settings interface. If the automatic configuration worked, these settings should already be applied.\n";
    return instructions;
  }
};

// src/main.ts
var AstroModularSettingsPlugin = class extends import_obsidian19.Plugin {
  async onload() {
    await this.loadSettings();
    this.configManager = new ConfigManager(this.app);
    this.pluginManager = new PluginManager(this.app, () => this.settings.contentOrganization);
    registerCommands(this);
    this.settingsTab = new AstroModularSettingsTab(this.app, this);
    this.addSettingTab(this.settingsTab);
    if (!this.settings.removeRibbonIcon) {
      this.ribbonIcon = this.addRibbonIcon("wand-sparkles", "Open wizard", async () => {
        await this.loadSettings();
        const wizard = new SetupWizardModal(this.app, this);
        wizard.open();
      });
      if (this.ribbonIcon) {
        this.ribbonIcon.setAttribute("data-astro-modular-settings-ribbon", "true");
      }
    }
    if (this.settings.runWizardOnStartup) {
      this.startupTimeoutId = window.setTimeout(() => {
        void (async () => {
          await this.loadSettings();
          if (this.settings.runWizardOnStartup) {
            const wizard = new SetupWizardModal(this.app, this);
            wizard.open();
          }
        })();
      }, 2e3);
    }
    this.setupRibbonContextMenuHandling();
  }
  onunload() {
    if (this.startupTimeoutId) {
      window.clearTimeout(this.startupTimeoutId);
      this.startupTimeoutId = void 0;
    }
    if (this.ribbonIcon) {
      this.ribbonIcon.remove();
      this.ribbonIcon = void 0;
    }
    if (this.ribbonContextMenuObserver) {
      this.ribbonContextMenuObserver.disconnect();
      this.ribbonContextMenuObserver = void 0;
    }
    document.body.removeAttribute("data-astro-modular-ribbon-removed");
  }
  async loadSettings() {
    const data = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, data);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  // Public method to open settings (called by commands)
  openSettings() {
    this.app.setting.open();
    this.app.setting.openTabById(this.manifest.id);
  }
  // Method to trigger settings refresh
  async triggerSettingsRefresh() {
    await this.loadSettings();
    if (this.settingsTab) {
      this.settingsTab.render();
    }
  }
  // Method to update ribbon icon based on settings
  async updateRibbonIcon() {
    await this.loadSettings();
    if (this.ribbonIcon) {
      if (this.ribbonIcon.parentElement && document.body.contains(this.ribbonIcon)) {
        this.ribbonIcon.remove();
      }
      this.ribbonIcon = void 0;
    }
    const ourRibbonIcon = document.querySelector('[data-astro-modular-settings-ribbon="true"]');
    if (ourRibbonIcon) {
      ourRibbonIcon.remove();
    }
    const leftSidebar = document.querySelector(".sidebar-left");
    if (leftSidebar) {
      const allIcons = leftSidebar.querySelectorAll(".clickable-icon, .sidebar-toggle-button");
      for (const icon of Array.from(allIcons)) {
        const svg = icon.querySelector("svg");
        if (svg) {
          const iconName = svg.getAttribute("data-lucide") || svg.getAttribute("xmlns:lucide");
          if (iconName === "wand-sparkles" || svg.classList.contains("lucide-wand-sparkles")) {
            const ribbonArea = icon.closest(".sidebar-left-content, .workspace-ribbon");
            if (ribbonArea) {
              icon.remove();
              break;
            }
          }
        }
      }
    }
    this.updateRibbonContextMenuCSS();
    this.setupRibbonContextMenuObserver();
    if (this.settings.removeRibbonIcon) {
      const existingMenus = document.querySelectorAll(".menu");
      for (const menu of Array.from(existingMenus)) {
        this.removeRibbonIconFromContextMenu(menu);
      }
    }
    if (!this.settings.removeRibbonIcon) {
      this.ribbonIcon = this.addRibbonIcon("wand-sparkles", "Open wizard", async () => {
        await this.loadSettings();
        const wizard = new SetupWizardModal(this.app, this);
        wizard.open();
      });
      if (this.ribbonIcon) {
        this.ribbonIcon.setAttribute("data-astro-modular-settings-ribbon", "true");
      }
    }
  }
  // Ribbon context menu handling
  setupRibbonContextMenuHandling() {
    this.updateRibbonContextMenuCSS();
    this.setupRibbonContextMenuObserver();
  }
  updateRibbonContextMenuCSS() {
    if (this.settings.removeRibbonIcon) {
      document.body.setAttribute("data-astro-modular-ribbon-removed", "true");
    } else {
      document.body.removeAttribute("data-astro-modular-ribbon-removed");
    }
  }
  setupRibbonContextMenuObserver() {
    if (this.ribbonContextMenuObserver) {
      this.ribbonContextMenuObserver.disconnect();
    }
    if (!this.settings.removeRibbonIcon) {
      return;
    }
    this.ribbonContextMenuObserver = new MutationObserver((mutations) => {
      for (const mutation of mutations) {
        if (mutation.addedNodes.length > 0) {
          for (const node of Array.from(mutation.addedNodes)) {
            if (node instanceof HTMLElement) {
              if (node.classList.contains("menu") || node.querySelector(".menu")) {
                this.removeRibbonIconFromContextMenu(node);
              }
            }
          }
        }
      }
    });
    this.ribbonContextMenuObserver.observe(document.body, {
      childList: true,
      subtree: true
    });
  }
  removeRibbonIconFromContextMenu(menuElement) {
    var _a;
    const menuItems = menuElement.querySelectorAll(".menu-item");
    for (const item of Array.from(menuItems)) {
      const svg = item.querySelector("svg");
      if (svg) {
        const iconName = svg.getAttribute("data-lucide") || svg.getAttribute("xmlns:lucide") || (svg.classList.contains("lucide-wand-sparkles") ? "wand-sparkles" : null);
        if (iconName === "wand-sparkles") {
          const itemText = ((_a = item.textContent) == null ? void 0 : _a.toLowerCase()) || "";
          if (itemText.includes("wizard") || itemText.includes("astro modular")) {
            item.remove();
          }
        }
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3V0aWxzL0dpc2N1c1NjcmlwdFBhcnNlci50cyIsICJzcmMvbWFpbi50cyIsICJzcmMvdHlwZXMudHMiLCAic3JjL3VpL1NldHVwV2l6YXJkTW9kYWwudHMiLCAic3JjL3VpL3dpemFyZC9XaXphcmRTdGF0ZS50cyIsICJzcmMvdWkvd2l6YXJkL0Jhc2VXaXphcmRTdGVwLnRzIiwgInNyYy91aS93aXphcmQvV2VsY29tZVN0ZXAudHMiLCAic3JjL3VpL3dpemFyZC9UZW1wbGF0ZVN0ZXAudHMiLCAic3JjL3VpL3dpemFyZC9UaGVtZVN0ZXAudHMiLCAic3JjL3VpL3dpemFyZC9Gb250U3RlcC50cyIsICJzcmMvdWkvd2l6YXJkL0NvbnRlbnRPcmdTdGVwLnRzIiwgInNyYy91aS93aXphcmQvTmF2aWdhdGlvblN0ZXAudHMiLCAic3JjL3VpL3dpemFyZC9PcHRpb25hbEZlYXR1cmVzU3RlcC50cyIsICJzcmMvdWkvd2l6YXJkL0RlcGxveW1lbnRTdGVwLnRzIiwgInNyYy91aS93aXphcmQvUGx1Z2luQ29uZmlnU3RlcC50cyIsICJzcmMvdWkvd2l6YXJkL0ZpbmFsaXplU3RlcC50cyIsICJzcmMvY29tbWFuZHMvaW5kZXgudHMiLCAic3JjL3VpL1NldHRpbmdzVGFiLnRzIiwgInNyYy91aS9jb21tb24vVGFiUmVuZGVyZXIudHMiLCAic3JjL3V0aWxzL3NldHRpbmdzLWNvbXBhdC50cyIsICJzcmMvdWkvdGFicy9HZW5lcmFsVGFiLnRzIiwgInNyYy91aS90YWJzL1NpdGVJbmZvVGFiLnRzIiwgInNyYy91aS90YWJzL05hdmlnYXRpb25UYWIudHMiLCAic3JjL3VpL3RhYnMvQ29uZmlnVGFiLnRzIiwgInNyYy91aS9QcmVzZXRXYXJuaW5nTW9kYWwudHMiLCAic3JjL3VpL3RhYnMvU3R5bGVUYWIudHMiLCAic3JjL3V0aWxzL1RoZW1lQ29sb3JFeHRyYWN0b3IudHMiLCAic3JjL3VpL3RhYnMvRmVhdHVyZXNUYWIudHMiLCAic3JjL3VpL3RhYnMvQWR2YW5jZWRUYWIudHMiLCAic3JjL3V0aWxzL2NvbmZpZy9Db25maWdGaWxlTWFuYWdlci50cyIsICJzcmMvdXRpbHMvY29uZmlnL0NvbmZpZ1RlbXBsYXRlTWFuYWdlci50cyIsICJzcmMvdXRpbHMvY29uZmlnL0NvbmZpZ01hcmtlclZhbGlkYXRvci50cyIsICJzcmMvdXRpbHMvY29uZmlnL0NvbmZpZ1ByZXNldE1vZGlmaWVyLnRzIiwgInNyYy9wcmVzZXRzL3N0YW5kYXJkLmpzb24iLCAic3JjL3ByZXNldHMvbWluaW1hbC5qc29uIiwgInNyYy9wcmVzZXRzL2NvbXBhY3QuanNvbiIsICJzcmMvdXRpbHMvQ29uZmlnTWFuYWdlci50cyIsICJzcmMvdXRpbHMvUGx1Z2luTWFuYWdlci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IGludGVyZmFjZSBQYXJzZWRHaXNjdXNDb25maWcge1xyXG5cdHJlcG86IHN0cmluZztcclxuXHRyZXBvSWQ6IHN0cmluZztcclxuXHRjYXRlZ29yeTogc3RyaW5nO1xyXG5cdGNhdGVnb3J5SWQ6IHN0cmluZztcclxuXHRtYXBwaW5nOiBzdHJpbmc7XHJcblx0c3RyaWN0OiBzdHJpbmc7XHJcblx0cmVhY3Rpb25zOiBzdHJpbmc7XHJcblx0bWV0YWRhdGE6IHN0cmluZztcclxuXHRpbnB1dFBvc2l0aW9uOiBzdHJpbmc7XHJcblx0dGhlbWU6IHN0cmluZztcclxuXHRsYW5nOiBzdHJpbmc7XHJcblx0bG9hZGluZzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR2lzY3VzU2NyaXB0UGFyc2VyIHtcclxuXHQvKipcclxuXHQgKiBQYXJzZSBhIEdpc2N1cyBzY3JpcHQgdGFnIGFuZCBleHRyYWN0IGFsbCBkYXRhIGF0dHJpYnV0ZXNcclxuXHQgKi9cclxuXHRzdGF0aWMgcGFyc2VTY3JpcHQoc2NyaXB0Q29udGVudDogc3RyaW5nKTogUGFyc2VkR2lzY3VzQ29uZmlnIHwgbnVsbCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBSZW1vdmUgYW55IGV4dHJhIHdoaXRlc3BhY2UgYW5kIG5vcm1hbGl6ZSB0aGUgc2NyaXB0XHJcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRTY3JpcHQgPSBzY3JpcHRDb250ZW50LnRyaW0oKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIENoZWNrIGlmIGl0IGxvb2tzIGxpa2UgYSBHaXNjdXMgc2NyaXB0XHJcblx0XHRcdGlmICghbm9ybWFsaXplZFNjcmlwdC5pbmNsdWRlcygnZ2lzY3VzLmFwcC9jbGllbnQuanMnKSkge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBFeHRyYWN0IGRhdGEgYXR0cmlidXRlcyB1c2luZyByZWdleFxyXG5cdFx0XHRjb25zdCBkYXRhQXR0cmlidXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gTWF0Y2ggYWxsIGRhdGEtKiBhdHRyaWJ1dGVzXHJcblx0XHRcdGNvbnN0IGRhdGFBdHRyaWJ1dGVSZWdleCA9IC9kYXRhLShbYS16LV0rKT1cIihbXlwiXSopXCIvZztcclxuXHRcdFx0bGV0IG1hdGNoO1xyXG5cdFx0XHRcclxuXHRcdFx0d2hpbGUgKChtYXRjaCA9IGRhdGFBdHRyaWJ1dGVSZWdleC5leGVjKG5vcm1hbGl6ZWRTY3JpcHQpKSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGNvbnN0IFssIGF0dHJpYnV0ZU5hbWUsIHZhbHVlXSA9IG1hdGNoO1xyXG5cdFx0XHRcdGRhdGFBdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIE1hcCB0aGUgYXR0cmlidXRlcyB0byBvdXIgZXhwZWN0ZWQgZm9ybWF0XHJcblx0XHRcdC8vIE9ubHkgdXNlIGRlZmF1bHRzIGZvciB0cnVseSByZXF1aXJlZCBmaWVsZHMsIGxlYXZlIG9wdGlvbmFsIG9uZXMgZW1wdHkgaWYgbWlzc2luZ1xyXG5cdFx0XHRjb25zdCBjb25maWc6IFBhcnNlZEdpc2N1c0NvbmZpZyA9IHtcclxuXHRcdFx0XHRyZXBvOiBkYXRhQXR0cmlidXRlc1sncmVwbyddIHx8ICcnLFxyXG5cdFx0XHRcdHJlcG9JZDogZGF0YUF0dHJpYnV0ZXNbJ3JlcG8taWQnXSB8fCAnJyxcclxuXHRcdFx0XHRjYXRlZ29yeTogZGF0YUF0dHJpYnV0ZXNbJ2NhdGVnb3J5J10gfHwgJycsXHJcblx0XHRcdFx0Y2F0ZWdvcnlJZDogZGF0YUF0dHJpYnV0ZXNbJ2NhdGVnb3J5LWlkJ10gfHwgJycsXHJcblx0XHRcdFx0Ly8gT3B0aW9uYWwgYXR0cmlidXRlcyAtIHVzZSBlbXB0eSBzdHJpbmcgaWYgbm90IHByZXNlbnQgKHNvIHRoZXkgY2FuIGJlIGNsZWFyZWQpXHJcblx0XHRcdFx0bWFwcGluZzogZGF0YUF0dHJpYnV0ZXNbJ21hcHBpbmcnXSAhPT0gdW5kZWZpbmVkID8gZGF0YUF0dHJpYnV0ZXNbJ21hcHBpbmcnXSA6ICcnLFxyXG5cdFx0XHRcdHN0cmljdDogZGF0YUF0dHJpYnV0ZXNbJ3N0cmljdCddICE9PSB1bmRlZmluZWQgPyBkYXRhQXR0cmlidXRlc1snc3RyaWN0J10gOiAnJyxcclxuXHRcdFx0XHRyZWFjdGlvbnM6IGRhdGFBdHRyaWJ1dGVzWydyZWFjdGlvbnMtZW5hYmxlZCddICE9PSB1bmRlZmluZWQgPyBkYXRhQXR0cmlidXRlc1sncmVhY3Rpb25zLWVuYWJsZWQnXSA6ICcnLFxyXG5cdFx0XHRcdG1ldGFkYXRhOiBkYXRhQXR0cmlidXRlc1snZW1pdC1tZXRhZGF0YSddICE9PSB1bmRlZmluZWQgPyBkYXRhQXR0cmlidXRlc1snZW1pdC1tZXRhZGF0YSddIDogJycsXHJcblx0XHRcdFx0aW5wdXRQb3NpdGlvbjogZGF0YUF0dHJpYnV0ZXNbJ2lucHV0LXBvc2l0aW9uJ10gIT09IHVuZGVmaW5lZCA/IGRhdGFBdHRyaWJ1dGVzWydpbnB1dC1wb3NpdGlvbiddIDogJycsXHJcblx0XHRcdFx0dGhlbWU6IGRhdGFBdHRyaWJ1dGVzWyd0aGVtZSddICE9PSB1bmRlZmluZWQgPyBkYXRhQXR0cmlidXRlc1sndGhlbWUnXSA6ICcnLFxyXG5cdFx0XHRcdGxhbmc6IGRhdGFBdHRyaWJ1dGVzWydsYW5nJ10gIT09IHVuZGVmaW5lZCA/IGRhdGFBdHRyaWJ1dGVzWydsYW5nJ10gOiAnJyxcclxuXHRcdFx0XHRsb2FkaW5nOiBkYXRhQXR0cmlidXRlc1snbG9hZGluZyddICE9PSB1bmRlZmluZWQgPyBkYXRhQXR0cmlidXRlc1snbG9hZGluZyddIDogJydcclxuXHRcdFx0fTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFZhbGlkYXRlIHRoYXQgd2UgaGF2ZSB0aGUgZXNzZW50aWFsIGZpZWxkc1xyXG5cdFx0XHRpZiAoIWNvbmZpZy5yZXBvIHx8ICFjb25maWcucmVwb0lkKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiBjb25maWc7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIEdpc2N1cyBzY3JpcHQ6JywgZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogVmFsaWRhdGUgdGhhdCBhIHNjcmlwdCBsb29rcyBsaWtlIGEgdmFsaWQgR2lzY3VzIHNjcmlwdFxyXG5cdCAqL1xyXG5cdHN0YXRpYyB2YWxpZGF0ZVNjcmlwdChzY3JpcHRDb250ZW50OiBzdHJpbmcpOiB7IHZhbGlkOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9IHtcclxuXHRcdGNvbnN0IG5vcm1hbGl6ZWRTY3JpcHQgPSBzY3JpcHRDb250ZW50LnRyaW0oKTtcclxuXHRcdFxyXG5cdFx0Ly8gQ2hlY2sgaWYgaXQgY29udGFpbnMgdGhlIGdpc2N1cyBzY3JpcHQgc291cmNlXHJcblx0XHRpZiAoIW5vcm1hbGl6ZWRTY3JpcHQuaW5jbHVkZXMoJ2dpc2N1cy5hcHAvY2xpZW50LmpzJykpIHtcclxuXHRcdFx0cmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ1NjcmlwdCBtdXN0IGNvbnRhaW4gZ2lzY3VzLmFwcC9jbGllbnQuanMnIH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIENoZWNrIGlmIGl0IGhhcyB0aGUgYmFzaWMgc3RydWN0dXJlXHJcblx0XHRpZiAoIW5vcm1hbGl6ZWRTY3JpcHQuaW5jbHVkZXMoJzxzY3JpcHQnKSB8fCAhbm9ybWFsaXplZFNjcmlwdC5pbmNsdWRlcygnPC9zY3JpcHQ+JykpIHtcclxuXHRcdFx0cmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ1NjcmlwdCBtdXN0IGJlIGEgdmFsaWQgSFRNTCBzY3JpcHQgdGFnJyB9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBUcnkgdG8gcGFyc2UgaXRcclxuXHRcdGNvbnN0IHBhcnNlZCA9IHRoaXMucGFyc2VTY3JpcHQoc2NyaXB0Q29udGVudCk7XHJcblx0XHRpZiAoIXBhcnNlZCkge1xyXG5cdFx0XHRyZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiAnQ291bGQgbm90IHBhcnNlIEdpc2N1cyBjb25maWd1cmF0aW9uIGZyb20gc2NyaXB0JyB9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBDaGVjayBmb3IgcmVxdWlyZWQgZmllbGRzXHJcblx0XHRpZiAoIXBhcnNlZC5yZXBvKSB7XHJcblx0XHRcdHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdSZXBvc2l0b3J5IChkYXRhLXJlcG8pIGlzIHJlcXVpcmVkJyB9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZiAoIXBhcnNlZC5yZXBvSWQpIHtcclxuXHRcdFx0cmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ1JlcG9zaXRvcnkgSUQgKGRhdGEtcmVwby1pZCkgaXMgcmVxdWlyZWQnIH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiB7IHZhbGlkOiB0cnVlIH07XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlIGEgc2FtcGxlIEdpc2N1cyBzY3JpcHQgZm9yIHBsYWNlaG9sZGVyIHRleHRcclxuXHQgKi9cclxuXHRzdGF0aWMgZ2V0U2FtcGxlU2NyaXB0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gYDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9naXNjdXMuYXBwL2NsaWVudC5qc1wiXHJcbiAgICAgICAgZGF0YS1yZXBvPVwiZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyXCJcclxuICAgICAgICBkYXRhLXJlcG8taWQ9XCJSX2tnRE9QbGxmS3dcIlxyXG4gICAgICAgIGRhdGEtY2F0ZWdvcnk9XCJHZW5lcmFsXCJcclxuICAgICAgICBkYXRhLWNhdGVnb3J5LWlkPVwiRElDX2t3RE9QbGxmSzg0Q3ZVcHhcIlxyXG4gICAgICAgIGRhdGEtbWFwcGluZz1cInBhdGhuYW1lXCJcclxuICAgICAgICBkYXRhLXN0cmljdD1cIjBcIlxyXG4gICAgICAgIGRhdGEtcmVhY3Rpb25zLWVuYWJsZWQ9XCIxXCJcclxuICAgICAgICBkYXRhLWVtaXQtbWV0YWRhdGE9XCIwXCJcclxuICAgICAgICBkYXRhLWlucHV0LXBvc2l0aW9uPVwiYm90dG9tXCJcclxuICAgICAgICBkYXRhLXRoZW1lPVwicHJlZmVycmVkX2NvbG9yX3NjaGVtZVwiXHJcbiAgICAgICAgZGF0YS1sYW5nPVwiZW5cIlxyXG4gICAgICAgIGRhdGEtbG9hZGluZz1cImxhenlcIlxyXG4gICAgICAgIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCJcclxuICAgICAgICBhc3luYz5cclxuPC9zY3JpcHQ+YDtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgQXN0cm9Nb2R1bGFyU2V0dGluZ3MsIERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuL3NldHRpbmdzJztcclxuaW1wb3J0IHsgcmVnaXN0ZXJDb21tYW5kcyB9IGZyb20gJy4vY29tbWFuZHMnO1xyXG5pbXBvcnQgeyBBc3Ryb01vZHVsYXJTZXR0aW5nc1RhYiB9IGZyb20gJy4vdWkvU2V0dGluZ3NUYWInO1xyXG5pbXBvcnQgeyBTZXR1cFdpemFyZE1vZGFsIH0gZnJvbSAnLi91aS9TZXR1cFdpemFyZE1vZGFsJztcclxuaW1wb3J0IHsgQ29uZmlnTWFuYWdlciB9IGZyb20gJy4vdXRpbHMvQ29uZmlnTWFuYWdlcic7XHJcbmltcG9ydCB7IFBsdWdpbk1hbmFnZXIgfSBmcm9tICcuL3V0aWxzL1BsdWdpbk1hbmFnZXInO1xyXG5pbXBvcnQgeyBPYnNpZGlhbkFwcCB9IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXN0cm9Nb2R1bGFyU2V0dGluZ3NQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzITogQXN0cm9Nb2R1bGFyU2V0dGluZ3M7XHJcblx0cHJpdmF0ZSBzZXR0aW5nc1RhYiE6IEFzdHJvTW9kdWxhclNldHRpbmdzVGFiO1xyXG5cdHByaXZhdGUgc3RhcnR1cFRpbWVvdXRJZD86IG51bWJlcjtcclxuXHRjb25maWdNYW5hZ2VyITogQ29uZmlnTWFuYWdlcjtcclxuXHRwbHVnaW5NYW5hZ2VyITogUGx1Z2luTWFuYWdlcjtcclxuXHRwcml2YXRlIHJpYmJvbkljb24/OiBIVE1MRWxlbWVudDtcclxuXHRwcml2YXRlIHJpYmJvbkNvbnRleHRNZW51T2JzZXJ2ZXI/OiBNdXRhdGlvbk9ic2VydmVyO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdC8vIEluaXRpYWxpemUgbWFuYWdlcnNcclxuXHRcdHRoaXMuY29uZmlnTWFuYWdlciA9IG5ldyBDb25maWdNYW5hZ2VyKHRoaXMuYXBwKTtcclxuXHRcdHRoaXMucGx1Z2luTWFuYWdlciA9IG5ldyBQbHVnaW5NYW5hZ2VyKHRoaXMuYXBwLCAoKSA9PiB0aGlzLnNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24pO1xyXG5cclxuXHRcdC8vIFJlZ2lzdGVyIGNvbW1hbmRzXHJcblx0XHRyZWdpc3RlckNvbW1hbmRzKHRoaXMpO1xyXG5cclxuXHRcdC8vIEFkZCBzZXR0aW5ncyB0YWJcclxuXHRcdHRoaXMuc2V0dGluZ3NUYWIgPSBuZXcgQXN0cm9Nb2R1bGFyU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpO1xyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKHRoaXMuc2V0dGluZ3NUYWIpO1xyXG5cclxuXHRcdC8vIEFkZCByaWJib24gaWNvbiAob25seSBpZiBub3QgZGlzYWJsZWQpXHJcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MucmVtb3ZlUmliYm9uSWNvbikge1xyXG5cdFx0XHR0aGlzLnJpYmJvbkljb24gPSB0aGlzLmFkZFJpYmJvbkljb24oJ3dhbmQtc3BhcmtsZXMnLCAnT3BlbiB3aXphcmQnLCBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIGZyb20gZGlzayB0byBnZXQgdGhlIGxhdGVzdCB2YWx1ZXNcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnN0IHdpemFyZCA9IG5ldyBTZXR1cFdpemFyZE1vZGFsKHRoaXMuYXBwLCB0aGlzKTtcclxuXHRcdFx0XHR3aXphcmQub3BlbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly8gQWRkIGEgZGF0YSBhdHRyaWJ1dGUgdG8gaWRlbnRpZnkgb3VyIHJpYmJvbiBpY29uXHJcblx0XHRcdGlmICh0aGlzLnJpYmJvbkljb24pIHtcclxuXHRcdFx0XHR0aGlzLnJpYmJvbkljb24uc2V0QXR0cmlidXRlKCdkYXRhLWFzdHJvLW1vZHVsYXItc2V0dGluZ3MtcmliYm9uJywgJ3RydWUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENoZWNrIGlmIHdlIHNob3VsZCBydW4gdGhlIHdpemFyZCBvbiBzdGFydHVwXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5ydW5XaXphcmRPblN0YXJ0dXApIHtcclxuXHRcdFx0Ly8gRGVsYXkgdGhlIHdpemFyZCB0byBsZXQgT2JzaWRpYW4gZnVsbHkgbG9hZFxyXG5cdFx0XHR0aGlzLnN0YXJ0dXBUaW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0Ly8gVXNlIHZvaWQgdG8gZXhwbGljaXRseSBpZ25vcmUgcHJvbWlzZSByZXR1cm5cclxuXHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gY2hlY2sgaWYgdXNlciBkaXNhYmxlZCB0aGUgc2V0dGluZ1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnJ1bldpemFyZE9uU3RhcnR1cCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCB3aXphcmQgPSBuZXcgU2V0dXBXaXphcmRNb2RhbCh0aGlzLmFwcCwgdGhpcyk7XHJcblx0XHRcdFx0XHRcdHdpemFyZC5vcGVuKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSkoKTtcclxuXHRcdFx0fSwgMjAwMCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0dXAgcmliYm9uIGNvbnRleHQgbWVudSBoYW5kbGluZ1xyXG5cdFx0dGhpcy5zZXR1cFJpYmJvbkNvbnRleHRNZW51SGFuZGxpbmcoKTtcclxuXHJcblx0XHQvLyBObyB3ZWxjb21lIG5vdGljZSBuZWVkZWQgLSBtb2RhbCBpcyB0aGUgaW50cm9cclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0Ly8gQ2xlYXIgc3RhcnR1cCB0aW1lb3V0IGlmIGl0IGV4aXN0c1xyXG5cdFx0aWYgKHRoaXMuc3RhcnR1cFRpbWVvdXRJZCkge1xyXG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc3RhcnR1cFRpbWVvdXRJZCk7XHJcblx0XHRcdHRoaXMuc3RhcnR1cFRpbWVvdXRJZCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gUmVtb3ZlIHJpYmJvbiBpY29uIGlmIGl0IGV4aXN0c1xyXG5cdFx0aWYgKHRoaXMucmliYm9uSWNvbikge1xyXG5cdFx0XHR0aGlzLnJpYmJvbkljb24ucmVtb3ZlKCk7XHJcblx0XHRcdHRoaXMucmliYm9uSWNvbiA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gQ2xlYW51cCByaWJib24gY29udGV4dCBtZW51IGhhbmRsaW5nXHJcblx0XHRpZiAodGhpcy5yaWJib25Db250ZXh0TWVudU9ic2VydmVyKSB7XHJcblx0XHRcdHRoaXMucmliYm9uQ29udGV4dE1lbnVPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcblx0XHRcdHRoaXMucmliYm9uQ29udGV4dE1lbnVPYnNlcnZlciA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gUmVtb3ZlIGRhdGEgYXR0cmlidXRlIHdoZW4gdW5sb2FkaW5nXHJcblx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hc3Ryby1tb2R1bGFyLXJpYmJvbi1yZW1vdmVkJyk7XHJcblx0XHRcclxuXHRcdC8vIE90aGVyIGNsZWFudXAgaXMgaGFuZGxlZCBhdXRvbWF0aWNhbGx5IGJ5IE9ic2lkaWFuXHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpIGFzIFBhcnRpYWw8QXN0cm9Nb2R1bGFyU2V0dGluZ3M+IHwgbnVsbDtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBkYXRhKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gUHVibGljIG1ldGhvZCB0byBvcGVuIHNldHRpbmdzIChjYWxsZWQgYnkgY29tbWFuZHMpXHJcblx0b3BlblNldHRpbmdzKCkge1xyXG5cdFx0Ly8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNldHRpbmdzIHRhYlxyXG5cdFx0Ly8gVGhlIHNldHRpbmdzIHRhYiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQsIHNvIHdlIGp1c3QgbmVlZCB0byBmb2N1cyBpdFxyXG5cdFx0KHRoaXMuYXBwIGFzIHVua25vd24gYXMgT2JzaWRpYW5BcHApLnNldHRpbmcub3BlbigpO1xyXG5cdFx0KHRoaXMuYXBwIGFzIHVua25vd24gYXMgT2JzaWRpYW5BcHApLnNldHRpbmcub3BlblRhYkJ5SWQodGhpcy5tYW5pZmVzdC5pZCk7XHJcblx0fVxyXG5cclxuXHQvLyBNZXRob2QgdG8gdHJpZ2dlciBzZXR0aW5ncyByZWZyZXNoXHJcblx0YXN5bmMgdHJpZ2dlclNldHRpbmdzUmVmcmVzaCgpIHtcclxuXHRcdC8vIEZvcmNlIHRoZSBzZXR0aW5ncyB0YWIgdG8gcmUtcmVuZGVyIHdpdGggdXBkYXRlZCBzZXR0aW5nc1xyXG5cdFx0Ly8gRmlyc3QgcmVsb2FkIHNldHRpbmdzIGZyb20gZGlzayB0byBlbnN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3NUYWIpIHtcclxuXHRcdFx0Ly8gUmUtcmVuZGVyIHRoZSBzZXR0aW5ncyB0YWIgd2l0aCB1cGRhdGVkIHNldHRpbmdzXHJcblx0XHRcdHRoaXMuc2V0dGluZ3NUYWIucmVuZGVyKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBNZXRob2QgdG8gdXBkYXRlIHJpYmJvbiBpY29uIGJhc2VkIG9uIHNldHRpbmdzXHJcblx0cHVibGljIGFzeW5jIHVwZGF0ZVJpYmJvbkljb24oKSB7XHJcblx0XHQvLyBFbnN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0IHNldHRpbmdzXHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdC8vIFJlbW92ZSBleGlzdGluZyByaWJib24gaWNvbiAtIHRyeSBib3RoIHRoZSBzdG9yZWQgcmVmZXJlbmNlIGFuZCBET00gc2VhcmNoXHJcblx0XHRpZiAodGhpcy5yaWJib25JY29uKSB7XHJcblx0XHRcdC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGlzIHN0aWxsIGluIHRoZSBET00gYmVmb3JlIHRyeWluZyB0byByZW1vdmUgaXRcclxuXHRcdFx0aWYgKHRoaXMucmliYm9uSWNvbi5wYXJlbnRFbGVtZW50ICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5yaWJib25JY29uKSkge1xyXG5cdFx0XHRcdHRoaXMucmliYm9uSWNvbi5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnJpYmJvbkljb24gPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWxzbyBzZWFyY2ggZm9yIG91ciByaWJib24gaWNvbiBpbiB0aGUgRE9NIHVzaW5nIHRoZSBkYXRhIGF0dHJpYnV0ZVxyXG5cdFx0Ly8gVGhpcyBoYW5kbGVzIGNhc2VzIHdoZXJlIHRoZSByZWZlcmVuY2UgbWlnaHQgYmUgc3RhbGVcclxuXHRcdGNvbnN0IG91clJpYmJvbkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hc3Ryby1tb2R1bGFyLXNldHRpbmdzLXJpYmJvbj1cInRydWVcIl0nKTtcclxuXHRcdGlmIChvdXJSaWJib25JY29uKSB7XHJcblx0XHRcdG91clJpYmJvbkljb24ucmVtb3ZlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRmFsbGJhY2s6IHNlYXJjaCBmb3Igd2FuZC1zcGFya2xlcyBpY29uIGluIHRoZSBsZWZ0IHNpZGViYXIgcmliYm9uXHJcblx0XHQvLyBUaGlzIGlzIGEgbW9yZSBhZ2dyZXNzaXZlIGFwcHJvYWNoIHRvIGVuc3VyZSByZW1vdmFsXHJcblx0XHRjb25zdCBsZWZ0U2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyLWxlZnQnKTtcclxuXHRcdGlmIChsZWZ0U2lkZWJhcikge1xyXG5cdFx0XHRjb25zdCBhbGxJY29ucyA9IGxlZnRTaWRlYmFyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbGlja2FibGUtaWNvbiwgLnNpZGViYXItdG9nZ2xlLWJ1dHRvbicpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IGljb24gb2YgQXJyYXkuZnJvbShhbGxJY29ucykpIHtcclxuXHRcdFx0XHRjb25zdCBzdmcgPSBpY29uLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpO1xyXG5cdFx0XHRcdGlmIChzdmcpIHtcclxuXHRcdFx0XHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgYSB3YW5kLXNwYXJrbGVzIGljb25cclxuXHRcdFx0XHRcdGNvbnN0IGljb25OYW1lID0gc3ZnLmdldEF0dHJpYnV0ZSgnZGF0YS1sdWNpZGUnKSB8fCBzdmcuZ2V0QXR0cmlidXRlKCd4bWxuczpsdWNpZGUnKTtcclxuXHRcdFx0XHRcdGlmIChpY29uTmFtZSA9PT0gJ3dhbmQtc3BhcmtsZXMnIHx8IHN2Zy5jbGFzc0xpc3QuY29udGFpbnMoJ2x1Y2lkZS13YW5kLXNwYXJrbGVzJykpIHtcclxuXHRcdFx0XHRcdFx0Ly8gVmVyaWZ5IGl0J3MgaW4gdGhlIHJpYmJvbiBhcmVhIChub3QgaW4gYSBkaWZmZXJlbnQgcGFydCBvZiB0aGUgc2lkZWJhcilcclxuXHRcdFx0XHRcdFx0Y29uc3QgcmliYm9uQXJlYSA9IGljb24uY2xvc2VzdCgnLnNpZGViYXItbGVmdC1jb250ZW50LCAud29ya3NwYWNlLXJpYmJvbicpO1xyXG5cdFx0XHRcdFx0XHRpZiAocmliYm9uQXJlYSkge1xyXG5cdFx0XHRcdFx0XHRcdGljb24ucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7IC8vIE9ubHkgcmVtb3ZlIG9uZSBpY29uXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcGRhdGUgY29udGV4dCBtZW51IGhhbmRsaW5nXHJcblx0XHR0aGlzLnVwZGF0ZVJpYmJvbkNvbnRleHRNZW51Q1NTKCk7XHJcblx0XHR0aGlzLnNldHVwUmliYm9uQ29udGV4dE1lbnVPYnNlcnZlcigpO1xyXG5cclxuXHRcdC8vIEFsc28gcmVtb3ZlIGZyb20gYW55IGV4aXN0aW5nIGNvbnRleHQgbWVudXNcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnJlbW92ZVJpYmJvbkljb24pIHtcclxuXHRcdFx0Y29uc3QgZXhpc3RpbmdNZW51cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51Jyk7XHJcblx0XHRcdGZvciAoY29uc3QgbWVudSBvZiBBcnJheS5mcm9tKGV4aXN0aW5nTWVudXMpKSB7XHJcblx0XHRcdFx0dGhpcy5yZW1vdmVSaWJib25JY29uRnJvbUNvbnRleHRNZW51KG1lbnUgYXMgSFRNTEVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWRkIHJpYmJvbiBpY29uIGlmIG5vdCBkaXNhYmxlZFxyXG5cdFx0aWYgKCF0aGlzLnNldHRpbmdzLnJlbW92ZVJpYmJvbkljb24pIHtcclxuXHRcdFx0dGhpcy5yaWJib25JY29uID0gdGhpcy5hZGRSaWJib25JY29uKCd3YW5kLXNwYXJrbGVzJywgJ09wZW4gd2l6YXJkJywgYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyBmcm9tIGRpc2sgdG8gZ2V0IHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRcdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjb25zdCB3aXphcmQgPSBuZXcgU2V0dXBXaXphcmRNb2RhbCh0aGlzLmFwcCwgdGhpcyk7XHJcblx0XHRcdFx0d2l6YXJkLm9wZW4oKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIEFkZCBhIGRhdGEgYXR0cmlidXRlIHRvIGlkZW50aWZ5IG91ciByaWJib24gaWNvblxyXG5cdFx0XHRpZiAodGhpcy5yaWJib25JY29uKSB7XHJcblx0XHRcdFx0dGhpcy5yaWJib25JY29uLnNldEF0dHJpYnV0ZSgnZGF0YS1hc3Ryby1tb2R1bGFyLXNldHRpbmdzLXJpYmJvbicsICd0cnVlJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIFJpYmJvbiBjb250ZXh0IG1lbnUgaGFuZGxpbmdcclxuXHRwcml2YXRlIHNldHVwUmliYm9uQ29udGV4dE1lbnVIYW5kbGluZygpIHtcclxuXHRcdHRoaXMudXBkYXRlUmliYm9uQ29udGV4dE1lbnVDU1MoKTtcclxuXHRcdHRoaXMuc2V0dXBSaWJib25Db250ZXh0TWVudU9ic2VydmVyKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZVJpYmJvbkNvbnRleHRNZW51Q1NTKCkge1xyXG5cdFx0Ly8gVXNlIGRhdGEgYXR0cmlidXRlIG9uIGJvZHkgaW5zdGVhZCBvZiBzdHlsZSBlbGVtZW50XHJcblx0XHQvLyBDU1MgaW4gc3R5bGVzLmNzcyBoYW5kbGVzIHRoZSBoaWRpbmcgYmFzZWQgb24gdGhpcyBhdHRyaWJ1dGVcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnJlbW92ZVJpYmJvbkljb24pIHtcclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYXN0cm8tbW9kdWxhci1yaWJib24tcmVtb3ZlZCcsICd0cnVlJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hc3Ryby1tb2R1bGFyLXJpYmJvbi1yZW1vdmVkJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldHVwUmliYm9uQ29udGV4dE1lbnVPYnNlcnZlcigpIHtcclxuXHRcdC8vIERpc2Nvbm5lY3QgZXhpc3Rpbmcgb2JzZXJ2ZXIgaWYgYW55XHJcblx0XHRpZiAodGhpcy5yaWJib25Db250ZXh0TWVudU9ic2VydmVyKSB7XHJcblx0XHRcdHRoaXMucmliYm9uQ29udGV4dE1lbnVPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT25seSBzZXQgdXAgb2JzZXJ2ZXIgaWYgcmliYm9uIGljb24gaXMgZGlzYWJsZWRcclxuXHRcdGlmICghdGhpcy5zZXR0aW5ncy5yZW1vdmVSaWJib25JY29uKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBXYXRjaCBmb3IgY29udGV4dCBtZW51IGNyZWF0aW9uIGFuZCByZW1vdmUgb3VyIGl0ZW1cclxuXHRcdHRoaXMucmliYm9uQ29udGV4dE1lbnVPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcclxuXHRcdFx0Zm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnMpIHtcclxuXHRcdFx0XHRpZiAobXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHQvLyBDaGVjayBpZiBhIG1lbnUgd2FzIGFkZGVkXHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IG5vZGUgb2YgQXJyYXkuZnJvbShtdXRhdGlvbi5hZGRlZE5vZGVzKSkge1xyXG5cdFx0XHRcdFx0XHRpZiAobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgaXQncyBhIG1lbnVcclxuXHRcdFx0XHRcdFx0XHRpZiAobm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ21lbnUnKSB8fCBub2RlLnF1ZXJ5U2VsZWN0b3IoJy5tZW51JykpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlUmliYm9uSWNvbkZyb21Db250ZXh0TWVudShub2RlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIE9ic2VydmUgdGhlIGRvY3VtZW50IGJvZHkgZm9yIG1lbnUgYWRkaXRpb25zXHJcblx0XHR0aGlzLnJpYmJvbkNvbnRleHRNZW51T2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XHJcblx0XHRcdGNoaWxkTGlzdDogdHJ1ZSxcclxuXHRcdFx0c3VidHJlZTogdHJ1ZSxcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW1vdmVSaWJib25JY29uRnJvbUNvbnRleHRNZW51KG1lbnVFbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG5cdFx0Ly8gRmluZCBhbGwgbWVudSBpdGVtc1xyXG5cdFx0Y29uc3QgbWVudUl0ZW1zID0gbWVudUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnUtaXRlbScpO1xyXG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIEFycmF5LmZyb20obWVudUl0ZW1zKSkge1xyXG5cdFx0XHQvLyBDaGVjayBpZiB0aGlzIG1lbnUgaXRlbSBjb250YWlucyBvdXIgd2FuZC1zcGFya2xlcyBpY29uXHJcblx0XHRcdGNvbnN0IHN2ZyA9IGl0ZW0ucXVlcnlTZWxlY3Rvcignc3ZnJyk7XHJcblx0XHRcdGlmIChzdmcpIHtcclxuXHRcdFx0XHRjb25zdCBpY29uTmFtZSA9IHN2Zy5nZXRBdHRyaWJ1dGUoJ2RhdGEtbHVjaWRlJykgfHwgXHJcblx0XHRcdFx0XHRzdmcuZ2V0QXR0cmlidXRlKCd4bWxuczpsdWNpZGUnKSB8fFxyXG5cdFx0XHRcdFx0KHN2Zy5jbGFzc0xpc3QuY29udGFpbnMoJ2x1Y2lkZS13YW5kLXNwYXJrbGVzJykgPyAnd2FuZC1zcGFya2xlcycgOiBudWxsKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoaWNvbk5hbWUgPT09ICd3YW5kLXNwYXJrbGVzJykge1xyXG5cdFx0XHRcdFx0Ly8gQWxzbyBjaGVjayBpZiB0aGUgbWVudSBpdGVtIHRleHQgbWF0Y2hlcyBvdXIgd2l6YXJkXHJcblx0XHRcdFx0XHRjb25zdCBpdGVtVGV4dCA9IGl0ZW0udGV4dENvbnRlbnQ/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcblx0XHRcdFx0XHRpZiAoaXRlbVRleHQuaW5jbHVkZXMoJ3dpemFyZCcpIHx8IGl0ZW1UZXh0LmluY2x1ZGVzKCdhc3RybyBtb2R1bGFyJykpIHtcclxuXHRcdFx0XHRcdFx0aXRlbS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0iLCAiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQ29uZmlnTWFuYWdlciB9IGZyb20gJy4vdXRpbHMvQ29uZmlnTWFuYWdlcic7XG5pbXBvcnQgeyBQbHVnaW5NYW5hZ2VyIH0gZnJvbSAnLi91dGlscy9QbHVnaW5NYW5hZ2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBBc3Ryb01vZHVsYXJTZXR0aW5ncyB7XG5cdC8vIFdpemFyZCBzZXR0aW5nc1xuXHRydW5XaXphcmRPblN0YXJ0dXA6IGJvb2xlYW47XG5cdFxuXHQvLyBDdXJyZW50IGNvbmZpZ3VyYXRpb25cblx0Y3VycmVudFRlbXBsYXRlOiBUZW1wbGF0ZVR5cGU7XG5cdGN1cnJlbnRUaGVtZTogVGhlbWVUeXBlO1xuXHRjdXN0b21UaGVtZUZpbGU/OiBzdHJpbmc7XG5cdGNvbnRlbnRPcmdhbml6YXRpb246IENvbnRlbnRPcmdhbml6YXRpb25UeXBlO1xuXHRcblx0Ly8gVGhlbWUgY29sb3IgZXh0cmFjdGlvblxuXHR0aGVtZUNvbG9yczogVGhlbWVDb2xvclNldHRpbmdzO1xuXHRcblx0Ly8gU2l0ZSBpbmZvcm1hdGlvblxuXHRzaXRlSW5mbzogU2l0ZUluZm9ybWF0aW9uO1xuXHRcblx0Ly8gTGF5b3V0XG5cdGxheW91dDogTGF5b3V0U2V0dGluZ3M7XG5cdFxuXHQvLyBUYWJsZSBvZiBDb250ZW50c1xuXHR0YWJsZU9mQ29udGVudHM6IFRhYmxlT2ZDb250ZW50c1NldHRpbmdzO1xuXHRcblx0Ly8gRm9vdGVyXG5cdGZvb3RlcjogRm9vdGVyU2V0dGluZ3M7XG5cdFxuXHQvLyBTRU9cblx0c2VvOiBTZW9TZXR0aW5ncztcblx0XG5cdC8vIE5hdmlnYXRpb24gc2V0dGluZ3Ncblx0bmF2aWdhdGlvbjogTmF2aWdhdGlvblNldHRpbmdzO1xuXHRcblx0Ly8gQ29tbWFuZCBQYWxldHRlXG5cdGNvbW1hbmRQYWxldHRlOiBDb21tYW5kUGFsZXR0ZVNldHRpbmdzO1xuXHRcblx0Ly8gSG9tZSBPcHRpb25zXG5cdGhvbWVPcHRpb25zOiBIb21lT3B0aW9ucztcblx0XG5cdC8vIFBvc3QgT3B0aW9uc1xuXHRwb3N0T3B0aW9uczogUG9zdE9wdGlvbnM7XG5cdFxuXHQvLyBGZWF0dXJlc1xuXHRmZWF0dXJlczogRmVhdHVyZVNldHRpbmdzO1xuXHRcblx0Ly8gVHlwb2dyYXBoeSBzZXR0aW5nc1xuXHR0eXBvZ3JhcGh5OiBUeXBvZ3JhcGh5U2V0dGluZ3M7XG5cdFxuXHQvLyBPcHRpb25hbCBmZWF0dXJlc1xuXHRvcHRpb25hbEZlYXR1cmVzOiBPcHRpb25hbEZlYXR1cmVzO1xuXHRcblx0Ly8gRGVwbG95bWVudCBzZXR0aW5nc1xuXHRkZXBsb3ltZW50OiBEZXBsb3ltZW50U2V0dGluZ3M7XG5cdFxuXHQvLyBQbHVnaW4gY29uZmlndXJhdGlvblxuXHRwbHVnaW5Db25maWc6IFBsdWdpbkNvbmZpZ3VyYXRpb247XG5cblx0Ly8gT3B0aW9uYWwgY29udGVudCB0eXBlc1xuXHRvcHRpb25hbENvbnRlbnRUeXBlczoge1xuXHRcdHByb2plY3RzOiBib29sZWFuO1xuXHRcdGRvY3M6IGJvb2xlYW47XG5cdH07XG5cblx0Ly8gQXZhaWxhYmxlIHRoZW1lcyBjdXN0b21pemF0aW9uXG5cdGF2YWlsYWJsZVRoZW1lczogXCJkZWZhdWx0XCIgfCBBcnJheTxFeGNsdWRlPFRoZW1lVHlwZSwgJ2N1c3RvbSc+Pjtcblx0Y3VzdG9tVGhlbWVzPzogc3RyaW5nOyAvLyBDb21tYS1zZXBhcmF0ZWQgY3VzdG9tIHRoZW1lIG5hbWVzXG5cdFxuXHQvLyBDdXN0b20gdGhlbWUgZ2VuZXJhdGlvblxuXHRjdXN0b21UaGVtZUdlbmVyYXRpb25FbmFibGVkPzogYm9vbGVhbjtcblxuXHQvLyBSaWJib24gaWNvblxuXHRyZW1vdmVSaWJib25JY29uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpdGVJbmZvcm1hdGlvbiB7XG5cdHNpdGU6IHN0cmluZztcblx0dGl0bGU6IHN0cmluZztcblx0ZGVzY3JpcHRpb246IHN0cmluZztcblx0YXV0aG9yOiBzdHJpbmc7XG5cdGxhbmd1YWdlOiBzdHJpbmc7XG5cdGZhdmljb25UaGVtZUFkYXB0aXZlPzogYm9vbGVhbjtcblx0ZGVmYXVsdE9nSW1hZ2VBbHQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF5b3V0U2V0dGluZ3Mge1xuXHRjb250ZW50V2lkdGg6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZU9mQ29udGVudHNTZXR0aW5ncyB7XG5cdGVuYWJsZWQ6IGJvb2xlYW47XG5cdGRlcHRoOiBudW1iZXI7IC8vIDItNlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZvb3RlclNldHRpbmdzIHtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0Y29udGVudDogc3RyaW5nO1xuXHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZW9TZXR0aW5ncyB7XG5cdGRlZmF1bHRPZ0ltYWdlQWx0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGlvbkl0ZW0ge1xuXHR0aXRsZTogc3RyaW5nO1xuXHR1cmw/OiBzdHJpbmc7ICAvLyBPcHRpb25hbCAtIGlmIG1pc3NpbmcsIGl0ZW0gaXMgZHJvcGRvd24tb25seVxuXHRjaGlsZHJlbj86IE5hdmlnYXRpb25JdGVtW107ICAvLyBTaW5nbGUgbGV2ZWwgb25seVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRpb25TZXR0aW5ncyB7XG5cdHNob3dOYXZpZ2F0aW9uOiBib29sZWFuO1xuXHRzdHlsZTogJ21pbmltYWwnIHwgJ3RyYWRpdGlvbmFsJztcblx0c2hvd01vYmlsZU1lbnU6IGJvb2xlYW47XG5cdHBhZ2VzOiBOYXZpZ2F0aW9uSXRlbVtdO1xuXHRzb2NpYWw6IEFycmF5PHsgdGl0bGU6IHN0cmluZzsgdXJsOiBzdHJpbmc7IGljb246IHN0cmluZyB9Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21tYW5kUGFsZXR0ZVNldHRpbmdzIHtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0c2hvcnRjdXQ6IHN0cmluZztcblx0cGxhY2Vob2xkZXI6IHN0cmluZztcblx0c2VhcmNoOiB7XG5cdFx0cG9zdHM6IGJvb2xlYW47XG5cdFx0cGFnZXM6IGJvb2xlYW47XG5cdFx0cHJvamVjdHM6IGJvb2xlYW47XG5cdFx0ZG9jczogYm9vbGVhbjtcblx0fTtcblx0c2VjdGlvbnM6IHtcblx0XHRxdWlja0FjdGlvbnM6IGJvb2xlYW47XG5cdFx0cGFnZXM6IGJvb2xlYW47XG5cdFx0c29jaWFsOiBib29sZWFuO1xuXHR9O1xuXHRxdWlja0FjdGlvbnM6IFF1aWNrQWN0aW9uc1NldHRpbmdzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhvbWVPcHRpb25zIHtcblx0ZmVhdHVyZWRQb3N0OiB7XG5cdFx0ZW5hYmxlZDogYm9vbGVhbjtcblx0XHR0eXBlOiAnbGF0ZXN0JyB8ICdmZWF0dXJlZCc7XG5cdFx0c2x1Zz86IHN0cmluZztcblx0fTtcblx0cmVjZW50UG9zdHM6IHtcblx0XHRlbmFibGVkOiBib29sZWFuO1xuXHRcdGNvdW50OiBudW1iZXI7XG5cdH07XG5cdHByb2plY3RzOiB7XG5cdFx0ZW5hYmxlZDogYm9vbGVhbjtcblx0XHRjb3VudDogbnVtYmVyO1xuXHR9O1xuXHRkb2NzOiB7XG5cdFx0ZW5hYmxlZDogYm9vbGVhbjtcblx0XHRjb3VudDogbnVtYmVyO1xuXHR9O1xuXHRibHVyYjoge1xuXHRcdHBsYWNlbWVudDogJ2Fib3ZlJyB8ICdiZWxvdycgfCAnbm9uZSc7XG5cdH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9zdE9wdGlvbnMge1xuXHRwb3N0c1BlclBhZ2U6IG51bWJlcjtcblx0XHRyZWFkaW5nVGltZTogYm9vbGVhbjtcblx0XHR3b3JkQ291bnQ6IGJvb2xlYW47XG5cdFx0dGFnczogYm9vbGVhbjtcblx0bGlua2VkTWVudGlvbnM6IHtcblx0XHRlbmFibGVkOiBib29sZWFuO1xuXHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogYm9vbGVhbjtcblx0fTtcblx0Ly8gR3JhcGggdmlldyBzZXR0aW5ncyAtIHBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkIGlzIHRoZSBTT1VSQ0UgT0YgVFJVVEhcblx0Ly8gZmVhdHVyZXMuZ3JhcGhWaWV3IGlzIHN5bmNlZCBmcm9tIHRoaXMgZm9yIFVJIGNvbnZlbmllbmNlXG5cdC8vIHF1aWNrQWN0aW9ucy5ncmFwaFZpZXcgb25seSBjb250cm9scyBjb21tYW5kIHBhbGV0dGUgYXBwZWFyYW5jZVxuXHRncmFwaFZpZXc6IHtcblx0XHRlbmFibGVkOiBib29sZWFuO1xuXHRcdHNob3dJblNpZGViYXI6IGJvb2xlYW47XG5cdFx0bWF4Tm9kZXM6IG51bWJlcjtcblx0XHRzaG93T3JwaGFuZWRQb3N0czogYm9vbGVhbjtcblx0fTtcblx0cG9zdE5hdmlnYXRpb246IGJvb2xlYW47XG5cdHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnYWxsJyB8ICdmZWF0dXJlZCcgfCAnaG9tZScgfCAncG9zdHMnIHwgJ2ZlYXR1cmVkLWFuZC1wb3N0cycgfCAnbm9uZSc7XG5cdHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycgfCAnMTY6OScgfCAnNDozJyB8ICczOjInIHwgJ3NxdWFyZScgfCAnZ29sZGVuJyB8ICdjdXN0b20nO1xuXHRjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvPzogc3RyaW5nO1xuXHRjb21tZW50czogQ29tbWVudHNTZXR0aW5ncztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlU2V0dGluZ3Mge1xuXHRjb21tYW5kUGFsZXR0ZTogYm9vbGVhbjtcblx0cmVhZGluZ1RpbWU6IGJvb2xlYW47XG5cdGxpbmtlZE1lbnRpb25zOiBib29sZWFuO1xuXHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGJvb2xlYW47XG5cdGNvbW1lbnRzOiBib29sZWFuO1xuXHQvLyBncmFwaFZpZXcgc3luY2VkIEZST00gcG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgKG5vdCB0aGUgb3RoZXIgd2F5IGFyb3VuZClcblx0Z3JhcGhWaWV3OiBib29sZWFuO1xuXHRwb3N0TmF2aWdhdGlvbjogYm9vbGVhbjtcblx0aGlkZVNjcm9sbEJhcjogYm9vbGVhbjtcblx0c2Nyb2xsVG9Ub3A6IGJvb2xlYW47XG5cdGZlYXR1cmVCdXR0b246ICdtb2RlJyB8ICdncmFwaCcgfCAndGhlbWUnIHwgJ25vbmUnO1xuXHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogYm9vbGVhbjtcblx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdhbGwnIHwgJ2ZlYXR1cmVkJyB8ICdob21lJyB8ICdwb3N0cycgfCAnZmVhdHVyZWQtYW5kLXBvc3RzJyB8ICdub25lJztcblx0cG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyB8ICcxNjo5JyB8ICc0OjMnIHwgJzM6MicgfCAnc3F1YXJlJyB8ICdnb2xkZW4nIHwgJ2N1c3RvbSc7XG5cdGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW8/OiBzdHJpbmc7XG5cdHByb2ZpbGVQaWN0dXJlOiBib29sZWFuO1xuXHRxdWlja0FjdGlvbnM6IFF1aWNrQWN0aW9uc1NldHRpbmdzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFF1aWNrQWN0aW9uc1NldHRpbmdzIHtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0dG9nZ2xlTW9kZTogYm9vbGVhbjtcblx0Ly8gZ3JhcGhWaWV3IGhlcmUgb25seSBjb250cm9scyBjb21tYW5kIHBhbGV0dGUgYXBwZWFyYW5jZSwgbm90IHRoZSBmZWF0dXJlIGl0c2VsZlxuXHRncmFwaFZpZXc6IGJvb2xlYW47XG5cdGNoYW5nZVRoZW1lOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFR5cG9ncmFwaHlTZXR0aW5ncyB7XG5cdGhlYWRpbmdGb250OiBzdHJpbmc7XG5cdHByb3NlRm9udDogc3RyaW5nO1xuXHRtb25vRm9udDogc3RyaW5nO1xuXHRmb250U291cmNlOiAnbG9jYWwnIHwgJ2Nkbic7XG5cdGZvbnREaXNwbGF5OiAnc3dhcCcgfCAnZmFsbGJhY2snIHwgJ29wdGlvbmFsJztcblx0Y3VzdG9tRm9udHM6IHtcblx0XHRoZWFkaW5nOiBzdHJpbmc7XG5cdFx0cHJvc2U6IHN0cmluZztcblx0XHRtb25vOiBzdHJpbmc7XG5cdFx0dXJsczogc3RyaW5nO1xuXHR9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbmFsRmVhdHVyZXMge1xuXHRwcm9maWxlUGljdHVyZTogUHJvZmlsZVBpY3R1cmVTZXR0aW5ncztcblx0Y29tbWVudHM6IENvbW1lbnRzU2V0dGluZ3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZmlsZVBpY3R1cmVTZXR0aW5ncyB7XG5cdGVuYWJsZWQ6IGJvb2xlYW47XG5cdGltYWdlOiBzdHJpbmc7XG5cdGFsdDogc3RyaW5nO1xuXHRzaXplOiAnc20nIHwgJ21kJyB8ICdsZyc7XG5cdHVybD86IHN0cmluZztcblx0cGxhY2VtZW50OiAnZm9vdGVyJyB8ICdoZWFkZXInO1xuXHRzdHlsZTogJ2NpcmNsZScgfCAnc3F1YXJlJyB8ICdub25lJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21tZW50c1NldHRpbmdzIHtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0cHJvdmlkZXI6ICdnaXNjdXMnO1xuXHRyYXdTY3JpcHQ6IHN0cmluZzsgLy8gVGhlIGZ1bGwgR2lzY3VzIHNjcmlwdCBwYXN0ZWQgYnkgdGhlIHVzZXJcblx0cmVwbzogc3RyaW5nO1xuXHRyZXBvSWQ6IHN0cmluZztcblx0Y2F0ZWdvcnk6IHN0cmluZztcblx0Y2F0ZWdvcnlJZDogc3RyaW5nO1xuXHRtYXBwaW5nOiBzdHJpbmc7XG5cdHN0cmljdDogc3RyaW5nO1xuXHRyZWFjdGlvbnM6IHN0cmluZztcblx0bWV0YWRhdGE6IHN0cmluZztcblx0aW5wdXRQb3NpdGlvbjogc3RyaW5nO1xuXHR0aGVtZTogc3RyaW5nO1xuXHRsYW5nOiBzdHJpbmc7XG5cdGxvYWRpbmc6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZXBsb3ltZW50U2V0dGluZ3Mge1xuXHRwbGF0Zm9ybTogJ25ldGxpZnknIHwgJ3ZlcmNlbCcgfCAnZ2l0aHViLXBhZ2VzJyB8ICdjbG91ZGZsYXJlLXdvcmtlcnMnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsdWdpbkNvbmZpZ3VyYXRpb24ge1xuXHRvYnNpZGlhblNldHRpbmdzOiBPYnNpZGlhblNldHRpbmdzO1xuXHRhc3Ryb0NvbXBvc2VyU2V0dGluZ3M6IEFzdHJvQ29tcG9zZXJTZXR0aW5ncztcblx0aW1hZ2VNYW5hZ2VyU2V0dGluZ3M6IEltYWdlTWFuYWdlclNldHRpbmdzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9ic2lkaWFuU2V0dGluZ3Mge1xuXHRhdHRhY2htZW50TG9jYXRpb246ICdzdWJmb2xkZXInIHwgJ3NhbWUtZm9sZGVyJztcblx0c3ViZm9sZGVyTmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFzdHJvQ29tcG9zZXJTZXR0aW5ncyB7XG5cdGNyZWF0aW9uTW9kZTogJ2ZpbGUnIHwgJ2ZvbGRlcic7XG5cdGluZGV4RmlsZU5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbWFnZU1hbmFnZXJTZXR0aW5ncyB7XG5cdGN1c3RvbVByb3BlcnR5TGlua0Zvcm1hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBUZW1wbGF0ZVR5cGUgPSAnc3RhbmRhcmQnIHwgJ21pbmltYWwnIHwgJ2NvbXBhY3QnO1xuXG5leHBvcnQgdHlwZSBUaGVtZVR5cGUgPSBcblx0fCAnb3h5Z2VuJyB8ICdtaW5pbWFsJyB8ICdhdG9tJyB8ICdheXUnIHwgJ2NhdHBwdWNjaW4nIHwgJ2NoYXJjb2FsJyB8ICdkcmFjdWxhJyB8ICdldmVyZm9yZXN0JyB8ICdmbGV4b2tpJyB8ICdncnV2Ym94J1xuXHR8ICdtYWNvcycgfCAnbm9yZCcgfCAnb2JzaWRpYW4nIHwgJ3Jvc2UtcGluZScgfCAnc2t5JyB8ICdzb2xhcml6ZWQnIHwgJ3RoaW5ncycgfCAnY3VzdG9tJztcblxuZXhwb3J0IHR5cGUgQ29udGVudE9yZ2FuaXphdGlvblR5cGUgPSAnZmlsZS1iYXNlZCcgfCAnZm9sZGVyLWJhc2VkJztcblxuZXhwb3J0IGludGVyZmFjZSBQcmVzZXRUZW1wbGF0ZSB7XG5cdG5hbWU6IHN0cmluZztcblx0ZGVzY3JpcHRpb246IHN0cmluZztcblx0ZmVhdHVyZXM6IEZlYXR1cmVTZXR0aW5ncztcblx0dGhlbWU6IFRoZW1lVHlwZTtcblx0Y29udGVudE9yZ2FuaXphdGlvbjogQ29udGVudE9yZ2FuaXphdGlvblR5cGU7XG5cdGNvbmZpZzogUGFydGlhbDxBc3Ryb01vZHVsYXJTZXR0aW5ncz47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2l6YXJkU3RlcCB7XG5cdHN0ZXBOdW1iZXI6IG51bWJlcjtcblx0dGl0bGU6IHN0cmluZztcblx0ZGVzY3JpcHRpb246IHN0cmluZztcblx0Y2FuU2tpcDogYm9vbGVhbjtcblx0ZGVmYXVsdFZhbHVlPzogdW5rbm93bjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaGVtZU9wdGlvbiB7XG5cdGlkOiBUaGVtZVR5cGU7XG5cdG5hbWU6IHN0cmluZztcblx0ZGVzY3JpcHRpb246IHN0cmluZztcblx0cHJldmlld0NvbG9yczogc3RyaW5nW107XG5cdGJhY2tncm91bmRDb2xvckxpZ2h0OiBzdHJpbmc7XG5cdGJhY2tncm91bmRDb2xvckRhcms6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZU9wdGlvbiB7XG5cdGlkOiBUZW1wbGF0ZVR5cGU7XG5cdG5hbWU6IHN0cmluZztcblx0ZGVzY3JpcHRpb246IHN0cmluZztcblx0ZmVhdHVyZXM6IHN0cmluZ1tdO1xuXHRyZWNvbW1lbmRlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQbHVnaW5TdGF0dXMge1xuXHRuYW1lOiBzdHJpbmc7XG5cdGluc3RhbGxlZDogYm9vbGVhbjtcblx0ZW5hYmxlZDogYm9vbGVhbjtcblx0Y29uZmlndXJhYmxlOiBib29sZWFuO1xuXHRjdXJyZW50U2V0dGluZ3M/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0b3V0T2ZTeW5jQ29udGVudFR5cGVzPzogc3RyaW5nW107IC8vIEZvciBBc3RybyBDb21wb3NlcjogbGlzdCBvZiBjb250ZW50IHR5cGVzIHRoYXQgYXJlIG91dCBvZiBzeW5jXG5cdHNldHRpbmdzTWF0Y2g/OiBib29sZWFuOyAvLyBGb3IgSW1hZ2UgTWFuYWdlcjogd2hldGhlciBzZXR0aW5ncyBtYXRjaCBjb250ZW50IG9yZ2FuaXphdGlvblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ0ZpbGVJbmZvIHtcblx0ZXhpc3RzOiBib29sZWFuO1xuXHRwYXRoOiBzdHJpbmc7XG5cdGNvbnRlbnQ6IHN0cmluZztcblx0bGFzdE1vZGlmaWVkOiBEYXRlO1xuXHR2YWxpZDogYm9vbGVhbjtcblx0ZXJyb3JzOiBzdHJpbmdbXTtcbn1cblxuLy8gT2JzaWRpYW4gaW50ZXJuYWwgQVBJIHR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIE9ic2lkaWFuQXBwIHtcblx0c2V0dGluZzoge1xuXHRcdG9wZW4oKTogdm9pZDtcblx0XHRvcGVuVGFiQnlJZChpZDogc3RyaW5nKTogdm9pZDtcblx0fTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYnNpZGlhblZhdWx0QWRhcHRlciB7XG5cdGJhc2VQYXRoPzogc3RyaW5nO1xuXHRwYXRoPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9ic2lkaWFuUGx1Z2lucyB7XG5cdHBsdWdpbnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0ZW5hYmxlZFBsdWdpbnM/OiBTZXQ8c3RyaW5nPjtcblx0Y29tbXVuaXR5UGx1Z2lucz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9ic2lkaWFuVmF1bHRDb25maWcge1xuXHRhdHRhY2htZW50Rm9sZGVyUGF0aD86IHN0cmluZztcblx0bmV3TGlua0Zvcm1hdD86IHN0cmluZztcblx0dXNlTWFya2Rvd25MaW5rcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzaWRpYW5BcHBTZXR0aW5ncyB7XG5cdGF0dGFjaG1lbnRGb2xkZXJQYXRoPzogc3RyaW5nO1xuXHRuZXdMaW5rRm9ybWF0Pzogc3RyaW5nO1xuXHR1c2VNYXJrZG93bkxpbmtzPzogYm9vbGVhbjtcbn1cblxuLy8gVGhlbWUgY29sb3IgZXh0cmFjdGlvbiB0eXBlc1xuZXhwb3J0IGludGVyZmFjZSBUaGVtZUNvbG9yU2V0dGluZ3Mge1xuXHRtb2RlOiAnc2ltcGxlJyB8ICdhZHZhbmNlZCc7XG5cdGV4dHJhY3RlZENvbG9ycz86IFRoZW1lQ29sb3JzO1xuXHRzaW1wbGVDb2xvcnM/OiBTaW1wbGVUaGVtZUNvbG9ycztcblx0bGFzdEV4dHJhY3RlZD86IHN0cmluZzsgLy8gSVNPIHRpbWVzdGFtcFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lQ29sb3JzIHtcblx0cHJpbWFyeTogQ29sb3JTY2FsZTtcblx0aGlnaGxpZ2h0OiBDb2xvclNjYWxlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpbXBsZVRoZW1lQ29sb3JzIHtcblx0YWNjZW50OiBzdHJpbmc7XG5cdGJhY2tncm91bmQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Ryb01vZHVsYXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQXN0cm9Nb2R1bGFyU2V0dGluZ3M7XG5cdGNvbmZpZ01hbmFnZXI6IENvbmZpZ01hbmFnZXI7XG5cdHBsdWdpbk1hbmFnZXI6IFBsdWdpbk1hbmFnZXI7XG5cdGxvYWRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+O1xuXHR0cmlnZ2VyU2V0dGluZ3NSZWZyZXNoKCk6IFByb21pc2U8dm9pZD47XG5cdHVwZGF0ZVJpYmJvbkljb24oKTogUHJvbWlzZTx2b2lkPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2xvclNjYWxlIHtcblx0NTA6IHN0cmluZztcblx0MTAwOiBzdHJpbmc7XG5cdDIwMDogc3RyaW5nO1xuXHQzMDA6IHN0cmluZztcblx0NDAwOiBzdHJpbmc7XG5cdDUwMDogc3RyaW5nO1xuXHQ2MDA6IHN0cmluZztcblx0NzAwOiBzdHJpbmc7XG5cdDgwMDogc3RyaW5nO1xuXHQ5MDA6IHN0cmluZztcblx0OTUwPzogc3RyaW5nOyAvLyBPbmx5IGZvciBwcmltYXJ5IGNvbG9yc1xufVxuXG5cbmV4cG9ydCBjb25zdCBGT05UX09QVElPTlMgPSBbXG5cdCdJbnRlcicsICdSb2JvdG8nLCAnT3BlbiBTYW5zJywgJ0xhdG8nLCAnUG9wcGlucycsICdTb3VyY2UgU2FucyBQcm8nLCAnTnVuaXRvJywgJ01vbnRzZXJyYXQnLFxuXHQnUGxheWZhaXIgRGlzcGxheScsICdNZXJyaXdlYXRoZXInLCAnTG9yYScsICdDcmltc29uIFRleHQnLCAnUFQgU2VyaWYnLCAnTGlicmUgQmFza2VydmlsbGUnLFxuXHQnRmlyYSBDb2RlJywgJ0pldEJyYWlucyBNb25vJywgJ1NvdXJjZSBDb2RlIFBybycsICdJQk0gUGxleCBNb25vJywgJ0Nhc2NhZGlhIENvZGUnXG5dO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQXN0cm9Nb2R1bGFyU2V0dGluZ3MgPSB7XG5cdHJ1bldpemFyZE9uU3RhcnR1cDogdHJ1ZSxcblx0Y3VycmVudFRlbXBsYXRlOiAnc3RhbmRhcmQnLFxuXHRjdXJyZW50VGhlbWU6ICdveHlnZW4nLFxuXHRjdXN0b21UaGVtZUZpbGU6ICdjdXN0b20nLFxuXHRjb250ZW50T3JnYW5pemF0aW9uOiAnZmlsZS1iYXNlZCcsXG5cdHRoZW1lQ29sb3JzOiB7XG5cdFx0bW9kZTogJ3NpbXBsZScsXG5cdFx0ZXh0cmFjdGVkQ29sb3JzOiB1bmRlZmluZWQsXG5cdFx0c2ltcGxlQ29sb3JzOiB7XG5cdFx0XHRhY2NlbnQ6ICcjNTg2NWYyJyxcblx0XHRcdGJhY2tncm91bmQ6ICcjMWUxZTFlJ1xuXHRcdH0sXG5cdFx0bGFzdEV4dHJhY3RlZDogdW5kZWZpbmVkXG5cdH0sXG5cdHNpdGVJbmZvOiB7XG5cdFx0c2l0ZTogJ2h0dHBzOi8vYXN0cm8tbW9kdWxhci5uZXRsaWZ5LmFwcCcsXG5cdFx0dGl0bGU6ICdBc3RybyBNb2R1bGFyJyxcblx0XHRkZXNjcmlwdGlvbjogJ0EgZmxleGlibGUgYmxvZyB0aGVtZSBkZXNpZ25lZCBmb3IgT2JzaWRpYW4gdXNlcnMuJyxcblx0XHRhdXRob3I6ICdEYXZpZCBWLiBLaW1iYWxsJyxcblx0XHRsYW5ndWFnZTogJ2VuJyxcblx0XHRmYXZpY29uVGhlbWVBZGFwdGl2ZTogdHJ1ZSxcblx0XHRkZWZhdWx0T2dJbWFnZUFsdDogJ0FzdHJvIE1vZHVsYXIgbG9nby4nLFxuXHR9LFxuXHRsYXlvdXQ6IHtcblx0XHRjb250ZW50V2lkdGg6ICc0NXJlbScsXG5cdH0sXG5cdHRhYmxlT2ZDb250ZW50czoge1xuXHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0ZGVwdGg6IDQsXG5cdH0sXG5cdGZvb3Rlcjoge1xuXHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0Y29udGVudDogJ1x1MDBBOSAyMDI1IHthdXRob3J9LiBCdWlsdCB3aXRoIHRoZSA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkdmtpbWJhbGwvYXN0cm8tbW9kdWxhclwiIHRhcmdldD1cIl9ibGFua1wiPkFzdHJvIE1vZHVsYXI8L2E+IHRoZW1lLicsXG5cdFx0c2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IHRydWUsXG5cdH0sXG5cdHNlbzoge1xuXHRcdGRlZmF1bHRPZ0ltYWdlQWx0OiAnQXN0cm8gTW9kdWxhciBsb2dvLicsXG5cdH0sXG5cdG5hdmlnYXRpb246IHtcblx0XHRzaG93TmF2aWdhdGlvbjogdHJ1ZSxcblx0XHRzdHlsZTogJ3RyYWRpdGlvbmFsJyxcblx0XHRzaG93TW9iaWxlTWVudTogdHJ1ZSxcblx0XHRwYWdlczogW1xuXHRcdFx0eyB0aXRsZTogJ1Bvc3RzJywgdXJsOiAnL3Bvc3RzJyB9LFxuXHRcdFx0eyB0aXRsZTogJ1Byb2plY3RzJywgdXJsOiAnL3Byb2plY3RzJyB9LFxuXHRcdFx0eyB0aXRsZTogJ0RvY3MnLCB1cmw6ICcvZG9jcycgfSxcblx0XHRcdHsgdGl0bGU6ICdBYm91dCcsIHVybDogJy9hYm91dCcgfSxcblx0XHRcdHsgdGl0bGU6ICdHaXRIdWInLCB1cmw6ICdodHRwczovL2dpdGh1Yi5jb20vZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyJyB9LFxuXHRcdF0sXG5cdFx0c29jaWFsOiBbXG5cdFx0XHR7IHRpdGxlOiAnWCcsIHVybDogJ2h0dHBzOi8veC5jb20vZGF2aWR2a2ltYmFsbCcsIGljb246ICd4LXR3aXR0ZXInIH0sXG5cdFx0XHR7IHRpdGxlOiAnR2l0SHViJywgdXJsOiAnaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkdmtpbWJhbGwnLCBpY29uOiAnZ2l0aHViJyB9LFxuXHRcdF0sXG5cdH0sXG5cdGNvbW1hbmRQYWxldHRlOiB7XG5cdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRzaG9ydGN1dDogJ2N0cmwrSycsXG5cdFx0cGxhY2Vob2xkZXI6ICdTZWFyY2ggcG9zdHMnLFxuXHRcdHNlYXJjaDoge1xuXHRcdFx0cG9zdHM6IHRydWUsXG5cdFx0XHRwYWdlczogZmFsc2UsXG5cdFx0XHRwcm9qZWN0czogZmFsc2UsXG5cdFx0XHRkb2NzOiBmYWxzZSxcblx0XHR9LFxuXHRcdHNlY3Rpb25zOiB7XG5cdFx0XHRxdWlja0FjdGlvbnM6IHRydWUsXG5cdFx0XHRwYWdlczogdHJ1ZSxcblx0XHRcdHNvY2lhbDogdHJ1ZSxcblx0XHR9LFxuXHRcdHF1aWNrQWN0aW9uczoge1xuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdHRvZ2dsZU1vZGU6IHRydWUsXG5cdFx0XHRncmFwaFZpZXc6IHRydWUsXG5cdFx0XHRjaGFuZ2VUaGVtZTogdHJ1ZSxcblx0XHR9LFxuXHR9LFxuXHRob21lT3B0aW9uczoge1xuXHRcdGZlYXR1cmVkUG9zdDoge1xuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdHR5cGU6ICdsYXRlc3QnLFxuXHRcdFx0c2x1ZzogJ2dldHRpbmctc3RhcnRlZCcsXG5cdFx0fSxcblx0XHRyZWNlbnRQb3N0czoge1xuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdGNvdW50OiA3LFxuXHRcdH0sXG5cdFx0cHJvamVjdHM6IHtcblx0XHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0XHRjb3VudDogMixcblx0XHR9LFxuXHRcdGRvY3M6IHtcblx0XHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0XHRjb3VudDogMyxcblx0XHR9LFxuXHRcdGJsdXJiOiB7XG5cdFx0XHRwbGFjZW1lbnQ6ICdiZWxvdycsXG5cdFx0fSxcblx0fSxcblx0cG9zdE9wdGlvbnM6IHtcblx0XHRwb3N0c1BlclBhZ2U6IDYsXG5cdFx0cmVhZGluZ1RpbWU6IHRydWUsXG5cdFx0d29yZENvdW50OiB0cnVlLFxuXHRcdHRhZ3M6IHRydWUsXG5cdFx0bGlua2VkTWVudGlvbnM6IHtcblx0XHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0XHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlLFxuXHRcdH0sXG5cdFx0Z3JhcGhWaWV3OiB7XG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0c2hvd0luU2lkZWJhcjogdHJ1ZSxcblx0XHRcdG1heE5vZGVzOiAxMDAsXG5cdFx0XHRzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSxcblx0XHR9LFxuXHRcdHBvc3ROYXZpZ2F0aW9uOiB0cnVlLFxuXHRcdHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJyxcblx0XHRwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxuXHRcdGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsXG5cdFx0Y29tbWVudHM6IHtcblx0XHRcdGVuYWJsZWQ6IGZhbHNlLFxuXHRcdFx0cHJvdmlkZXI6ICdnaXNjdXMnLFxuXHRcdFx0cmF3U2NyaXB0OiAnJyxcblx0XHRcdHJlcG86ICdkYXZpZHZraW1iYWxsL2FzdHJvLW1vZHVsYXInLFxuXHRcdFx0cmVwb0lkOiAnUl9rZ0RPUGxsZkt3Jyxcblx0XHRcdGNhdGVnb3J5OiAnR2VuZXJhbCcsXG5cdFx0XHRjYXRlZ29yeUlkOiAnRElDX2t3RE9QbGxmSzg0Q3ZVcHgnLFxuXHRcdFx0bWFwcGluZzogJ3BhdGhuYW1lJyxcblx0XHRcdHN0cmljdDogJzAnLFxuXHRcdFx0cmVhY3Rpb25zOiAnMScsXG5cdFx0XHRtZXRhZGF0YTogJzAnLFxuXHRcdFx0aW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsXG5cdFx0XHR0aGVtZTogJ3ByZWZlcnJlZF9jb2xvcl9zY2hlbWUnLFxuXHRcdFx0bGFuZzogJ2VuJyxcblx0XHRcdGxvYWRpbmc6ICdsYXp5Jyxcblx0XHR9LFxuXHR9LFxuXHRmZWF0dXJlczoge1xuXHRcdGNvbW1hbmRQYWxldHRlOiB0cnVlLFxuXHRcdHJlYWRpbmdUaW1lOiB0cnVlLFxuXHRcdGxpbmtlZE1lbnRpb25zOiB0cnVlLFxuXHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UsXG5cdFx0Y29tbWVudHM6IGZhbHNlLFxuXHRcdGdyYXBoVmlldzogdHJ1ZSxcblx0XHRwb3N0TmF2aWdhdGlvbjogdHJ1ZSxcblx0XHRoaWRlU2Nyb2xsQmFyOiBmYWxzZSxcblx0XHRzY3JvbGxUb1RvcDogdHJ1ZSxcblx0XHRmZWF0dXJlQnV0dG9uOiAnbW9kZScsXG5cdFx0c2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IHRydWUsXG5cdFx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLFxuXHRcdHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsXG5cdFx0cHJvZmlsZVBpY3R1cmU6IGZhbHNlLFxuXHRcdHF1aWNrQWN0aW9uczoge1xuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdHRvZ2dsZU1vZGU6IHRydWUsXG5cdFx0XHRncmFwaFZpZXc6IHRydWUsXG5cdFx0XHRjaGFuZ2VUaGVtZTogdHJ1ZSxcblx0XHR9LFxuXHR9LFxuXHR0eXBvZ3JhcGh5OiB7XG5cdFx0aGVhZGluZ0ZvbnQ6ICdJbnRlcicsXG5cdFx0cHJvc2VGb250OiAnSW50ZXInLFxuXHRcdG1vbm9Gb250OiAnSmV0QnJhaW5zIE1vbm8nLFxuXHRcdGZvbnRTb3VyY2U6ICdsb2NhbCcsXG5cdFx0Zm9udERpc3BsYXk6ICdzd2FwJyxcblx0XHRjdXN0b21Gb250czoge1xuXHRcdFx0aGVhZGluZzogJycsXG5cdFx0XHRwcm9zZTogJycsXG5cdFx0XHRtb25vOiAnJyxcblx0XHRcdHVybHM6ICcnLFxuXHRcdH0sXG5cdH0sXG5cdG9wdGlvbmFsRmVhdHVyZXM6IHtcblx0XHRwcm9maWxlUGljdHVyZToge1xuXHRcdFx0ZW5hYmxlZDogZmFsc2UsXG5cdFx0XHRpbWFnZTogJy9wcm9maWxlLmpwZycsXG5cdFx0XHRhbHQ6ICdQcm9maWxlIHBpY3R1cmUnLFxuXHRcdFx0c2l6ZTogJ21kJyxcblx0XHRcdHVybDogJycsXG5cdFx0XHRwbGFjZW1lbnQ6ICdmb290ZXInLFxuXHRcdFx0c3R5bGU6ICdjaXJjbGUnLFxuXHRcdH0sXG5cdFx0Y29tbWVudHM6IHtcblx0XHRcdGVuYWJsZWQ6IGZhbHNlLFxuXHRcdFx0cHJvdmlkZXI6ICdnaXNjdXMnLFxuXHRcdFx0cmF3U2NyaXB0OiAnJyxcblx0XHRcdHJlcG86ICdkYXZpZHZraW1iYWxsL2FzdHJvLW1vZHVsYXInLFxuXHRcdFx0cmVwb0lkOiAnUl9rZ0RPUGxsZkt3Jyxcblx0XHRcdGNhdGVnb3J5OiAnR2VuZXJhbCcsXG5cdFx0XHRjYXRlZ29yeUlkOiAnRElDX2t3RE9QbGxmSzg0Q3ZVcHgnLFxuXHRcdFx0bWFwcGluZzogJ3BhdGhuYW1lJyxcblx0XHRcdHN0cmljdDogJzAnLFxuXHRcdFx0cmVhY3Rpb25zOiAnMScsXG5cdFx0XHRtZXRhZGF0YTogJzAnLFxuXHRcdFx0aW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsXG5cdFx0XHR0aGVtZTogJ3ByZWZlcnJlZF9jb2xvcl9zY2hlbWUnLFxuXHRcdFx0bGFuZzogJ2VuJyxcblx0XHRcdGxvYWRpbmc6ICdsYXp5Jyxcblx0XHR9LFxuXHR9LFxuXHRkZXBsb3ltZW50OiB7XG5cdFx0cGxhdGZvcm06ICduZXRsaWZ5Jyxcblx0fSxcblx0cGx1Z2luQ29uZmlnOiB7XG5cdFx0b2JzaWRpYW5TZXR0aW5nczoge1xuXHRcdFx0YXR0YWNobWVudExvY2F0aW9uOiAnc3ViZm9sZGVyJyxcblx0XHRcdHN1YmZvbGRlck5hbWU6ICdhdHRhY2htZW50cycsXG5cdFx0fSxcblx0XHRhc3Ryb0NvbXBvc2VyU2V0dGluZ3M6IHtcblx0XHRcdGNyZWF0aW9uTW9kZTogJ2ZpbGUnLFxuXHRcdFx0aW5kZXhGaWxlTmFtZTogJ2luZGV4Jyxcblx0XHR9LFxuXHRcdGltYWdlTWFuYWdlclNldHRpbmdzOiB7XG5cdFx0XHRjdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXQ6ICdbW2F0dGFjaG1lbnRzL3tpbWFnZS11cmx9XV0nLFxuXHRcdH0sXG5cdH0sXG5cdG9wdGlvbmFsQ29udGVudFR5cGVzOiB7XG5cdFx0cHJvamVjdHM6IHRydWUsIC8vIFdpbGwgYmUgb3ZlcnJpZGRlbiBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRcdGRvY3M6IHRydWUsIC8vIFdpbGwgYmUgb3ZlcnJpZGRlbiBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHR9LFxuXHRhdmFpbGFibGVUaGVtZXM6ICdkZWZhdWx0Jyxcblx0Y3VzdG9tVGhlbWVzOiAnJyxcblx0Y3VzdG9tVGhlbWVHZW5lcmF0aW9uRW5hYmxlZDogZmFsc2UsXG5cdHJlbW92ZVJpYmJvbkljb246IGZhbHNlLFxufTtcblxuZXhwb3J0IGNvbnN0IFRIRU1FX09QVElPTlM6IFRoZW1lT3B0aW9uW10gPSBbXG5cdHtcblx0XHRpZDogJ294eWdlbicsXG5cdFx0bmFtZTogJ094eWdlbicsXG5cdFx0ZGVzY3JpcHRpb246ICdNb2Rlcm4sIGNsZWFuIGRlc2lnbicsXG5cdFx0cHJldmlld0NvbG9yczogWycjMDc1OTg1JywgJyMzOGJkZjgnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmOGZhZmMnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMDIwNjE3Jyxcblx0fSxcblx0e1xuXHRcdGlkOiAnbWluaW1hbCcsXG5cdFx0bmFtZTogJ01pbmltYWwnLFxuXHRcdGRlc2NyaXB0aW9uOiAnVW5kZXJzdGF0ZWQgd2l0aCBoaWdoIGNvbnRyYXN0Jyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyMyZDM4M2MnLCAnIzg3YmZjZiddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2ZhZmFmYScsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMxYTFhMWEnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdhdG9tJyxcblx0XHRuYW1lOiAnQXRvbScsXG5cdFx0ZGVzY3JpcHRpb246ICdEYXJrIHRoZW1lIHdpdGggdmlicmFudCBhY2NlbnRzJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyMwNzU5ODUnLCAnIzU3OGFmMiddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2Y4ZmFmYycsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMxODFhMWYnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdheXUnLFxuXHRcdG5hbWU6ICdBeXUnLFxuXHRcdGRlc2NyaXB0aW9uOiAnQ2xlYW4gdGhlbWUgd2l0aCB3YXJtIGNvbG9ycycsXG5cdFx0cHJldmlld0NvbG9yczogWycjOTk1MjFhJywgJyNmZjk5MzMnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmOGY4ZjAnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMGYxNDE5Jyxcblx0fSxcblx0e1xuXHRcdGlkOiAnY2F0cHB1Y2NpbicsXG5cdFx0bmFtZTogJ0NhdHBwdWNjaW4nLFxuXHRcdGRlc2NyaXB0aW9uOiAnUGFzdGVsIGNvbG9yIHBhbGV0dGUnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzk1NjI0ZicsICcjZGY3NzYzJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZmVmN2VkJyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzE4MTgyNScsXG5cdH0sXG5cdHtcblx0XHRpZDogJ2NoYXJjb2FsJyxcblx0XHRuYW1lOiAnQ2hhcmNvYWwnLFxuXHRcdGRlc2NyaXB0aW9uOiAnRGFyaywgcHJvZmVzc2lvbmFsIGxvb2snLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzIwMjAyMCcsICcjYzBjMGMwJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZjhmOGY4Jyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzAwMDAwMCcsXG5cdH0sXG5cdHtcblx0XHRpZDogJ2RyYWN1bGEnLFxuXHRcdG5hbWU6ICdEcmFjdWxhJyxcblx0XHRkZXNjcmlwdGlvbjogJ0RhcmsgdGhlbWUgd2l0aCBwdXJwbGUgYWNjZW50cycsXG5cdFx0cHJldmlld0NvbG9yczogWycjN2MzYWVkJywgJyNhNzhiZmEnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmOGY4ZjInLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMTkxYTIxJyxcblx0fSxcblx0e1xuXHRcdGlkOiAnZXZlcmZvcmVzdCcsXG5cdFx0bmFtZTogJ0V2ZXJmb3Jlc3QnLFxuXHRcdGRlc2NyaXB0aW9uOiAnU29mdCwgd2FybSBjb2xvcnMnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzVhN2E1YScsICcjODNjMDkyJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZjdmNmYzJyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzJkMzUzYicsXG5cdH0sXG5cdHtcblx0XHRpZDogJ2ZsZXhva2knLFxuXHRcdG5hbWU6ICdGbGV4b2tpJyxcblx0XHRkZXNjcmlwdGlvbjogJ0Jhc2VkIG9uIE1hdGVyaWFsIERlc2lnbiAzJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyMxNjUwNGEnLCAnIzRkYmRiNSddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2ZlZmVmZScsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMxMDBmMGYnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdncnV2Ym94Jyxcblx0XHRuYW1lOiAnR3J1dmJveCcsXG5cdFx0ZGVzY3JpcHRpb246ICdSZXRybyBncm9vdmUgY29sb3Igc2NoZW1lJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyM3YTU0MTInLCAnI2Y3OGIzMyddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2ZiZjFjNycsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMxZDIwMjEnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdtYWNvcycsXG5cdFx0bmFtZTogJ21hY09TJyxcblx0XHRkZXNjcmlwdGlvbjogJ05hdGl2ZSBtYWNPUyBhcHBlYXJhbmNlJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyMwMDJlNjYnLCAnIzMzOWZmZiddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2Y1ZjVmNycsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMxNDE0MTQnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdub3JkJyxcblx0XHRuYW1lOiAnTm9yZCcsXG5cdFx0ZGVzY3JpcHRpb246ICdBcmN0aWMtaW5zcGlyZWQgY29sb3IgcGFsZXR0ZScsXG5cdFx0cHJldmlld0NvbG9yczogWycjMmU0YzYzJywgJyM1ZTk0YjgnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmOGZhZmMnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMmUzNDQwJyxcblx0fSxcblx0e1xuXHRcdGlkOiAnb2JzaWRpYW4nLFxuXHRcdG5hbWU6ICdPYnNpZGlhbicsXG5cdFx0ZGVzY3JpcHRpb246ICdNYXRjaGVzIE9ic2lkaWFuXFwncyBkZWZhdWx0IHRoZW1lJyxcblx0XHRwcmV2aWV3Q29sb3JzOiBbJyM1MjI5OTQnLCAnIzljNzVmZiddLFxuXHRcdGJhY2tncm91bmRDb2xvckxpZ2h0OiAnI2Y4ZjhmOCcsXG5cdFx0YmFja2dyb3VuZENvbG9yRGFyazogJyMwYTBhMGEnLFxuXHR9LFxuXHR7XG5cdFx0aWQ6ICdyb3NlLXBpbmUnLFxuXHRcdG5hbWU6ICdSb3NcdTAwRTkgUGluZScsXG5cdFx0ZGVzY3JpcHRpb246ICdBbGwgbmF0dXJhbCBwaW5lLCBmYXV4IGZpciwgYW5kIHdpbnRlcicsXG5cdFx0cHJldmlld0NvbG9yczogWycjYWIyMTQyJywgJyNlZjk3YTknXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmYWY0ZWQnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMTkxNzI0Jyxcblx0fSxcblx0e1xuXHRcdGlkOiAnc2t5Jyxcblx0XHRuYW1lOiAnU2t5Jyxcblx0XHRkZXNjcmlwdGlvbjogJ0xpZ2h0LCBhaXJ5IGRlc2lnbicsXG5cdFx0cHJldmlld0NvbG9yczogWycjMTM2MTk0JywgJyM0NmFhZDAnXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmMGY5ZmYnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMjMyNzI5Jyxcblx0fSxcblx0e1xuXHRcdGlkOiAnc29sYXJpemVkJyxcblx0XHRuYW1lOiAnU29sYXJpemVkJyxcblx0XHRkZXNjcmlwdGlvbjogJ1ByZWNpc2lvbiBjb2xvcnMgZm9yIG1hY2hpbmVzIGFuZCBwZW9wbGUnLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzBlMzc1NCcsICcjMzM5ZmZmJ10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZmRmNmUzJyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzAwMmIzNicsXG5cdH0sXG5cdHtcblx0XHRpZDogJ3RoaW5ncycsXG5cdFx0bmFtZTogJ1RoaW5ncycsXG5cdFx0ZGVzY3JpcHRpb246ICdDbGVhbiwgbWluaW1hbCBkZXNpZ24nLFxuXHRcdHByZXZpZXdDb2xvcnM6IFsnIzFlM2E4YScsICcjNGQ5NWY3J10sXG5cdFx0YmFja2dyb3VuZENvbG9yTGlnaHQ6ICcjZjhmYWZjJyxcblx0XHRiYWNrZ3JvdW5kQ29sb3JEYXJrOiAnIzE3MTkxYycsXG5cdH0sXG5cdHtcblx0XHRpZDogJ2N1c3RvbScsXG5cdFx0bmFtZTogJ0N1c3RvbScsXG5cdFx0ZGVzY3JpcHRpb246ICdVc2UgYSBjdXN0b20gdGhlbWUgZmlsZScsXG5cdFx0cHJldmlld0NvbG9yczogWycjNjY2NjY2JywgJyM5OTk5OTknXSxcblx0XHRiYWNrZ3JvdW5kQ29sb3JMaWdodDogJyNmZmZmZmYnLFxuXHRcdGJhY2tncm91bmRDb2xvckRhcms6ICcjMDAwMDAwJyxcblx0fSxcbl07XG5cbmV4cG9ydCBjb25zdCBURU1QTEFURV9PUFRJT05TOiBUZW1wbGF0ZU9wdGlvbltdID0gW1xuXHR7XG5cdFx0aWQ6ICdzdGFuZGFyZCcsXG5cdFx0bmFtZTogJ1N0YW5kYXJkJyxcblx0XHRkZXNjcmlwdGlvbjogJ0Z1bGwtZmVhdHVyZWQgYmxvZyB3aXRoIGFsbCBkZWZhdWx0IG9wdGlvbnMgZW5hYmxlZCcsXG5cdFx0ZmVhdHVyZXM6IFsnQ29tbWFuZCBwYWxldHRlJywgJ1RhYmxlIG9mIGNvbnRlbnRzJywgJ1JlYWRpbmcgdGltZScsICdMaW5rZWQgbWVudGlvbnMnLCAnRm9vdGVyJywgJ1NvY2lhbCBpY29ucycsICdTY3JvbGwgdG8gdG9wJywgJ0RhcmsgbW9kZSB0b2dnbGUnXSxcblx0XHRyZWNvbW1lbmRlZDogdHJ1ZSxcblx0fSxcblx0e1xuXHRcdGlkOiAnY29tcGFjdCcsXG5cdFx0bmFtZTogJ0NvbXBhY3QnLFxuXHRcdGRlc2NyaXB0aW9uOiAnQmFsYW5jZWQgc2V0dXAgZm9yIHNtYWxsZXIgc2l0ZXMgd2l0aCBvcHRpbWl6ZWQgbGF5b3V0Jyxcblx0XHRmZWF0dXJlczogWydDb21tYW5kIHBhbGV0dGUnLCAnVGFibGUgb2YgY29udGVudHMnLCAnUmVhZGluZyB0aW1lJywgJ0NvbXBhY3QgbGlua2VkIG1lbnRpb25zJywgJ0N1c3RvbSBhc3BlY3QgcmF0aW8nXSxcblx0XHRyZWNvbW1lbmRlZDogZmFsc2UsXG5cdH0sXG5cdHtcblx0XHRpZDogJ21pbmltYWwnLFxuXHRcdG5hbWU6ICdNaW5pbWFsJyxcblx0XHRkZXNjcmlwdGlvbjogJ0NsZWFuLCBzaW1wbGUgYmxvZyB3aXRoIG1pbmltYWwgZmVhdHVyZXMgYW5kIGNvbnRlbnQnLFxuXHRcdGZlYXR1cmVzOiBbJ0NvbW1hbmQgcGFsZXR0ZScsICdTZWFyY2ggcG9zdHMvcGFnZXMnLCAnTWluaW1hbCBuYXZpZ2F0aW9uJ10sXG5cdFx0cmVjb21tZW5kZWQ6IGZhbHNlLFxuXHR9LFxuXTtcbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFdpemFyZFN0YXRlTWFuYWdlciB9IGZyb20gJy4vd2l6YXJkL1dpemFyZFN0YXRlJztcclxuaW1wb3J0IHsgQmFzZVdpemFyZFN0ZXAgfSBmcm9tICcuL3dpemFyZC9CYXNlV2l6YXJkU3RlcCc7XHJcbmltcG9ydCB7IFdlbGNvbWVTdGVwIH0gZnJvbSAnLi93aXphcmQvV2VsY29tZVN0ZXAnO1xyXG5pbXBvcnQgeyBUZW1wbGF0ZVN0ZXAgfSBmcm9tICcuL3dpemFyZC9UZW1wbGF0ZVN0ZXAnO1xyXG5pbXBvcnQgeyBUaGVtZVN0ZXAgfSBmcm9tICcuL3dpemFyZC9UaGVtZVN0ZXAnO1xyXG5pbXBvcnQgeyBGb250U3RlcCB9IGZyb20gJy4vd2l6YXJkL0ZvbnRTdGVwJztcclxuaW1wb3J0IHsgQ29udGVudE9yZ1N0ZXAgfSBmcm9tICcuL3dpemFyZC9Db250ZW50T3JnU3RlcCc7XHJcbmltcG9ydCB7IE5hdmlnYXRpb25TdGVwIH0gZnJvbSAnLi93aXphcmQvTmF2aWdhdGlvblN0ZXAnO1xyXG5pbXBvcnQgeyBPcHRpb25hbEZlYXR1cmVzU3RlcCB9IGZyb20gJy4vd2l6YXJkL09wdGlvbmFsRmVhdHVyZXNTdGVwJztcclxuaW1wb3J0IHsgRGVwbG95bWVudFN0ZXAgfSBmcm9tICcuL3dpemFyZC9EZXBsb3ltZW50U3RlcCc7XHJcbmltcG9ydCB7IFBsdWdpbkNvbmZpZ1N0ZXAgfSBmcm9tICcuL3dpemFyZC9QbHVnaW5Db25maWdTdGVwJztcclxuaW1wb3J0IHsgRmluYWxpemVTdGVwIH0gZnJvbSAnLi93aXphcmQvRmluYWxpemVTdGVwJztcclxuaW1wb3J0IHsgQXN0cm9Nb2R1bGFyUGx1Z2luLCBBc3Ryb01vZHVsYXJTZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR1cFdpemFyZE1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG5cdHByaXZhdGUgc3RhdGVNYW5hZ2VyOiBXaXphcmRTdGF0ZU1hbmFnZXI7XHJcblx0cHJpdmF0ZSBwbHVnaW46IEFzdHJvTW9kdWxhclBsdWdpbjtcclxuXHRwcml2YXRlIHN0ZXBzOiBCYXNlV2l6YXJkU3RlcFtdO1xyXG5cdHByaXZhdGUgaXNDb21wbGV0aW5nOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBpbml0aWFsU2V0dGluZ3NTbmFwc2hvdDogUGFydGlhbDxBc3Ryb01vZHVsYXJTZXR0aW5ncz4gfCBudWxsID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQXN0cm9Nb2R1bGFyUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHApO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLnN0YXRlTWFuYWdlciA9IG5ldyBXaXphcmRTdGF0ZU1hbmFnZXIocGx1Z2luKTtcclxuXHRcdFxyXG5cdFx0Ly8gSW5pdGlhbGl6ZSBzdGVwIGluc3RhbmNlc1xyXG5cdFx0dGhpcy5zdGVwcyA9IFtcclxuXHRcdFx0bmV3IFdlbGNvbWVTdGVwKGFwcCwgdGhpcywgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMucGx1Z2luKSxcclxuXHRcdFx0bmV3IFRlbXBsYXRlU3RlcChhcHAsIHRoaXMsIHRoaXMuc3RhdGVNYW5hZ2VyLCB0aGlzLnBsdWdpbiksXHJcblx0XHRcdG5ldyBUaGVtZVN0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pLFxyXG5cdFx0XHRuZXcgRm9udFN0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pLFxyXG5cdFx0XHRuZXcgQ29udGVudE9yZ1N0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pLFxyXG5cdFx0XHRuZXcgTmF2aWdhdGlvblN0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pLFxyXG5cdFx0XHRuZXcgT3B0aW9uYWxGZWF0dXJlc1N0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pLFxyXG5cdFx0XHRuZXcgRGVwbG95bWVudFN0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pLFxyXG5cdFx0XHRuZXcgUGx1Z2luQ29uZmlnU3RlcChhcHAsIHRoaXMsIHRoaXMuc3RhdGVNYW5hZ2VyLCB0aGlzLnBsdWdpbiksXHJcblx0XHRcdG5ldyBGaW5hbGl6ZVN0ZXAoYXBwLCB0aGlzLCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5wbHVnaW4pXHJcblx0XHRdO1xyXG5cdH1cclxuXHJcblx0b25PcGVuKCkge1xyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcclxuXHRcdGNvbnRlbnRFbC5hZGRDbGFzcygnYXN0cm8tbW9kdWxhci13aXphcmQnKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVmcmVzaCB0aGUgd2l6YXJkIHN0YXRlIHdpdGggY3VycmVudCBzZXR0aW5nc1xyXG5cdFx0dGhpcy5zdGF0ZU1hbmFnZXIucmVmcmVzaFN0YXRlKCk7XHJcblx0XHRcclxuXHRcdC8vIFN0b3JlIGEgc25hcHNob3Qgb2YgaW5pdGlhbCBzZXR0aW5ncyB0byBkZXRlY3QgY2hhbmdlcyBsYXRlclxyXG5cdFx0dGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdCA9IHRoaXMuY3JlYXRlU2V0dGluZ3NTbmFwc2hvdCgpO1xyXG5cdFx0XHJcblx0XHQvLyBSZW5kZXIgY3VycmVudCBzdGVwIChtYXkgYmUgYXN5bmMsIGJ1dCB3ZSBkb24ndCBhd2FpdCBpdClcclxuXHRcdHZvaWQgdGhpcy5yZW5kZXJDdXJyZW50U3RlcCgpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0XHRcclxuXHRcdC8vIFNhdmUgYW55IHdpemFyZCBzdGF0ZSBjaGFuZ2VzIHRvIGRhdGEuanNvbiBhbmQgY29uZmlnLnRzIGlmIG1vZGFsIGlzIGNsb3NlZFxyXG5cdFx0Ly8gVGhpcyBlbnN1cmVzIGNoYW5nZXMgYXJlIHByZXNlcnZlZCBldmVuIGlmIHVzZXIgY2xvc2VzIG1vZGFsIHdpdGhvdXQgY29tcGxldGluZyB3aXphcmRcclxuXHRcdC8vIE9ubHkgc2hvdyBub3RpZmljYXRpb24gaWYgbm90IGNvbXBsZXRpbmcgKENvbXBsZXRlIFNldHVwIGFscmVhZHkgc2hvd3MgaXRzIG93biBub3RpZmljYXRpb24pXHJcblx0XHR2b2lkIHRoaXMuc2F2ZVdpemFyZFN0YXRlVG9EYXRhSnNvbighdGhpcy5pc0NvbXBsZXRpbmcpO1xyXG5cdFx0XHJcblx0XHQvLyBSZXNldCB0aGUgZmxhZ1xyXG5cdFx0dGhpcy5pc0NvbXBsZXRpbmcgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2Nyb2xsVG9Ub3AoKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdFxyXG5cdFx0Ly8gTWV0aG9kIDE6IEZpbmQgYW5kIHNjcm9sbCB0aGUgYWN0dWFsIHNjcm9sbGFibGUgcGFyZW50XHJcblx0XHRsZXQgc2Nyb2xsYWJsZVBhcmVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gY29udGVudEVsO1xyXG5cdFx0d2hpbGUgKHNjcm9sbGFibGVQYXJlbnQgJiYgc2Nyb2xsYWJsZVBhcmVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xyXG5cdFx0XHRjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHNjcm9sbGFibGVQYXJlbnQpO1xyXG5cdFx0XHRpZiAoc2Nyb2xsYWJsZVBhcmVudC5zY3JvbGxIZWlnaHQgPiBzY3JvbGxhYmxlUGFyZW50LmNsaWVudEhlaWdodCAmJiBcclxuXHRcdFx0XHQoc3R5bGUub3ZlcmZsb3dZID09PSAnYXV0bycgfHwgc3R5bGUub3ZlcmZsb3dZID09PSAnc2Nyb2xsJyB8fCBzdHlsZS5vdmVyZmxvdyA9PT0gJ2F1dG8nIHx8IHN0eWxlLm92ZXJmbG93ID09PSAnc2Nyb2xsJykpIHtcclxuXHRcdFx0XHRzY3JvbGxhYmxlUGFyZW50LnNjcm9sbFRvcCA9IDA7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0c2Nyb2xsYWJsZVBhcmVudCA9IHNjcm9sbGFibGVQYXJlbnQucGFyZW50RWxlbWVudDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gTWV0aG9kIDI6IFRyeSBjb21tb24gT2JzaWRpYW4gbW9kYWwgY29udGFpbmVyc1xyXG5cdFx0Y29uc3QgbW9kYWxDb250ZW50ID0gY29udGVudEVsLmNsb3Nlc3QoJy5tb2RhbC1jb250ZW50Jyk7XHJcblx0XHRpZiAobW9kYWxDb250ZW50KSB7XHJcblx0XHRcdChtb2RhbENvbnRlbnQgYXMgSFRNTEVsZW1lbnQpLnNjcm9sbFRvcCA9IDA7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IG1vZGFsQ29udGFpbmVyID0gY29udGVudEVsLmNsb3Nlc3QoJy5tb2RhbC1jb250YWluZXInKTtcclxuXHRcdGlmIChtb2RhbENvbnRhaW5lcikge1xyXG5cdFx0XHQobW9kYWxDb250YWluZXIgYXMgSFRNTEVsZW1lbnQpLnNjcm9sbFRvcCA9IDA7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIEFsc28gdHJ5IGNvbnRlbnRFbCBpdHNlbGZcclxuXHRcdGNvbnRlbnRFbC5zY3JvbGxUb3AgPSAwO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJDdXJyZW50U3RlcCgpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0XHJcblx0XHQvLyBTY3JvbGwgdG8gdG9wIElNTUVESUFURUxZIGJlZm9yZSBjbGVhcmluZyBjb250ZW50IHRvIHByZXZlbnQgdmlzdWFsIGp1bXBcclxuXHRcdHRoaXMuc2Nyb2xsVG9Ub3AoKTtcclxuXHRcdFxyXG5cdFx0Ly8gQ2xlYXIgY29udGVudFxyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0XHRjb250ZW50RWwuYWRkQ2xhc3MoJ2FzdHJvLW1vZHVsYXItd2l6YXJkJyk7XHJcblxyXG5cdFx0Ly8gU2Nyb2xsIHRvIHRvcCBhZ2FpbiBhZnRlciBjbGVhcmluZyAoaW4gY2FzZSBjbGVhcmluZyBjaGFuZ2VkIHNjcm9sbCBwb3NpdGlvbilcclxuXHRcdHRoaXMuc2Nyb2xsVG9Ub3AoKTtcclxuXHJcblx0XHQvLyBSZW5kZXIgcHJvZ3Jlc3NcclxuXHRcdHRoaXMucmVuZGVyUHJvZ3Jlc3MoY29udGVudEVsKTtcclxuXHJcblx0XHQvLyBSZW5kZXIgc3RlcCBjb250ZW50IChtYXkgYmUgYXN5bmMsIGJ1dCB3ZSBkb24ndCBhd2FpdCBpdClcclxuXHRcdGNvbnN0IHN0ZXBDb250ZW50ID0gY29udGVudEVsLmNyZWF0ZURpdignd2l6YXJkLWNvbnRlbnQnKTtcclxuXHRcdHRoaXMucmVuZGVyU3RlcENvbnRlbnQoc3RlcENvbnRlbnQpO1xyXG5cclxuXHRcdC8vIFJlbmRlciBmb290ZXJcclxuXHRcdHRoaXMucmVuZGVyRm9vdGVyKGNvbnRlbnRFbCk7XHJcblx0XHRcclxuXHRcdC8vIEZpbmFsIHNjcm9sbCB0byB0b3AgYWZ0ZXIgYWxsIHJlbmRlcmluZyBpcyBjb21wbGV0ZVxyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuXHRcdFx0dGhpcy5zY3JvbGxUb1RvcCgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlckhlYWRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcblx0XHRjb25zdCBoZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCd3aXphcmQtaGVhZGVyJyk7XHJcblx0XHRoZWFkZXIuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnQXN0cm8gbW9kdWxhciBzZXR1cCcgfSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclByb2dyZXNzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcclxuXHRcdGNvbnN0IHByb2dyZXNzID0gY29udGFpbmVyLmNyZWF0ZURpdignd2l6YXJkLXByb2dyZXNzJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHByb2dyZXNzQmFyID0gcHJvZ3Jlc3MuY3JlYXRlRGl2KCdwcm9ncmVzcy1iYXInKTtcclxuXHRcdGNvbnN0IHByb2dyZXNzRmlsbCA9IHByb2dyZXNzQmFyLmNyZWF0ZURpdigncHJvZ3Jlc3MtZmlsbCcpO1xyXG5cdFx0Ly8gU2V0IGR5bmFtaWMgd2lkdGggdXNpbmcgc2V0Q3NzUHJvcHNcclxuXHRcdHByb2dyZXNzRmlsbC5zZXRDc3NQcm9wcyh7IHdpZHRoOiBgJHt0aGlzLnN0YXRlTWFuYWdlci5nZXRQcm9ncmVzcygpfSVgIH0pO1xyXG5cdFx0XHJcblx0XHQvLyBBZGQgc3RlcCB0ZXh0IGJlbG93IHRoZSBwcm9ncmVzcyBiYXJcclxuXHRcdGNvbnN0IHByb2dyZXNzVGV4dCA9IHByb2dyZXNzLmNyZWF0ZURpdigncHJvZ3Jlc3MtdGV4dCcpO1xyXG5cdFx0cHJvZ3Jlc3NUZXh0LnRleHRDb250ZW50ID0gYFN0ZXAgJHtzdGF0ZS5jdXJyZW50U3RlcH0gb2YgJHtzdGF0ZS50b3RhbFN0ZXBzfWA7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclN0ZXBDb250ZW50KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcclxuXHRcdGNvbnN0IHN0ZXBJbmRleCA9IHN0YXRlLmN1cnJlbnRTdGVwIC0gMTtcclxuXHRcdFxyXG5cdFx0aWYgKHN0ZXBJbmRleCA+PSAwICYmIHN0ZXBJbmRleCA8IHRoaXMuc3RlcHMubGVuZ3RoKSB7XHJcblx0XHRcdC8vIFJlbmRlciBzdGVwIChtYXkgYmUgYXN5bmMsIGJ1dCB3ZSBkb24ndCBhd2FpdCBpdClcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gdGhpcy5zdGVwc1tzdGVwSW5kZXhdLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0XHQvLyBJZiByZW5kZXIgcmV0dXJucyBhIHByb21pc2UsIGhhbmRsZSBpdFxyXG5cdFx0XHRpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0ICE9PSBudWxsICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICd0aGVuJyBpbiByZXN1bHQpIHtcclxuXHRcdFx0XHR2b2lkIChyZXN1bHQgYXMgUHJvbWlzZTx2b2lkPik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVuZGVyRm9vdGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGZvb3RlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3dpemFyZC1mb290ZXInKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgYnV0dG9ucyA9IGZvb3Rlci5jcmVhdGVEaXYoJ3dpemFyZC1idXR0b25zJyk7XHJcblx0XHRcclxuXHRcdC8vIFByZXZpb3VzIGJ1dHRvblxyXG5cdFx0aWYgKHRoaXMuc3RhdGVNYW5hZ2VyLmNhbkdvUHJldmlvdXMoKSkge1xyXG5cdFx0XHRjb25zdCBwcmV2QnRuID0gYnV0dG9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRcdHRleHQ6ICdQcmV2aW91cycsXHJcblx0XHRcdFx0Y2xzOiAnbW9kLWJ1dHRvbidcclxuXHRcdFx0fSk7XHJcblx0XHRcdHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gRGlzY2FyZCBhbnkgY2hhbmdlcyBtYWRlIG9uIGN1cnJlbnQgc3RlcCBhbmQgZ28gYmFja1xyXG5cdFx0XHRcdHRoaXMuZGlzY2FyZEN1cnJlbnRTdGVwQ2hhbmdlcygpO1xyXG5cdFx0XHRcdHRoaXMuc3RhdGVNYW5hZ2VyLnByZXZpb3VzU3RlcCgpO1xyXG5cdFx0XHRcdHZvaWQgdGhpcy5yZW5kZXJDdXJyZW50U3RlcCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBOZXh0L0NvbXBsZXRlIGJ1dHRvblxyXG5cdFx0aWYgKHRoaXMuc3RhdGVNYW5hZ2VyLmNhbkdvTmV4dCgpKSB7XHJcblx0XHRcdGNvbnN0IG5leHRCdG4gPSBidXR0b25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XHJcblx0XHRcdFx0dGV4dDogJ05leHQnLFxyXG5cdFx0XHRcdGNsczogJ21vZC1idXR0b24gbW9kLWN0YSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gU2F2ZSBjdXJyZW50IHN0ZXAgY2hhbmdlcyB0byB3aXphcmQgc3RhdGUsIGRhdGEuanNvbiwgYW5kIGNvbmZpZy50c1xyXG5cdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZUN1cnJlbnRTdGVwVG9XaXphcmRTdGF0ZSgpO1xyXG5cdFx0XHRcdFx0dGhpcy5zdGF0ZU1hbmFnZXIubmV4dFN0ZXAoKTtcclxuXHRcdFx0XHRcdHRoaXMucmVuZGVyQ3VycmVudFN0ZXAoKTtcclxuXHRcdFx0XHR9KSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnN0IGNvbXBsZXRlQnRuID0gYnV0dG9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRcdHRleHQ6ICdDb21wbGV0ZSBzZXR1cCcsXHJcblx0XHRcdFx0Y2xzOiAnbW9kLWJ1dHRvbiBtb2QtY3RhJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y29tcGxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gTWFyayB0aGF0IHdlJ3JlIGNvbXBsZXRpbmcgdGhlIHdpemFyZCB0byBhdm9pZCBkdXBsaWNhdGUgbm90aWZpY2F0aW9uc1xyXG5cdFx0XHRcdHRoaXMuaXNDb21wbGV0aW5nID0gdHJ1ZTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBDb21wbGV0ZSB0aGUgd2l6YXJkIChmaXJlIGFuZCBmb3JnZXQpXHJcblx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gQ29tcGxldGUgdGhlIHdpemFyZFxyXG5cdFx0XHRcdFx0Y29uc3QgZmluYWxTdGVwID0gdGhpcy5zdGVwc1t0aGlzLnN0ZXBzLmxlbmd0aCAtIDFdIGFzIEZpbmFsaXplU3RlcDtcclxuXHRcdFx0XHRcdGF3YWl0IGZpbmFsU3RlcC5jb21wbGV0ZVdpemFyZCgpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBTYXZlIHRoZSBmaW5hbCBzZXR0aW5nc1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBDUklUSUNBTDogUmVsb2FkIHNldHRpbmdzIGZyb20gZGlzayB0byBlbnN1cmUgZXZlcnl0aGluZyBpcyBzeW5jaHJvbml6ZWRcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBUcmlnZ2VyIHNldHRpbmdzIHRhYiByZWZyZXNoIHRvIHNob3cgdXBkYXRlZCB2YWx1ZXNcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnRyaWdnZXJTZXR0aW5nc1JlZnJlc2goKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0XHRcdH0pKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNraXAgYnV0dG9uIChmb3IgYWxsIHN0ZXBzIGV4Y2VwdCB0aGUgbGFzdClcclxuXHRcdGlmICh0aGlzLnN0YXRlTWFuYWdlci5jYW5Hb05leHQoKSkge1xyXG5cdFx0XHRjb25zdCBza2lwQnRuID0gYnV0dG9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRcdHRleHQ6ICdTa2lwJyxcclxuXHRcdFx0XHRjbHM6ICdtb2QtYnV0dG9uJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2tpcEJ0bi5hZGRDbGFzcygnd2l6YXJkLXNraXAtYnV0dG9uJyk7XHJcblx0XHRcdHNraXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gU2tpcCB3aXRob3V0IHNhdmluZyBjdXJyZW50IHN0ZXAgY2hhbmdlcyB0byB3aXphcmQgc3RhdGVcclxuXHRcdFx0XHR0aGlzLnN0YXRlTWFuYWdlci5uZXh0U3RlcCgpO1xyXG5cdFx0XHRcdHRoaXMucmVuZGVyQ3VycmVudFN0ZXAoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHNhdmVDdXJyZW50U3RlcFRvV2l6YXJkU3RhdGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBTYXZlIGN1cnJlbnQgc3RlcCBjaGFuZ2VzIHRvIHdpemFyZCBzdGF0ZSwgZGF0YS5qc29uLCBhbmQgY29uZmlnLnRzXHJcblx0XHQvLyBUaGlzIGlzIGNhbGxlZCB3aGVuIE5FWFQgaXMgY2xpY2tlZCB0byBlbnN1cmUgZGF0YS5qc29uIGFuZCBjb25maWcudHMgc3RheSBpbiBzeW5jXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBCdWlsZCBmaW5hbCBzZXR0aW5ncyBmcm9tIHdpemFyZCBzdGF0ZSAodXBkYXRlcyBwbHVnaW4uc2V0dGluZ3MpXHJcblx0XHRcdHRoaXMuc3RhdGVNYW5hZ2VyLmJ1aWxkRmluYWxTZXR0aW5ncygpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gU2F2ZSB0byBkYXRhLmpzb25cclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEFwcGx5IHRvIGNvbmZpZy50cyB0byBrZWVwIGl0IGluIHN5bmNcclxuXHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uY29uZmlnTWFuYWdlci5hcHBseVByZXNldCh7XHJcblx0XHRcdFx0bmFtZTogc2V0dGluZ3MuY3VycmVudFRlbXBsYXRlLFxyXG5cdFx0XHRcdGRlc2NyaXB0aW9uOiAnJyxcclxuXHRcdFx0XHRmZWF0dXJlczogc2V0dGluZ3MuZmVhdHVyZXMsXHJcblx0XHRcdFx0dGhlbWU6IHNldHRpbmdzLmN1cnJlbnRUaGVtZSxcclxuXHRcdFx0XHRjb250ZW50T3JnYW5pemF0aW9uOiBzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uLFxyXG5cdFx0XHRcdGNvbmZpZzogc2V0dGluZ3NcclxuXHRcdFx0fSk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgY3VycmVudCBzdGVwIHRvIGRhdGEuanNvbiBhbmQgY29uZmlnLnRzOicsIGVycm9yKTtcclxuXHRcdFx0Ly8gRG9uJ3Qgc2hvdyBlcnJvciB0byB1c2VyIC0ganVzdCBsb2cgaXQsIGFzIHRoaXMgc2hvdWxkbid0IGJsb2NrIG5hdmlnYXRpb25cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGlzY2FyZEN1cnJlbnRTdGVwQ2hhbmdlcygpOiB2b2lkIHtcclxuXHRcdC8vIERpc2NhcmQgY2hhbmdlcyBtYWRlIG9uIGN1cnJlbnQgc3RlcCAtIHRoaXMgaXMgY2FsbGVkIHdoZW4gUFJFVklPVVMgaXMgY2xpY2tlZFxyXG5cdFx0Ly8gUmVmcmVzaCB0aGUgd2l6YXJkIHN0YXRlIHRvIHNob3cgb3JpZ2luYWwgdmFsdWVzIGZyb20gZGF0YS5qc29uXHJcblx0XHR0aGlzLnN0YXRlTWFuYWdlci5yZWZyZXNoU3RhdGUoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgc2F2ZVdpemFyZFN0YXRlVG9EYXRhSnNvbihzaG93Tm90aWZpY2F0aW9uOiBib29sZWFuID0gdHJ1ZSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Ly8gU2F2ZSB3aXphcmQgc3RhdGUgY2hhbmdlcyB0byBkYXRhLmpzb24gYW5kIGNvbmZpZy50cyB3aGVuIG1vZGFsIGlzIGNsb3NlZFxyXG5cdFx0Ly8gVGhpcyBlbnN1cmVzIGNoYW5nZXMgYXJlIHByZXNlcnZlZCBldmVuIGlmIHVzZXIgY2xvc2VzIG1vZGFsIHdpdGhvdXQgY29tcGxldGluZyB3aXphcmRcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEJ1aWxkIGZpbmFsIHNldHRpbmdzIGZyb20gd2l6YXJkIHN0YXRlXHJcblx0XHRcdHRoaXMuc3RhdGVNYW5hZ2VyLmJ1aWxkRmluYWxTZXR0aW5ncygpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQ2hlY2sgaWYgYW55IGNoYW5nZXMgd2VyZSBhY3R1YWxseSBtYWRlXHJcblx0XHRcdGNvbnN0IGhhc0NoYW5nZXMgPSB0aGlzLmhhc1NldHRpbmdzQ2hhbmdlZCgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gT25seSBzYXZlIHRvIGRhdGEuanNvbiBhbmQgY29uZmlnLnRzIGlmIHRoZXJlIHdlcmUgYWN0dWFsIGNoYW5nZXNcclxuXHRcdFx0aWYgKCFoYXNDaGFuZ2VzKSB7XHJcblx0XHRcdFx0cmV0dXJuOyAvLyBObyBjaGFuZ2VzLCBkb24ndCBzYXZlIGFueXRoaW5nXHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIFNhdmUgdG8gZGF0YS5qc29uXHJcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMucGx1Z2luLnNldHRpbmdzKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyB0byBlbnN1cmUgdGhlIHBsdWdpbiBoYXMgdGhlIGxhdGVzdCB2YWx1ZXNcclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBBcHBseSB0byBjb25maWcudHNcclxuXHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcclxuXHRcdFx0Y29uc3QgcHJlc2V0U3VjY2VzcyA9IGF3YWl0IHRoaXMucGx1Z2luLmNvbmZpZ01hbmFnZXIuYXBwbHlQcmVzZXQoe1xyXG5cdFx0XHRcdG5hbWU6IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSxcclxuXHRcdFx0XHRkZXNjcmlwdGlvbjogJycsXHJcblx0XHRcdFx0ZmVhdHVyZXM6IHNldHRpbmdzLmZlYXR1cmVzLFxyXG5cdFx0XHRcdHRoZW1lOiBzZXR0aW5ncy5jdXJyZW50VGhlbWUsXHJcblx0XHRcdFx0Y29udGVudE9yZ2FuaXphdGlvbjogc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbixcclxuXHRcdFx0XHRjb25maWc6IHNldHRpbmdzXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gT25seSBzaG93IG5vdGlmaWNhdGlvbiBpZiByZXF1ZXN0ZWRcclxuXHRcdFx0aWYgKHNob3dOb3RpZmljYXRpb24pIHtcclxuXHRcdFx0XHRpZiAocHJlc2V0U3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnQ29uZmlndXJhdGlvbiBzYXZlZCB0byBjb25maWcudHMnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnRmFpbGVkIHRvIHNhdmUgY29uZmlndXJhdGlvbiB0byBjb25maWcudHMnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB3aXphcmQgc3RhdGUgdG8gZGF0YS5qc29uIGFuZCBjb25maWcudHM6JywgZXJyb3IpO1xyXG5cdFx0XHRpZiAoc2hvd05vdGlmaWNhdGlvbikge1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBzYXZlIGNvbmZpZ3VyYXRpb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHByaXZhdGUgY3JlYXRlU2V0dGluZ3NTbmFwc2hvdCgpOiBQYXJ0aWFsPEFzdHJvTW9kdWxhclNldHRpbmdzPiB7XHJcblx0XHQvLyBDcmVhdGUgYSBkZWVwIGNvcHkgb2YgY3VycmVudCBzZXR0aW5ncyBmb3IgY29tcGFyaXNvblxyXG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxyXG5cdFx0cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRjdXJyZW50VGVtcGxhdGU6IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSxcclxuXHRcdFx0Y3VycmVudFRoZW1lOiBzZXR0aW5ncy5jdXJyZW50VGhlbWUsXHJcblx0XHRcdGNvbnRlbnRPcmdhbml6YXRpb246IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24sXHJcblx0XHRcdHNpdGVJbmZvOiBzZXR0aW5ncy5zaXRlSW5mbyxcclxuXHRcdFx0bmF2aWdhdGlvbjogc2V0dGluZ3MubmF2aWdhdGlvbixcclxuXHRcdFx0ZmVhdHVyZXM6IHNldHRpbmdzLmZlYXR1cmVzLFxyXG5cdFx0XHR0eXBvZ3JhcGh5OiBzZXR0aW5ncy50eXBvZ3JhcGh5LFxyXG5cdFx0XHRvcHRpb25hbEZlYXR1cmVzOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLFxyXG5cdFx0XHRkZXBsb3ltZW50OiBzZXR0aW5ncy5kZXBsb3ltZW50LFxyXG5cdFx0XHRvcHRpb25hbENvbnRlbnRUeXBlczogc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXNcclxuXHRcdH0pKTtcclxuXHR9XHJcblx0XHJcblx0cHJpdmF0ZSBoYXNTZXR0aW5nc0NoYW5nZWQoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXRoaXMuaW5pdGlhbFNldHRpbmdzU25hcHNob3QpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBjdXJyZW50U25hcHNob3QgPSB0aGlzLmNyZWF0ZVNldHRpbmdzU25hcHNob3QoKTtcclxuXHRcdFxyXG5cdFx0Ly8gQ29tcGFyZSBrZXkgc2V0dGluZ3MgdGhhdCBjYW4gYmUgY2hhbmdlZCBpbiB0aGUgd2l6YXJkXHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHRjdXJyZW50U25hcHNob3QuY3VycmVudFRlbXBsYXRlICE9PSB0aGlzLmluaXRpYWxTZXR0aW5nc1NuYXBzaG90LmN1cnJlbnRUZW1wbGF0ZSB8fFxyXG5cdFx0XHRjdXJyZW50U25hcHNob3QuY3VycmVudFRoZW1lICE9PSB0aGlzLmluaXRpYWxTZXR0aW5nc1NuYXBzaG90LmN1cnJlbnRUaGVtZSB8fFxyXG5cdFx0XHRjdXJyZW50U25hcHNob3QuY29udGVudE9yZ2FuaXphdGlvbiAhPT0gdGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdC5jb250ZW50T3JnYW5pemF0aW9uIHx8XHJcblx0XHRcdEpTT04uc3RyaW5naWZ5KGN1cnJlbnRTbmFwc2hvdC5zaXRlSW5mbykgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuaW5pdGlhbFNldHRpbmdzU25hcHNob3Quc2l0ZUluZm8pIHx8XHJcblx0XHRcdEpTT04uc3RyaW5naWZ5KGN1cnJlbnRTbmFwc2hvdC5uYXZpZ2F0aW9uKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdC5uYXZpZ2F0aW9uKSB8fFxyXG5cdFx0XHRKU09OLnN0cmluZ2lmeShjdXJyZW50U25hcHNob3QuZmVhdHVyZXMpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLmluaXRpYWxTZXR0aW5nc1NuYXBzaG90LmZlYXR1cmVzKSB8fFxyXG5cdFx0XHRKU09OLnN0cmluZ2lmeShjdXJyZW50U25hcHNob3QudHlwb2dyYXBoeSkgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuaW5pdGlhbFNldHRpbmdzU25hcHNob3QudHlwb2dyYXBoeSkgfHxcclxuXHRcdFx0SlNPTi5zdHJpbmdpZnkoY3VycmVudFNuYXBzaG90Lm9wdGlvbmFsRmVhdHVyZXMpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLmluaXRpYWxTZXR0aW5nc1NuYXBzaG90Lm9wdGlvbmFsRmVhdHVyZXMpIHx8XHJcblx0XHRcdEpTT04uc3RyaW5naWZ5KGN1cnJlbnRTbmFwc2hvdC5kZXBsb3ltZW50KSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5pbml0aWFsU2V0dGluZ3NTbmFwc2hvdC5kZXBsb3ltZW50KSB8fFxyXG5cdFx0XHRKU09OLnN0cmluZ2lmeShjdXJyZW50U25hcHNob3Qub3B0aW9uYWxDb250ZW50VHlwZXMpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLmluaXRpYWxTZXR0aW5nc1NuYXBzaG90Lm9wdGlvbmFsQ29udGVudFR5cGVzKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXBwbHlEZWZhdWx0VmFsdWVzRm9yQ3VycmVudFN0ZXAoKSB7XHJcblx0XHQvLyBTa2lwIGJ1dHRvbiBzaG91bGQgcHJlc2VydmUgY3VycmVudCB2YWx1ZXMgZm9yIGFsbCBzdGVwc1xyXG5cdFx0Ly8gVGhpcyBtZWFucyBub3QgYXBwbHlpbmcgYW55IGNoYW5nZXMgLSBqdXN0IG1vdmUgdG8gdGhlIG5leHQgc3RlcFxyXG5cdFx0Ly8gVGhlIGN1cnJlbnQgc3RhdGUgYWxyZWFkeSBoYXMgdGhlIGNvcnJlY3QgdmFsdWVzIGZyb20gcmVmcmVzaFN0YXRlKClcclxuXHRcdC8vIE5vIHN0YXRlIG1vZGlmaWNhdGlvbnMgbmVlZGVkXHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFRlbXBsYXRlVHlwZSwgVGhlbWVUeXBlLCBDb250ZW50T3JnYW5pemF0aW9uVHlwZSwgU2l0ZUluZm9ybWF0aW9uLCBOYXZpZ2F0aW9uU2V0dGluZ3MsIEZlYXR1cmVTZXR0aW5ncywgVHlwb2dyYXBoeVNldHRpbmdzLCBPcHRpb25hbEZlYXR1cmVzLCBBc3Ryb01vZHVsYXJQbHVnaW4gfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFdpemFyZFN0YXRlIHtcclxuXHQvLyBDdXJyZW50IHN0ZXBcclxuXHRjdXJyZW50U3RlcDogbnVtYmVyO1xyXG5cdHRvdGFsU3RlcHM6IG51bWJlcjtcclxuXHRcclxuXHQvLyBXaXphcmQgc2VsZWN0aW9uc1xyXG5cdHNlbGVjdGVkVGVtcGxhdGU6IFRlbXBsYXRlVHlwZTtcclxuXHRzZWxlY3RlZFRoZW1lOiBUaGVtZVR5cGU7XHJcblx0c2VsZWN0ZWRDb250ZW50T3JnOiBDb250ZW50T3JnYW5pemF0aW9uVHlwZTtcclxuXHRzZWxlY3RlZFNpdGVJbmZvOiBTaXRlSW5mb3JtYXRpb247XHJcblx0c2VsZWN0ZWROYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uU2V0dGluZ3M7XHJcblx0c2VsZWN0ZWRGZWF0dXJlczogRmVhdHVyZVNldHRpbmdzO1xyXG5cdHNlbGVjdGVkVHlwb2dyYXBoeTogVHlwb2dyYXBoeVNldHRpbmdzO1xyXG5cdHNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlczogT3B0aW9uYWxGZWF0dXJlcztcclxuXHRzZWxlY3RlZE9wdGlvbmFsQ29udGVudFR5cGVzOiB7XHJcblx0XHRwcm9qZWN0czogYm9vbGVhbjtcclxuXHRcdGRvY3M6IGJvb2xlYW47XHJcblx0fTtcclxuXHRzZWxlY3RlZERlcGxveW1lbnQ6ICduZXRsaWZ5JyB8ICd2ZXJjZWwnIHwgJ2dpdGh1Yi1wYWdlcycgfCAnY2xvdWRmbGFyZS13b3JrZXJzJztcclxuXHRydW5XaXphcmRPblN0YXJ0dXA6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBXaXphcmRTdGF0ZU1hbmFnZXIge1xyXG5cdHByaXZhdGUgc3RhdGU6IFdpemFyZFN0YXRlO1xyXG5cdHByaXZhdGUgcGx1Z2luOiBQbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjogUGx1Z2luKSB7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdGNvbnN0IHNldHRpbmdzID0gKHBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLnNldHRpbmdzO1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHtcclxuXHRcdFx0Y3VycmVudFN0ZXA6IDEsXHJcblx0XHRcdHRvdGFsU3RlcHM6IDEwLFxyXG5cdFx0XHRzZWxlY3RlZFRlbXBsYXRlOiBzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUsXHJcblx0XHRcdHNlbGVjdGVkVGhlbWU6IHNldHRpbmdzLmN1cnJlbnRUaGVtZSxcclxuXHRcdFx0c2VsZWN0ZWRDb250ZW50T3JnOiBzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uLFxyXG5cdFx0XHRzZWxlY3RlZFNpdGVJbmZvOiBzZXR0aW5ncy5zaXRlSW5mbyxcclxuXHRcdFx0c2VsZWN0ZWROYXZpZ2F0aW9uOiBzZXR0aW5ncy5uYXZpZ2F0aW9uLFxyXG5cdFx0XHRzZWxlY3RlZEZlYXR1cmVzOiAoKCkgPT4ge1xyXG5cdFx0XHRcdC8vIEluaXRpYWxpemUgZmVhdHVyZXMgYmFzZWQgb24gY3VycmVudCB0ZW1wbGF0ZVxyXG5cdFx0XHRcdGNvbnN0IHRlbXBsYXRlRmVhdHVyZXM6IFJlY29yZDxzdHJpbmcsIEZlYXR1cmVTZXR0aW5ncz4gPSB7XHJcblx0XHRcdFx0J3N0YW5kYXJkJzoge1xyXG5cdFx0XHRcdFx0Y29tbWFuZFBhbGV0dGU6IHRydWUsXHJcblx0XHRcdFx0XHRyZWFkaW5nVGltZTogdHJ1ZSxcclxuXHRcdFx0XHRcdGxpbmtlZE1lbnRpb25zOiB0cnVlLFxyXG5cdFx0XHRcdFx0bGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSxcclxuXHRcdFx0XHRcdGdyYXBoVmlldzogdHJ1ZSxcclxuXHRcdFx0XHRcdHBvc3ROYXZpZ2F0aW9uOiB0cnVlLFxyXG5cdFx0XHRcdFx0aGlkZVNjcm9sbEJhcjogZmFsc2UsXHJcblx0XHRcdFx0XHRzY3JvbGxUb1RvcDogdHJ1ZSxcclxuXHRcdFx0XHRcdHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiB0cnVlLFxyXG5cdFx0XHRcdFx0cHJvZmlsZVBpY3R1cmU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0Y29tbWVudHM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0ZmVhdHVyZUJ1dHRvbjogJ21vZGUnLFxyXG5cdFx0XHRcdFx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLFxyXG5cdFx0XHRcdFx0cG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcclxuXHRcdFx0XHRcdGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsXHJcblx0XHRcdFx0XHRxdWlja0FjdGlvbnM6IHtcclxuXHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0dG9nZ2xlTW9kZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0Z3JhcGhWaWV3OiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRjaGFuZ2VUaGVtZTogdHJ1ZSxcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0J2NvbXBhY3QnOiB7XHJcblx0XHRcdFx0XHRcdGNvbW1hbmRQYWxldHRlOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRyZWFkaW5nVGltZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0bGlua2VkTWVudGlvbnM6IHRydWUsXHJcblx0XHRcdFx0XHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0Z3JhcGhWaWV3OiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0cG9zdE5hdmlnYXRpb246IHRydWUsXHJcblx0XHRcdFx0XHRcdGhpZGVTY3JvbGxCYXI6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRzY3JvbGxUb1RvcDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0c2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRwcm9maWxlUGljdHVyZTogZmFsc2UsXHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0ZmVhdHVyZUJ1dHRvbjogJ25vbmUnLFxyXG5cdFx0XHRcdFx0XHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsXHJcblx0XHRcdFx0XHRcdHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsXHJcblx0XHRcdFx0XHRcdGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsXHJcblx0XHRcdFx0XHRcdHF1aWNrQWN0aW9uczoge1xyXG5cdFx0XHRcdFx0XHRcdGVuYWJsZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0dG9nZ2xlTW9kZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRncmFwaFZpZXc6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0Y2hhbmdlVGhlbWU6IHRydWUsXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQnbWluaW1hbCc6IHtcclxuXHRcdFx0XHRcdFx0Y29tbWFuZFBhbGV0dGU6IHRydWUsXHJcblx0XHRcdFx0XHRcdHJlYWRpbmdUaW1lOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0bGlua2VkTWVudGlvbnM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRncmFwaFZpZXc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRwb3N0TmF2aWdhdGlvbjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdGhpZGVTY3JvbGxCYXI6IHRydWUsXHJcblx0XHRcdFx0XHRcdHNjcm9sbFRvVG9wOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHByb2ZpbGVQaWN0dXJlOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0Y29tbWVudHM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRmZWF0dXJlQnV0dG9uOiAnbm9uZScsXHJcblx0XHRcdFx0XHRcdHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJyxcclxuXHRcdFx0XHRcdFx0cG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcclxuXHRcdFx0XHRcdFx0Y3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJyxcclxuXHRcdFx0XHRcdFx0cXVpY2tBY3Rpb25zOiB7XHJcblx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHR0b2dnbGVNb2RlOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGdyYXBoVmlldzogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRjaGFuZ2VUaGVtZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCdjdXN0b20nOiB7XHJcblx0XHRcdFx0XHRcdC8vIEZvciBjdXN0b20sIHVzZSBjdXJyZW50IHNldHRpbmdzXHJcblx0XHRcdFx0XHRcdC4uLnNldHRpbmdzLmZlYXR1cmVzXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRjb25zdCB0ZW1wbGF0ZUZlYXR1cmVzUmVzdWx0ID0gdGVtcGxhdGVGZWF0dXJlc1tzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGVdIHx8IHRlbXBsYXRlRmVhdHVyZXNbJ3N0YW5kYXJkJ107XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gRW5zdXJlIHByb2ZpbGUgcGljdHVyZSBhbmQgY29tbWVudHMgZmVhdHVyZXMgYXJlIHN5bmNocm9uaXplZCB3aXRoIGV4aXN0aW5nIHNldHRpbmdzXHJcblx0XHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlKSB7XHJcblx0XHRcdFx0XHR0ZW1wbGF0ZUZlYXR1cmVzUmVzdWx0LnByb2ZpbGVQaWN0dXJlID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5lbmFibGVkO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMpIHtcclxuXHRcdFx0XHRcdHRlbXBsYXRlRmVhdHVyZXNSZXN1bHQuY29tbWVudHMgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHJldHVybiB0ZW1wbGF0ZUZlYXR1cmVzUmVzdWx0O1xyXG5cdFx0XHR9KSgpLFxyXG5cdFx0XHRzZWxlY3RlZFR5cG9ncmFwaHk6IHNldHRpbmdzLnR5cG9ncmFwaHksXHJcblx0XHRcdHNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlczoge1xyXG5cdFx0XHRcdHByb2ZpbGVQaWN0dXJlOiB7XHJcblx0XHRcdFx0XHRlbmFibGVkOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8uZW5hYmxlZCB8fCBmYWxzZSxcclxuXHRcdFx0XHRcdGltYWdlOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8uaW1hZ2UgfHwgJy9wcm9maWxlLmpwZycsXHJcblx0XHRcdFx0XHRhbHQ6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5hbHQgfHwgJ1Byb2ZpbGUgcGljdHVyZScsXHJcblx0XHRcdFx0XHRzaXplOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8uc2l6ZSB8fCAnbWQnLFxyXG5cdFx0XHRcdFx0dXJsOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8udXJsIHx8ICcnLFxyXG5cdFx0XHRcdFx0cGxhY2VtZW50OiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8ucGxhY2VtZW50IHx8ICdmb290ZXInLFxyXG5cdFx0XHRcdFx0c3R5bGU6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5zdHlsZSB8fCAnY2lyY2xlJyxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGNvbW1lbnRzOiAoKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgY29tbWVudHNFbmFibGVkID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM/LmVuYWJsZWQgfHwgZmFsc2U7XHJcblx0XHRcdFx0XHRjb25zdCBleGlzdGluZ0NvbW1lbnRzID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIElmIGNvbW1lbnRzIGFyZSBkaXNhYmxlZCwgcHJlc2VydmUgZXhpc3RpbmcgdmFsdWVzIChkb24ndCBwb3B1bGF0ZSBkZWZhdWx0cylcclxuXHRcdFx0XHRcdGlmICghY29tbWVudHNFbmFibGVkKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXI6IGV4aXN0aW5nQ29tbWVudHM/LnByb3ZpZGVyIHx8ICdnaXNjdXMnLFxyXG5cdFx0XHRcdFx0XHRcdHJhd1NjcmlwdDogZXhpc3RpbmdDb21tZW50cz8ucmF3U2NyaXB0IHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHJlcG86IGV4aXN0aW5nQ29tbWVudHM/LnJlcG8gfHwgJycsXHJcblx0XHRcdFx0XHRcdFx0cmVwb0lkOiBleGlzdGluZ0NvbW1lbnRzPy5yZXBvSWQgfHwgJycsXHJcblx0XHRcdFx0XHRcdFx0Y2F0ZWdvcnk6IGV4aXN0aW5nQ29tbWVudHM/LmNhdGVnb3J5IHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRcdGNhdGVnb3J5SWQ6IGV4aXN0aW5nQ29tbWVudHM/LmNhdGVnb3J5SWQgfHwgJycsXHJcblx0XHRcdFx0XHRcdFx0bWFwcGluZzogZXhpc3RpbmdDb21tZW50cz8ubWFwcGluZyB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRzdHJpY3Q6IGV4aXN0aW5nQ29tbWVudHM/LnN0cmljdCB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZWFjdGlvbnM6IGV4aXN0aW5nQ29tbWVudHM/LnJlYWN0aW9ucyB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogZXhpc3RpbmdDb21tZW50cz8ubWV0YWRhdGEgfHwgJycsXHJcblx0XHRcdFx0XHRcdFx0aW5wdXRQb3NpdGlvbjogZXhpc3RpbmdDb21tZW50cz8uaW5wdXRQb3NpdGlvbiB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHR0aGVtZTogZXhpc3RpbmdDb21tZW50cz8udGhlbWUgfHwgJycsXHJcblx0XHRcdFx0XHRcdFx0bGFuZzogZXhpc3RpbmdDb21tZW50cz8ubGFuZyB8fCAnJyxcclxuXHRcdFx0XHRcdFx0XHRsb2FkaW5nOiBleGlzdGluZ0NvbW1lbnRzPy5sb2FkaW5nIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBJZiBjb21tZW50cyBhcmUgZW5hYmxlZCwgdXNlIGRlZmF1bHRzIGZvciBtaXNzaW5nIHZhbHVlc1xyXG5cdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0cHJvdmlkZXI6IGV4aXN0aW5nQ29tbWVudHM/LnByb3ZpZGVyIHx8ICdnaXNjdXMnLFxyXG5cdFx0XHRcdFx0XHRyYXdTY3JpcHQ6IGV4aXN0aW5nQ29tbWVudHM/LnJhd1NjcmlwdCB8fCAnJyxcclxuXHRcdFx0XHRcdFx0cmVwbzogZXhpc3RpbmdDb21tZW50cz8ucmVwbyB8fCAnZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyJyxcclxuXHRcdFx0XHRcdFx0cmVwb0lkOiBleGlzdGluZ0NvbW1lbnRzPy5yZXBvSWQgfHwgJ1Jfa2dET1BsbGZLdycsXHJcblx0XHRcdFx0XHRcdGNhdGVnb3J5OiBleGlzdGluZ0NvbW1lbnRzPy5jYXRlZ29yeSB8fCAnR2VuZXJhbCcsXHJcblx0XHRcdFx0XHRcdGNhdGVnb3J5SWQ6IGV4aXN0aW5nQ29tbWVudHM/LmNhdGVnb3J5SWQgfHwgJ0RJQ19rd0RPUGxsZks4NEN2VXB4JyxcclxuXHRcdFx0XHRcdFx0bWFwcGluZzogZXhpc3RpbmdDb21tZW50cz8ubWFwcGluZyB8fCAncGF0aG5hbWUnLFxyXG5cdFx0XHRcdFx0XHRzdHJpY3Q6IGV4aXN0aW5nQ29tbWVudHM/LnN0cmljdCB8fCAnMCcsXHJcblx0XHRcdFx0XHRcdHJlYWN0aW9uczogZXhpc3RpbmdDb21tZW50cz8ucmVhY3Rpb25zIHx8ICcxJyxcclxuXHRcdFx0XHRcdFx0bWV0YWRhdGE6IGV4aXN0aW5nQ29tbWVudHM/Lm1ldGFkYXRhIHx8ICcwJyxcclxuXHRcdFx0XHRcdFx0aW5wdXRQb3NpdGlvbjogZXhpc3RpbmdDb21tZW50cz8uaW5wdXRQb3NpdGlvbiB8fCAnYm90dG9tJyxcclxuXHRcdFx0XHRcdFx0dGhlbWU6IGV4aXN0aW5nQ29tbWVudHM/LnRoZW1lIHx8ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJyxcclxuXHRcdFx0XHRcdFx0bGFuZzogZXhpc3RpbmdDb21tZW50cz8ubGFuZyB8fCAnZW4nLFxyXG5cdFx0XHRcdFx0XHRsb2FkaW5nOiBleGlzdGluZ0NvbW1lbnRzPy5sb2FkaW5nIHx8ICdsYXp5JyxcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSkoKSxcclxuXHRcdFx0fSxcclxuXHRcdFx0c2VsZWN0ZWRPcHRpb25hbENvbnRlbnRUeXBlczogKCgpID0+IHtcclxuXHRcdFx0XHQvLyBTZXQgYmFzZWQgb24gY3VycmVudCB0ZW1wbGF0ZTogZW5hYmxlZCBmb3IgJ3N0YW5kYXJkJywgZGlzYWJsZWQgZm9yIG90aGVyc1xyXG5cdFx0XHRcdGNvbnN0IGlzU3RhbmRhcmQgPSBzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUgPT09ICdzdGFuZGFyZCc7XHJcblx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdHByb2plY3RzOiBpc1N0YW5kYXJkLFxyXG5cdFx0XHRcdFx0ZG9jczogaXNTdGFuZGFyZFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0pKCksXHJcblx0XHRcdHNlbGVjdGVkRGVwbG95bWVudDogc2V0dGluZ3MuZGVwbG95bWVudC5wbGF0Zm9ybSxcclxuXHRcdFx0cnVuV2l6YXJkT25TdGFydHVwOiBzZXR0aW5ncy5ydW5XaXphcmRPblN0YXJ0dXBcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRnZXRTdGF0ZSgpOiBXaXphcmRTdGF0ZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdGF0ZTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZVN0YXRlKHVwZGF0ZXM6IFBhcnRpYWw8V2l6YXJkU3RhdGU+KTogdm9pZCB7XHJcblx0XHR0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCAuLi51cGRhdGVzIH07XHJcblx0fVxyXG5cclxuXHRzZXRTdGF0ZSh1cGRhdGVzOiBQYXJ0aWFsPFdpemFyZFN0YXRlPik6IHZvaWQge1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHsgLi4udGhpcy5zdGF0ZSwgLi4udXBkYXRlcyB9O1xyXG5cdH1cclxuXHJcblx0bmV4dFN0ZXAoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5zdGF0ZS5jdXJyZW50U3RlcCA8IHRoaXMuc3RhdGUudG90YWxTdGVwcykge1xyXG5cdFx0XHR0aGlzLnN0YXRlLmN1cnJlbnRTdGVwKys7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcmV2aW91c1N0ZXAoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5zdGF0ZS5jdXJyZW50U3RlcCA+IDEpIHtcclxuXHRcdFx0dGhpcy5zdGF0ZS5jdXJyZW50U3RlcC0tO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y2FuR29OZXh0KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudFN0ZXAgPCB0aGlzLnN0YXRlLnRvdGFsU3RlcHM7XHJcblx0fVxyXG5cclxuXHRjYW5Hb1ByZXZpb3VzKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudFN0ZXAgPiAxO1xyXG5cdH1cclxuXHJcblx0Z2V0UHJvZ3Jlc3MoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiAodGhpcy5zdGF0ZS5jdXJyZW50U3RlcCAvIHRoaXMuc3RhdGUudG90YWxTdGVwcykgKiAxMDA7XHJcblx0fVxyXG5cclxuXHRyZWZyZXNoU3RhdGUoKTogdm9pZCB7XHJcblx0XHQvLyBSZWZyZXNoIHRoZSB3aXphcmQgc3RhdGUgd2l0aCBjdXJyZW50IHBsdWdpbiBzZXR0aW5nc1xyXG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5zZXR0aW5ncztcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIHRoZSBzdGF0ZSB3aXRoIGN1cnJlbnQgc2V0dGluZ3NcclxuXHRcdHRoaXMuc3RhdGUuc2VsZWN0ZWRUZW1wbGF0ZSA9IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZTtcclxuXHRcdHRoaXMuc3RhdGUuc2VsZWN0ZWRUaGVtZSA9IHNldHRpbmdzLmN1cnJlbnRUaGVtZTtcclxuXHRcdHRoaXMuc3RhdGUuc2VsZWN0ZWRDb250ZW50T3JnID0gc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbjtcclxuXHRcdHRoaXMuc3RhdGUuc2VsZWN0ZWRTaXRlSW5mbyA9IHNldHRpbmdzLnNpdGVJbmZvO1xyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24gPSBzZXR0aW5ncy5uYXZpZ2F0aW9uO1xyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHkgPSBzZXR0aW5ncy50eXBvZ3JhcGh5O1xyXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZERlcGxveW1lbnQgPSBzZXR0aW5ncy5kZXBsb3ltZW50LnBsYXRmb3JtO1xyXG5cdFx0dGhpcy5zdGF0ZS5ydW5XaXphcmRPblN0YXJ0dXAgPSBzZXR0aW5ncy5ydW5XaXphcmRPblN0YXJ0dXA7XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBmZWF0dXJlcyB3aXRoIGN1cnJlbnQgc2V0dGluZ3MsIHByZXNlcnZpbmcgdGVtcGxhdGUgZGVmYXVsdHMgZm9yIG1pc3NpbmcgdmFsdWVzXHJcblx0XHRjb25zdCB0ZW1wbGF0ZUZlYXR1cmVzOiBSZWNvcmQ8c3RyaW5nLCBGZWF0dXJlU2V0dGluZ3M+ID0ge1xyXG5cdFx0XHQnc3RhbmRhcmQnOiB7XHJcblx0XHRcdFx0Y29tbWFuZFBhbGV0dGU6IHRydWUsIHJlYWRpbmdUaW1lOiB0cnVlLCBsaW5rZWRNZW50aW9uczogdHJ1ZSxcclxuXHRcdFx0XHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlLCBncmFwaFZpZXc6IHRydWUsIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBoaWRlU2Nyb2xsQmFyOiBmYWxzZSxcclxuXHRcdFx0XHRzY3JvbGxUb1RvcDogdHJ1ZSwgc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IHRydWUsIHByb2ZpbGVQaWN0dXJlOiBmYWxzZSwgY29tbWVudHM6IGZhbHNlLFxyXG5cdFx0XHRcdGZlYXR1cmVCdXR0b246ICdtb2RlJywgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLFxyXG5cdFx0XHRcdGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIHF1aWNrQWN0aW9uczogeyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH1cclxuXHRcdFx0fSxcclxuXHRcdFx0J2NvbXBhY3QnOiB7XHJcblx0XHRcdFx0Y29tbWFuZFBhbGV0dGU6IHRydWUsIHJlYWRpbmdUaW1lOiB0cnVlLCBsaW5rZWRNZW50aW9uczogdHJ1ZSxcclxuXHRcdFx0XHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IHRydWUsIGdyYXBoVmlldzogZmFsc2UsIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBoaWRlU2Nyb2xsQmFyOiBmYWxzZSxcclxuXHRcdFx0XHRzY3JvbGxUb1RvcDogdHJ1ZSwgc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IGZhbHNlLCBwcm9maWxlUGljdHVyZTogZmFsc2UsIGNvbW1lbnRzOiBmYWxzZSxcclxuXHRcdFx0XHRmZWF0dXJlQnV0dG9uOiAnbm9uZScsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcclxuXHRcdFx0XHRjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBxdWlja0FjdGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgdG9nZ2xlTW9kZTogdHJ1ZSwgZ3JhcGhWaWV3OiB0cnVlLCBjaGFuZ2VUaGVtZTogdHJ1ZSB9XHJcblx0XHRcdH0sXHJcblx0XHRcdCdtaW5pbWFsJzoge1xyXG5cdFx0XHRcdGNvbW1hbmRQYWxldHRlOiB0cnVlLCByZWFkaW5nVGltZTogZmFsc2UsIGxpbmtlZE1lbnRpb25zOiBmYWxzZSxcclxuXHRcdFx0XHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlLCBncmFwaFZpZXc6IGZhbHNlLCBwb3N0TmF2aWdhdGlvbjogZmFsc2UsIGhpZGVTY3JvbGxCYXI6IHRydWUsXHJcblx0XHRcdFx0c2Nyb2xsVG9Ub3A6IHRydWUsIHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiBmYWxzZSwgcHJvZmlsZVBpY3R1cmU6IGZhbHNlLCBjb21tZW50czogZmFsc2UsXHJcblx0XHRcdFx0ZmVhdHVyZUJ1dHRvbjogJ25vbmUnLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsXHJcblx0XHRcdFx0Y3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgcXVpY2tBY3Rpb25zOiB7IGVuYWJsZWQ6IHRydWUsIHRvZ2dsZU1vZGU6IHRydWUsIGdyYXBoVmlldzogdHJ1ZSwgY2hhbmdlVGhlbWU6IHRydWUgfVxyXG5cdFx0XHR9LFxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGVtcGxhdGVGZWF0dXJlc1Jlc3VsdCA9IHRlbXBsYXRlRmVhdHVyZXNbc2V0dGluZ3MuY3VycmVudFRlbXBsYXRlXSB8fCB0ZW1wbGF0ZUZlYXR1cmVzWydzdGFuZGFyZCddO1xyXG5cdFx0XHJcblx0XHQvLyBFbnN1cmUgcHJvZmlsZSBwaWN0dXJlIGFuZCBjb21tZW50cyBmZWF0dXJlcyBhcmUgc3luY2hyb25pemVkIHdpdGggZXhpc3Rpbmcgc2V0dGluZ3NcclxuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZSkge1xyXG5cdFx0XHR0ZW1wbGF0ZUZlYXR1cmVzUmVzdWx0LnByb2ZpbGVQaWN0dXJlID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5lbmFibGVkO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzKSB7XHJcblx0XHRcdHRlbXBsYXRlRmVhdHVyZXNSZXN1bHQuY29tbWVudHMgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWQ7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHRoaXMuc3RhdGUuc2VsZWN0ZWRGZWF0dXJlcyA9IHRlbXBsYXRlRmVhdHVyZXNSZXN1bHQ7XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBvcHRpb25hbCBmZWF0dXJlcyB3aXRoIGN1cnJlbnQgc2V0dGluZ3NcclxuXHRcdHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzID0ge1xyXG5cdFx0XHRwcm9maWxlUGljdHVyZToge1xyXG5cdFx0XHRcdGVuYWJsZWQ6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5lbmFibGVkIHx8IGZhbHNlLFxyXG5cdFx0XHRcdGltYWdlOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8uaW1hZ2UgfHwgJy9wcm9maWxlLmpwZycsXHJcblx0XHRcdFx0YWx0OiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8uYWx0IHx8ICdQcm9maWxlIHBpY3R1cmUnLFxyXG5cdFx0XHRcdHNpemU6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlPy5zaXplIHx8ICdtZCcsXHJcblx0XHRcdFx0dXJsOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZT8udXJsIHx8ICcnLFxyXG5cdFx0XHRcdHBsYWNlbWVudDogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LnBsYWNlbWVudCB8fCAnZm9vdGVyJyxcclxuXHRcdFx0XHRzdHlsZTogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LnN0eWxlIHx8ICdjaXJjbGUnLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRjb21tZW50czogKCgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjb21tZW50c0VuYWJsZWQgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cz8uZW5hYmxlZCB8fCBmYWxzZTtcclxuXHRcdFx0XHRjb25zdCBleGlzdGluZ0NvbW1lbnRzID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gSWYgY29tbWVudHMgYXJlIGRpc2FibGVkLCBwcmVzZXJ2ZSBleGlzdGluZyB2YWx1ZXMgKGRvbid0IHBvcHVsYXRlIGRlZmF1bHRzKVxyXG5cdFx0XHRcdGlmICghY29tbWVudHNFbmFibGVkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRlbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0cHJvdmlkZXI6IGV4aXN0aW5nQ29tbWVudHM/LnByb3ZpZGVyIHx8ICdnaXNjdXMnLFxyXG5cdFx0XHRcdFx0XHRyYXdTY3JpcHQ6IGV4aXN0aW5nQ29tbWVudHM/LnJhd1NjcmlwdCB8fCAnJyxcclxuXHRcdFx0XHRcdFx0cmVwbzogZXhpc3RpbmdDb21tZW50cz8ucmVwbyB8fCAnJyxcclxuXHRcdFx0XHRcdFx0cmVwb0lkOiBleGlzdGluZ0NvbW1lbnRzPy5yZXBvSWQgfHwgJycsXHJcblx0XHRcdFx0XHRcdGNhdGVnb3J5OiBleGlzdGluZ0NvbW1lbnRzPy5jYXRlZ29yeSB8fCAnJyxcclxuXHRcdFx0XHRcdFx0Y2F0ZWdvcnlJZDogZXhpc3RpbmdDb21tZW50cz8uY2F0ZWdvcnlJZCB8fCAnJyxcclxuXHRcdFx0XHRcdFx0bWFwcGluZzogZXhpc3RpbmdDb21tZW50cz8ubWFwcGluZyB8fCAnJyxcclxuXHRcdFx0XHRcdFx0c3RyaWN0OiBleGlzdGluZ0NvbW1lbnRzPy5zdHJpY3QgfHwgJycsXHJcblx0XHRcdFx0XHRcdHJlYWN0aW9uczogZXhpc3RpbmdDb21tZW50cz8ucmVhY3Rpb25zIHx8ICcnLFxyXG5cdFx0XHRcdFx0XHRtZXRhZGF0YTogZXhpc3RpbmdDb21tZW50cz8ubWV0YWRhdGEgfHwgJycsXHJcblx0XHRcdFx0XHRcdGlucHV0UG9zaXRpb246IGV4aXN0aW5nQ29tbWVudHM/LmlucHV0UG9zaXRpb24gfHwgJycsXHJcblx0XHRcdFx0XHRcdHRoZW1lOiBleGlzdGluZ0NvbW1lbnRzPy50aGVtZSB8fCAnJyxcclxuXHRcdFx0XHRcdFx0bGFuZzogZXhpc3RpbmdDb21tZW50cz8ubGFuZyB8fCAnJyxcclxuXHRcdFx0XHRcdFx0bG9hZGluZzogZXhpc3RpbmdDb21tZW50cz8ubG9hZGluZyB8fCAnJyxcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIElmIGNvbW1lbnRzIGFyZSBlbmFibGVkLCB1c2UgZGVmYXVsdHMgZm9yIG1pc3NpbmcgdmFsdWVzXHJcblx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdGVuYWJsZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRwcm92aWRlcjogZXhpc3RpbmdDb21tZW50cz8ucHJvdmlkZXIgfHwgJ2dpc2N1cycsXHJcblx0XHRcdFx0XHRyYXdTY3JpcHQ6IGV4aXN0aW5nQ29tbWVudHM/LnJhd1NjcmlwdCB8fCAnJyxcclxuXHRcdFx0XHRcdHJlcG86IGV4aXN0aW5nQ29tbWVudHM/LnJlcG8gfHwgJ2RhdmlkdmtpbWJhbGwvYXN0cm8tbW9kdWxhcicsXHJcblx0XHRcdFx0XHRyZXBvSWQ6IGV4aXN0aW5nQ29tbWVudHM/LnJlcG9JZCB8fCAnUl9rZ0RPUGxsZkt3JyxcclxuXHRcdFx0XHRcdGNhdGVnb3J5OiBleGlzdGluZ0NvbW1lbnRzPy5jYXRlZ29yeSB8fCAnR2VuZXJhbCcsXHJcblx0XHRcdFx0XHRjYXRlZ29yeUlkOiBleGlzdGluZ0NvbW1lbnRzPy5jYXRlZ29yeUlkIHx8ICdESUNfa3dET1BsbGZLODRDdlVweCcsXHJcblx0XHRcdFx0XHRtYXBwaW5nOiBleGlzdGluZ0NvbW1lbnRzPy5tYXBwaW5nIHx8ICdwYXRobmFtZScsXHJcblx0XHRcdFx0XHRzdHJpY3Q6IGV4aXN0aW5nQ29tbWVudHM/LnN0cmljdCB8fCAnMCcsXHJcblx0XHRcdFx0XHRyZWFjdGlvbnM6IGV4aXN0aW5nQ29tbWVudHM/LnJlYWN0aW9ucyB8fCAnMScsXHJcblx0XHRcdFx0XHRtZXRhZGF0YTogZXhpc3RpbmdDb21tZW50cz8ubWV0YWRhdGEgfHwgJzAnLFxyXG5cdFx0XHRcdFx0aW5wdXRQb3NpdGlvbjogZXhpc3RpbmdDb21tZW50cz8uaW5wdXRQb3NpdGlvbiB8fCAnYm90dG9tJyxcclxuXHRcdFx0XHRcdHRoZW1lOiBleGlzdGluZ0NvbW1lbnRzPy50aGVtZSB8fCAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsXHJcblx0XHRcdFx0XHRsYW5nOiBleGlzdGluZ0NvbW1lbnRzPy5sYW5nIHx8ICdlbicsXHJcblx0XHRcdFx0XHRsb2FkaW5nOiBleGlzdGluZ0NvbW1lbnRzPy5sb2FkaW5nIHx8ICdsYXp5JyxcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9KSgpLFxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIG9wdGlvbmFsIGNvbnRlbnQgdHlwZXNcclxuXHRcdGNvbnN0IGlzU3RhbmRhcmQgPSBzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUgPT09ICdzdGFuZGFyZCc7XHJcblx0XHR0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uYWxDb250ZW50VHlwZXMgPSB7XHJcblx0XHRcdHByb2plY3RzOiBpc1N0YW5kYXJkLFxyXG5cdFx0XHRkb2NzOiBpc1N0YW5kYXJkXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0YnVpbGRGaW5hbFNldHRpbmdzKCk6IHZvaWQge1xyXG5cdFx0Ly8gVXBkYXRlIHBsdWdpbi5zZXR0aW5ncyBkaXJlY3RseSBpbnN0ZWFkIG9mIHJldHVybmluZyBhIG5ldyBvYmplY3RcclxuXHRcdGNvbnN0IHNldHRpbmdzID0gKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuc2V0dGluZ3M7XHJcblx0XHRcclxuXHRcdC8vIFN0b3JlIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0byBkZXRlY3QgaWYgaXQgY2hhbmdlZFxyXG5cdFx0Y29uc3Qgb3JpZ2luYWxUZW1wbGF0ZSA9IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZTtcclxuXHRcdFxyXG5cdFx0c2V0dGluZ3MuY3VycmVudFRlbXBsYXRlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFRlbXBsYXRlO1xyXG5cdFx0c2V0dGluZ3MuY3VycmVudFRoZW1lID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFRoZW1lO1xyXG5cdFx0c2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbiA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRDb250ZW50T3JnO1xyXG5cdFx0c2V0dGluZ3Muc2l0ZUluZm8gPSB0aGlzLnN0YXRlLnNlbGVjdGVkU2l0ZUluZm87XHJcblx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uID0gdGhpcy5zdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb247XHJcblx0XHRzZXR0aW5ncy5mZWF0dXJlcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRGZWF0dXJlcztcclxuXHRcdHNldHRpbmdzLnR5cG9ncmFwaHkgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeTtcclxuXHRcdHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMgPSB0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcztcclxuXHRcdHNldHRpbmdzLmRlcGxveW1lbnQucGxhdGZvcm0gPSB0aGlzLnN0YXRlLnNlbGVjdGVkRGVwbG95bWVudDtcclxuXHRcdHNldHRpbmdzLnJ1bldpemFyZE9uU3RhcnR1cCA9IHRoaXMuc3RhdGUucnVuV2l6YXJkT25TdGFydHVwO1xyXG5cclxuXHRcdC8vIENSSVRJQ0FMOiBTeW5jIHBvc3RPcHRpb25zIGFuZCBjb21tYW5kUGFsZXR0ZSB3aXRoIGZlYXR1cmVzIGFmdGVyIHdpemFyZCBjb21wbGV0aW9uXHJcblx0XHQvLyBUaGlzIGVuc3VyZXMgZGF0YS5qc29uIGhhcyBjb25zaXN0ZW50IHZhbHVlc1xyXG5cdFx0aWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRGZWF0dXJlcykge1xyXG5cdFx0XHQvLyBTeW5jIHBvc3RPcHRpb25zLmdyYXBoVmlldyB3aXRoIGZlYXR1cmVzLmdyYXBoVmlld1xyXG5cdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldykge1xyXG5cdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZlYXR1cmVzLmdyYXBoVmlldyA/PyBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gU3luYyBsaW5rZWQgbWVudGlvbnNcclxuXHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zPy5saW5rZWRNZW50aW9ucykge1xyXG5cdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zLmVuYWJsZWQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkRmVhdHVyZXMubGlua2VkTWVudGlvbnMgPz8gZmFsc2U7XHJcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMubGlua2VkTWVudGlvbnNDb21wYWN0ID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZlYXR1cmVzLmxpbmtlZE1lbnRpb25zQ29tcGFjdCA/PyBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gU3luYyBjb21tYW5kIHBhbGV0dGUgcXVpY2sgYWN0aW9uc1xyXG5cdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnF1aWNrQWN0aW9ucyAmJiB0aGlzLnN0YXRlLnNlbGVjdGVkRmVhdHVyZXMucXVpY2tBY3Rpb25zKSB7XHJcblx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zID0geyBcclxuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucywgXHJcblx0XHRcdFx0XHQuLi50aGlzLnN0YXRlLnNlbGVjdGVkRmVhdHVyZXMucXVpY2tBY3Rpb25zIFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBPTkxZIGFwcGx5IHRlbXBsYXRlIHByZXNldCBjaGFuZ2VzIGlmIHRoZSB0ZW1wbGF0ZSB3YXMgYWN0dWFsbHkgY2hhbmdlZFxyXG5cdFx0Ly8gVGhpcyBwcmV2ZW50cyByZXZlcnRpbmcgdXNlciBjdXN0b21pemF0aW9ucyB3aGVuIG5hdmlnYXRpbmcgdGhlIHdpemFyZFxyXG5cdFx0aWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRUZW1wbGF0ZSAhPT0gb3JpZ2luYWxUZW1wbGF0ZSkge1xyXG5cdFx0XHRjb25zdCB0ZW1wbGF0ZVByZXNldCA9ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmNvbmZpZ01hbmFnZXIuZ2V0VGVtcGxhdGVQcmVzZXQodGhpcy5zdGF0ZS5zZWxlY3RlZFRlbXBsYXRlKTtcclxuXHRcdFx0aWYgKHRlbXBsYXRlUHJlc2V0ICYmIHRlbXBsYXRlUHJlc2V0LmNvbmZpZykge1xyXG5cdFx0XHRcdC8vIFVwZGF0ZSB0YWJsZSBvZiBjb250ZW50cyBzZXR0aW5ncyBmcm9tIHByZXNldFxyXG5cdFx0XHRcdGlmICh0ZW1wbGF0ZVByZXNldC5jb25maWcudGFibGVPZkNvbnRlbnRzKSB7XHJcblx0XHRcdFx0XHRzZXR0aW5ncy50YWJsZU9mQ29udGVudHMgPSB7IC4uLnNldHRpbmdzLnRhYmxlT2ZDb250ZW50cywgLi4udGVtcGxhdGVQcmVzZXQuY29uZmlnLnRhYmxlT2ZDb250ZW50cyB9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFN5bmNocm9uaXplIHByb2ZpbGUgcGljdHVyZSBzZXR0aW5ncyBiZXR3ZWVuIGZlYXR1cmVzIGFuZCBvcHRpb25hbEZlYXR1cmVzXHJcblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmUpIHtcclxuXHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucHJvZmlsZVBpY3R1cmUgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmVuYWJsZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU3luY2hyb25pemUgY29tbWVudHMgc2V0dGluZ3MgYmV0d2VlbiBmZWF0dXJlcywgb3B0aW9uYWxGZWF0dXJlcywgYW5kIHBvc3RPcHRpb25zXHJcblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMpIHtcclxuXHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuY29tbWVudHMgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWQ7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBBbHNvIHN5bmMgcG9zdE9wdGlvbnMuY29tbWVudHMuZW5hYmxlZCB0byBlbnN1cmUgY29uc2lzdGVuY3lcclxuXHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0geyBwb3N0c1BlclBhZ2U6IDYsIHJlYWRpbmdUaW1lOiB0cnVlLCB3b3JkQ291bnQ6IHRydWUsIHRhZ3M6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfSwgZ3JhcGhWaWV3OiB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH0sIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIGNvbW1lbnRzOiB7IC4uLnNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMgfSB9O1xyXG5cdFx0XHR9IGVsc2UgaWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucy5jb21tZW50cykge1xyXG5cdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmNvbW1lbnRzID0geyAuLi5zZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzIH07XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gUHJlc2VydmUgZXhpc3RpbmcgY29tbWVudCBzZXR0aW5ncyBidXQgdXBkYXRlIGVuYWJsZWQgc3RhdGVcclxuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5jb21tZW50cy5lbmFibGVkID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5lbmFibGVkO1xyXG5cdFx0XHRcdC8vIEFsc28gc3luYyBhbGwgb3RoZXIgY29tbWVudCBmaWVsZHMgZnJvbSBvcHRpb25hbEZlYXR1cmVzXHJcblx0XHRcdFx0T2JqZWN0LmFzc2lnbihzZXR0aW5ncy5wb3N0T3B0aW9ucy5jb21tZW50cywgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBTeW5jIG9wdGlvbmFsIGNvbnRlbnQgdHlwZXMgZnJvbSB3aXphcmQgc3RhdGVcclxuXHRcdHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbmFsQ29udGVudFR5cGVzO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCwgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBXaXphcmRTdGF0ZU1hbmFnZXIsIFdpemFyZFN0YXRlIH0gZnJvbSAnLi9XaXphcmRTdGF0ZSc7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVdpemFyZFN0ZXAge1xyXG5cdHByb3RlY3RlZCBhcHA6IEFwcDtcclxuXHRwcm90ZWN0ZWQgbW9kYWw6IE1vZGFsO1xyXG5cdHByb3RlY3RlZCBzdGF0ZU1hbmFnZXI6IFdpemFyZFN0YXRlTWFuYWdlcjtcclxuXHRwcm90ZWN0ZWQgcGx1Z2luOiBQbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0YXBwOiBBcHAsXHJcblx0XHRtb2RhbDogTW9kYWwsXHJcblx0XHRzdGF0ZU1hbmFnZXI6IFdpemFyZFN0YXRlTWFuYWdlcixcclxuXHRcdHBsdWdpbjogUGx1Z2luXHJcblx0KSB7XHJcblx0XHR0aGlzLmFwcCA9IGFwcDtcclxuXHRcdHRoaXMubW9kYWwgPSBtb2RhbDtcclxuXHRcdHRoaXMuc3RhdGVNYW5hZ2VyID0gc3RhdGVNYW5hZ2VyO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRhYnN0cmFjdCByZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQ7XHJcblxyXG5cdHByb3RlY3RlZCBuZXh0U3RlcCgpOiB2b2lkIHtcclxuXHRcdHRoaXMuc3RhdGVNYW5hZ2VyLm5leHRTdGVwKCk7XHJcblx0XHR0aGlzLm1vZGFsLmNsb3NlKCk7XHJcblx0XHQvLyBUaGUgbW9kYWwgd2lsbCByZS1yZW5kZXIgd2l0aCB0aGUgbmV3IHN0ZXBcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBwcmV2aW91c1N0ZXAoKTogdm9pZCB7XHJcblx0XHR0aGlzLnN0YXRlTWFuYWdlci5wcmV2aW91c1N0ZXAoKTtcclxuXHRcdHRoaXMubW9kYWwuY2xvc2UoKTtcclxuXHRcdC8vIFRoZSBtb2RhbCB3aWxsIHJlLXJlbmRlciB3aXRoIHRoZSBuZXcgc3RlcFxyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIHVwZGF0ZVN0YXRlKHVwZGF0ZXM6IFBhcnRpYWw8V2l6YXJkU3RhdGU+KTogdm9pZCB7XHJcblx0XHR0aGlzLnN0YXRlTWFuYWdlci51cGRhdGVTdGF0ZSh1cGRhdGVzKTtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBnZXRTdGF0ZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQmFzZVdpemFyZFN0ZXAgfSBmcm9tICcuL0Jhc2VXaXphcmRTdGVwJztcclxuXHJcbmV4cG9ydCBjbGFzcyBXZWxjb21lU3RlcCBleHRlbmRzIEJhc2VXaXphcmRTdGVwIHtcclxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHdlbGNvbWVDb250ZW50ID0gY29udGFpbmVyLmNyZWF0ZURpdignd2VsY29tZS1jb250ZW50Jyk7XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJBc3RybyBNb2R1bGFyXCIgaXMgYSBwcm9wZXIgbm91biAodGhlbWUgbmFtZSlcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdHdlbGNvbWVDb250ZW50LmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1dlbGNvbWUgdG8gQXN0cm8gTW9kdWxhciEnIH0pO1xyXG5cdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiQXN0cm8gTW9kdWxhclwiIGlzIGEgcHJvcGVyIG5vdW4gKHRoZW1lIG5hbWUpXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHR3ZWxjb21lQ29udGVudC5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1RoaXMgd2l6YXJkIHdpbGwgaGVscCB5b3Ugc2V0IHVwIHlvdXIgQXN0cm8gTW9kdWxhciB0aGVtZSB3aXRoIHRoZSBwZXJmZWN0IGNvbmZpZ3VyYXRpb24gZm9yIHlvdXIgbmVlZHMuJyB9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgY2hlY2tib3hPcHRpb24gPSB3ZWxjb21lQ29udGVudC5jcmVhdGVEaXYoJ2NoZWNrYm94LW9wdGlvbicpO1xyXG5cdFx0Y29uc3QgY2hlY2tib3ggPSBjaGVja2JveE9wdGlvbi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSk7XHJcblx0XHRjaGVja2JveC5pZCA9ICdydW4td2l6YXJkLXN0YXJ0dXAnO1xyXG5cdFx0aWYgKHN0YXRlLnJ1bldpemFyZE9uU3RhcnR1cCkge1xyXG5cdFx0XHRjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgbGFiZWwgPSBjaGVja2JveE9wdGlvbi5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdSdW4gdGhpcyB3aXphcmQgb24gc3RhcnR1cCcgfSk7XHJcblx0XHRsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdydW4td2l6YXJkLXN0YXJ0dXAnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3Qgc2l0ZUluZm9Gb3JtID0gd2VsY29tZUNvbnRlbnQuY3JlYXRlRGl2KCdzaXRlLWluZm8tZm9ybScpO1xyXG5cdFx0c2l0ZUluZm9Gb3JtLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1NpdGUgaW5mb3JtYXRpb24nIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCB1cmxHcm91cCA9IHNpdGVJbmZvRm9ybS5jcmVhdGVEaXYoJ2Zvcm0tZ3JvdXAnKTtcclxuXHRcdGNvbnN0IHVybExhYmVsID0gdXJsR3JvdXAuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnVVJMJyB9KTtcclxuXHRcdHVybExhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3NpdGUtdXJsJyk7XHJcblx0XHRjb25zdCB1cmxJbnB1dCA9IHVybEdyb3VwLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnIH0pO1xyXG5cdFx0dXJsSW5wdXQuaWQgPSAnc2l0ZS11cmwnO1xyXG5cdFx0dXJsSW5wdXQucGxhY2Vob2xkZXIgPSAnaHR0cHM6Ly9hc3Ryby1tb2R1bGFyLm5ldGxpZnkuYXBwJztcclxuXHRcdHVybElucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBzdGF0ZS5zZWxlY3RlZFNpdGVJbmZvLnNpdGUpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0aXRsZUdyb3VwID0gc2l0ZUluZm9Gb3JtLmNyZWF0ZURpdignZm9ybS1ncm91cCcpO1xyXG5cdFx0Y29uc3QgdGl0bGVMYWJlbCA9IHRpdGxlR3JvdXAuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnVGl0bGUnIH0pO1xyXG5cdFx0dGl0bGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdzaXRlLXRpdGxlJyk7XHJcblx0XHRjb25zdCB0aXRsZUlucHV0ID0gdGl0bGVHcm91cC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9KTtcclxuXHRcdHRpdGxlSW5wdXQuaWQgPSAnc2l0ZS10aXRsZSc7XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJBc3RybyBNb2R1bGFyXCIgaXMgYSBwcm9wZXIgbm91biAodGhlbWUgbmFtZSkgLSBwbGFjZWhvbGRlciB2YWx1ZVxyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0dGl0bGVJbnB1dC5wbGFjZWhvbGRlciA9ICdBc3RybyBNb2R1bGFyJztcclxuXHRcdHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHN0YXRlLnNlbGVjdGVkU2l0ZUluZm8udGl0bGUpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBkZXNjR3JvdXAgPSBzaXRlSW5mb0Zvcm0uY3JlYXRlRGl2KCdmb3JtLWdyb3VwJyk7XHJcblx0XHRjb25zdCBkZXNjTGFiZWwgPSBkZXNjR3JvdXAuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnRGVzY3JpcHRpb24nIH0pO1xyXG5cdFx0ZGVzY0xhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3NpdGUtZGVzY3JpcHRpb24nKTtcclxuXHRcdGNvbnN0IGRlc2NJbnB1dCA9IGRlc2NHcm91cC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9KTtcclxuXHRcdGRlc2NJbnB1dC5pZCA9ICdzaXRlLWRlc2NyaXB0aW9uJztcclxuXHRcdGRlc2NJbnB1dC5wbGFjZWhvbGRlciA9ICdBIGZsZXhpYmxlIGJsb2cgdGhlbWUgZGVzaWduZWQgZm9yIE9ic2lkaWFuIHVzZXJzLic7XHJcblx0XHRkZXNjSW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHN0YXRlLnNlbGVjdGVkU2l0ZUluZm8uZGVzY3JpcHRpb24pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBhdXRob3JHcm91cCA9IHNpdGVJbmZvRm9ybS5jcmVhdGVEaXYoJ2Zvcm0tZ3JvdXAnKTtcclxuXHRcdGNvbnN0IGF1dGhvckxhYmVsID0gYXV0aG9yR3JvdXAuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnQXV0aG9yIG5hbWUnIH0pO1xyXG5cdFx0YXV0aG9yTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAnc2l0ZS1hdXRob3InKTtcclxuXHRcdGNvbnN0IGF1dGhvcklucHV0ID0gYXV0aG9yR3JvdXAuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcgfSk7XHJcblx0XHRhdXRob3JJbnB1dC5pZCA9ICdzaXRlLWF1dGhvcic7XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJEYXZpZCBWLiBLaW1iYWxsXCIgaXMgYSBwcm9wZXIgbm91biAocGVyc29uJ3MgbmFtZSkgLSBwbGFjZWhvbGRlciB2YWx1ZVxyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0YXV0aG9ySW5wdXQucGxhY2Vob2xkZXIgPSAnRGF2aWQgVi4gS2ltYmFsbCc7XHJcblx0XHRhdXRob3JJbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc3RhdGUuc2VsZWN0ZWRTaXRlSW5mby5hdXRob3IpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBsYW5nR3JvdXAgPSBzaXRlSW5mb0Zvcm0uY3JlYXRlRGl2KCdmb3JtLWdyb3VwJyk7XHJcblx0XHRjb25zdCBsYW5nTGFiZWwgPSBsYW5nR3JvdXAuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnTGFuZ3VhZ2UnIH0pO1xyXG5cdFx0bGFuZ0xhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3NpdGUtbGFuZ3VhZ2UnKTtcclxuXHRcdGNvbnN0IGxhbmdJbnB1dCA9IGxhbmdHcm91cC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JyB9KTtcclxuXHRcdGxhbmdJbnB1dC5pZCA9ICdzaXRlLWxhbmd1YWdlJztcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2UgLS0gTGFuZ3VhZ2UgY29kZSBzaG91bGQgcmVtYWluIGxvd2VyY2FzZVxyXG5cdFx0bGFuZ0lucHV0LnBsYWNlaG9sZGVyID0gJ2VuJztcclxuXHRcdGxhbmdJbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc3RhdGUuc2VsZWN0ZWRTaXRlSW5mby5sYW5ndWFnZSk7XHJcblxyXG5cdFx0Ly8gQWRkIGNoYW5nZSBoYW5kbGVyc1xyXG5cdFx0Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNydW4td2l6YXJkLXN0YXJ0dXAnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7IHJ1bldpemFyZE9uU3RhcnR1cDogdGFyZ2V0LmNoZWNrZWQgfSk7XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzaXRlLXVybCcpPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdFx0c2VsZWN0ZWRTaXRlSW5mbzoge1xyXG5cdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkU2l0ZUluZm8sXHJcblx0XHRcdFx0XHRzaXRlOiAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvcignI3NpdGUtdGl0bGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRcdHRoaXMudXBkYXRlU3RhdGUoe1xyXG5cdFx0XHRcdHNlbGVjdGVkU2l0ZUluZm86IHtcclxuXHRcdFx0XHRcdC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZFNpdGVJbmZvLFxyXG5cdFx0XHRcdFx0dGl0bGU6IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc2l0ZS1kZXNjcmlwdGlvbicpPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdFx0c2VsZWN0ZWRTaXRlSW5mbzoge1xyXG5cdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkU2l0ZUluZm8sXHJcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzaXRlLWF1dGhvcicpPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdFx0c2VsZWN0ZWRTaXRlSW5mbzoge1xyXG5cdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkU2l0ZUluZm8sXHJcblx0XHRcdFx0XHRhdXRob3I6IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc2l0ZS1sYW5ndWFnZScpPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdFx0c2VsZWN0ZWRTaXRlSW5mbzoge1xyXG5cdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkU2l0ZUluZm8sXHJcblx0XHRcdFx0XHRsYW5ndWFnZTogKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQmFzZVdpemFyZFN0ZXAgfSBmcm9tICcuL0Jhc2VXaXphcmRTdGVwJztcclxuaW1wb3J0IHsgVEVNUExBVEVfT1BUSU9OUywgQXN0cm9Nb2R1bGFyUGx1Z2luIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBOb3RpY2UsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVTdGVwIGV4dGVuZHMgQmFzZVdpemFyZFN0ZXAge1xyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGVtcGxhdGVTZWxlY3Rpb25EaXYgPSBjb250YWluZXIuY3JlYXRlRGl2KCd0ZW1wbGF0ZS1zZWxlY3Rpb24nKTtcclxuXHRcdHRlbXBsYXRlU2VsZWN0aW9uRGl2LmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0Nob29zZSB5b3VyIHByZXNldCcgfSk7XHJcblx0XHR0ZW1wbGF0ZVNlbGVjdGlvbkRpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1NlbGVjdCBhIHByZXNldCB0aGF0IGJlc3QgZml0cyB5b3VyIGNvbnRlbnQgdHlwZSBhbmQgZ29hbHMuJyB9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGVtcGxhdGVPcHRpb25zID0gdGVtcGxhdGVTZWxlY3Rpb25EaXYuY3JlYXRlRGl2KCd0ZW1wbGF0ZS1vcHRpb25zJyk7XHJcblx0XHRcclxuXHRcdFRFTVBMQVRFX09QVElPTlMuZm9yRWFjaCh0ZW1wbGF0ZSA9PiB7XHJcblx0XHRcdGNvbnN0IHRlbXBsYXRlT3B0aW9uID0gdGVtcGxhdGVPcHRpb25zLmNyZWF0ZURpdigndGVtcGxhdGUtb3B0aW9uJyk7XHJcblx0XHRcdGlmIChzdGF0ZS5zZWxlY3RlZFRlbXBsYXRlID09PSB0ZW1wbGF0ZS5pZCkge1xyXG5cdFx0XHRcdHRlbXBsYXRlT3B0aW9uLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRlbXBsYXRlT3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScsIHRlbXBsYXRlLmlkKTtcclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IHRlbXBsYXRlSGVhZGVyID0gdGVtcGxhdGVPcHRpb24uY3JlYXRlRGl2KCd0ZW1wbGF0ZS1oZWFkZXInKTtcclxuXHRcdFx0dGVtcGxhdGVIZWFkZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiB0ZW1wbGF0ZS5uYW1lIH0pO1xyXG5cdFx0XHRpZiAodGVtcGxhdGUucmVjb21tZW5kZWQpIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZUhlYWRlci5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogJ0RlZmF1bHQnLCBjbHM6ICdyZWNvbW1lbmRlZCcgfSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHRlbXBsYXRlT3B0aW9uLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0ZW1wbGF0ZS5kZXNjcmlwdGlvbiwgY2xzOiAndGVtcGxhdGUtZGVzY3JpcHRpb24nIH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgdGVtcGxhdGVGZWF0dXJlcyA9IHRlbXBsYXRlT3B0aW9uLmNyZWF0ZURpdigndGVtcGxhdGUtZmVhdHVyZXMnKTtcclxuXHRcdFx0dGVtcGxhdGUuZmVhdHVyZXMuZm9yRWFjaChmZWF0dXJlID0+IHtcclxuXHRcdFx0XHR0ZW1wbGF0ZUZlYXR1cmVzLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiBmZWF0dXJlLCBjbHM6ICdmZWF0dXJlLXRhZycgfSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQWRkIGNsaWNrIGhhbmRsZXJcclxuXHRcdFx0dGVtcGxhdGVPcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGVJZCA9IHRlbXBsYXRlLmlkO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGUoeyBzZWxlY3RlZFRlbXBsYXRlOiB0ZW1wbGF0ZUlkIH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIFN5bmMgb3B0aW9uYWwgY29udGVudCB0eXBlcyBiYXNlZCBvbiB0ZW1wbGF0ZSBzZWxlY3Rpb25cclxuXHRcdFx0XHRjb25zdCBpc1N0YW5kYXJkID0gdGVtcGxhdGVJZCA9PT0gJ3N0YW5kYXJkJztcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0XHRcdHNlbGVjdGVkT3B0aW9uYWxDb250ZW50VHlwZXM6IHtcclxuXHRcdFx0XHRcdFx0cHJvamVjdHM6IGlzU3RhbmRhcmQsXHJcblx0XHRcdFx0XHRcdGRvY3M6IGlzU3RhbmRhcmRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gU3luYyBhbGwgZmVhdHVyZXMgYmFzZWQgb24gdGVtcGxhdGUgc2VsZWN0aW9uXHJcblx0XHRcdFx0dGhpcy5zeW5jRmVhdHVyZXNXaXRoVGVtcGxhdGUodGVtcGxhdGVJZCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gUmUtcmVuZGVyIHRvIHVwZGF0ZSB0aGUgVUlcclxuXHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEVkaXQgY29uZmlnLnRzIGRpcmVjdGx5IHNldHRpbmcgKHN0YW5kYXJkIE9ic2lkaWFuIFNldHRpbmcgZm9ybWF0KVxyXG5cdFx0Y29uc3QgdGVtcGxhdGVTZWxlY3Rpb25FbCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudGVtcGxhdGUtc2VsZWN0aW9uJyk7XHJcblx0XHRpZiAodGVtcGxhdGVTZWxlY3Rpb25FbCkge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcodGVtcGxhdGVTZWxlY3Rpb25FbCBhcyBIVE1MRWxlbWVudClcclxuXHRcdFx0XHQuc2V0TmFtZSgnRWRpdCBjb25maWcudHMgZGlyZWN0bHkgKGFkdmFuY2VkKScpXHJcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZSAtLSBcIkFzdHJvXCIgaXMgYSBwcm9wZXIgbm91blxyXG5cdFx0XHRcdC5zZXREZXNjKCdTa2lwIHRoZSB3aXphcmQgYW5kIGVkaXQgeW91ciBBc3RybyBjb25maWd1cmF0aW9uIGZpbGUgZGlyZWN0bHkuJylcclxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdFZGl0IGNvbmZpZy50cycpXHJcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMub3BlbkNvbmZpZ0ZpbGUoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEFkZCBzcGFjaW5nIGFib3ZlIHRoZSBzZXR0aW5nXHJcblx0XHRcdGNvbnN0IHNldHRpbmdFbCA9IHNldHRpbmcuc2V0dGluZ0VsO1xyXG5cdFx0XHRpZiAoc2V0dGluZ0VsKSB7XHJcblx0XHRcdFx0c2V0dGluZ0VsLnNldENzc1Byb3BzKHsgbWFyZ2luVG9wOiAnMnJlbScgfSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3luY0ZlYXR1cmVzV2l0aFRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdC8vIExvYWQgZmVhdHVyZXMgZnJvbSBwcmVzZXQgSlNPTiAoc2luZ2xlIHNvdXJjZSBvZiB0cnV0aClcclxuXHRcdGNvbnN0IHBsdWdpbkluc3RhbmNlID0gdGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luO1xyXG5cdFx0Y29uc3QgdGVtcGxhdGVQcmVzZXQgPSBwbHVnaW5JbnN0YW5jZS5jb25maWdNYW5hZ2VyLmdldFRlbXBsYXRlUHJlc2V0KHRlbXBsYXRlKTtcclxuXHRcdGlmICghdGVtcGxhdGVQcmVzZXQgfHwgIXRlbXBsYXRlUHJlc2V0LmNvbmZpZyB8fCAhdGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1RlbXBsYXRlIHByZXNldCBub3QgZm91bmQ6JywgdGVtcGxhdGUpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVXBkYXRlIHdpemFyZCBzdGF0ZSB3aXRoIGZlYXR1cmVzIGZyb20gcHJlc2V0IEpTT05cclxuXHRcdHRoaXMudXBkYXRlU3RhdGUoe1xyXG5cdFx0XHRzZWxlY3RlZEZlYXR1cmVzOiB0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXNcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyB1cGRhdGVQbHVnaW5TZXR0aW5nc1dpdGhUZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBHZXQgdGhlIGN1cnJlbnQgcGx1Z2luIHNldHRpbmdzXHJcblx0XHRjb25zdCBwbHVnaW5Gb3JVcGRhdGUgPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XHJcblx0XHRjb25zdCBzZXR0aW5ncyA9IHBsdWdpbkZvclVwZGF0ZS5zZXR0aW5ncztcclxuXHRcdFxyXG5cdFx0Ly8gTG9hZCB0aGUgdGVtcGxhdGUgcHJlc2V0IGZyb20gSlNPTiAoc2luZ2xlIHNvdXJjZSBvZiB0cnV0aClcclxuXHRcdGNvbnN0IHRlbXBsYXRlUHJlc2V0ID0gcGx1Z2luRm9yVXBkYXRlLmNvbmZpZ01hbmFnZXIuZ2V0VGVtcGxhdGVQcmVzZXQodGVtcGxhdGUpO1xyXG5cdFx0aWYgKCF0ZW1wbGF0ZVByZXNldCB8fCAhdGVtcGxhdGVQcmVzZXQuY29uZmlnKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1RlbXBsYXRlIHByZXNldCBub3QgZm91bmQ6JywgdGVtcGxhdGUpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ1JJVElDQUw6IEdldCBmdWxsIHRlbXBsYXRlIGNvbmZpZyBpbmNsdWRpbmcgYWxsIHNldHRpbmdzXHJcblx0XHRjb25zdCB0ZW1wbGF0ZUNvbmZpZyA9IHBsdWdpbkZvclVwZGF0ZS5jb25maWdNYW5hZ2VyLmdldFRlbXBsYXRlQ29uZmlnKHRlbXBsYXRlLCBzZXR0aW5ncyk7XHJcblxyXG5cdFx0Ly8gVXBkYXRlIHNldHRpbmdzIGZyb20gdGhlIHByZXNldCdzIGNvbmZpZ1xyXG5cdFx0Ly8gTk9URTogV2UgZG8gTk9UIHVwZGF0ZSB0aGVtZSBvciBjb250ZW50T3JnYW5pemF0aW9uIC0gdGhvc2UgYXJlIHNlcGFyYXRlIHVzZXIgY2hvaWNlc1xyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgZmVhdHVyZXMgZnJvbSBwcmVzZXQgKHByZXNlcnZpbmcgdXNlciBwcmVmZXJlbmNlcyBmb3IgY29tbWVudHMvcHJvZmlsZVBpY3R1cmUpXHJcblx0XHRpZiAodGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzKSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRDb21tZW50cyA9IHNldHRpbmdzLmZlYXR1cmVzLmNvbW1lbnRzO1xyXG5cdFx0XHRjb25zdCBjdXJyZW50UHJvZmlsZVBpY3R1cmUgPSBzZXR0aW5ncy5mZWF0dXJlcy5wcm9maWxlUGljdHVyZTtcclxuXHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMgPSB7IC4uLnNldHRpbmdzLmZlYXR1cmVzLCAuLi50ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMgfTtcclxuXHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuY29tbWVudHMgPSBjdXJyZW50Q29tbWVudHM7XHJcblx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlID0gY3VycmVudFByb2ZpbGVQaWN0dXJlO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQ1JJVElDQUw6IFN5bmMgcG9zdE9wdGlvbnMgd2l0aCBmZWF0dXJlcyB0byBtYWludGFpbiBkYXRhIGludGVncml0eVxyXG5cdFx0XHQvLyBwb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZCBpcyB0aGUgc291cmNlIG9mIHRydXRoXHJcblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3KSB7XHJcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgPSB0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMuZ3JhcGhWaWV3ID8/IGZhbHNlO1xyXG5cdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmdyYXBoVmlldyA9IHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTeW5jIGxpbmtlZCBtZW50aW9uc1xyXG5cdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmxpbmtlZE1lbnRpb25zKSB7XHJcblx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMuZW5hYmxlZCA9IHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcy5saW5rZWRNZW50aW9ucyA/PyBmYWxzZTtcclxuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPSB0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMubGlua2VkTWVudGlvbnNDb21wYWN0ID8/IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTeW5jIGNvbW1hbmQgcGFsZXR0ZSBxdWljayBhY3Rpb25zXHJcblx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8ucXVpY2tBY3Rpb25zICYmIHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcy5xdWlja0FjdGlvbnMpIHtcclxuXHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgPSB7IC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucywgLi4udGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLnF1aWNrQWN0aW9ucyB9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIENSSVRJQ0FMOiBVcGRhdGUgQUxMIHNldHRpbmdzIGZyb20gdGVtcGxhdGUgY29uZmlnIChzYW1lIGFzIENvbmZpZ1RhYilcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIGNvbW1hbmQgcGFsZXR0ZVxyXG5cdFx0aWYgKHRlbXBsYXRlQ29uZmlnLmNvbW1hbmRQYWxldHRlICYmIHR5cGVvZiB0ZW1wbGF0ZUNvbmZpZy5jb21tYW5kUGFsZXR0ZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Y29uc3QgY29tbWFuZFBhbGV0dGUgPSB0ZW1wbGF0ZUNvbmZpZy5jb21tYW5kUGFsZXR0ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxuXHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUgPSB7XHJcblx0XHRcdFx0Li4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUsXHJcblx0XHRcdFx0ZW5hYmxlZDogKGNvbW1hbmRQYWxldHRlLmVuYWJsZWQgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuZW5hYmxlZCxcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogKGNvbW1hbmRQYWxldHRlLnBsYWNlaG9sZGVyIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0c2hvcnRjdXQ6IChjb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNob3J0Y3V0LFxyXG5cdFx0XHRcdHNlYXJjaDoge1xyXG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLFxyXG5cdFx0XHRcdFx0Li4uKGNvbW1hbmRQYWxldHRlLnNlYXJjaCAmJiB0eXBlb2YgY29tbWFuZFBhbGV0dGUuc2VhcmNoID09PSAnb2JqZWN0JyA/IGNvbW1hbmRQYWxldHRlLnNlYXJjaCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA6IHt9KVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0c2VjdGlvbnM6IHtcclxuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLFxyXG5cdFx0XHRcdFx0Li4uKGNvbW1hbmRQYWxldHRlLnNlY3Rpb25zICYmIHR5cGVvZiBjb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyA9PT0gJ29iamVjdCcgPyBjb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA6IHt9KVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0cXVpY2tBY3Rpb25zOiB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMsXHJcblx0XHRcdFx0XHQuLi4odGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzPy5xdWlja0FjdGlvbnMgfHwge30pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcyAmJiB0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMucXVpY2tBY3Rpb25zKSB7XHJcblx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zID0ge1xyXG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLFxyXG5cdFx0XHRcdFx0Li4udGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLnF1aWNrQWN0aW9uc1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIGhvbWUgb3B0aW9uc1xyXG5cdFx0aWYgKHRlbXBsYXRlQ29uZmlnLmhvbWVPcHRpb25zICYmIHR5cGVvZiB0ZW1wbGF0ZUNvbmZpZy5ob21lT3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Y29uc3QgaG9tZU9wdGlvbnMgPSB0ZW1wbGF0ZUNvbmZpZy5ob21lT3B0aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxuXHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMgPSB7XHJcblx0XHRcdFx0Li4uc2V0dGluZ3MuaG9tZU9wdGlvbnMsXHJcblx0XHRcdFx0ZmVhdHVyZWRQb3N0OiB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5ob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QsXHJcblx0XHRcdFx0XHQuLi4oaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0ICYmIHR5cGVvZiBob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QgPT09ICdvYmplY3QnID8gaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IDoge30pXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRyZWNlbnRQb3N0czoge1xyXG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuaG9tZU9wdGlvbnMucmVjZW50UG9zdHMsXHJcblx0XHRcdFx0XHQuLi4oaG9tZU9wdGlvbnMucmVjZW50UG9zdHMgJiYgdHlwZW9mIGhvbWVPcHRpb25zLnJlY2VudFBvc3RzID09PSAnb2JqZWN0JyA/IGhvbWVPcHRpb25zLnJlY2VudFBvc3RzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IDoge30pXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRwcm9qZWN0czoge1xyXG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuaG9tZU9wdGlvbnMucHJvamVjdHMsXHJcblx0XHRcdFx0XHQuLi4oaG9tZU9wdGlvbnMucHJvamVjdHMgJiYgdHlwZW9mIGhvbWVPcHRpb25zLnByb2plY3RzID09PSAnb2JqZWN0JyA/IGhvbWVPcHRpb25zLnByb2plY3RzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IDoge30pXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRkb2NzOiB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5ob21lT3B0aW9ucy5kb2NzLFxyXG5cdFx0XHRcdFx0Li4uKGhvbWVPcHRpb25zLmRvY3MgJiYgdHlwZW9mIGhvbWVPcHRpb25zLmRvY3MgPT09ICdvYmplY3QnID8gaG9tZU9wdGlvbnMuZG9jcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA6IHt9KVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Ymx1cmI6IHtcclxuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmhvbWVPcHRpb25zLmJsdXJiLFxyXG5cdFx0XHRcdFx0Li4uKGhvbWVPcHRpb25zLmJsdXJiICYmIHR5cGVvZiBob21lT3B0aW9ucy5ibHVyYiA9PT0gJ29iamVjdCcgPyBob21lT3B0aW9ucy5ibHVyYiBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA6IHt9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIHBvc3Qgb3B0aW9uc1xyXG5cdFx0aWYgKHRlbXBsYXRlQ29uZmlnLnBvc3RPcHRpb25zICYmIHR5cGVvZiB0ZW1wbGF0ZUNvbmZpZy5wb3N0T3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Y29uc3QgcG9zdE9wdGlvbnMgPSB0ZW1wbGF0ZUNvbmZpZy5wb3N0T3B0aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxuXHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0Li4uc2V0dGluZ3MucG9zdE9wdGlvbnMsXHJcblx0XHRcdFx0cG9zdHNQZXJQYWdlOiAocG9zdE9wdGlvbnMucG9zdHNQZXJQYWdlIGFzIG51bWJlciB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdHNQZXJQYWdlLFxyXG5cdFx0XHRcdHJlYWRpbmdUaW1lOiAocG9zdE9wdGlvbnMucmVhZGluZ1RpbWUgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMucmVhZGluZ1RpbWUsXHJcblx0XHRcdFx0d29yZENvdW50OiAocG9zdE9wdGlvbnMud29yZENvdW50IGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLndvcmRDb3VudCxcclxuXHRcdFx0XHR0YWdzOiAocG9zdE9wdGlvbnMudGFncyBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy50YWdzLFxyXG5cdFx0XHRcdHBvc3ROYXZpZ2F0aW9uOiAocG9zdE9wdGlvbnMucG9zdE5hdmlnYXRpb24gYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdE5hdmlnYXRpb24sXHJcblx0XHRcdFx0c2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICgocG9zdE9wdGlvbnMuc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXMgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5zaG93UG9zdENhcmRDb3ZlckltYWdlcykgYXMgJ2FsbCcgfCAnZmVhdHVyZWQnIHwgJ2hvbWUnIHwgJ3Bvc3RzJyB8ICdmZWF0dXJlZC1hbmQtcG9zdHMnIHwgJ25vbmUnLFxyXG5cdFx0XHRcdHBvc3RDYXJkQXNwZWN0UmF0aW86ICgocG9zdE9wdGlvbnMucG9zdENhcmRBc3BlY3RSYXRpbyBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLnBvc3RDYXJkQXNwZWN0UmF0aW8pIGFzICdvZycgfCAnMTY6OScgfCAnNDozJyB8ICczOjInIHwgJ3NxdWFyZScgfCAnZ29sZGVuJyB8ICdjdXN0b20nLFxyXG5cdFx0XHRcdGxpbmtlZE1lbnRpb25zOiB7XHJcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyxcclxuXHRcdFx0XHRcdC4uLihwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgPT09ICdvYmplY3QnID8gcG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gOiB7fSlcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGdyYXBoVmlldzoge1xyXG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LFxyXG5cdFx0XHRcdFx0ZW5hYmxlZDogKHBvc3RPcHRpb25zLmdyYXBoVmlldyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMuZ3JhcGhWaWV3ID09PSAnb2JqZWN0JyA/IChwb3N0T3B0aW9ucy5ncmFwaFZpZXcgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmVuYWJsZWQgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQsXHJcblx0XHRcdFx0XHRzaG93SW5TaWRlYmFyOiAocG9zdE9wdGlvbnMuZ3JhcGhWaWV3ICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5ncmFwaFZpZXcgPT09ICdvYmplY3QnID8gKHBvc3RPcHRpb25zLmdyYXBoVmlldyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuc2hvd0luU2lkZWJhciBhcyBib29sZWFuIHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuc2hvd0luU2lkZWJhcixcclxuXHRcdFx0XHRcdG1heE5vZGVzOiAocG9zdE9wdGlvbnMuZ3JhcGhWaWV3ICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5ncmFwaFZpZXcgPT09ICdvYmplY3QnID8gKHBvc3RPcHRpb25zLmdyYXBoVmlldyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikubWF4Tm9kZXMgYXMgbnVtYmVyIHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcubWF4Tm9kZXMsXHJcblx0XHRcdFx0XHRzaG93T3JwaGFuZWRQb3N0czogKHBvc3RPcHRpb25zLmdyYXBoVmlldyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMuZ3JhcGhWaWV3ID09PSAnb2JqZWN0JyA/IChwb3N0T3B0aW9ucy5ncmFwaFZpZXcgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLnNob3dPcnBoYW5lZFBvc3RzIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQgOiB1bmRlZmluZWQpID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5zaG93T3JwaGFuZWRQb3N0c1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y29tbWVudHM6IHNldHRpbmdzLnBvc3RPcHRpb25zLmNvbW1lbnRzICAvLyBQcmVzZXJ2ZSBjb21tZW50c1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvblxyXG5cdFx0aWYgKHRlbXBsYXRlQ29uZmlnLm5hdmlnYXRpb24gJiYgdHlwZW9mIHRlbXBsYXRlQ29uZmlnLm5hdmlnYXRpb24gPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGNvbnN0IG5hdmlnYXRpb24gPSB0ZW1wbGF0ZUNvbmZpZy5uYXZpZ2F0aW9uIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG5cdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uID0ge1xyXG5cdFx0XHRcdC4uLnNldHRpbmdzLm5hdmlnYXRpb24sXHJcblx0XHRcdFx0c2hvd05hdmlnYXRpb246IChuYXZpZ2F0aW9uLnNob3dOYXZpZ2F0aW9uIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLm5hdmlnYXRpb24uc2hvd05hdmlnYXRpb24sXHJcblx0XHRcdFx0c2hvd01vYmlsZU1lbnU6IChuYXZpZ2F0aW9uLnNob3dNb2JpbGVNZW51IGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLm5hdmlnYXRpb24uc2hvd01vYmlsZU1lbnUsXHJcblx0XHRcdFx0c3R5bGU6ICgobmF2aWdhdGlvbi5zdHlsZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLm5hdmlnYXRpb24uc3R5bGUpIGFzICdtaW5pbWFsJyB8ICd0cmFkaXRpb25hbCdcclxuXHRcdFx0XHQvLyBQcmVzZXJ2ZSBwYWdlcyBhbmQgc29jaWFsIGFycmF5cyBmcm9tIHVzZXIgc2V0dGluZ3NcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIHRhYmxlIG9mIGNvbnRlbnRzIHNldHRpbmdzIGZyb20gcHJlc2V0XHJcblx0XHRpZiAodGVtcGxhdGVQcmVzZXQuY29uZmlnLnRhYmxlT2ZDb250ZW50cykge1xyXG5cdFx0XHRzZXR0aW5ncy50YWJsZU9mQ29udGVudHMgPSB7IC4uLnNldHRpbmdzLnRhYmxlT2ZDb250ZW50cywgLi4udGVtcGxhdGVQcmVzZXQuY29uZmlnLnRhYmxlT2ZDb250ZW50cyB9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgb3B0aW9uYWwgY29udGVudCB0eXBlcyBmcm9tIHRlbXBsYXRlIGNvbmZpZ1xyXG5cdFx0aWYgKHRlbXBsYXRlQ29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzICYmIHR5cGVvZiB0ZW1wbGF0ZUNvbmZpZy5vcHRpb25hbENvbnRlbnRUeXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Y29uc3Qgb3B0aW9uYWxDb250ZW50VHlwZXMgPSB0ZW1wbGF0ZUNvbmZpZy5vcHRpb25hbENvbnRlbnRUeXBlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxuXHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMgPSB7XHJcblx0XHRcdFx0cHJvamVjdHM6IChvcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0cyBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZSxcclxuXHRcdFx0XHRkb2NzOiAob3B0aW9uYWxDb250ZW50VHlwZXMuZG9jcyBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBDUklUSUNBTDogVXBkYXRlIGZvb3RlciBzZXR0aW5ncyBmcm9tIHRlbXBsYXRlIGNvbmZpZ1xyXG5cdFx0aWYgKHRlbXBsYXRlQ29uZmlnLmZvb3RlciAmJiB0eXBlb2YgdGVtcGxhdGVDb25maWcuZm9vdGVyID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRjb25zdCBmb290ZXIgPSB0ZW1wbGF0ZUNvbmZpZy5mb290ZXIgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XHJcblx0XHRcdGNvbnN0IHNob3dTb2NpYWxJY29uc0luRm9vdGVyID0gKGZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3RlciBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5mb290ZXIuc2hvd1NvY2lhbEljb25zSW5Gb290ZXI7XHJcblx0XHRcdHNldHRpbmdzLmZvb3RlciA9IHtcclxuXHRcdFx0XHQuLi5zZXR0aW5ncy5mb290ZXIsXHJcblx0XHRcdFx0c2hvd1NvY2lhbEljb25zSW5Gb290ZXJcclxuXHRcdFx0fTtcclxuXHRcdFx0Ly8gU3luYyBmZWF0dXJlcy5zaG93U29jaWFsSWNvbnNJbkZvb3RlclxyXG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5zaG93U29jaWFsSWNvbnNJbkZvb3RlciA9IHNob3dTb2NpYWxJY29uc0luRm9vdGVyO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNhdmUgdGhlIHVwZGF0ZWQgc2V0dGluZ3NcclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0Y29uc3QgcGx1Z2luSW5zdGFuY2UgPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XHJcblx0XHRhd2FpdCBwbHVnaW5JbnN0YW5jZS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFxyXG5cdFx0Ly8gVHJpZ2dlciBhIHJlZnJlc2ggb2YgdGhlIHNldHRpbmdzIHRhYiBpZiBpdCdzIG9wZW5cclxuXHRcdHRoaXMucmVmcmVzaFNldHRpbmdzVGFiKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlZnJlc2hTZXR0aW5nc1RhYigpOiB2b2lkIHtcclxuXHRcdC8vIENoZWNrIGlmIHRoZSBzZXR0aW5ncyB0YWIgaXMgY3VycmVudGx5IG9wZW4gYW5kIHJlZnJlc2ggaXRcclxuXHRcdGNvbnN0IHBsdWdpbiA9IHRoaXMucGx1Z2luIGFzIHVua25vd24gYXMgeyBzZXR0aW5nc1RhYj86IHsgZGlzcGxheT86ICgpID0+IHZvaWQgfSB9O1xyXG5cdFx0Y29uc3Qgc2V0dGluZ3NUYWIgPSBwbHVnaW4uc2V0dGluZ3NUYWI7XHJcblx0XHRpZiAoc2V0dGluZ3NUYWIgJiYgdHlwZW9mIHNldHRpbmdzVGFiLmRpc3BsYXkgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0c2V0dGluZ3NUYWIuZGlzcGxheSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBvcGVuQ29uZmlnRmlsZSgpOiB2b2lkIHtcclxuXHRcdC8vIE9wZW4gY29uZmlnLnRzIGZpbGUgLSBpdCdzIG9uZSBsZXZlbCB1cCBmcm9tIHRoZSB2YXVsdFxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIG5vLXVuZGVmXHJcblx0XHRcdGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKSBhcyB0eXBlb2YgaW1wb3J0KCdmcycpO1xyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcclxuXHRcdFx0Y29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKSBhcyB0eXBlb2YgaW1wb3J0KCdwYXRoJyk7XHJcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBlbGVjdHJvbiBpcyBvbmx5IGF2YWlsYWJsZSBpbiBFbGVjdHJvbiBlbnZpcm9ubWVudFxyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcclxuXHRcdFx0Y29uc3QgZWxlY3Ryb25Nb2R1bGUgPSByZXF1aXJlKCdlbGVjdHJvbicpIGFzIHVua25vd24gYXMgeyBzaGVsbD86IHR5cGVvZiBpbXBvcnQoJ2VsZWN0cm9uJykuc2hlbGwgfTtcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxyXG5cdFx0XHRjb25zdCBzaGVsbFJhdyA9IGVsZWN0cm9uTW9kdWxlLnNoZWxsO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gR2V0IHRoZSBhY3R1YWwgdmF1bHQgcGF0aCBzdHJpbmcgZnJvbSB0aGUgYWRhcHRlclxyXG5cdFx0XHRjb25zdCB2YXVsdEFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIHVua25vd24gYXMgeyBiYXNlUGF0aD86IHN0cmluZzsgcGF0aD86IHN0cmluZyB9O1xyXG5cdFx0XHRjb25zdCB2YXVsdFBhdGggPSB2YXVsdEFkYXB0ZXIuYmFzZVBhdGggfHwgdmF1bHRBZGFwdGVyLnBhdGg7XHJcblx0XHRcdGNvbnN0IHZhdWx0UGF0aFN0cmluZyA9IHR5cGVvZiB2YXVsdFBhdGggPT09ICdzdHJpbmcnID8gdmF1bHRQYXRoIDogKHZhdWx0UGF0aCA/IFN0cmluZyh2YXVsdFBhdGgpIDogJycpO1xyXG5cdFx0XHRpZiAoIXNoZWxsUmF3IHx8IHR5cGVvZiBzaGVsbFJhdyAhPT0gJ29iamVjdCcgfHwgISgnb3BlblBhdGgnIGluIHNoZWxsUmF3KSB8fCB0eXBlb2YgKHNoZWxsUmF3IGFzIHsgb3BlblBhdGg/OiB1bmtub3duIH0pLm9wZW5QYXRoICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFbGVjdHJvbiBzaGVsbCBBUEkgbm90IGF2YWlsYWJsZScpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnQgLS0gUnVudGltZSB0eXBlIGd1YXJkIGVuc3VyZXMgc2FmZXR5XHJcblx0XHRcdGNvbnN0IHNoZWxsID0gc2hlbGxSYXc7XHJcblx0XHRcdGNvbnN0IGNvbmZpZ1BhdGggPSBwYXRoLmpvaW4odmF1bHRQYXRoU3RyaW5nLCAnLi4nLCAnY29uZmlnLnRzJyk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoZnMuZXhpc3RzU3luYyhjb25maWdQYXRoKSkge1xyXG5cdFx0XHRcdC8vIFVzZSBFbGVjdHJvbidzIHNoZWxsIHRvIG9wZW4gdGhlIGZpbGUgd2l0aCB0aGUgZGVmYXVsdCBlZGl0b3JcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1jYWxsLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcclxuXHRcdFx0XHRzaGVsbC5vcGVuUGF0aChjb25maWdQYXRoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGZpbGUgaWYgaXQgZG9lc24ndCBleGlzdFxyXG5cdFx0XHRcdGZzLndyaXRlRmlsZVN5bmMoY29uZmlnUGF0aCwgJy8vIEFzdHJvIE1vZHVsYXIgQ29uZmlndXJhdGlvblxcbi8vIEN1c3RvbWl6ZSB5b3VyIHNldHRpbmdzIGhlcmVcXG5cXG5leHBvcnQgY29uc3Qgc2l0ZUNvbmZpZyA9IHtcXG4gIC8vIEFkZCB5b3VyIGNvbmZpZ3VyYXRpb24gaGVyZVxcbn07XFxuJyk7XHJcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXHJcblx0XHRcdFx0c2hlbGwub3BlblBhdGgoY29uZmlnUGF0aCk7XHJcblx0XHRcdH1cclxuXHRcdFx0bmV3IE5vdGljZSgnT3BlbmluZyBjb25maWcudHMgZm9yIGRpcmVjdCBlZGl0aW5nJyk7XHJcblx0XHRcdHRoaXMubW9kYWwuY2xvc2UoKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoYEVycm9yIG9wZW5pbmcgY29uZmlnIGZpbGU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQmFzZVdpemFyZFN0ZXAgfSBmcm9tICcuL0Jhc2VXaXphcmRTdGVwJztcclxuaW1wb3J0IHsgVEhFTUVfT1BUSU9OUyB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUaGVtZVN0ZXAgZXh0ZW5kcyBCYXNlV2l6YXJkU3RlcCB7XHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0Y29uc3QgaXNEYXJrTW9kZSA9IHRoaXMuaXNPYnNpZGlhbkRhcmtNb2RlKCk7XHJcblx0XHRcclxuXHRcdC8vIEZpbHRlciBvdXQgJ2N1c3RvbScgdGhlbWUgZnJvbSB3aXphcmQgLSBpdCdzIG9ubHkgZm9yIGFkdmFuY2VkIHVzZXJzIGluIHNldHRpbmdzXHJcblx0XHRjb25zdCB3aXphcmRUaGVtZXMgPSBUSEVNRV9PUFRJT05TLmZpbHRlcih0aGVtZSA9PiB0aGVtZS5pZCAhPT0gJ2N1c3RvbScpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0aGVtZVNlbGVjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3RoZW1lLXNlbGVjdGlvbicpO1xyXG5cdFx0dGhlbWVTZWxlY3Rpb24uY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnQ2hvb3NlIHlvdXIgdGhlbWUnIH0pO1xyXG5cdFx0dGhlbWVTZWxlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTZWxlY3QgYSBjb2xvciBzY2hlbWUgdGhhdCBtYXRjaGVzIHlvdXIgc3R5bGUgYW5kIGNvbnRlbnQuJyB9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGhlbWVPcHRpb25zID0gdGhlbWVTZWxlY3Rpb24uY3JlYXRlRGl2KCd0aGVtZS1vcHRpb25zJyk7XHJcblx0XHRcclxuXHRcdHdpemFyZFRoZW1lcy5mb3JFYWNoKHRoZW1lID0+IHtcclxuXHRcdFx0Y29uc3QgdGhlbWVPcHRpb24gPSB0aGVtZU9wdGlvbnMuY3JlYXRlRGl2KCd0aGVtZS1vcHRpb24nKTtcclxuXHRcdFx0aWYgKHN0YXRlLnNlbGVjdGVkVGhlbWUgPT09IHRoZW1lLmlkKSB7XHJcblx0XHRcdFx0dGhlbWVPcHRpb24uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhlbWVPcHRpb24uc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgdGhlbWUuaWQpO1xyXG5cdFx0XHQvLyBTZXQgZHluYW1pYyBiYWNrZ3JvdW5kXHJcblx0XHRcdHRoZW1lT3B0aW9uLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRiYWNrZ3JvdW5kOiBpc0RhcmtNb2RlID8gdGhlbWUuYmFja2dyb3VuZENvbG9yRGFyayA6IHRoZW1lLmJhY2tncm91bmRDb2xvckxpZ2h0XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgdGhlbWVQcmV2aWV3ID0gdGhlbWVPcHRpb24uY3JlYXRlRGl2KCd0aGVtZS1wcmV2aWV3Jyk7XHJcblx0XHRcdC8vIFNldCBkeW5hbWljIGJhY2tncm91bmRcclxuXHRcdFx0dGhlbWVQcmV2aWV3LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHt0aGVtZS5wcmV2aWV3Q29sb3JzLmpvaW4oJywgJyl9KWBcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCBwcmV2aWV3Q29udGVudCA9IHRoZW1lUHJldmlldy5jcmVhdGVEaXYoJ3RoZW1lLXByZXZpZXctY29udGVudCcpO1xyXG5cdFx0XHRjb25zdCBwcmV2aWV3VGV4dCA9IHByZXZpZXdDb250ZW50LmNyZWF0ZURpdigncHJldmlldy10ZXh0Jyk7XHJcblx0XHRcdHByZXZpZXdUZXh0LnRleHRDb250ZW50ID0gJ1NhbXBsZSB0ZXh0JztcclxuXHRcdFx0Y29uc3QgcHJldmlld0FjY2VudCA9IHByZXZpZXdDb250ZW50LmNyZWF0ZURpdigncHJldmlldy1hY2NlbnQnKTtcclxuXHRcdFx0cHJldmlld0FjY2VudC50ZXh0Q29udGVudCA9ICdBY2NlbnQnO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgdGhlbWVJbmZvID0gdGhlbWVPcHRpb24uY3JlYXRlRGl2KCd0aGVtZS1pbmZvJyk7XHJcblx0XHRcdHRoZW1lSW5mby5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHRoZW1lLm5hbWUgfSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBBZGQgY2xpY2sgaGFuZGxlclxyXG5cdFx0XHR0aGVtZU9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHsgc2VsZWN0ZWRUaGVtZTogdGhlbWUuaWQgfSk7XHJcblx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNPYnNpZGlhbkRhcmtNb2RlKCk6IGJvb2xlYW4ge1xyXG5cdFx0Ly8gQ2hlY2sgaWYgT2JzaWRpYW4gaXMgaW4gZGFyayBtb2RlIGJ5IGxvb2tpbmcgYXQgdGhlIGJvZHkgY2xhc3Mgb3IgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzXHJcblx0XHRjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuXHRcdGNvbnN0IGlzRGFya0NsYXNzID0gYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3RoZW1lLWRhcmsnKSB8fCBib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyaycpO1xyXG5cdFx0XHJcblx0XHQvLyBBbHNvIGNoZWNrIENTUyBjdXN0b20gcHJvcGVydGllcyBhcyBhIGZhbGxiYWNrXHJcblx0XHRjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xyXG5cdFx0Y29uc3QgY29sb3JTY2hlbWUgPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2NvbG9yLXNjaGVtZScpLnRyaW0oKTtcclxuXHRcdGNvbnN0IGlzRGFya1Byb3BlcnR5ID0gY29sb3JTY2hlbWUgPT09ICdkYXJrJztcclxuXHRcdFxyXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIGJhY2tncm91bmQgaXMgZGFyayBieSBsb29raW5nIGF0IHRoZSBwcmltYXJ5IGJhY2tncm91bmQgY29sb3JcclxuXHRcdGNvbnN0IGJnQ29sb3IgPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tYmFja2dyb3VuZC1wcmltYXJ5JykudHJpbSgpO1xyXG5cdFx0Y29uc3QgaXNEYXJrQmFja2dyb3VuZCA9IEJvb2xlYW4oYmdDb2xvciAmJiAoXHJcblx0XHRcdGJnQ29sb3IuaW5jbHVkZXMoJyMnKSAmJiBwYXJzZUludChiZ0NvbG9yLnNsaWNlKDEsIDMpLCAxNikgPCAxMjggfHxcclxuXHRcdFx0YmdDb2xvci5pbmNsdWRlcygncmdiJykgJiYgYmdDb2xvci5pbmNsdWRlcygnMCwgMCwgMCcpIHx8XHJcblx0XHRcdGJnQ29sb3IuaW5jbHVkZXMoJ2hzbCcpICYmIGJnQ29sb3IuaW5jbHVkZXMoJzAsIDAlLCAwJScpXHJcblx0XHQpKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGlzRGFya0NsYXNzIHx8IGlzRGFya1Byb3BlcnR5IHx8IGlzRGFya0JhY2tncm91bmQ7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBCYXNlV2l6YXJkU3RlcCB9IGZyb20gJy4vQmFzZVdpemFyZFN0ZXAnO1xyXG5pbXBvcnQgeyBGT05UX09QVElPTlMgfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IFNldHRpbmcsIERyb3Bkb3duQ29tcG9uZW50LCBUZXh0Q29tcG9uZW50IH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBXaXphcmRTdGF0ZSB9IGZyb20gJy4vV2l6YXJkU3RhdGUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvbnRTdGVwIGV4dGVuZHMgQmFzZVdpemFyZFN0ZXAge1xyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgZm9udFNlbGVjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2ZvbnQtc2VsZWN0aW9uJyk7XHJcblx0XHRmb250U2VsZWN0aW9uLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0Nob29zZSB5b3VyIGZvbnRzJyB9KTtcclxuXHRcdGZvbnRTZWxlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTZWxlY3QgZm9udHMgZm9yIGhlYWRpbmdzLCBib2R5IHRleHQsIGFuZCBjb2RlLicgfSk7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIHRoZSBmb250IG9wdGlvbnMgY29udGFpbmVyXHJcblx0XHRjb25zdCBmb250T3B0aW9ucyA9IGZvbnRTZWxlY3Rpb24uY3JlYXRlRGl2KCdmb250LW9wdGlvbnMnKTtcclxuXHJcblx0XHQvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGZvbnQgZHJvcGRvd25zXHJcblx0XHRjb25zdCBjcmVhdGVGb250RHJvcGRvd24gPSAobmFtZTogc3RyaW5nLCBkZXNjOiBzdHJpbmcsIGN1cnJlbnRWYWx1ZTogc3RyaW5nLCBvbkNoYW5nZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQpID0+IHtcclxuXHRcdFx0bmV3IFNldHRpbmcoZm9udE9wdGlvbnMpXHJcblx0XHRcdFx0LnNldE5hbWUobmFtZSlcclxuXHRcdFx0XHQuc2V0RGVzYyhkZXNjKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50KSA9PiB7XHJcblx0XHRcdFx0XHRGT05UX09QVElPTlMuZm9yRWFjaChmb250ID0+IHtcclxuXHRcdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKGZvbnQsIGZvbnQpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShjdXJyZW50VmFsdWUpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShvbkNoYW5nZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIENyZWF0ZSBmb250IGRyb3Bkb3duc1xyXG5cdFx0Y3JlYXRlRm9udERyb3Bkb3duKCdIZWFkaW5nIEZvbnQnLCAnRm9udCBmb3IgaGVhZGluZ3MgYW5kIHRpdGxlcycsIFxyXG5cdFx0XHRzdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHkuaGVhZGluZ0ZvbnQsIFxyXG5cdFx0XHQodmFsdWU6IHN0cmluZykgPT4gdGhpcy51cGRhdGVUeXBvZ3JhcGh5U2V0dGluZygnaGVhZGluZ0ZvbnQnLCB2YWx1ZSwgc3RhdGUpKTtcclxuXHJcblx0XHRjcmVhdGVGb250RHJvcGRvd24oJ0JvZHkgRm9udCcsICdGb250IGZvciBib2R5IHRleHQgYW5kIHBhcmFncmFwaHMnLCBcclxuXHRcdFx0c3RhdGUuc2VsZWN0ZWRUeXBvZ3JhcGh5LnByb3NlRm9udCwgXHJcblx0XHRcdCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnVwZGF0ZVR5cG9ncmFwaHlTZXR0aW5nKCdwcm9zZUZvbnQnLCB2YWx1ZSwgc3RhdGUpKTtcclxuXHJcblx0XHRjcmVhdGVGb250RHJvcGRvd24oJ01vbm9zcGFjZSBGb250JywgJ0ZvbnQgZm9yIGNvZGUgYmxvY2tzIGFuZCBpbmxpbmUgY29kZScsIFxyXG5cdFx0XHRzdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHkubW9ub0ZvbnQsIFxyXG5cdFx0XHQodmFsdWU6IHN0cmluZykgPT4gdGhpcy51cGRhdGVUeXBvZ3JhcGh5U2V0dGluZygnbW9ub0ZvbnQnLCB2YWx1ZSwgc3RhdGUpKTtcclxuXHJcblx0XHQvLyBGb250IHNvdXJjZSBkcm9wZG93blxyXG5cdFx0bmV3IFNldHRpbmcoZm9udE9wdGlvbnMpXHJcblx0XHRcdC5zZXROYW1lKCdGb250IHNvdXJjZScpXHJcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgaG93IGZvbnRzIGFyZSBsb2FkZWQnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duOiBEcm9wZG93bkNvbXBvbmVudCkgPT4ge1xyXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkdvb2dsZSBGb250c1wiIGlzIGEgcHJvcGVyIG5vdW4gKHNlcnZpY2UgbmFtZSlcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdsb2NhbCcsICdMb2NhbCAoR29vZ2xlIEZvbnRzKScpO1xyXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkNETlwiIGlzIGFuIGFjcm9ueW1cclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdjZG4nLCAnQ0ROIChDdXN0b20pJyk7XHJcblx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc3RhdGUuc2VsZWN0ZWRUeXBvZ3JhcGh5LmZvbnRTb3VyY2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy51cGRhdGVUeXBvZ3JhcGh5U2V0dGluZygnZm9udFNvdXJjZScsIHZhbHVlIGFzICdsb2NhbCcgfCAnY2RuJywgc3RhdGUpO1xyXG5cdFx0XHRcdFx0XHQvLyBSZS1yZW5kZXIgdG8gc2hvdy9oaWRlIGN1c3RvbSBpbnB1dHNcclxuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQvLyBDdXN0b20gZm9udCBpbnB1dHMgKG9ubHkgc2hvdyB3aGVuIENETiBpcyBzZWxlY3RlZClcclxuXHRcdGlmIChzdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHkuZm9udFNvdXJjZSA9PT0gJ2NkbicpIHtcclxuXHRcdFx0bmV3IFNldHRpbmcoZm9udE9wdGlvbnMpXHJcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiVVJMc1wiIGlzIGFuIGFjcm9ueW0gYW5kIHNob3VsZCBiZSB1cHBlcmNhc2VcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBmb250IFVSTHMnKVxyXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIlVSTHNcIiBpcyBhbiBhY3JvbnltIGFuZCBzaG91bGQgYmUgdXBwZXJjYXNlXHJcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHRcdC5zZXREZXNjKCdDb21tYS1zZXBhcmF0ZWQgVVJMcyBmb3IgY3VzdG9tIGZvbnRzJylcclxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dDogVGV4dENvbXBvbmVudCkgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeS5jdXN0b21Gb250cz8udXJscyB8fCAnJylcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1DdXN0b20rRm9udDp3Z2h0QDQwMDs2MDAmZGlzcGxheT1zd2FwJylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4gdGhpcy51cGRhdGVDdXN0b21Gb250U2V0dGluZygndXJscycsIHZhbHVlLCBzdGF0ZSkpKTtcclxuXHJcblx0XHRcdG5ldyBTZXR0aW5nKGZvbnRPcHRpb25zKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdDdXN0b20gaGVhZGluZyBmb250IG5hbWUnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdGb250IGZhbWlseSBuYW1lIGZvciBoZWFkaW5ncycpXHJcblx0XHRcdFx0LmFkZFRleHQoKHRleHQ6IFRleHRDb21wb25lbnQpID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHkuY3VzdG9tRm9udHM/LmhlYWRpbmcgfHwgJycpXHJcblx0XHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogUGxhY2Vob2xkZXIgdGV4dCBmb3IgZm9udCBuYW1lXHJcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0N1c3RvbSBIZWFkaW5nIEZvbnQnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnVwZGF0ZUN1c3RvbUZvbnRTZXR0aW5nKCdoZWFkaW5nJywgdmFsdWUsIHN0YXRlKSkpO1xyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoZm9udE9wdGlvbnMpXHJcblx0XHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBib2R5IGZvbnQgbmFtZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ0ZvbnQgZmFtaWx5IG5hbWUgZm9yIGJvZHkgdGV4dCcpXHJcblx0XHRcdFx0LmFkZFRleHQoKHRleHQ6IFRleHRDb21wb25lbnQpID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHkuY3VzdG9tRm9udHM/LnByb3NlIHx8ICcnKVxyXG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFBsYWNlaG9sZGVyIHRleHQgZm9yIGZvbnQgbmFtZVxyXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdDdXN0b20gQm9keSBGb250JylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4gdGhpcy51cGRhdGVDdXN0b21Gb250U2V0dGluZygncHJvc2UnLCB2YWx1ZSwgc3RhdGUpKSk7XHJcblxyXG5cdFx0XHRuZXcgU2V0dGluZyhmb250T3B0aW9ucylcclxuXHRcdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIG1vbm9zcGFjZSBmb250IG5hbWUnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdGb250IGZhbWlseSBuYW1lIGZvciBjb2RlJylcclxuXHRcdFx0XHQuYWRkVGV4dCgodGV4dDogVGV4dENvbXBvbmVudCkgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeS5jdXN0b21Gb250cz8ubW9ubyB8fCAnJylcclxuXHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBQbGFjZWhvbGRlciB0ZXh0IGZvciBmb250IG5hbWVcclxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignQ3VzdG9tIE1vbm9zcGFjZSBGb250JylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4gdGhpcy51cGRhdGVDdXN0b21Gb250U2V0dGluZygnbW9ubycsIHZhbHVlLCBzdGF0ZSkpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlVHlwb2dyYXBoeVNldHRpbmcoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHN0YXRlOiBXaXphcmRTdGF0ZSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdHNlbGVjdGVkVHlwb2dyYXBoeToge1xyXG5cdFx0XHRcdC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZFR5cG9ncmFwaHksXHJcblx0XHRcdFx0W2tleV06IHZhbHVlXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB1cGRhdGVDdXN0b21Gb250U2V0dGluZyhrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgc3RhdGU6IFdpemFyZFN0YXRlKTogdm9pZCB7XHJcblx0XHRjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0c2VsZWN0ZWRUeXBvZ3JhcGh5OiB7XHJcblx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeSxcclxuXHRcdFx0XHRjdXN0b21Gb250czoge1xyXG5cdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkVHlwb2dyYXBoeS5jdXN0b21Gb250cyxcclxuXHRcdFx0XHRcdFtrZXldOiB2YWx1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBCYXNlV2l6YXJkU3RlcCB9IGZyb20gJy4vQmFzZVdpemFyZFN0ZXAnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRlbnRPcmdTdGVwIGV4dGVuZHMgQmFzZVdpemFyZFN0ZXAge1xyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgY29udGVudE9yZ1NlbGVjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbnRlbnQtb3JnLXNlbGVjdGlvbicpO1xyXG5cdFx0Y29udGVudE9yZ1NlbGVjdGlvbi5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdDb250ZW50IG9yZ2FuaXphdGlvbicgfSk7XHJcblx0XHRjb250ZW50T3JnU2VsZWN0aW9uLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQ2hvb3NlIGhvdyB5b3Ugd2FudCB0byBvcmdhbml6ZSB5b3VyIGNvbnRlbnQgYW5kIGFzc2V0cy4nIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBvcmdPcHRpb25zID0gY29udGVudE9yZ1NlbGVjdGlvbi5jcmVhdGVEaXYoJ29yZy1vcHRpb25zJyk7XHJcblx0XHRcclxuXHRcdC8vIEZpbGUtYmFzZWQgb3B0aW9uXHJcblx0XHRjb25zdCBmaWxlQmFzZWRPcHRpb24gPSBvcmdPcHRpb25zLmNyZWF0ZURpdignb3JnLW9wdGlvbicpO1xyXG5cdFx0aWYgKHN0YXRlLnNlbGVjdGVkQ29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnKSB7XHJcblx0XHRcdGZpbGVCYXNlZE9wdGlvbi5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcclxuXHRcdH1cclxuXHRcdGZpbGVCYXNlZE9wdGlvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JnJywgJ2ZpbGUtYmFzZWQnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgZmlsZUJhc2VkSGVhZGVyID0gZmlsZUJhc2VkT3B0aW9uLmNyZWF0ZURpdignb3JnLWhlYWRlcicpO1xyXG5cdFx0ZmlsZUJhc2VkSGVhZGVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0ZpbGUtYmFzZWQnIH0pO1xyXG5cdFx0ZmlsZUJhc2VkSGVhZGVyLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiAnRGVmYXVsdCcsIGNsczogJ2RlZmF1bHQtYmFkZ2UnIH0pO1xyXG5cdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFRleHQgaXMgYWxyZWFkeSBpbiBzZW50ZW5jZSBjYXNlXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRmaWxlQmFzZWRPcHRpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTaW5nbGUgbWFya2Rvd24gZmlsZXMgd2l0aCBpbWFnZXMgaW4gYXR0YWNobWVudHMgc3ViZm9sZGVyJyB9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgZmlsZUJhc2VkRXhhbXBsZSA9IGZpbGVCYXNlZE9wdGlvbi5jcmVhdGVEaXYoJ29yZy1leGFtcGxlJyk7XHJcblx0XHRjb25zdCBmaWxlQmFzZWRQcmUgPSBmaWxlQmFzZWRFeGFtcGxlLmNyZWF0ZUVsKCdwcmUnKTtcclxuXHRcdGZpbGVCYXNlZFByZS5jcmVhdGVFbCgnY29kZScsIHsgdGV4dDogJ3Bvc3RzL1xcblx1MjUxQ1x1MjUwMFx1MjUwMCBteS1wb3N0Lm1kXFxuXHUyNTE0XHUyNTAwXHUyNTAwIGF0dGFjaG1lbnRzL1xcbiAgICBcdTI1MTRcdTI1MDBcdTI1MDAgaW1hZ2UuanBnJyB9KTtcclxuXHRcdFxyXG5cdFx0Ly8gRm9sZGVyLWJhc2VkIG9wdGlvblxyXG5cdFx0Y29uc3QgZm9sZGVyQmFzZWRPcHRpb24gPSBvcmdPcHRpb25zLmNyZWF0ZURpdignb3JnLW9wdGlvbicpO1xyXG5cdFx0aWYgKHN0YXRlLnNlbGVjdGVkQ29udGVudE9yZyA9PT0gJ2ZvbGRlci1iYXNlZCcpIHtcclxuXHRcdFx0Zm9sZGVyQmFzZWRPcHRpb24uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHR9XHJcblx0XHRmb2xkZXJCYXNlZE9wdGlvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JnJywgJ2ZvbGRlci1iYXNlZCcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmb2xkZXJCYXNlZEhlYWRlciA9IGZvbGRlckJhc2VkT3B0aW9uLmNyZWF0ZURpdignb3JnLWhlYWRlcicpO1xyXG5cdFx0Zm9sZGVyQmFzZWRIZWFkZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnRm9sZGVyLWJhc2VkJyB9KTtcclxuXHRcdGZvbGRlckJhc2VkT3B0aW9uLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRWFjaCBwb3N0IGdldHMgaXRzIG93biBmb2xkZXIgd2l0aCBjby1sb2NhdGVkIGFzc2V0cycgfSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZvbGRlckJhc2VkRXhhbXBsZSA9IGZvbGRlckJhc2VkT3B0aW9uLmNyZWF0ZURpdignb3JnLWV4YW1wbGUnKTtcclxuXHRcdGNvbnN0IGZvbGRlckJhc2VkUHJlID0gZm9sZGVyQmFzZWRFeGFtcGxlLmNyZWF0ZUVsKCdwcmUnKTtcclxuXHRcdGZvbGRlckJhc2VkUHJlLmNyZWF0ZUVsKCdjb2RlJywgeyB0ZXh0OiAncG9zdHMvXFxuXHUyNTFDXHUyNTAwXHUyNTAwIG15LXBvc3QvXFxuXHUyNTAyICAgXHUyNTFDXHUyNTAwXHUyNTAwIGluZGV4Lm1kXFxuXHUyNTAyICAgXHUyNTE0XHUyNTAwXHUyNTAwIGltYWdlLmpwZ1xcblx1MjUxNFx1MjUwMFx1MjUwMCBhbm90aGVyLXBvc3QvXFxuICAgIFx1MjUxQ1x1MjUwMFx1MjUwMCBpbmRleC5tZFxcbiAgICBcdTI1MTRcdTI1MDBcdTI1MDAgaW1hZ2UuanBnJyB9KTtcclxuXHRcdFxyXG5cdFx0Ly8gQWRkIGNsaWNrIGhhbmRsZXJzXHJcblx0XHRmaWxlQmFzZWRPcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMudXBkYXRlU3RhdGUoeyBzZWxlY3RlZENvbnRlbnRPcmc6ICdmaWxlLWJhc2VkJyB9KTtcclxuXHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRmb2xkZXJCYXNlZE9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7IHNlbGVjdGVkQ29udGVudE9yZzogJ2ZvbGRlci1iYXNlZCcgfSk7XHJcblx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEJhc2VXaXphcmRTdGVwIH0gZnJvbSAnLi9CYXNlV2l6YXJkU3RlcCc7XHJcbmltcG9ydCB7IHNldEljb24gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IE5hdmlnYXRpb25JdGVtIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5cclxuLy8gVHlwZSBmb3IgZWxlbWVudHMgd2l0aCBjdXN0b20gZXZlbnQgaGFuZGxlcnNcclxuaW50ZXJmYWNlIEVsZW1lbnRXaXRoSGFuZGxlcnMgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcblx0X2lucHV0SGFuZGxlcj86IChlOiBFdmVudCkgPT4gdm9pZDtcclxuXHRfY2xpY2tIYW5kbGVyPzogKCkgPT4gdm9pZDtcclxuXHRfcmVtb3ZlSGFuZGxlcj86IChlOiBNb3VzZUV2ZW50KSA9PiB2b2lkO1xyXG5cdF9kcmFnU3RhcnRIYW5kbGVyPzogKGU6IERyYWdFdmVudCkgPT4gdm9pZDtcclxuXHRfZHJhZ0VuZEhhbmRsZXI/OiAoZTogRHJhZ0V2ZW50KSA9PiB2b2lkO1xyXG5cdF9kcmFnT3ZlckhhbmRsZXI/OiAoZTogRHJhZ0V2ZW50KSA9PiB2b2lkO1xyXG5cdF9kcmFnTGVhdmVIYW5kbGVyPzogKGU6IERyYWdFdmVudCkgPT4gdm9pZDtcclxuXHRfZHJvcEhhbmRsZXI/OiAoZTogRHJhZ0V2ZW50KSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvblN0ZXAgZXh0ZW5kcyBCYXNlV2l6YXJkU3RlcCB7XHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBuYXZpZ2F0aW9uU2VsZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignbmF2aWdhdGlvbi1zZWxlY3Rpb24nKTtcclxuXHRcdG5hdmlnYXRpb25TZWxlY3Rpb24uY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnTmF2aWdhdGlvbiBzZXR1cCcgfSk7XHJcblx0XHRuYXZpZ2F0aW9uU2VsZWN0aW9uLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQ29uZmlndXJlIHlvdXIgc2l0ZSBuYXZpZ2F0aW9uIGFuZCBzb2NpYWwgbGlua3MuJyB9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgbmF2aWdhdGlvblNlY3Rpb25zID0gbmF2aWdhdGlvblNlbGVjdGlvbi5jcmVhdGVEaXYoJ25hdmlnYXRpb24tc2VjdGlvbnMnKTtcclxuXHRcdFxyXG5cdFx0Ly8gTmF2aWdhdGlvbiBQYWdlcyBzZWN0aW9uXHJcblx0XHRjb25zdCBwYWdlc1NlY3Rpb24gPSBuYXZpZ2F0aW9uU2VjdGlvbnMuY3JlYXRlRGl2KCduYXYtc2VjdGlvbicpO1xyXG5cdFx0cGFnZXNTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ05hdmlnYXRpb24gcGFnZXMnIH0pO1xyXG5cdFx0cGFnZXNTZWN0aW9uLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQWRkIHBhZ2VzIHRvIHlvdXIgbWFpbiBuYXZpZ2F0aW9uIG1lbnUuIExlYXZlIFVSTCBlbXB0eSB0byBjcmVhdGUgZHJvcGRvd24tb25seSBwYXJlbnRzLicgfSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHBhZ2VzTGlzdCA9IHBhZ2VzU2VjdGlvbi5jcmVhdGVEaXYoJ25hdi1pdGVtcycpO1xyXG5cdFx0cGFnZXNMaXN0LmlkID0gJ3BhZ2VzLWxpc3QnO1xyXG5cdFx0XHJcblx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXMuZm9yRWFjaCgocGFnZTogTmF2aWdhdGlvbkl0ZW0sIGluZGV4OiBudW1iZXIpID0+IHtcclxuXHRcdFx0dGhpcy5yZW5kZXJQYWdlSXRlbShwYWdlc0xpc3QsIHBhZ2UsIGluZGV4KTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCIrIEFkZCBwYWdlXCIgaXMgYWxyZWFkeSBpbiBzZW50ZW5jZSBjYXNlICh0aGUgXCIrXCIgaXMgYSBVSSBjb252ZW50aW9uKVxyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0Y29uc3QgYWRkUGFnZUJ0biA9IHBhZ2VzU2VjdGlvbi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKyBBZGQgcGFnZScsIGNsczogJ25hdi1hZGQnIH0pO1xyXG5cdFx0YWRkUGFnZUJ0bi5pZCA9ICdhZGQtcGFnZSc7XHJcblx0XHRcclxuXHRcdC8vIFNvY2lhbCBMaW5rcyBzZWN0aW9uXHJcblx0XHRjb25zdCBzb2NpYWxTZWN0aW9uID0gbmF2aWdhdGlvblNlY3Rpb25zLmNyZWF0ZURpdignbmF2LXNlY3Rpb24nKTtcclxuXHRcdHNvY2lhbFNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnU29jaWFsIGxpbmtzJyB9KTtcclxuXHRcdHNvY2lhbFNlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdBZGQgc29jaWFsIG1lZGlhIGxpbmtzIGZvciB5b3VyIGZvb3Rlci4nIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBzb2NpYWxMaXN0ID0gc29jaWFsU2VjdGlvbi5jcmVhdGVEaXYoJ25hdi1pdGVtcycpO1xyXG5cdFx0c29jaWFsTGlzdC5pZCA9ICdzb2NpYWwtbGlzdCc7XHJcblx0XHRcclxuXHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5zb2NpYWwuZm9yRWFjaCgoc29jaWFsOiB7IHRpdGxlOiBzdHJpbmc7IHVybDogc3RyaW5nOyBpY29uOiBzdHJpbmcgfSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG5cdFx0XHR0aGlzLnJlbmRlclNvY2lhbEl0ZW0oc29jaWFsTGlzdCwgc29jaWFsLCBpbmRleCk7XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiKyBBZGQgc29jaWFsIGxpbmtcIiBpcyBhbHJlYWR5IGluIHNlbnRlbmNlIGNhc2UgKHRoZSBcIitcIiBpcyBhIFVJIGNvbnZlbnRpb24pXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRjb25zdCBhZGRTb2NpYWxCdG4gPSBzb2NpYWxTZWN0aW9uLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrIEFkZCBzb2NpYWwgbGluaycsIGNsczogJ25hdi1hZGQnIH0pO1xyXG5cdFx0YWRkU29jaWFsQnRuLmlkID0gJ2FkZC1zb2NpYWwnO1xyXG5cclxuXHRcdHRoaXMuc2V0dXBFdmVudEhhbmRsZXJzKGNvbnRhaW5lcik7XHJcblx0fVxyXG5cdFxyXG5cdHByaXZhdGUgcmVuZGVyUGFnZUl0ZW0oY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcGFnZTogTmF2aWdhdGlvbkl0ZW0sIGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGhhc0NoaWxkcmVuID0gcGFnZS5jaGlsZHJlbiAmJiBwYWdlLmNoaWxkcmVuLmxlbmd0aCA+IDA7XHJcblx0XHRcclxuXHRcdGNvbnN0IG5hdkl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KCduYXYtaXRlbScpO1xyXG5cdFx0bmF2SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBpbmRleC50b1N0cmluZygpKTtcclxuXHRcdG5hdkl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpdGVtQ29udGVudCA9IG5hdkl0ZW0uY3JlYXRlRGl2KCduYXYtaXRlbS1jb250ZW50Jyk7XHJcblx0XHRjb25zdCBpdGVtRmllbGRzID0gaXRlbUNvbnRlbnQuY3JlYXRlRGl2KCduYXYtaXRlbS1maWVsZHMnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGl0bGVJbnB1dCA9IGl0ZW1GaWVsZHMuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi10aXRsZScsXHJcblx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBQbGFjZWhvbGRlciB0ZXh0IGZvciBpbnB1dCBmaWVsZFxyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICdQYWdlIFRpdGxlJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0dGl0bGVJbnB1dC52YWx1ZSA9IHBhZ2UudGl0bGUgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IHVybElucHV0ID0gaXRlbUZpZWxkcy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LXVybCcsXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICcvcGFnZS11cmwgKGxlYXZlIGVtcHR5IGZvciBkcm9wZG93bi1vbmx5KScsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdHVybElucHV0LnZhbHVlID0gcGFnZS51cmwgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IGl0ZW1BY3Rpb25zID0gaXRlbUNvbnRlbnQuY3JlYXRlRGl2KCduYXYtaXRlbS1hY3Rpb25zJyk7XHJcblx0XHRpdGVtQWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHR0ZXh0OiAnKyBjaGlsZCcsXHJcblx0XHRcdGNsczogJ25hdi1hZGQtY2hpbGQnLFxyXG5cdFx0XHRhdHRyOiB7ICdkYXRhLWluZGV4JzogaW5kZXgudG9TdHJpbmcoKSwgdGl0bGU6ICdBZGQgY2hpbGQgcGFnZScgfVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHJlbW92ZUJ0biA9IGl0ZW1BY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XHJcblx0XHRcdGNsczogJ25hdi1yZW1vdmUgbW9kLXdhcm5pbmcnLFxyXG5cdFx0XHRhdHRyOiB7ICdkYXRhLWluZGV4JzogaW5kZXgudG9TdHJpbmcoKSwgJ2RhdGEtaWNvbic6ICd0cmFzaCcsIHRpdGxlOiAnUmVtb3ZlJywgJ2FyaWEtbGFiZWwnOiAnUmVtb3ZlJyB9XHJcblx0XHR9KTtcclxuXHRcdHNldEljb24ocmVtb3ZlQnRuLCAndHJhc2gnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgY2hpbGRyZW5Db250YWluZXIgPSBuYXZJdGVtLmNyZWF0ZURpdignbmF2LWNoaWxkcmVuLWNvbnRhaW5lcicpO1xyXG5cdFx0Y2hpbGRyZW5Db250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXBhcmVudC1pbmRleCcsIGluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0aWYgKCFoYXNDaGlsZHJlbikge1xyXG5cdFx0XHRjaGlsZHJlbkNvbnRhaW5lci5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y2hpbGRyZW5Db250YWluZXIuY3JlYXRlRGl2KCduYXYtY2hpbGRyZW4tbGFiZWwnKS50ZXh0Q29udGVudCA9ICdDaGlsZCBwYWdlczonO1xyXG5cdFx0Y29uc3QgY2hpbGRyZW5EaXYgPSBjaGlsZHJlbkNvbnRhaW5lci5jcmVhdGVEaXYoJ25hdi1jaGlsZHJlbicpO1xyXG5cdFx0Y2hpbGRyZW5EaXYuc2V0QXR0cmlidXRlKCdkYXRhLXBhcmVudC1pbmRleCcsIGluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0XHJcblx0XHRpZiAoaGFzQ2hpbGRyZW4gJiYgcGFnZS5jaGlsZHJlbikge1xyXG5cdFx0XHRwYWdlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBOYXZpZ2F0aW9uSXRlbSwgY2hpbGRJbmRleDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5yZW5kZXJDaGlsZEl0ZW0oY2hpbGRyZW5EaXYsIGNoaWxkLCBpbmRleCwgY2hpbGRJbmRleCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRwcml2YXRlIHJlbmRlckNoaWxkSXRlbShjb250YWluZXI6IEhUTUxFbGVtZW50LCBjaGlsZDogTmF2aWdhdGlvbkl0ZW0sIHBhcmVudEluZGV4OiBudW1iZXIsIGNoaWxkSW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0Y29uc3QgY2hpbGRJdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdignbmF2LWNoaWxkLWl0ZW0nKTtcclxuXHRcdGNoaWxkSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBwYXJlbnRJbmRleC50b1N0cmluZygpKTtcclxuXHRcdGNoaWxkSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2hpbGQtaW5kZXgnLCBjaGlsZEluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpdGVtRmllbGRzID0gY2hpbGRJdGVtLmNyZWF0ZURpdignbmF2LWl0ZW0tZmllbGRzJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHRpdGxlSW5wdXQgPSBpdGVtRmllbGRzLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtY2hpbGQtdGl0bGUnLFxyXG5cdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogUGxhY2Vob2xkZXIgdGV4dCBmb3IgaW5wdXQgZmllbGRcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnQ2hpbGQgVGl0bGUnLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR0aXRsZUlucHV0LnZhbHVlID0gY2hpbGQudGl0bGUgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IHVybElucHV0ID0gaXRlbUZpZWxkcy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LWNoaWxkLXVybCcsXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICcvY2hpbGQtdXJsJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0dXJsSW5wdXQudmFsdWUgPSBjaGlsZC51cmwgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IHJlbW92ZUJ0biA9IGNoaWxkSXRlbS5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRjbHM6ICduYXYtY2hpbGQtcmVtb3ZlIG1vZC13YXJuaW5nJyxcclxuXHRcdFx0YXR0cjoge1xyXG5cdFx0XHRcdCdkYXRhLWluZGV4JzogcGFyZW50SW5kZXgudG9TdHJpbmcoKSxcclxuXHRcdFx0XHQnZGF0YS1jaGlsZC1pbmRleCc6IGNoaWxkSW5kZXgudG9TdHJpbmcoKSxcclxuXHRcdFx0XHQnZGF0YS1pY29uJzogJ3RyYXNoJyxcclxuXHRcdFx0XHR0aXRsZTogJ1JlbW92ZScsXHJcblx0XHRcdFx0J2FyaWEtbGFiZWwnOiAnUmVtb3ZlJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHNldEljb24ocmVtb3ZlQnRuLCAndHJhc2gnKTtcclxuXHR9XHJcblx0XHJcblx0cHJpdmF0ZSByZW5kZXJTb2NpYWxJdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHNvY2lhbDogeyB0aXRsZTogc3RyaW5nOyB1cmw6IHN0cmluZzsgaWNvbjogc3RyaW5nIH0sIGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGNvbnN0IG5hdkl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KCduYXYtaXRlbScpO1xyXG5cdFx0bmF2SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBpbmRleC50b1N0cmluZygpKTtcclxuXHRcdG5hdkl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpdGVtQ29udGVudCA9IG5hdkl0ZW0uY3JlYXRlRGl2KCduYXYtaXRlbS1jb250ZW50Jyk7XHJcblx0XHRjb25zdCBpdGVtRmllbGRzID0gaXRlbUNvbnRlbnQuY3JlYXRlRGl2KCduYXYtaXRlbS1maWVsZHMnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGl0bGVJbnB1dCA9IGl0ZW1GaWVsZHMuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi10aXRsZScsXHJcblx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBQbGFjZWhvbGRlciB0ZXh0IGZvciBpbnB1dCBmaWVsZFxyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICdTb2NpYWwgVGl0bGUnLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR0aXRsZUlucHV0LnZhbHVlID0gc29jaWFsLnRpdGxlIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCB1cmxJbnB1dCA9IGl0ZW1GaWVsZHMuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi11cmwnLFxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnaHR0cHM6Ly9leGFtcGxlLmNvbScsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdHVybElucHV0LnZhbHVlID0gc29jaWFsLnVybCB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgcmVtb3ZlQnRuID0gaXRlbUNvbnRlbnQuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuXHRcdFx0Y2xzOiAnbmF2LXJlbW92ZSBtb2Qtd2FybmluZycsXHJcblx0XHRcdGF0dHI6IHsgJ2RhdGEtaW5kZXgnOiBpbmRleC50b1N0cmluZygpLCAnZGF0YS1pY29uJzogJ3RyYXNoJywgdGl0bGU6ICdSZW1vdmUnLCAnYXJpYS1sYWJlbCc6ICdSZW1vdmUnIH1cclxuXHRcdH0pO1xyXG5cdFx0c2V0SWNvbihyZW1vdmVCdG4sICd0cmFzaCcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpY29uUm93ID0gbmF2SXRlbS5jcmVhdGVEaXYoJ25hdi1pY29uLXJvdycpO1xyXG5cdFx0Y29uc3QgaWNvbklucHV0ID0gaWNvblJvdy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LWljb24nLFxyXG5cdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogUGxhY2Vob2xkZXIgdGV4dCBmb3IgaW5wdXQgZmllbGQgKGtlYmFiLWNhc2UgZm9ybWF0KVxyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICdpY29uLW5hbWUnLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHRpY29uSW5wdXQudmFsdWUgPSBzb2NpYWwuaWNvbiB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgaWNvbkhlbHAgPSBpY29uUm93LmNyZWF0ZURpdignbmF2LWljb24taGVscCcpO1xyXG5cdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiRm9udEF3ZXNvbWUgQnJhbmRzXCIgaXMgYSBwcm9wZXIgbm91biAocHJvZHVjdCBuYW1lKVxyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0aWNvbkhlbHAuY3JlYXRlRWwoJ3NtYWxsJywgeyB0ZXh0OiAnSWNvbiBuYW1lcyBmcm9tIEZvbnRBd2Vzb21lIEJyYW5kcycgfSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldHVwRXZlbnRIYW5kbGVycyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHJcblx0XHQvLyBQYWdlIGhhbmRsZXJzIC0gd29yayB3aXRoIHNlbGVjdGVkIG5hdmlnYXRpb25cclxuXHRcdGNvbnN0IHBhZ2VzTGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjcGFnZXMtbGlzdCcpO1xyXG5cdFx0aWYgKHBhZ2VzTGlzdCkge1xyXG5cdFx0XHRjb25zdCBwYWdlc0lucHV0SGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi10aXRsZScpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBwYXJzZUludChpdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS50aXRsZSA9IHRhcmdldC52YWx1ZTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi11cmwnKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWl0ZW0nKTtcclxuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoaXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdC8vIElmIFVSTCBpcyBlbXB0eSwgcmVtb3ZlIGl0IChtYWtlcyBpdCBkcm9wZG93bi1vbmx5KS4gT3RoZXJ3aXNlLCBzZXQgaXQuXHJcblx0XHRcdFx0XHRpZiAodGFyZ2V0LnZhbHVlLnRyaW0oKSA9PT0gJycpIHtcclxuXHRcdFx0XHRcdFx0ZGVsZXRlIHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1tpbmRleF0udXJsO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS51cmwgPSB0YXJnZXQudmFsdWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtY2hpbGQtdGl0bGUnKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRJdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtY2hpbGQtaXRlbScpO1xyXG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50SW5kZXggPSBwYXJzZUludChjaGlsZEl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRjb25zdCBjaGlsZEluZGV4ID0gcGFyc2VJbnQoY2hpbGRJdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2hpbGQtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0aWYgKCFzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuKSB7XHJcblx0XHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4gPSBbXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghc3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbltjaGlsZEluZGV4XSkge1xyXG5cdFx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdID0geyB0aXRsZTogJycsIHVybDogJycgfTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW5bY2hpbGRJbmRleF0udGl0bGUgPSB0YXJnZXQudmFsdWU7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtY2hpbGQtdXJsJykpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGNoaWxkSXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWNoaWxkLWl0ZW0nKTtcclxuXHRcdFx0XHRcdGNvbnN0IHBhcmVudEluZGV4ID0gcGFyc2VJbnQoY2hpbGRJdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRJbmRleCA9IHBhcnNlSW50KGNoaWxkSXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWNoaWxkLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdGlmICghc3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbikge1xyXG5cdFx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuID0gW107XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIXN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW5bY2hpbGRJbmRleF0pIHtcclxuXHRcdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbltjaGlsZEluZGV4XSA9IHsgdGl0bGU6ICcnLCB1cmw6ICcnIH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdLnVybCA9IHRhcmdldC52YWx1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdC8vIFJlbW92ZSBvbGQgaGFuZGxlciBpZiBleGlzdHNcclxuXHRcdFx0Y29uc3QgcGFnZXNMaXN0V2l0aEhhbmRsZXJzID0gcGFnZXNMaXN0IGFzIEVsZW1lbnRXaXRoSGFuZGxlcnM7XHJcblx0XHRcdGlmIChwYWdlc0xpc3RXaXRoSGFuZGxlcnMuX2lucHV0SGFuZGxlcikge1xyXG5cdFx0XHRcdHBhZ2VzTGlzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHBhZ2VzTGlzdFdpdGhIYW5kbGVycy5faW5wdXRIYW5kbGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRwYWdlc0xpc3RXaXRoSGFuZGxlcnMuX2lucHV0SGFuZGxlciA9IHBhZ2VzSW5wdXRIYW5kbGVyO1xyXG5cdFx0XHRwYWdlc0xpc3QuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBwYWdlc0lucHV0SGFuZGxlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU29jaWFsIGhhbmRsZXJzIC0gd29yayB3aXRoIHNlbGVjdGVkIG5hdmlnYXRpb25cclxuXHRcdGNvbnN0IHNvY2lhbExpc3QgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignI3NvY2lhbC1saXN0Jyk7XHJcblx0XHRpZiAoc29jaWFsTGlzdCkge1xyXG5cdFx0XHRjb25zdCBzb2NpYWxJbnB1dEhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcclxuXHRcdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtdGl0bGUnKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtdXJsJykgfHwgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWljb24nKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWl0ZW0nKTtcclxuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoaXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdGNvbnN0IGZpZWxkID0gdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXRpdGxlJykgPyAndGl0bGUnIDogXHJcblx0XHRcdFx0XHRcdFx0XHQgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXVybCcpID8gJ3VybCcgOiAnaWNvbic7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5zb2NpYWxbaW5kZXhdW2ZpZWxkXSA9IHRhcmdldC52YWx1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdC8vIFJlbW92ZSBvbGQgaGFuZGxlciBpZiBleGlzdHNcclxuXHRcdFx0Y29uc3Qgc29jaWFsTGlzdFdpdGhIYW5kbGVycyA9IHNvY2lhbExpc3QgYXMgRWxlbWVudFdpdGhIYW5kbGVycztcclxuXHRcdFx0aWYgKHNvY2lhbExpc3RXaXRoSGFuZGxlcnMuX2lucHV0SGFuZGxlcikge1xyXG5cdFx0XHRcdHNvY2lhbExpc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzb2NpYWxMaXN0V2l0aEhhbmRsZXJzLl9pbnB1dEhhbmRsZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNvY2lhbExpc3RXaXRoSGFuZGxlcnMuX2lucHV0SGFuZGxlciA9IHNvY2lhbElucHV0SGFuZGxlcjtcclxuXHRcdFx0c29jaWFsTGlzdC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHNvY2lhbElucHV0SGFuZGxlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWRkIHBhZ2UgYnV0dG9uXHJcblx0XHRjb25zdCBhZGRQYWdlQnRuID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNhZGQtcGFnZScpO1xyXG5cdFx0aWYgKGFkZFBhZ2VCdG4pIHtcclxuXHRcdFx0Y29uc3QgYWRkUGFnZUhhbmRsZXIgPSAoKSA9PiB7XHJcblx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzLnB1c2goeyB0aXRsZTogJ05ldyBQYWdlJywgdXJsOiAnL25ldy1wYWdlJyB9KTtcclxuXHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHQvLyBSZW1vdmUgb2xkIGhhbmRsZXIgaWYgZXhpc3RzXHJcblx0XHRcdGNvbnN0IGFkZFBhZ2VCdG5XaXRoSGFuZGxlcnMgPSBhZGRQYWdlQnRuIGFzIEVsZW1lbnRXaXRoSGFuZGxlcnM7XHJcblx0XHRcdGlmIChhZGRQYWdlQnRuV2l0aEhhbmRsZXJzLl9jbGlja0hhbmRsZXIpIHtcclxuXHRcdFx0XHRhZGRQYWdlQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUGFnZUJ0bldpdGhIYW5kbGVycy5fY2xpY2tIYW5kbGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhZGRQYWdlQnRuV2l0aEhhbmRsZXJzLl9jbGlja0hhbmRsZXIgPSBhZGRQYWdlSGFuZGxlcjtcclxuXHRcdFx0YWRkUGFnZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFBhZ2VIYW5kbGVyKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBZGQgc29jaWFsIGJ1dHRvblxyXG5cdFx0Y29uc3QgYWRkU29jaWFsQnRuID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNhZGQtc29jaWFsJyk7XHJcblx0XHRpZiAoYWRkU29jaWFsQnRuKSB7XHJcblx0XHRcdGNvbnN0IGFkZFNvY2lhbEhhbmRsZXIgPSAoKSA9PiB7XHJcblx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnNvY2lhbC5wdXNoKHsgdGl0bGU6ICdOZXcgU29jaWFsJywgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbScsIGljb246ICcnIH0pO1xyXG5cdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHRcdH07XHJcblx0XHRcdC8vIFJlbW92ZSBvbGQgaGFuZGxlciBpZiBleGlzdHNcclxuXHRcdFx0Y29uc3QgYWRkU29jaWFsQnRuV2l0aEhhbmRsZXJzID0gYWRkU29jaWFsQnRuIGFzIEVsZW1lbnRXaXRoSGFuZGxlcnM7XHJcblx0XHRcdGlmIChhZGRTb2NpYWxCdG5XaXRoSGFuZGxlcnMuX2NsaWNrSGFuZGxlcikge1xyXG5cdFx0XHRcdGFkZFNvY2lhbEJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFNvY2lhbEJ0bldpdGhIYW5kbGVycy5fY2xpY2tIYW5kbGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhZGRTb2NpYWxCdG5XaXRoSGFuZGxlcnMuX2NsaWNrSGFuZGxlciA9IGFkZFNvY2lhbEhhbmRsZXI7XHJcblx0XHRcdGFkZFNvY2lhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFNvY2lhbEhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJlbW92ZSBidXR0b25zIGFuZCBhZGQgY2hpbGQgLSB3b3JrIHdpdGggc2VsZWN0ZWQgbmF2aWdhdGlvblxyXG5cdFx0Ly8gVXNlIGV2ZW50IGRlbGVnYXRpb24gdG8gcHJldmVudCBkdXBsaWNhdGUgaGFuZGxlcnNcclxuXHRcdGNvbnN0IHJlbW92ZUhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtcmVtb3ZlJykpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjb25zdCBpbmRleCA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdGNvbnN0IGlzUGFnZSA9IHRhcmdldC5jbG9zZXN0KCcjcGFnZXMtbGlzdCcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIChpc1BhZ2UpIHtcclxuXHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24uc29jaWFsLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHRcdH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWNoaWxkLXJlbW92ZScpKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Y29uc3QgcGFyZW50SW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRjb25zdCBjaGlsZEluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jaGlsZC1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4pIHtcclxuXHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0aWYgKHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdGRlbGV0ZSBzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gSGlkZSBjaGlsZHJlbiBjb250YWluZXIgaWYgbm8gY2hpbGRyZW4gbGVmdFxyXG5cdFx0XHRcdFx0Y29uc3QgbmF2SXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWl0ZW0nKTtcclxuXHRcdFx0XHRcdGNvbnN0IGNoaWxkcmVuQ29udGFpbmVyID0gbmF2SXRlbT8ucXVlcnlTZWxlY3RvcignLm5hdi1jaGlsZHJlbi1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XHJcblx0XHRcdFx0XHRpZiAoY2hpbGRyZW5Db250YWluZXIgJiYgKCFzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuIHx8IHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4ubGVuZ3RoID09PSAwKSkge1xyXG5cdFx0XHRcdFx0XHRjaGlsZHJlbkNvbnRhaW5lci5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtYWRkLWNoaWxkJykpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjb25zdCBpbmRleCA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmICghc3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS5jaGlsZHJlbikge1xyXG5cdFx0XHRcdFx0c3RhdGUuc2VsZWN0ZWROYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXNbaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB0aXRsZTogJ05ldyBDaGlsZCcsIHVybDogJy9uZXctY2hpbGQnIH0pO1xyXG5cdFx0XHRcdC8vIFNob3cgdGhlIGNoaWxkcmVuIGNvbnRhaW5lciBpZiBpdCB3YXMgaGlkZGVuXHJcblx0XHRcdFx0Y29uc3QgbmF2SXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWl0ZW0nKTtcclxuXHRcdFx0XHRjb25zdCBjaGlsZHJlbkNvbnRhaW5lciA9IG5hdkl0ZW0/LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtY2hpbGRyZW4tY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0aWYgKGNoaWxkcmVuQ29udGFpbmVyKSB7XHJcblx0XHRcdFx0XHRjaGlsZHJlbkNvbnRhaW5lci5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdibG9jaycgfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8vIFJlbW92ZSBvbGQgaGFuZGxlciBpZiBleGlzdHNcclxuXHRcdGNvbnN0IGNvbnRhaW5lcldpdGhIYW5kbGVycyA9IGNvbnRhaW5lciBhcyBFbGVtZW50V2l0aEhhbmRsZXJzO1xyXG5cdFx0aWYgKGNvbnRhaW5lcldpdGhIYW5kbGVycy5fcmVtb3ZlSGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb250YWluZXJXaXRoSGFuZGxlcnMuX3JlbW92ZUhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cdFx0Y29udGFpbmVyV2l0aEhhbmRsZXJzLl9yZW1vdmVIYW5kbGVyID0gcmVtb3ZlSGFuZGxlcjtcclxuXHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xyXG5cclxuXHRcdC8vIERyYWcgYW5kIGRyb3AgZnVuY3Rpb25hbGl0eVxyXG5cdFx0dGhpcy5zZXR1cERyYWdBbmREcm9wKGNvbnRhaW5lcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldHVwRHJhZ0FuZERyb3AoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRsZXQgZHJhZ2dlZEVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGhhbmRsZXJzXHJcblx0XHRjb25zdCBkcmFnU3RhcnRIYW5kbGVyID0gKGU6IERyYWdFdmVudCkgPT4ge1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1pdGVtJykpIHtcclxuXHRcdFx0XHRkcmFnZ2VkRWxlbWVudCA9IHRhcmdldDtcclxuXHRcdFx0XHR0YXJnZXQuc2V0Q3NzUHJvcHMoeyBvcGFjaXR5OiAnMC41JyB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBkcmFnRW5kSGFuZGxlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtaXRlbScpKSB7XHJcblx0XHRcdFx0dGFyZ2V0LnNldENzc1Byb3BzKHsgb3BhY2l0eTogJzEnIH0pO1xyXG5cdFx0XHRcdGRyYWdnZWRFbGVtZW50ID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBkcmFnT3ZlckhhbmRsZXIgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtaXRlbScpICYmIGRyYWdnZWRFbGVtZW50ICYmIHRhcmdldCAhPT0gZHJhZ2dlZEVsZW1lbnQpIHtcclxuXHRcdFx0XHRjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdFx0XHRcdGNvbnN0IG1pZHBvaW50ID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGUuY2xpZW50WSA8IG1pZHBvaW50KSB7XHJcblx0XHRcdFx0XHR0YXJnZXQuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0XHRib3JkZXJUb3A6ICcycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KScsXHJcblx0XHRcdFx0XHRcdGJvcmRlckJvdHRvbTogJ25vbmUnXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGFyZ2V0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdFx0Ym9yZGVyQm90dG9tOiAnMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCknLFxyXG5cdFx0XHRcdFx0XHRib3JkZXJUb3A6ICdub25lJ1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGRyYWdMZWF2ZUhhbmRsZXIgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWl0ZW0nKSkge1xyXG5cdFx0XHRcdHRhcmdldC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0XHRib3JkZXJUb3A6ICdub25lJyxcclxuXHRcdFx0XHRcdGJvcmRlckJvdHRvbTogJ25vbmUnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgZHJvcEhhbmRsZXIgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWl0ZW0nKSAmJiBkcmFnZ2VkRWxlbWVudCkge1xyXG5cdFx0XHRcdGNvbnN0IHRhcmdldEluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0Y29uc3QgZHJhZ2dlZEluZGV4ID0gcGFyc2VJbnQoZHJhZ2dlZEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRjb25zdCBpc1BhZ2UgPSB0YXJnZXQuY2xvc2VzdCgnI3BhZ2VzLWxpc3QnKTtcclxuXHRcdFx0XHRjb25zdCBpc1NvY2lhbCA9IHRhcmdldC5jbG9zZXN0KCcjc29jaWFsLWxpc3QnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBDbGVhciB2aXN1YWwgaW5kaWNhdG9yc1xyXG5cdFx0XHRcdHRhcmdldC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0XHRib3JkZXJUb3A6ICdub25lJyxcclxuXHRcdFx0XHRcdGJvcmRlckJvdHRvbTogJ25vbmUnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKHRhcmdldEluZGV4ICE9PSBkcmFnZ2VkSW5kZXgpIHtcclxuXHRcdFx0XHRcdGlmIChpc1BhZ2UpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZHJhZ2dlZEl0ZW0gPSBzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24ucGFnZXMuc3BsaWNlKGRyYWdnZWRJbmRleCwgMSlbMF07XHJcblx0XHRcdFx0XHRcdHN0YXRlLnNlbGVjdGVkTmF2aWdhdGlvbi5wYWdlcy5zcGxpY2UodGFyZ2V0SW5kZXgsIDAsIGRyYWdnZWRJdGVtKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaXNTb2NpYWwpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZHJhZ2dlZEl0ZW0gPSBzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24uc29jaWFsLnNwbGljZShkcmFnZ2VkSW5kZXgsIDEpWzBdO1xyXG5cdFx0XHRcdFx0XHRzdGF0ZS5zZWxlY3RlZE5hdmlnYXRpb24uc29jaWFsLnNwbGljZSh0YXJnZXRJbmRleCwgMCwgZHJhZ2dlZEl0ZW0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIG9sZCBoYW5kbGVycyBpZiB0aGV5IGV4aXN0XHJcblx0XHRjb25zdCBjb250YWluZXJXaXRoSGFuZGxlcnMgPSBjb250YWluZXIgYXMgRWxlbWVudFdpdGhIYW5kbGVycztcclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdTdGFydEhhbmRsZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ1N0YXJ0SGFuZGxlcik7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnRW5kSGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ0VuZEhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ092ZXJIYW5kbGVyKSB7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ092ZXJIYW5kbGVyKTtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdMZWF2ZUhhbmRsZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ0xlYXZlSGFuZGxlcik7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcm9wSGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJvcEhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFN0b3JlIGhhbmRsZXJzIGZvciBsYXRlciByZW1vdmFsXHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdTdGFydEhhbmRsZXIgPSBkcmFnU3RhcnRIYW5kbGVyO1xyXG5cdFx0Y29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnRW5kSGFuZGxlciA9IGRyYWdFbmRIYW5kbGVyO1xyXG5cdFx0Y29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnT3ZlckhhbmRsZXIgPSBkcmFnT3ZlckhhbmRsZXI7XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdMZWF2ZUhhbmRsZXIgPSBkcmFnTGVhdmVIYW5kbGVyO1xyXG5cdFx0Y29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcm9wSGFuZGxlciA9IGRyb3BIYW5kbGVyO1xyXG5cclxuXHRcdC8vIEFkZCBuZXcgaGFuZGxlcnNcclxuXHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBkcmFnU3RhcnRIYW5kbGVyKTtcclxuXHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgZHJhZ0VuZEhhbmRsZXIpO1xyXG5cdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZHJhZ092ZXJIYW5kbGVyKTtcclxuXHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBkcmFnTGVhdmVIYW5kbGVyKTtcclxuXHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZHJvcEhhbmRsZXIpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQmFzZVdpemFyZFN0ZXAgfSBmcm9tICcuL0Jhc2VXaXphcmRTdGVwJztcclxuaW1wb3J0IHsgU2V0dGluZywgVG9nZ2xlQ29tcG9uZW50LCBUZXh0Q29tcG9uZW50LCBEcm9wZG93bkNvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgV2l6YXJkU3RhdGUgfSBmcm9tICcuL1dpemFyZFN0YXRlJztcclxuaW1wb3J0IHsgUHJvZmlsZVBpY3R1cmVTZXR0aW5ncywgQ29tbWVudHNTZXR0aW5ncyB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25hbEZlYXR1cmVzU3RlcCBleHRlbmRzIEJhc2VXaXphcmRTdGVwIHtcclxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZlYXR1cmVzU2VsZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignZmVhdHVyZXMtc2VsZWN0aW9uJyk7XHJcblx0XHRmZWF0dXJlc1NlbGVjdGlvbi5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdPcHRpb25hbCBmZWF0dXJlcycgfSk7XHJcblx0XHRmZWF0dXJlc1NlbGVjdGlvbi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0VuYWJsZSBvciBkaXNhYmxlIHNwZWNpZmljIGZlYXR1cmVzIGZvciB5b3VyIHNpdGUuJyB9KTtcclxuXHJcblx0XHQvLyBDcmVhdGUgdGhlIGZlYXR1cmVzIGxpc3QgY29udGFpbmVyXHJcblx0XHRjb25zdCBmZWF0dXJlc0xpc3QgPSBmZWF0dXJlc1NlbGVjdGlvbi5jcmVhdGVEaXYoJ2ZlYXR1cmVzLWxpc3QnKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVuZGVyIHByb2ZpbGUgcGljdHVyZSBmZWF0dXJlIHVzaW5nIG5hdGl2ZSBjb21wb25lbnRzXHJcblx0XHR0aGlzLnJlbmRlclByb2ZpbGVQaWN0dXJlRmVhdHVyZU5hdGl2ZShmZWF0dXJlc0xpc3QsIHN0YXRlKTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVuZGVyIGNvbW1lbnRzIGZlYXR1cmUgdXNpbmcgbmF0aXZlIGNvbXBvbmVudHMgIFxyXG5cdFx0dGhpcy5yZW5kZXJDb21tZW50c0ZlYXR1cmVOYXRpdmUoZmVhdHVyZXNMaXN0LCBzdGF0ZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlclByb2ZpbGVQaWN0dXJlRmVhdHVyZU5hdGl2ZShjb250YWluZXI6IEhUTUxFbGVtZW50LCBzdGF0ZTogV2l6YXJkU3RhdGUpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGlzRW5hYmxlZCA9IHN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LmVuYWJsZWQgfHwgZmFsc2U7XHJcblx0XHRjb25zdCBwcm9maWxlU2V0dGluZ3MgPSBzdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlIHx8IHtcclxuXHRcdFx0ZW5hYmxlZDogZmFsc2UsIGltYWdlOiAnL3Byb2ZpbGUuanBnJywgYWx0OiAnUHJvZmlsZSBwaWN0dXJlJywgc2l6ZTogJ21kJyxcclxuXHRcdFx0dXJsOiAnJywgcGxhY2VtZW50OiAnZm9vdGVyJywgc3R5bGU6ICdjaXJjbGUnXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIE1haW4gdG9nZ2xlXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXIpXHJcblx0XHRcdC5zZXROYW1lKCdQcm9maWxlIHBpY3R1cmUnKVxyXG5cdFx0XHQuc2V0RGVzYygnU2hvdyBwcm9maWxlIHBpY3R1cmUgaW4gaGVhZGVyIG9yIGZvb3RlcicpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZTogVG9nZ2xlQ29tcG9uZW50KSA9PiB0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUoaXNFbmFibGVkKVxyXG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWU6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHRcdC8vIEdldCBmcmVzaCBzdGF0ZSB0byBhdm9pZCBzdGFsZSBjbG9zdXJlIGlzc3Vlc1xyXG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHRcdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkRmVhdHVyZXM6IHsgLi4uY3VycmVudFN0YXRlLnNlbGVjdGVkRmVhdHVyZXMsIHByb2ZpbGVQaWN0dXJlOiB2YWx1ZSB9LFxyXG5cdFx0XHRcdFx0XHRzZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM6IHtcclxuXHRcdFx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzLFxyXG5cdFx0XHRcdFx0XHRcdHByb2ZpbGVQaWN0dXJlOiB7IC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LnByb2ZpbGVQaWN0dXJlLCBlbmFibGVkOiB2YWx1ZSB9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Ly8gU2hvdy9oaWRlIG9wdGlvbnNcclxuXHRcdFx0XHRcdGNvbnN0IG9wdGlvbnNEaXYgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtcGljdHVyZS1vcHRpb25zJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRpZiAob3B0aW9uc0Rpdikgb3B0aW9uc0Rpdi5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gT3B0aW9ucyBjb250YWluZXJcclxuXHRcdGNvbnN0IG9wdGlvbnNDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdwcm9maWxlLXBpY3R1cmUtb3B0aW9ucycpO1xyXG5cdFx0b3B0aW9uc0NvbnRhaW5lci5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IGlzRW5hYmxlZCA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRvcHRpb25zQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdwcm9maWxlLXBpY3R1cmUtb3B0aW9ucyc7XHJcblxyXG5cdFx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBzZXR0aW5nc1xyXG5cdFx0Y29uc3QgY3JlYXRlU2V0dGluZyA9IChuYW1lOiBrZXlvZiBQcm9maWxlUGljdHVyZVNldHRpbmdzLCBkZXNjOiBzdHJpbmcsIHR5cGU6ICd0ZXh0JyB8ICdkcm9wZG93bicsIG9wdGlvbnM/OiBBcnJheTx7dmFsdWU6IHN0cmluZywgbGFiZWw6IHN0cmluZ30+KSA9PiB7XHJcblx0XHRcdGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhvcHRpb25zQ29udGFpbmVyKS5zZXROYW1lKG5hbWUpLnNldERlc2MoZGVzYyk7XHJcblx0XHRcdGlmICh0eXBlID09PSAndGV4dCcpIHtcclxuXHRcdFx0XHRzZXR0aW5nLmFkZFRleHQoKHRleHQ6IFRleHRDb21wb25lbnQpID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShTdHJpbmcocHJvZmlsZVNldHRpbmdzW25hbWVdID8/ICcnKSlcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihvcHRpb25zPy5bMF0/LnZhbHVlIHx8ICcnKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy51cGRhdGVQcm9maWxlU2V0dGluZyhuYW1lLCB2YWx1ZSwgc3RhdGUpO1xyXG5cdFx0XHRcdFx0fSkpOyBcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZXR0aW5nLmFkZERyb3Bkb3duKChkcm9wZG93bjogRHJvcGRvd25Db21wb25lbnQpID0+IHtcclxuXHRcdFx0XHRcdGlmIChvcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdGZvciAoY29uc3Qgb3B0IG9mIG9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24ob3B0LnZhbHVlLCBvcHQubGFiZWwpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShTdHJpbmcocHJvZmlsZVNldHRpbmdzW25hbWVdID8/ICcnKSlcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLnVwZGF0ZVByb2ZpbGVTZXR0aW5nKG5hbWUsIHZhbHVlLCBzdGF0ZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIENyZWF0ZSBhbGwgc2V0dGluZ3NcclxuXHRcdGNyZWF0ZVNldHRpbmcoJ2ltYWdlJywgJ0ltYWdlIHBhdGgnLCAndGV4dCcsIFt7dmFsdWU6ICcvcHJvZmlsZS5qcGcnLCBsYWJlbDogJy9wcm9maWxlLmpwZyd9XSk7XHJcblx0XHRjcmVhdGVTZXR0aW5nKCdhbHQnLCAnQWx0IHRleHQnLCAndGV4dCcsIFt7dmFsdWU6ICdQcm9maWxlIHBpY3R1cmUnLCBsYWJlbDogJ1Byb2ZpbGUgcGljdHVyZSd9XSk7XHJcblx0XHRjcmVhdGVTZXR0aW5nKCdzaXplJywgJ1NpemUnLCAnZHJvcGRvd24nLCBbXHJcblx0XHRcdHt2YWx1ZTogJ3NtJywgbGFiZWw6ICdTbWFsbCd9LCB7dmFsdWU6ICdtZCcsIGxhYmVsOiAnTWVkaXVtJ30sIHt2YWx1ZTogJ2xnJywgbGFiZWw6ICdMYXJnZSd9XHJcblx0XHRdKTtcclxuXHRcdGNyZWF0ZVNldHRpbmcoJ3VybCcsICdVUkwgKG9wdGlvbmFsKScsICd0ZXh0JywgW3t2YWx1ZTogJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCBsYWJlbDogJ2h0dHBzOi8vZXhhbXBsZS5jb20nfV0pO1xyXG5cdFx0Y3JlYXRlU2V0dGluZygncGxhY2VtZW50JywgJ1BsYWNlbWVudCcsICdkcm9wZG93bicsIFtcclxuXHRcdFx0e3ZhbHVlOiAnZm9vdGVyJywgbGFiZWw6ICdGb290ZXInfSwge3ZhbHVlOiAnaGVhZGVyJywgbGFiZWw6ICdIZWFkZXInfVxyXG5cdFx0XSk7XHJcblx0XHRjcmVhdGVTZXR0aW5nKCdzdHlsZScsICdTdHlsZScsICdkcm9wZG93bicsIFtcclxuXHRcdFx0e3ZhbHVlOiAnY2lyY2xlJywgbGFiZWw6ICdDaXJjbGUnfSwge3ZhbHVlOiAnc3F1YXJlJywgbGFiZWw6ICdTcXVhcmUnfSwge3ZhbHVlOiAnbm9uZScsIGxhYmVsOiAnTm9uZSd9XHJcblx0XHRdKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlUHJvZmlsZVNldHRpbmcoa2V5OiBrZXlvZiBQcm9maWxlUGljdHVyZVNldHRpbmdzLCB2YWx1ZTogc3RyaW5nLCBzdGF0ZTogV2l6YXJkU3RhdGUpOiB2b2lkIHtcclxuXHRcdC8vIEdldCBmcmVzaCBzdGF0ZSB0byBhdm9pZCBzdGFsZSBjbG9zdXJlIGlzc3Vlc1xyXG5cdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0dGhpcy51cGRhdGVTdGF0ZSh7XHJcblx0XHRcdHNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlczoge1xyXG5cdFx0XHRcdC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXMsXHJcblx0XHRcdFx0cHJvZmlsZVBpY3R1cmU6IHsgLi4uY3VycmVudFN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmUsIFtrZXldOiB2YWx1ZSB9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW5kZXJDb21tZW50c0ZlYXR1cmVOYXRpdmUoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgc3RhdGU6IFdpemFyZFN0YXRlKTogdm9pZCB7XHJcblx0XHRjb25zdCBpc0VuYWJsZWQgPSBzdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkIHx8IGZhbHNlO1xyXG5cdFx0Y29uc3QgY29tbWVudHNTZXR0aW5ncyA9IHN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwge1xyXG5cdFx0XHRlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByYXdTY3JpcHQ6ICcnLFxyXG5cdFx0XHRyZXBvOiAnZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyJywgcmVwb0lkOiAnUl9rZ0RPUGxsZkt3JywgXHJcblx0XHRcdGNhdGVnb3J5OiAnR2VuZXJhbCcsIGNhdGVnb3J5SWQ6ICdESUNfa3dET1BsbGZLODRDdlVweCcsXHJcblx0XHRcdG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJyxcclxuXHRcdFx0aW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5J1xyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0Ly8gTWFpbiB0b2dnbGVcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcclxuXHRcdFx0LnNldE5hbWUoJ0NvbW1lbnRzJylcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZSAtLSBcIkdpc2N1c1wiIGlzIGEgcHJvcGVyIG5vdW5cclxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBHaXNjdXMgY29tbWVudCBzeXN0ZW0gZm9yIHBvc3RzJylcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlOiBUb2dnbGVDb21wb25lbnQpID0+IHtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUoaXNFbmFibGVkKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogYm9vbGVhbikgPT4ge1xyXG5cdFx0XHRcdFx0XHQvLyBHZXQgZnJlc2ggc3RhdGUgdG8gYXZvaWQgc3RhbGUgY2xvc3VyZSBpc3N1ZXNcclxuXHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZEZlYXR1cmVzOiB7IC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZEZlYXR1cmVzLCBjb21tZW50czogdmFsdWUgfSxcclxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM6IHtcclxuXHRcdFx0XHRcdFx0XHRcdC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXMsXHJcblx0XHRcdFx0XHRcdFx0XHRjb21tZW50czogeyAuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cywgZW5hYmxlZDogdmFsdWUgfVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG9wdGlvbnNEaXYgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNvbW1lbnRzLW9wdGlvbnMnKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnNEaXYpIG9wdGlvbnNEaXYuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gT3B0aW9ucyBjb250YWluZXJcclxuXHRcdGNvbnN0IG9wdGlvbnNDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdjb21tZW50cy1vcHRpb25zJyk7XHJcblx0XHRvcHRpb25zQ29udGFpbmVyLnNldENzc1Byb3BzKHsgZGlzcGxheTogaXNFbmFibGVkID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdG9wdGlvbnNDb250YWluZXIuY2xhc3NOYW1lID0gJ2NvbW1lbnRzLW9wdGlvbnMnO1xyXG5cclxuXHRcdC8vIEluc3RydWN0aW9uc1xyXG5cdFx0Y29uc3QgaW5zdHJ1Y3Rpb25zRGl2ID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbW1lbnRzLWluc3RydWN0aW9ucycpO1xyXG5cdFx0aW5zdHJ1Y3Rpb25zRGl2LnNldENzc1Byb3BzKHtcclxuXHRcdFx0bWFyZ2luQm90dG9tOiAnMTVweCcsXHJcblx0XHRcdHBhZGRpbmc6ICcxMHB4JyxcclxuXHRcdFx0YmFja2dyb3VuZDogJ3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKScsXHJcblx0XHRcdGJvcmRlclJhZGl1czogJzRweCcsXHJcblx0XHRcdGJvcmRlckxlZnQ6ICczcHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSdcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpbnN0cnVjdGlvbnNUZXh0ID0gaW5zdHJ1Y3Rpb25zRGl2LmNyZWF0ZUVsKCdwJyk7XHJcblx0XHRpbnN0cnVjdGlvbnNUZXh0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0bWFyZ2luOiAnMCcsXHJcblx0XHRcdGZvbnRTaXplOiAnMTNweCcsXHJcblx0XHRcdGNvbG9yOiAndmFyKC0tdGV4dC1tdXRlZCknLFxyXG5cdFx0XHR3aGl0ZVNwYWNlOiAncHJlLWxpbmUnXHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Ly8gQ3JlYXRlIHRoZSB0ZXh0IHdpdGggcHJvcGVyIGxpbmsgcGxhY2VtZW50XHJcblx0XHRpbnN0cnVjdGlvbnNUZXh0LmFwcGVuZFRleHQoJzEuIEdvIHRvICcpO1xyXG5cdFx0Y29uc3QgZ2lzY3VzTGluayA9IGluc3RydWN0aW9uc1RleHQuY3JlYXRlRWwoJ2EnLCB7XHJcblx0XHRcdGhyZWY6ICdodHRwczovL2dpc2N1cy5hcHAvJyxcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZSAtLSBVUkwgc2hvdWxkIHJlbWFpbiBsb3dlcmNhc2VcclxuXHRcdFx0dGV4dDogJ2dpc2N1cy5hcHAnLFxyXG5cdFx0XHRhdHRyOiB7XHJcblx0XHRcdFx0dGFyZ2V0OiAnX2JsYW5rJyxcclxuXHRcdFx0XHRyZWw6ICdub29wZW5lciBub3JlZmVycmVyJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdGdpc2N1c0xpbmsuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRjb2xvcjogJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknLFxyXG5cdFx0XHR0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXHJcblx0XHR9KTtcclxuXHRcdGluc3RydWN0aW9uc1RleHQuYXBwZW5kVGV4dCgnIGFuZCBjb25maWd1cmUgeW91ciBjb21tZW50c1xcbjIuIENvcHkgdGhlIGdlbmVyYXRlZCBzY3JpcHRcXG4zLiBQYXN0ZSBpdCBiZWxvdycpO1xyXG5cdFx0XHJcblx0XHQvLyBBZGQgaG92ZXIgZWZmZWN0cyB0byB0aGUgbGlua1xyXG5cdFx0Z2lzY3VzTGluay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xyXG5cdFx0XHRnaXNjdXNMaW5rLnNldENzc1Byb3BzKHsgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnIH0pO1xyXG5cdFx0fSk7XHJcblx0XHRnaXNjdXNMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcblx0XHRcdGdpc2N1c0xpbmsuc2V0Q3NzUHJvcHMoeyB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnIH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gU2NyaXB0IHRleHRhcmVhXHJcblx0XHRjb25zdCBzY3JpcHRTZXR0aW5nID0gbmV3IFNldHRpbmcob3B0aW9uc0NvbnRhaW5lcilcclxuXHRcdFx0LnNldE5hbWUoJ0dpc2N1cyBzY3JpcHQnKVxyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlIC0tIFwiR2lzY3VzXCIgaXMgYSBwcm9wZXIgbm91blxyXG5cdFx0XHQuc2V0RGVzYygnUGFzdGUgeW91ciBHaXNjdXMgc2NyaXB0IGhlcmUgKHRoZSBwbHVnaW4gd2lsbCBhdXRvbWF0aWNhbGx5IHBhcnNlIGFsbCBzZXR0aW5ncyknKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGV4dGFyZWEgPSBzY3JpcHRTZXR0aW5nLmNvbnRyb2xFbC5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XHJcblx0XHRcdGF0dHI6IHtcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogYDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9naXNjdXMuYXBwL2NsaWVudC5qc1wiXHJcbiAgICAgICAgZGF0YS1yZXBvPVwiZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyXCJcclxuICAgICAgICBkYXRhLXJlcG8taWQ9XCJSX2tnRE9QbGxmS3dcIlxyXG4gICAgICAgIGRhdGEtY2F0ZWdvcnk9XCJHZW5lcmFsXCJcclxuICAgICAgICBkYXRhLWNhdGVnb3J5LWlkPVwiRElDX2t3RE9QbGxmSzg0Q3ZVcHhcIlxyXG4gICAgICAgIGRhdGEtbWFwcGluZz1cInBhdGhuYW1lXCJcclxuICAgICAgICBkYXRhLXN0cmljdD1cIjBcIlxyXG4gICAgICAgIGRhdGEtcmVhY3Rpb25zLWVuYWJsZWQ9XCIxXCJcclxuICAgICAgICBkYXRhLWVtaXQtbWV0YWRhdGE9XCIwXCJcclxuICAgICAgICBkYXRhLWlucHV0LXBvc2l0aW9uPVwiYm90dG9tXCJcclxuICAgICAgICBkYXRhLXRoZW1lPVwicHJlZmVycmVkX2NvbG9yX3NjaGVtZVwiXHJcbiAgICAgICAgZGF0YS1sYW5nPVwiZW5cIlxyXG4gICAgICAgIGRhdGEtbG9hZGluZz1cImxhenlcIlxyXG4gICAgICAgIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCJcclxuICAgICAgICBhc3luYz5cclxuPC9zY3JpcHQ+YCxcclxuXHRcdFx0XHRyb3dzOiAnOCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdHRleHRhcmVhLnNldENzc1Byb3BzKHtcclxuXHRcdFx0d2lkdGg6ICcxMDAlJyxcclxuXHRcdFx0Zm9udEZhbWlseTogJ3ZhcigtLWZvbnQtbW9ub3NwYWNlKScsXHJcblx0XHRcdGZvbnRTaXplOiAnMTJweCcsXHJcblx0XHRcdHBhZGRpbmc6ICc4cHgnLFxyXG5cdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJyxcclxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAnNHB4JyxcclxuXHRcdFx0YmFja2dyb3VuZDogJ3ZhcigtLWJhY2tncm91bmQtcHJpbWFyeSknLFxyXG5cdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtbm9ybWFsKScsXHJcblx0XHRcdHJlc2l6ZTogJ25vbmUnXHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Ly8gU2V0IGN1cnJlbnQgdmFsdWVcclxuXHRcdHRleHRhcmVhLnZhbHVlID0gY29tbWVudHNTZXR0aW5ncy5yYXdTY3JpcHQgfHwgJyc7XHJcblx0XHRcclxuXHRcdC8vIFZhbGlkYXRpb24gYW5kIHBhcnNpbmdcclxuXHRcdGNvbnN0IHZhbGlkYXRpb25EaXYgPSBvcHRpb25zQ29udGFpbmVyLmNyZWF0ZURpdignc2NyaXB0LXZhbGlkYXRpb24nKTtcclxuXHRcdHZhbGlkYXRpb25EaXYuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRtYXJnaW5Ub3A6ICc4cHgnLFxyXG5cdFx0XHRmb250U2l6ZTogJzEycHgnXHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdXBkYXRlVmFsaWRhdGlvbiA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0Y29uc3Qgc2NyaXB0Q29udGVudCA9IHRleHRhcmVhLnZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmICghc2NyaXB0Q29udGVudCkge1xyXG5cdFx0XHRcdHZhbGlkYXRpb25EaXYuZW1wdHkoKTtcclxuXHRcdFx0XHQvLyBDbGVhciBhbGwgY29tbWVudCBzZXR0aW5ncyB3aGVuIHNjcmlwdCBpcyBkZWxldGVkLCBidXQgcHJlc2VydmUgZW5hYmxlZCBzdGF0ZVxyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50RW5hYmxlZCA9IGN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkID8/IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGUoe1xyXG5cdFx0XHRcdFx0c2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzOiB7XHJcblx0XHRcdFx0XHRcdC4uLmN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXMsXHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzOiB7XHJcblx0XHRcdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMsXHJcblx0XHRcdFx0XHRcdFx0cmF3U2NyaXB0OiAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZXBvOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZXBvSWQ6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdGNhdGVnb3J5OiAnJyxcclxuXHRcdFx0XHRcdFx0XHRjYXRlZ29yeUlkOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRtYXBwaW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRzdHJpY3Q6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHJlYWN0aW9uczogJycsXHJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdGlucHV0UG9zaXRpb246ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHRoZW1lOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRsYW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRsb2FkaW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRlbmFibGVkOiBjdXJyZW50RW5hYmxlZCAvLyBQcmVzZXJ2ZSBlbmFibGVkIHN0YXRlXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIEltcG9ydCB0aGUgcGFyc2VyIGR5bmFtaWNhbGx5XHJcblx0XHRcdGNvbnN0IHsgR2lzY3VzU2NyaXB0UGFyc2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL0dpc2N1c1NjcmlwdFBhcnNlcicpO1xyXG5cdFx0XHRjb25zdCB2YWxpZGF0aW9uID0gR2lzY3VzU2NyaXB0UGFyc2VyLnZhbGlkYXRlU2NyaXB0KHNjcmlwdENvbnRlbnQpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHZhbGlkYXRpb24udmFsaWQpIHtcclxuXHRcdFx0XHR2YWxpZGF0aW9uRGl2LmVtcHR5KCk7XHJcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiR2lzY3VzXCIgaXMgYSBwcm9wZXIgbm91biAoc2VydmljZSBuYW1lKVxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRjb25zdCBzdWNjZXNzU3BhbiA9IHZhbGlkYXRpb25EaXYuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6ICdcdTI3MTMgVmFsaWQgR2lzY3VzIHNjcmlwdCBkZXRlY3RlZCcgfSk7XHJcblx0XHRcdFx0c3VjY2Vzc1NwYW4uc2V0Q3NzUHJvcHMoeyBjb2xvcjogJ3ZhcigtLXRleHQtc3VjY2VzcyknIH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIFBhcnNlIGFuZCB1cGRhdGUgc2NyaXB0IHNldHRpbmdzIHdpdGhvdXQgZm9yY2luZyBjb21tZW50cyB0byBiZSBlbmFibGVkXHJcblx0XHRcdFx0Y29uc3QgcGFyc2VkID0gR2lzY3VzU2NyaXB0UGFyc2VyLnBhcnNlU2NyaXB0KHNjcmlwdENvbnRlbnQpO1xyXG5cdFx0XHRcdGlmIChwYXJzZWQpIHtcclxuXHRcdFx0XHRcdC8vIEdldCB0aGUgY3VycmVudCBlbmFibGVkIHN0YXRlIHRvIHByZXNlcnZlIGl0XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50RW5hYmxlZCA9IGN1cnJlbnRTdGF0ZS5zZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkID8/IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBVcGRhdGUgc2NyaXB0IGRhdGEgYnV0IHByZXNlcnZlIHRoZSBjdXJyZW50IGVuYWJsZWQgc3RhdGVcclxuXHRcdFx0XHRcdHRoaXMudXBkYXRlU3RhdGUoe1xyXG5cdFx0XHRcdFx0XHRzZWxlY3RlZE9wdGlvbmFsRmVhdHVyZXM6IHtcclxuXHRcdFx0XHRcdFx0XHQuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzLFxyXG5cdFx0XHRcdFx0XHRcdGNvbW1lbnRzOiB7IFxyXG5cdFx0XHRcdFx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMsIFxyXG5cdFx0XHRcdFx0XHRcdFx0cmF3U2NyaXB0OiBzY3JpcHRDb250ZW50LFxyXG5cdFx0XHRcdFx0XHRcdFx0cmVwbzogcGFyc2VkLnJlcG8sXHJcblx0XHRcdFx0XHRcdFx0XHRyZXBvSWQ6IHBhcnNlZC5yZXBvSWQsXHJcblx0XHRcdFx0XHRcdFx0XHRjYXRlZ29yeTogcGFyc2VkLmNhdGVnb3J5LFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2F0ZWdvcnlJZDogcGFyc2VkLmNhdGVnb3J5SWQsXHJcblx0XHRcdFx0XHRcdFx0XHRtYXBwaW5nOiBwYXJzZWQubWFwcGluZyxcclxuXHRcdFx0XHRcdFx0XHRcdHN0cmljdDogcGFyc2VkLnN0cmljdCxcclxuXHRcdFx0XHRcdFx0XHRcdHJlYWN0aW9uczogcGFyc2VkLnJlYWN0aW9ucyxcclxuXHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBwYXJzZWQubWV0YWRhdGEsXHJcblx0XHRcdFx0XHRcdFx0XHRpbnB1dFBvc2l0aW9uOiBwYXJzZWQuaW5wdXRQb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdHRoZW1lOiBwYXJzZWQudGhlbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRsYW5nOiBwYXJzZWQubGFuZyxcclxuXHRcdFx0XHRcdFx0XHRcdGxvYWRpbmc6IHBhcnNlZC5sb2FkaW5nLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogY3VycmVudEVuYWJsZWQgLy8gUHJlc2VydmUgZW5hYmxlZCBzdGF0ZVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIERvbid0IGZvcmNlIHRoZSB0b2dnbGUgLSBsZXQgdGhlIHVzZXIgZGVjaWRlIHdoZXRoZXIgdG8gZW5hYmxlIGNvbW1lbnRzXHJcblx0XHRcdFx0XHQvLyBUaGUgdG9nZ2xlIHNob3VsZCByZWZsZWN0IHRoZSBjdXJyZW50IHN0YXRlLCBub3QgYmUgZm9yY2VkIHRvIHRydWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFsaWRhdGlvbkRpdi5lbXB0eSgpO1xyXG5cdFx0XHRcdGNvbnN0IGVycm9yU3BhbiA9IHZhbGlkYXRpb25EaXYuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGBcdTI3MTcgJHt2YWxpZGF0aW9uLmVycm9yfWAgfSk7XHJcblx0XHRcdFx0ZXJyb3JTcGFuLnNldENzc1Byb3BzKHsgY29sb3I6ICd2YXIoLS10ZXh0LWVycm9yKScgfSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRcclxuXHRcdHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG5cdFx0XHR2b2lkIHVwZGF0ZVZhbGlkYXRpb24oKTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBJbml0aWFsIHZhbGlkYXRpb25cclxuXHRcdHZvaWQgdXBkYXRlVmFsaWRhdGlvbigpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB1cGRhdGVDb21tZW50U2V0dGluZyhrZXk6IGtleW9mIENvbW1lbnRzU2V0dGluZ3MsIHZhbHVlOiBzdHJpbmcsIHN0YXRlOiBXaXphcmRTdGF0ZSk6IHZvaWQge1xyXG5cdFx0Ly8gR2V0IGZyZXNoIHN0YXRlIHRvIGF2b2lkIHN0YWxlIGNsb3N1cmUgaXNzdWVzXHJcblx0XHRjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcblx0XHR0aGlzLnVwZGF0ZVN0YXRlKHtcclxuXHRcdFx0c2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzOiB7XHJcblx0XHRcdFx0Li4uY3VycmVudFN0YXRlLnNlbGVjdGVkT3B0aW9uYWxGZWF0dXJlcyxcclxuXHRcdFx0XHRjb21tZW50czogeyAuLi5jdXJyZW50U3RhdGUuc2VsZWN0ZWRPcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cywgW2tleV06IHZhbHVlIH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59IiwgImltcG9ydCB7IEJhc2VXaXphcmRTdGVwIH0gZnJvbSAnLi9CYXNlV2l6YXJkU3RlcCc7XG5cbmV4cG9ydCBjbGFzcyBEZXBsb3ltZW50U3RlcCBleHRlbmRzIEJhc2VXaXphcmRTdGVwIHtcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcblx0XHRcblx0XHRjb25zdCBkZXBsb3ltZW50U2VsZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignZGVwbG95bWVudC1zZWxlY3Rpb24nKTtcblx0XHRkZXBsb3ltZW50U2VsZWN0aW9uLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0RlcGxveW1lbnQgcGxhdGZvcm0nIH0pO1xuXHRcdGRlcGxveW1lbnRTZWxlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDaG9vc2UgeW91ciBwcmVmZXJyZWQgZGVwbG95bWVudCBwbGF0Zm9ybS4nIH0pO1xuXHRcdFxuXHRcdGNvbnN0IGRlcGxveW1lbnRPcHRpb25zID0gZGVwbG95bWVudFNlbGVjdGlvbi5jcmVhdGVEaXYoJ2RlcGxveW1lbnQtb3B0aW9ucycpO1xuXHRcdFxuXHRcdGNvbnN0IGRlcGxveW1lbnRzID0gW1xuXHRcdFx0eyBpZDogJ25ldGxpZnknLCBuYW1lOiAnTmV0bGlmeScsIGRlc2M6ICdaZXJvLWNvbmZpZyBkZXBsb3ltZW50cyB3aXRoIGJ1aWx0LWluIENJL0NEIGFuZCBzZXJ2ZXJsZXNzIGZ1bmN0aW9ucy4nIH0sXG5cdFx0XHR7IGlkOiAndmVyY2VsJywgbmFtZTogJ1ZlcmNlbCcsIGRlc2M6ICdFZGdlLW9wdGltaXplZCBwbGF0Zm9ybSB3aXRoIGluc3RhbnQgZGVwbG95bWVudHMgYW5kIGdsb2JhbCBDRE4uJyB9LFxuXHRcdFx0eyBpZDogJ2dpdGh1Yi1wYWdlcycsIG5hbWU6ICdHaXRIdWIgUGFnZXMnLCBkZXNjOiAnRnJlZSBzdGF0aWMgaG9zdGluZyBpbnRlZ3JhdGVkIGRpcmVjdGx5IHdpdGggeW91ciBHaXRIdWIgcmVwb3NpdG9yeS4nIH0sXG5cdFx0XHR7IGlkOiAnY2xvdWRmbGFyZS13b3JrZXJzJywgbmFtZTogJ0Nsb3VkZmxhcmUgV29ya2VycycsIGRlc2M6ICdHbG9iYWwgZWRnZSBuZXR3b3JrIHdpdGggdW5saW1pdGVkIGJhbmR3aWR0aCBhbmQgY3VzdG9tIGhlYWRlcnMgb24gYWxsIHBsYW5zLicgfVxuXHRcdF07XG5cdFx0XG5cdFx0ZGVwbG95bWVudHMuZm9yRWFjaChkZXBsb3ltZW50ID0+IHtcblx0XHRcdGNvbnN0IG9wdGlvbiA9IGRlcGxveW1lbnRPcHRpb25zLmNyZWF0ZURpdignZGVwbG95bWVudC1vcHRpb24nKTtcblx0XHRcdGlmIChzdGF0ZS5zZWxlY3RlZERlcGxveW1lbnQgPT09IGRlcGxveW1lbnQuaWQpIHtcblx0XHRcdFx0b3B0aW9uLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuXHRcdFx0fVxuXHRcdFx0b3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kZXBsb3ltZW50JywgZGVwbG95bWVudC5pZCk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGhlYWRlciA9IG9wdGlvbi5jcmVhdGVEaXYoJ2RlcGxveW1lbnQtaGVhZGVyJyk7XG5cdFx0XHRoZWFkZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiBkZXBsb3ltZW50Lm5hbWUgfSk7XG5cdFx0XHRvcHRpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IGRlcGxveW1lbnQuZGVzYyB9KTtcblx0XHRcdFxuXHRcdFx0b3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKHsgXG5cdFx0XHRcdFx0c2VsZWN0ZWREZXBsb3ltZW50OiBkZXBsb3ltZW50LmlkIGFzICduZXRsaWZ5JyB8ICd2ZXJjZWwnIHwgJ2dpdGh1Yi1wYWdlcycgfCAnY2xvdWRmbGFyZS13b3JrZXJzJyBcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxufVxuIiwgImltcG9ydCB7IEJhc2VXaXphcmRTdGVwIH0gZnJvbSAnLi9CYXNlV2l6YXJkU3RlcCc7XG5pbXBvcnQgeyBOb3RpY2UsIHNldEljb24sIE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQXN0cm9Nb2R1bGFyUGx1Z2luLCBQbHVnaW5TdGF0dXMsIFBsdWdpbkNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBQbHVnaW5Db25maWdTdGVwIGV4dGVuZHMgQmFzZVdpemFyZFN0ZXAge1xuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xuXHRcdFxuXHRcdC8vIEdldCBwbHVnaW4gc3RhdHVzIChwYXNzIGNvbnRlbnQgb3JnIGZyb20gd2l6YXJkIHN0YXRlKVxuXHRcdGNvbnN0IGNvbnRlbnRPcmcgPSBzdGF0ZS5zZWxlY3RlZENvbnRlbnRPcmc7XG5cdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgcGx1Z2luU3RhdHVzID0gYXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikucGx1Z2luTWFuYWdlci5nZXRQbHVnaW5TdGF0dXMoY29udGVudE9yZyk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IHBsdWdpbkNvbmZpZyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3BsdWdpbi1jb25maWcnKTtcblx0XHRcdHBsdWdpbkNvbmZpZy5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdQbHVnaW4gY29uZmlndXJhdGlvbicgfSk7XG5cdFx0XHRwbHVnaW5Db25maWcuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDb25maWd1cmUgeW91ciBPYnNpZGlhbiBwbHVnaW5zIGZvciBvcHRpbWFsIGludGVncmF0aW9uLicgfSk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IHBsdWdpblN0YXR1c0RpdiA9IHBsdWdpbkNvbmZpZy5jcmVhdGVEaXYoJ3BsdWdpbi1zdGF0dXMnKTtcblx0XHRcdFxuXHRcdFx0Ly8gUmVuZGVyIGVhY2ggcGx1Z2luIHN0YXR1cyBpdGVtXG5cdFx0XHRmb3IgKGNvbnN0IHBsdWdpbiBvZiBwbHVnaW5TdGF0dXMpIHtcblx0XHRcdFx0dGhpcy5yZW5kZXJQbHVnaW5TdGF0dXNJdGVtKHBsdWdpblN0YXR1c0RpdiwgcGx1Z2luKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgY29uZmlnT3B0aW9ucyA9IHBsdWdpbkNvbmZpZy5jcmVhdGVEaXYoJ2NvbmZpZy1vcHRpb25zJyk7XG5cdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJBdXRvbWF0aWNhbGx5XCIgYW5kIFwiTWFudWFsIEluc3RydWN0aW9uc1wiIGFyZSBVSSBhY3Rpb24gbGFiZWxzXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRjb25zdCBhdXRvQnRuID0gY29uZmlnT3B0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ29uZmlndXJlIEF1dG9tYXRpY2FsbHknLCBjbHM6ICdtb2QtYnV0dG9uIG1vZC1jdGEnIH0pO1xuXHRcdFx0YXV0b0J0bi5pZCA9ICdjb25maWd1cmUtcGx1Z2lucyc7XG5cdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJNYW51YWwgSW5zdHJ1Y3Rpb25zXCIgaXMgYSBVSSBhY3Rpb24gbGFiZWxcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdGNvbnN0IG1hbnVhbEJ0biA9IGNvbmZpZ09wdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1Nob3cgTWFudWFsIEluc3RydWN0aW9ucycsIGNsczogJ21vZC1idXR0b24nIH0pO1xuXHRcdFx0bWFudWFsQnRuLmlkID0gJ3Nob3ctaW5zdHJ1Y3Rpb25zJztcblxuXHRcdFx0dGhpcy5zZXR1cEV2ZW50SGFuZGxlcnMoY29udGFpbmVyKTtcblx0XHR9KSgpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJQbHVnaW5TdGF0dXNJdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHBsdWdpbjogUGx1Z2luU3RhdHVzKTogdm9pZCB7XG5cdFx0Y29uc3QgaXNTZXR0aW5nc0NoZWNrID0gcGx1Z2luLm5hbWUgPT09ICdBdHRhY2htZW50IHNldHRpbmdzJztcblx0XHRjb25zdCBpc0NvbmZpZ3VyZWQgPSBwbHVnaW4uaW5zdGFsbGVkOyAvLyBGb3Igc2V0dGluZ3MsIGluc3RhbGxlZCBtZWFucyBjb25maWd1cmVkXG5cdFx0Y29uc3QgaGFzU3luY0lzc3VlcyA9IHBsdWdpbi5vdXRPZlN5bmNDb250ZW50VHlwZXMgJiYgcGx1Z2luLm91dE9mU3luY0NvbnRlbnRUeXBlcy5sZW5ndGggPiAwO1xuXHRcdC8vIElmIEFMTCBjb250ZW50IHR5cGVzIGFyZSBvdXQgb2Ygc3luYyAoNCBvdXQgb2YgNCksIGl0J3MgXCJEb2Vzbid0IG1hdGNoXCIsIG5vdCBcIlBhcnRpYWxseSBjb25maWd1cmVkXCJcblx0XHRjb25zdCBhbGxPdXRPZlN5bmMgPSBoYXNTeW5jSXNzdWVzICYmIHBsdWdpbi5vdXRPZlN5bmNDb250ZW50VHlwZXMgJiYgcGx1Z2luLm91dE9mU3luY0NvbnRlbnRUeXBlcy5sZW5ndGggPT09IDQ7XG5cdFx0Y29uc3QgaXNQYXJ0aWFsbHlDb25maWd1cmVkID0gaGFzU3luY0lzc3VlcyAmJiAhYWxsT3V0T2ZTeW5jICYmIHBsdWdpbi5pbnN0YWxsZWQgJiYgcGx1Z2luLmVuYWJsZWQ7XG5cdFx0Y29uc3QgYWxsTWlzbWF0Y2hlZCA9IGFsbE91dE9mU3luYyAmJiBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkO1xuXHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgSW1hZ2UgTWFuYWdlciBhbmQgc2V0dGluZ3MgZG9uJ3QgbWF0Y2hcblx0XHRjb25zdCBpc0ltYWdlTWFuYWdlciA9IHBsdWdpbi5uYW1lID09PSAnSW1hZ2UgTWFuYWdlcic7XG5cdFx0Y29uc3QgaW1hZ2VNYW5hZ2VyTWlzbWF0Y2ggPSBpc0ltYWdlTWFuYWdlciAmJiBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkICYmIHBsdWdpbi5zZXR0aW5nc01hdGNoID09PSBmYWxzZTtcblx0XHRcblx0XHQvLyBEZXRlcm1pbmUgaWYgcGx1Z2luIGlzIHByb3Blcmx5IGNvbmZpZ3VyZWQgKG5vdCBqdXN0IGVuYWJsZWQpXG5cdFx0Y29uc3QgaXNQcm9wZXJseUNvbmZpZ3VyZWQgPSBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkICYmIFxuXHRcdFx0IWltYWdlTWFuYWdlck1pc21hdGNoICYmICFhbGxNaXNtYXRjaGVkICYmICFpc1BhcnRpYWxseUNvbmZpZ3VyZWQ7XG5cdFx0XG5cdFx0Ly8gRGV0ZXJtaW5lIHN0YXR1cyB0ZXh0XG5cdFx0bGV0IHN0YXR1c1RleHQ6IHN0cmluZztcblx0XHRpZiAoaXNTZXR0aW5nc0NoZWNrKSB7XG5cdFx0XHRzdGF0dXNUZXh0ID0gaXNDb25maWd1cmVkID8gJ0NvbmZpZ3VyZWQnIDogJ0RvZXNuXFwndCBtYXRjaCc7XG5cdFx0fSBlbHNlIGlmICghcGx1Z2luLmluc3RhbGxlZCkge1xuXHRcdFx0c3RhdHVzVGV4dCA9ICdOb3QgaW5zdGFsbGVkJztcblx0XHR9IGVsc2UgaWYgKCFwbHVnaW4uZW5hYmxlZCkge1xuXHRcdFx0c3RhdHVzVGV4dCA9ICdEaXNhYmxlZCc7XG5cdFx0fSBlbHNlIGlmIChpbWFnZU1hbmFnZXJNaXNtYXRjaCB8fCBhbGxNaXNtYXRjaGVkKSB7XG5cdFx0XHRzdGF0dXNUZXh0ID0gJ0RvZXNuXFwndCBtYXRjaCc7XG5cdFx0fSBlbHNlIGlmIChpc1BhcnRpYWxseUNvbmZpZ3VyZWQpIHtcblx0XHRcdHN0YXR1c1RleHQgPSAnUGFydGlhbGx5IGNvbmZpZ3VyZWQnO1xuXHRcdH0gZWxzZSBpZiAoaXNQcm9wZXJseUNvbmZpZ3VyZWQpIHtcblx0XHRcdHN0YXR1c1RleHQgPSAnQ29uZmlndXJlZCc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEZhbGxiYWNrIC0gc2hvdWxkIG5vdCBoYXBwZW4sIGJ1dCBqdXN0IGluIGNhc2Vcblx0XHRcdHN0YXR1c1RleHQgPSAnQ29uZmlndXJlZCc7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIERldGVybWluZSBpdGVtIGNsYXNzXG5cdFx0bGV0IGl0ZW1DbGFzcyA9ICdwbHVnaW4taXRlbSc7XG5cdFx0aWYgKGlzU2V0dGluZ3NDaGVjaykge1xuXHRcdFx0aXRlbUNsYXNzICs9IGlzQ29uZmlndXJlZCA/ICcgaW5zdGFsbGVkJyA6ICcgbWlzc2luZyc7XG5cdFx0fSBlbHNlIGlmIChpbWFnZU1hbmFnZXJNaXNtYXRjaCB8fCBhbGxNaXNtYXRjaGVkKSB7XG5cdFx0XHQvLyBJbWFnZSBNYW5hZ2VyIHNldHRpbmdzIGRvbid0IG1hdGNoIG9yIGFsbCBjb250ZW50IHR5cGVzIGFyZSBvdXQgb2Ygc3luYyAtIHNob3cgYXMgXCJtaXNzaW5nXCIgKHJlZCBYKVxuXHRcdFx0aXRlbUNsYXNzICs9ICcgbWlzc2luZyc7XG5cdFx0fSBlbHNlIGlmIChpc1BhcnRpYWxseUNvbmZpZ3VyZWQpIHtcblx0XHRcdGl0ZW1DbGFzcyArPSAnIHBhcnRpYWxseS1jb25maWd1cmVkJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aXRlbUNsYXNzICs9IChwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkKSA/ICcgaW5zdGFsbGVkJyA6ICcgbWlzc2luZyc7XG5cdFx0fVxuXHRcdFxuXHRcdGNvbnN0IHBsdWdpbkl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KGl0ZW1DbGFzcyk7XG5cdFx0Y29uc3QgaWNvbkRpdiA9IHBsdWdpbkl0ZW0uY3JlYXRlRGl2KCdwbHVnaW4taWNvbicpO1xuXHRcdFxuXHRcdC8vIFNldCBpY29uIGJhc2VkIG9uIHN0YXR1cyB1c2luZyBzZXRJY29uXG5cdFx0aWYgKGlzU2V0dGluZ3NDaGVjaykge1xuXHRcdFx0c2V0SWNvbihpY29uRGl2LCBpc0NvbmZpZ3VyZWQgPyAnY2hlY2snIDogJ3gnKTtcblx0XHR9IGVsc2UgaWYgKGltYWdlTWFuYWdlck1pc21hdGNoIHx8IGFsbE1pc21hdGNoZWQpIHtcblx0XHRcdHNldEljb24oaWNvbkRpdiwgJ3gnKTtcblx0XHR9IGVsc2UgaWYgKGlzUGFydGlhbGx5Q29uZmlndXJlZCkge1xuXHRcdFx0c2V0SWNvbihpY29uRGl2LCAnYWxlcnQtdHJpYW5nbGUnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2V0SWNvbihpY29uRGl2LCAocGx1Z2luLmluc3RhbGxlZCAmJiBwbHVnaW4uZW5hYmxlZCkgPyAnY2hlY2snIDogJ3gnKTtcblx0XHR9XG5cdFx0XG5cdFx0Y29uc3QgaW5mbyA9IHBsdWdpbkl0ZW0uY3JlYXRlRGl2KCdwbHVnaW4taW5mbycpO1xuXHRcdGluZm8uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiBwbHVnaW4ubmFtZSB9KTtcblx0XHRpbmZvLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBzdGF0dXNUZXh0IH0pO1xuXHRcdFxuXHRcdC8vIEFkZCBzeW5jIGlzc3VlcyBkZXRhaWxzIGlmIHByZXNlbnRcblx0XHRpZiAoaGFzU3luY0lzc3VlcyAmJiBwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzKSB7XG5cdFx0XHRjb25zdCBzeW5jRGV0YWlscyA9IGluZm8uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IGBPdXQgb2Ygc3luYzogJHtwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzLmpvaW4oJywgJyl9YCwgY2xzOiAnc3luYy1kZXRhaWxzJyB9KTtcblx0XHRcdC8vIFNldCBkeW5hbWljIHN0eWxlc1xuXHRcdFx0c3luY0RldGFpbHMuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRmb250U2l6ZTogJzAuOWVtJyxcblx0XHRcdFx0b3BhY2l0eTogJzAuOCcsXG5cdFx0XHRcdG1hcmdpblRvcDogJzRweCdcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgc2V0dXBFdmVudEhhbmRsZXJzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcblxuXHRcdC8vIENvbmZpZ3VyZSBhdXRvbWF0aWNhbGx5IGJ1dHRvblxuXHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjY29uZmlndXJlLXBsdWdpbnMnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIENyZWF0ZSBjb25maWd1cmF0aW9uIGJhc2VkIG9uIGN1cnJlbnQgY29udGVudCBvcmdhbml6YXRpb24gY2hvaWNlXG5cdFx0XHRcdGNvbnN0IGNvbnRlbnRPcmcgPSBzdGF0ZS5zZWxlY3RlZENvbnRlbnRPcmc7XG5cdFx0XHRcdGNvbnN0IGNvbmZpZzogUGx1Z2luQ29uZmlndXJhdGlvbiA9IHtcblx0XHRcdFx0XHRvYnNpZGlhblNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG5cdFx0XHRcdFx0XHRhdHRhY2htZW50TG9jYXRpb246IChjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnc3ViZm9sZGVyJyA6ICdzYW1lLWZvbGRlcicpIGFzICdzdWJmb2xkZXInIHwgJ3NhbWUtZm9sZGVyJyxcblx0XHRcdFx0XHRcdHN1YmZvbGRlck5hbWU6ICdhdHRhY2htZW50cydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGFzdHJvQ29tcG9zZXJTZXR0aW5nczoge1xuXHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0Y3JlYXRpb25Nb2RlOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ2ZpbGUnIDogJ2ZvbGRlcicpIGFzICdmaWxlJyB8ICdmb2xkZXInLFxuXHRcdFx0XHRcdFx0aW5kZXhGaWxlTmFtZTogJ2luZGV4J1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aW1hZ2VNYW5hZ2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdGN1c3RvbVByb3BlcnR5TGlua0Zvcm1hdDogY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnIFxuXHRcdFx0XHRcdFx0XHQ/ICdbW2F0dGFjaG1lbnRzL3tpbWFnZS11cmx9XV0nIFxuXHRcdFx0XHRcdFx0XHQ6ICdbW3tpbWFnZS11cmx9XV0nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5wbHVnaW5NYW5hZ2VyLmNvbmZpZ3VyZVBsdWdpbnMoY29uZmlnKTtcblx0XHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0XHQvLyBSZWxvYWQgcGx1Z2luIHN0YXR1cyB0byByZWZsZWN0IGNoYW5nZXNcblx0XHRcdFx0XHRjb25zdCB1cGRhdGVkU3RhdHVzID0gYXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikucGx1Z2luTWFuYWdlci5nZXRQbHVnaW5TdGF0dXMoc3RhdGUuc2VsZWN0ZWRDb250ZW50T3JnKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBSZS1yZW5kZXIgdGhlIHN0YXR1cyBkaXNwbGF5XG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdGNvbnN0IHN0YXR1c0NvbnRhaW5lckVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wbHVnaW4tc3RhdHVzJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuXHRcdFx0XHRcdGlmIChzdGF0dXNDb250YWluZXJFbCkge1xuXHRcdFx0XHRcdFx0c3RhdHVzQ29udGFpbmVyRWwuZW1wdHkoKTsgLy8gQ2xlYXIgZXhpc3RpbmcgaXRlbXNcblx0XHRcdFx0XHRcdHVwZGF0ZWRTdGF0dXMuZm9yRWFjaChwbHVnaW4gPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnJlbmRlclBsdWdpblN0YXR1c0l0ZW0oc3RhdHVzQ29udGFpbmVyRWwsIHBsdWdpbik7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gU2hvdyBkZXRhaWxlZCBzdWNjZXNzIG1lc3NhZ2Vcblx0XHRcdFx0XHRjb25zdCBjb250ZW50T3JnID0gc3RhdGUuc2VsZWN0ZWRDb250ZW50T3JnO1xuXHRcdFx0XHRcdGNvbnN0IGF0dGFjaG1lbnRMb2NhdGlvbiA9IGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdzdWJmb2xkZXIgKGF0dGFjaG1lbnRzLyknIDogJ3NhbWUgZm9sZGVyJztcblx0XHRcdFx0XHRjb25zdCBjcmVhdGlvbk1vZGUgPSBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnZmlsZScgOiAnZm9sZGVyJztcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRuZXcgTm90aWNlKGBQbHVnaW5zIGNvbmZpZ3VyZWQgc3VjY2Vzc2Z1bGx5IVxcblxcblx1MjAyMiBPYnNpZGlhbjogQXR0YWNobWVudHMgXHUyMTkyICR7YXR0YWNobWVudExvY2F0aW9ufVxcblx1MjAyMiBBc3RybyBDb21wb3NlcjogQ3JlYXRpb24gbW9kZSBcdTIxOTIgJHtjcmVhdGlvbk1vZGV9XFxuXHUyMDIyIEltYWdlIE1hbmFnZXI6IEZvcm1hdCB1cGRhdGVkIGZvciAke2NvbnRlbnRPcmd9YCwgODAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiYXV0b21hdGljYWxseVwiIGlzIGFuIGFkdmVyYiBpbiBVSSB0ZXh0XG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1x1MjZBMFx1RkUwRiBTb21lIHBsdWdpbnMgY291bGQgbm90IGJlIGNvbmZpZ3VyZWQgYXV0b21hdGljYWxseS4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy4nLCA1MDAwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0bmV3IE5vdGljZShgRXJyb3IgY29uZmlndXJpbmcgcGx1Z2luczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHR9XG5cdFx0XHR9KSgpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2hvdyBtYW51YWwgaW5zdHJ1Y3Rpb25zIGJ1dHRvblxuXHRcdGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc2hvdy1pbnN0cnVjdGlvbnMnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBDcmVhdGUgY29uZmlndXJhdGlvbiBiYXNlZCBvbiBjdXJyZW50IGNvbnRlbnQgb3JnYW5pemF0aW9uIGNob2ljZVxuXHRcdFx0XHRjb25zdCBjb250ZW50T3JnID0gc3RhdGUuc2VsZWN0ZWRDb250ZW50T3JnO1xuXHRcdFx0XHRjb25zdCBjb25maWc6IFBsdWdpbkNvbmZpZ3VyYXRpb24gPSB7XG5cdFx0XHRcdFx0b2JzaWRpYW5TZXR0aW5nczoge1xuXHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0YXR0YWNobWVudExvY2F0aW9uOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ3N1YmZvbGRlcicgOiAnc2FtZS1mb2xkZXInKSBhcyAnc3ViZm9sZGVyJyB8ICdzYW1lLWZvbGRlcicsXG5cdFx0XHRcdFx0XHRzdWJmb2xkZXJOYW1lOiAnYXR0YWNobWVudHMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRhc3Ryb0NvbXBvc2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cblx0XHRcdFx0XHRcdGNyZWF0aW9uTW9kZTogKGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdmaWxlJyA6ICdmb2xkZXInKSBhcyAnZmlsZScgfCAnZm9sZGVyJyxcblx0XHRcdFx0XHRcdGluZGV4RmlsZU5hbWU6ICdpbmRleCdcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGltYWdlTWFuYWdlclNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRjdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXQ6IGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyBcblx0XHRcdFx0XHRcdFx0PyAnW1thdHRhY2htZW50cy97aW1hZ2UtdXJsfV1dJyBcblx0XHRcdFx0XHRcdFx0OiAnW1t7aW1hZ2UtdXJsfV1dJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHRjb25zdCBpbnN0cnVjdGlvbnMgPSBhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5wbHVnaW5NYW5hZ2VyLmdldE1hbnVhbENvbmZpZ3VyYXRpb25JbnN0cnVjdGlvbnMoY29uZmlnKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIENyZWF0ZSBhIG1vZGFsIHRvIHNob3cgaW5zdHJ1Y3Rpb25zXG5cdFx0XHRcdGNvbnN0IGluc3RydWN0aW9uTW9kYWwgPSBuZXcgTW9kYWwodGhpcy5hcHApO1xuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJNYW51YWwgQ29uZmlndXJhdGlvbiBJbnN0cnVjdGlvbnNcIiBpcyBhIHRpdGxlL2hlYWRpbmdcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHRpbnN0cnVjdGlvbk1vZGFsLnRpdGxlRWwuc2V0VGV4dCgnTWFudWFsIENvbmZpZ3VyYXRpb24gSW5zdHJ1Y3Rpb25zJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBDcmVhdGUgYSBjb250YWluZXIgZm9yIHRoZSBpbnN0cnVjdGlvbnNcblx0XHRcdFx0Y29uc3QgY29udGVudERpdiA9IGluc3RydWN0aW9uTW9kYWwuY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdFx0XHRjb250ZW50RGl2LnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRwYWRkaW5nOiAnMjBweCcsXG5cdFx0XHRcdFx0bGluZUhlaWdodDogJzEuNidcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBQYXJzZSBpbnN0cnVjdGlvbnMgbGluZSBieSBsaW5lIGFuZCBjcmVhdGUgcHJvcGVyIERPTSBlbGVtZW50c1xuXHRcdFx0XHRjb25zdCBsaW5lcyA9IGluc3RydWN0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdGxldCBjdXJyZW50TGlzdDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XG4gICAgIGxpbmVzLmZvckVhY2goKGxpbmU6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHRyaW1tZWRMaW5lID0gbGluZS50cmltKCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKHRyaW1tZWRMaW5lID09PSAnJykge1xuXHRcdFx0XHRcdFx0Ly8gRW1wdHkgbGluZSAtIGFkZCBzcGFjaW5nXG5cdFx0XHRcdFx0XHRjb250ZW50RGl2LmNyZWF0ZUVsKCdicicpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnIyMgJykpIHtcblx0XHRcdFx0XHRcdC8vIFN1YiBoZWFkaW5nXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudExpc3QpIHtcblx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3QgPSBudWxsOyAvLyBFbmQgY3VycmVudCBsaXN0XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjb25zdCBoMiA9IGNvbnRlbnREaXYuY3JlYXRlRWwoJ2gyJyk7XG5cdFx0XHRcdFx0XHRoMi5zZXRUZXh0KHRyaW1tZWRMaW5lLnN1YnN0cmluZygzKSk7XG5cdFx0XHRcdFx0XHRoMi5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdG1hcmdpblRvcDogJzIwcHgnLFxuXHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICcxMHB4Jyxcblx0XHRcdFx0XHRcdFx0Zm9udFNpemU6ICcxLjJlbScsXG5cdFx0XHRcdFx0XHRcdGZvbnRXZWlnaHQ6ICdib2xkJ1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRyaW1tZWRMaW5lLm1hdGNoKC9eXFxkK1xcLlxccy8pKSB7XG5cdFx0XHRcdFx0XHRcdC8vIE51bWJlcmVkIGxpc3QgaXRlbVxuXHRcdFx0XHRcdFx0XHRpZiAoIWN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3QgPSBjb250ZW50RGl2LmNyZWF0ZUVsKCdvbCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3Quc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5MZWZ0OiAnMjBweCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzE1cHgnXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgbGkgPSBjdXJyZW50TGlzdC5jcmVhdGVFbCgnbGknKTtcblx0XHRcdFx0XHRcdFx0XHRsaS5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICc1cHgnXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUGFyc2UgYm9sZCB0ZXh0IGluIHRoZSBsaW5lXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wYXJzZUJvbGRUZXh0KGxpLCB0cmltbWVkTGluZS5yZXBsYWNlKC9eXFxkK1xcLlxccy8sICcnKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnLSAnKSB8fCB0cmltbWVkTGluZS5zdGFydHNXaXRoKCcqICcpKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEJ1bGxldCBsaXN0IGl0ZW1cblx0XHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gY29udGVudERpdi5jcmVhdGVFbCgndWwnKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoY3VycmVudExpc3QpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRMaXN0LnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luTGVmdDogJzIwcHgnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICcxNXB4J1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGxpID0gY3VycmVudExpc3QuY3JlYXRlRWwoJ2xpJyk7XG5cdFx0XHRcdFx0XHRcdFx0bGkuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiAnNXB4J1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdC8vIFBhcnNlIGJvbGQgdGV4dCBpbiB0aGUgbGluZVxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGFyc2VCb2xkVGV4dChsaSwgdHJpbW1lZExpbmUuc3Vic3RyaW5nKDIpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBSZWd1bGFyIHBhcmFncmFwaFxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gbnVsbDsgLy8gRW5kIGN1cnJlbnQgbGlzdFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29uc3QgcCA9IGNvbnRlbnREaXYuY3JlYXRlRWwoJ3AnKTtcblx0XHRcdFx0XHRcdHAuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICcxMHB4J1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHQvLyBQYXJzZSBib2xkIHRleHQgaW4gdGhlIGxpbmVcblx0XHRcdFx0XHRcdHRoaXMucGFyc2VCb2xkVGV4dChwLCB0cmltbWVkTGluZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGluc3RydWN0aW9uTW9kYWwub3BlbigpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0bmV3IE5vdGljZShgRXJyb3IgZ2V0dGluZyBpbnN0cnVjdGlvbnM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0fVxuXHRcdFx0fSkoKTtcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgcGFyc2VCb2xkVGV4dChjb250YWluZXI6IEhUTUxFbGVtZW50LCB0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcblx0XHQvLyBTaW1wbGUgYm9sZCB0ZXh0IHBhcnNlciAtIGhhbmRsZXMgKip0ZXh0KiogcGF0dGVybnNcblx0XHRjb25zdCBwYXJ0cyA9IHRleHQuc3BsaXQoLyhcXCpcXCouKj9cXCpcXCopL2cpO1xuXHRcdFxuXHRcdHBhcnRzLmZvckVhY2gocGFydCA9PiB7XG5cdFx0XHRpZiAocGFydC5zdGFydHNXaXRoKCcqKicpICYmIHBhcnQuZW5kc1dpdGgoJyoqJykpIHtcblx0XHRcdFx0Ly8gQm9sZCB0ZXh0XG5cdFx0XHRcdGNvbnN0IHN0cm9uZyA9IGNvbnRhaW5lci5jcmVhdGVFbCgnc3Ryb25nJyk7XG5cdFx0XHRcdHN0cm9uZy5zZXRUZXh0KHBhcnQuc3Vic3RyaW5nKDIsIHBhcnQubGVuZ3RoIC0gMikpO1xuXHRcdFx0fSBlbHNlIGlmIChwYXJ0LnRyaW0oKSAhPT0gJycpIHtcblx0XHRcdFx0Ly8gUmVndWxhciB0ZXh0XG5cdFx0XHRcdGNvbnRhaW5lci5hcHBlbmRUZXh0KHBhcnQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQmFzZVdpemFyZFN0ZXAgfSBmcm9tICcuL0Jhc2VXaXphcmRTdGVwJztcclxuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBURU1QTEFURV9PUFRJT05TLCBUSEVNRV9PUFRJT05TLCBBc3Ryb01vZHVsYXJQbHVnaW4gfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRmluYWxpemVTdGVwIGV4dGVuZHMgQmFzZVdpemFyZFN0ZXAge1xyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuXHRcdFxyXG5cdFx0Ly8gRm9ybWF0IHRoZSB2YWx1ZXNcclxuXHRcdGNvbnN0IHRlbXBsYXRlTmFtZSA9IHRoaXMuZm9ybWF0VGVtcGxhdGVOYW1lKHN0YXRlLnNlbGVjdGVkVGVtcGxhdGUpO1xyXG5cdFx0Y29uc3QgdGhlbWVOYW1lID0gdGhpcy5mb3JtYXRUaGVtZU5hbWUoc3RhdGUuc2VsZWN0ZWRUaGVtZSk7XHJcblx0XHRjb25zdCBjb250ZW50T3JnTmFtZSA9IHRoaXMuZm9ybWF0Q29udGVudE9yZ2FuaXphdGlvbihzdGF0ZS5zZWxlY3RlZENvbnRlbnRPcmcpO1xyXG5cdFx0Y29uc3QgZGVwbG95bWVudE5hbWUgPSB0aGlzLmZvcm1hdERlcGxveW1lbnROYW1lKHN0YXRlLnNlbGVjdGVkRGVwbG95bWVudCk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZpbmFsaXplRGl2ID0gY29udGFpbmVyLmNyZWF0ZURpdignZmluYWxpemUtc3RlcCcpO1xyXG5cdFx0ZmluYWxpemVEaXYuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnRmluYWxpemUgeW91ciBjb25maWd1cmF0aW9uJyB9KTtcclxuXHRcdGZpbmFsaXplRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnUmV2aWV3IHlvdXIgc2V0dGluZ3MgYW5kIGNvbXBsZXRlIHRoZSBzZXR1cC4nIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBjb25maWdTdW1tYXJ5ID0gZmluYWxpemVEaXYuY3JlYXRlRGl2KCdjb25maWctc3VtbWFyeScpO1xyXG5cdFx0Y29uZmlnU3VtbWFyeS5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdDb25maWd1cmF0aW9uIHN1bW1hcnknIH0pO1xyXG5cdFx0XHJcblx0XHRjb25zdCBjcmVhdGVDb25maWdJdGVtID0gKGxhYmVsOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0Y29uc3QgaXRlbSA9IGNvbmZpZ1N1bW1hcnkuY3JlYXRlRGl2KCdjb25maWctaXRlbScpO1xyXG5cdFx0XHRpdGVtLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6IGAke2xhYmVsfTogYCB9KTtcclxuXHRcdFx0aXRlbS5hcHBlbmRUZXh0KHZhbHVlKTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGNyZWF0ZUNvbmZpZ0l0ZW0oJ1RlbXBsYXRlJywgdGVtcGxhdGVOYW1lKTtcclxuXHRcdGNyZWF0ZUNvbmZpZ0l0ZW0oJ1RoZW1lJywgdGhlbWVOYW1lKTtcclxuXHRcdGNyZWF0ZUNvbmZpZ0l0ZW0oJ0NvbnRlbnQgT3JnYW5pemF0aW9uJywgY29udGVudE9yZ05hbWUpO1xyXG5cdFx0Y3JlYXRlQ29uZmlnSXRlbSgnRGVwbG95bWVudCcsIGRlcGxveW1lbnROYW1lKTtcclxuXHRcdGNyZWF0ZUNvbmZpZ0l0ZW0oJ1NpdGUgVGl0bGUnLCBzdGF0ZS5zZWxlY3RlZFNpdGVJbmZvLnRpdGxlKTtcclxuXHRcdGNyZWF0ZUNvbmZpZ0l0ZW0oJ1NpdGUgVVJMJywgc3RhdGUuc2VsZWN0ZWRTaXRlSW5mby5zaXRlKTtcclxuXHJcblx0XHR0aGlzLnNldHVwRXZlbnRIYW5kbGVycyhjb250YWluZXIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXR1cEV2ZW50SGFuZGxlcnMoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Ly8gTm8gZXZlbnQgaGFuZGxlcnMgbmVlZGVkIGZvciBmaW5hbGl6ZSBzdGVwXHJcblx0fVxyXG5cclxuXHRhc3luYyBjb21wbGV0ZVdpemFyZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEJ1aWxkIGZpbmFsIHNldHRpbmdzIC0gdGhpcyBub3cgdXBkYXRlcyBwbHVnaW4uc2V0dGluZ3MgZGlyZWN0bHlcclxuXHRcdFx0dGhpcy5zdGF0ZU1hbmFnZXIuYnVpbGRGaW5hbFNldHRpbmdzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTYXZlIHRoZSBzZXR0aW5ncyB0byBkaXNrXHJcblx0XHRcdGNvbnN0IHBsdWdpbiA9IHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbjtcclxuXHRcdFx0YXdhaXQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRcdGF3YWl0IHBsdWdpbi5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEFsd2F5cyBhcHBseSB0aGUgY29uZmlndXJhdGlvblxyXG5cdFx0XHRjb25zdCBzZXR0aW5ncyA9IHBsdWdpbi5zZXR0aW5ncztcclxuXHRcdFx0Y29uc3QgcHJlc2V0U3VjY2VzcyA9IGF3YWl0IHBsdWdpbi5jb25maWdNYW5hZ2VyLmFwcGx5UHJlc2V0KHtcclxuXHRcdFx0XHRuYW1lOiBzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUsXHJcblx0XHRcdFx0ZGVzY3JpcHRpb246ICcnLFxyXG5cdFx0XHRcdGZlYXR1cmVzOiBzZXR0aW5ncy5mZWF0dXJlcyxcclxuXHRcdFx0XHR0aGVtZTogc2V0dGluZ3MuY3VycmVudFRoZW1lLFxyXG5cdFx0XHRcdGNvbnRlbnRPcmdhbml6YXRpb246IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24sXHJcblx0XHRcdFx0Y29uZmlnOiBzZXR0aW5nc1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmIChwcmVzZXRTdWNjZXNzKSB7XHJcblx0XHRcdFx0bmV3IE5vdGljZSgnQ29uZmlndXJhdGlvbiBhcHBsaWVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdGYWlsZWQgdG8gYXBwbHkgY29uZmlndXJhdGlvbi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIGVycm9ycy4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQ2FsbCB0aGUgY29tcGxldGlvbiBjYWxsYmFja1xyXG5cdFx0XHR0aGlzLnN0YXRlTWFuYWdlci51cGRhdGVTdGF0ZSh7IGN1cnJlbnRTdGVwOiB0aGlzLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnRvdGFsU3RlcHMgfSk7XHJcblx0XHRcdFxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0bmV3IE5vdGljZShgRXJyb3IgY29tcGxldGluZyB3aXphcmQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmb3JtYXRUZW1wbGF0ZU5hbWUodGVtcGxhdGU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBvcHRpb24gPSBURU1QTEFURV9PUFRJT05TLmZpbmQodCA9PiB0LmlkID09PSB0ZW1wbGF0ZSk7XHJcblx0XHRyZXR1cm4gb3B0aW9uID8gb3B0aW9uLm5hbWUgOiB0ZW1wbGF0ZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZm9ybWF0VGhlbWVOYW1lKHRoZW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3Qgb3B0aW9uID0gVEhFTUVfT1BUSU9OUy5maW5kKHQgPT4gdC5pZCA9PT0gdGhlbWUpO1xyXG5cdFx0cmV0dXJuIG9wdGlvbiA/IG9wdGlvbi5uYW1lIDogdGhlbWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGZvcm1hdENvbnRlbnRPcmdhbml6YXRpb24ob3JnOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIG9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ0ZpbGUtYmFzZWQnIDogJ0ZvbGRlci1iYXNlZCc7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGZvcm1hdERlcGxveW1lbnROYW1lKGRlcGxveW1lbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRzd2l0Y2ggKGRlcGxveW1lbnQpIHtcclxuXHRcdFx0Y2FzZSAnbmV0bGlmeSc6XHJcblx0XHRcdFx0cmV0dXJuICdOZXRsaWZ5JztcclxuXHRcdFx0Y2FzZSAndmVyY2VsJzpcclxuXHRcdFx0XHRyZXR1cm4gJ1ZlcmNlbCc7XHJcblx0XHRcdGNhc2UgJ2dpdGh1Yi1wYWdlcyc6XHJcblx0XHRcdFx0cmV0dXJuICdHaXRIdWIgUGFnZXMnO1xyXG5cdFx0XHRjYXNlICdjbG91ZGZsYXJlLXdvcmtlcnMnOlxyXG5cdFx0XHRcdHJldHVybiAnQ2xvdWRmbGFyZSBXb3JrZXJzJztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gZGVwbG95bWVudDtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IE9ic2lkaWFuQXBwLCBBc3Ryb01vZHVsYXJQbHVnaW4sIEFzdHJvTW9kdWxhclNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU2V0dXBXaXphcmRNb2RhbCB9IGZyb20gJy4uL3VpL1NldHVwV2l6YXJkTW9kYWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb21tYW5kcyhwbHVnaW46IFBsdWdpbikge1xuXHQvLyBPcGVuIHNldHRpbmdzIGNvbW1hbmRcblx0cGx1Z2luLmFkZENvbW1hbmQoe1xuXHRcdGlkOiAnb3Blbi1zZXR0aW5ncycsXG5cdFx0bmFtZTogJ09wZW4gc2V0dGluZ3MnLFxuXHRcdGljb246ICdzZXR0aW5ncy0yJyxcblx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0Ly8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNldHRpbmdzIHRhYlxuXHRcdFx0KHBsdWdpbi5hcHAgYXMgdW5rbm93biBhcyBPYnNpZGlhbkFwcCkuc2V0dGluZy5vcGVuKCk7XG5cdFx0XHQocGx1Z2luLmFwcCBhcyB1bmtub3duIGFzIE9ic2lkaWFuQXBwKS5zZXR0aW5nLm9wZW5UYWJCeUlkKHBsdWdpbi5tYW5pZmVzdC5pZCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBSdW4gc2V0dXAgd2l6YXJkIGNvbW1hbmRcblx0cGx1Z2luLmFkZENvbW1hbmQoe1xuXHRcdGlkOiAncnVuLXNldHVwLXdpemFyZCcsXG5cdFx0bmFtZTogJ1J1biBzZXR1cCB3aXphcmQnLFxuXHRcdGljb246ICd3YW5kJyxcblx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB3ZSBoYXZlIHRoZSBsYXRlc3QgdmFsdWVzXG5cdFx0XHRhd2FpdCBwbHVnaW4ubG9hZERhdGEoKS50aGVuKChkYXRhOiBQYXJ0aWFsPEFzdHJvTW9kdWxhclNldHRpbmdzPiB8IG51bGwpID0+IHtcblx0XHRcdFx0aWYgKGRhdGEgJiYgJ3NldHRpbmdzJyBpbiBwbHVnaW4pIHtcblx0XHRcdFx0XHRPYmplY3QuYXNzaWduKChwbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5zZXR0aW5ncywgZGF0YSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Y29uc3Qgd2l6YXJkID0gbmV3IFNldHVwV2l6YXJkTW9kYWwocGx1Z2luLmFwcCwgcGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbik7XG5cdFx0XHR3aXphcmQub3BlbigpO1xuXHRcdH1cblx0fSk7XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IEdlbmVyYWxUYWIgfSBmcm9tICcuL3RhYnMvR2VuZXJhbFRhYic7XHJcbmltcG9ydCB7IFNpdGVJbmZvVGFiIH0gZnJvbSAnLi90YWJzL1NpdGVJbmZvVGFiJztcclxuaW1wb3J0IHsgTmF2aWdhdGlvblRhYiB9IGZyb20gJy4vdGFicy9OYXZpZ2F0aW9uVGFiJztcclxuaW1wb3J0IHsgQ29uZmlnVGFiIH0gZnJvbSAnLi90YWJzL0NvbmZpZ1RhYic7XHJcbmltcG9ydCB7IFN0eWxlVGFiIH0gZnJvbSAnLi90YWJzL1N0eWxlVGFiJztcclxuaW1wb3J0IHsgRmVhdHVyZXNUYWIgfSBmcm9tICcuL3RhYnMvRmVhdHVyZXNUYWInO1xyXG5pbXBvcnQgeyBBZHZhbmNlZFRhYiB9IGZyb20gJy4vdGFicy9BZHZhbmNlZFRhYic7XHJcblxyXG5leHBvcnQgY2xhc3MgQXN0cm9Nb2R1bGFyU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IFBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHR0aGlzLnJlbmRlcigpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblx0XHRjb250YWluZXJFbC5hZGRDbGFzcygnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xyXG5cclxuXHRcdC8vIENyZWF0ZSBlbmhhbmNlZCB0YWIgbmF2aWdhdGlvblxyXG5cdFx0Y29uc3QgdGFiQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd0YWItY29udGFpbmVyJyk7XHJcblx0XHRjb25zdCB0YWJOYXYgPSB0YWJDb250YWluZXIuY3JlYXRlRGl2KCd0YWItbmF2Jyk7XHJcblx0XHRjb25zdCB0YWJDb250ZW50ID0gdGFiQ29udGFpbmVyLmNyZWF0ZURpdigndGFiLWNvbnRlbnQnKTtcclxuXHJcblx0XHQvLyBUYWIgZGVmaW5pdGlvbnNcclxuXHRcdGNvbnN0IHRhYnMgPSBbXHJcblx0XHRcdHsgXHJcblx0XHRcdFx0aWQ6ICdnZW5lcmFsJywgXHJcblx0XHRcdFx0bmFtZTogJ0dlbmVyYWwnLCBcclxuXHRcdFx0XHRyZW5kZXJlcjogbmV3IEdlbmVyYWxUYWIodGhpcy5hcHAsIHRoaXMucGx1Z2luKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7IFxyXG5cdFx0XHRcdGlkOiAnc2l0ZS1pbmZvJywgXHJcblx0XHRcdFx0bmFtZTogJ1NpdGUgSW5mbycsIFxyXG5cdFx0XHRcdHJlbmRlcmVyOiBuZXcgU2l0ZUluZm9UYWIodGhpcy5hcHAsIHRoaXMucGx1Z2luKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7IFxyXG5cdFx0XHRcdGlkOiAnbmF2aWdhdGlvbicsIFxyXG5cdFx0XHRcdG5hbWU6ICdOYXZpZ2F0aW9uJywgXHJcblx0XHRcdFx0cmVuZGVyZXI6IG5ldyBOYXZpZ2F0aW9uVGFiKHRoaXMuYXBwLCB0aGlzLnBsdWdpbilcclxuXHRcdFx0fSxcclxuXHRcdFx0eyBcclxuXHRcdFx0XHRpZDogJ2NvbmZpZycsIFxyXG5cdFx0XHRcdG5hbWU6ICdDb25maWcnLCBcclxuXHRcdFx0XHRyZW5kZXJlcjogbmV3IENvbmZpZ1RhYih0aGlzLmFwcCwgdGhpcy5wbHVnaW4pXHJcblx0XHRcdH0sXHJcblx0XHRcdHsgXHJcblx0XHRcdFx0aWQ6ICdzdHlsZScsIFxyXG5cdFx0XHRcdG5hbWU6ICdTdHlsZScsIFxyXG5cdFx0XHRcdHJlbmRlcmVyOiBuZXcgU3R5bGVUYWIodGhpcy5hcHAsIHRoaXMucGx1Z2luKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7IFxyXG5cdFx0XHRcdGlkOiAnZmVhdHVyZXMnLCBcclxuXHRcdFx0XHRuYW1lOiAnRmVhdHVyZXMnLCBcclxuXHRcdFx0XHRyZW5kZXJlcjogbmV3IEZlYXR1cmVzVGFiKHRoaXMuYXBwLCB0aGlzLnBsdWdpbilcclxuXHRcdFx0fSxcclxuXHRcdFx0eyBcclxuXHRcdFx0XHRpZDogJ2FkdmFuY2VkJywgXHJcblx0XHRcdFx0bmFtZTogJ0FkdmFuY2VkJywgXHJcblx0XHRcdFx0cmVuZGVyZXI6IG5ldyBBZHZhbmNlZFRhYih0aGlzLmFwcCwgdGhpcy5wbHVnaW4pXHJcblx0XHRcdH1cclxuXHRcdF07XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIHRhYiBidXR0b25zIHdpdGggY2xlYW4gc3R5bGluZ1xyXG5cdFx0dGFicy5mb3JFYWNoKCh0YWIsIGluZGV4KSA9PiB7XHJcblx0XHRcdGNvbnN0IGJ1dHRvbiA9IHRhYk5hdi5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRcdHRleHQ6IHRhYi5uYW1lLFxyXG5cdFx0XHRcdGNsczogYHRhYi1idXR0b24gJHtpbmRleCA9PT0gMCA/ICdhY3RpdmUnIDogJyd9YFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCBidXR0b25zXHJcblx0XHRcdFx0dGFiTmF2LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYnV0dG9uJykuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuXHRcdFx0XHQvLyBBZGQgYWN0aXZlIGNsYXNzIHRvIGNsaWNrZWQgYnV0dG9uXHJcblx0XHRcdFx0YnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdC8vIFJlbmRlciB0YWIgY29udGVudCBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdHRhYkNvbnRlbnQuZW1wdHkoKTtcclxuXHRcdFx0XHR2b2lkIHRhYi5yZW5kZXJlci5yZW5kZXIodGFiQ29udGVudCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUmVuZGVyIHRoZSBmaXJzdCB0YWIgYnkgZGVmYXVsdCAoZXJyb3JzIGFyZSBoYW5kbGVkIGJ5IHJlbmRlcmVyKVxyXG5cdFx0dm9pZCB0YWJzWzBdLnJlbmRlcmVyLnJlbmRlcih0YWJDb250ZW50KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgU2V0dGluZywgTm90aWNlLCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBBc3Ryb01vZHVsYXJTZXR0aW5ncywgQXN0cm9Nb2R1bGFyUGx1Z2luIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVGFiUmVuZGVyZXIge1xuXHRwcm90ZWN0ZWQgYXBwOiBBcHA7XG5cdHByb3RlY3RlZCBwbHVnaW46IFBsdWdpbjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRhcHA6IEFwcCxcblx0XHRwbHVnaW46IFBsdWdpblxuXHQpIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGFic3RyYWN0IHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB8IFByb21pc2U8dm9pZD47XG5cblx0cHJvdGVjdGVkIGdldFNldHRpbmdzKCk6IEFzdHJvTW9kdWxhclNldHRpbmdzIHtcblx0XHQvLyBBbHdheXMgZ2V0IHRoZSBwbHVnaW4ncyBjdXJyZW50IHNldHRpbmdzIC0gcmVsb2FkIGZyb20gZGF0YSB0byBlbnN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0XG5cdFx0Y29uc3QgcGx1Z2luID0gdGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luO1xuXHRcdHJldHVybiBwbHVnaW4uc2V0dGluZ3MgfHwge307XG5cdH1cblxuXHRwcm90ZWN0ZWQgYXN5bmMgYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbihzaG93Tm90aWNlOiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XG5cdFx0XHRcblx0XHRcdC8vIEFwcGx5IHRoZSBjdXJyZW50IHNldHRpbmdzIHRvIHRoZSBjb25maWcgZmlsZSB1c2luZyBpbmRpdmlkdWFsIGZlYXR1cmVzXG5cdFx0XHRjb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XG5cdFx0XHRjb25zdCBzdWNjZXNzID0gYXdhaXQgcGx1Z2luLmNvbmZpZ01hbmFnZXIudXBkYXRlSW5kaXZpZHVhbEZlYXR1cmVzKHNldHRpbmdzKTtcblxuXHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0aWYgKHNob3dOb3RpY2UpIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdDb25maWd1cmF0aW9uIGFwcGxpZWQgc3VjY2Vzc2Z1bGx5IScpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF3YWl0IHBsdWdpbi5jb25maWdNYW5hZ2VyLnRyaWdnZXJSZWJ1aWxkKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoc2hvd05vdGljZSkge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBhcHBseSBjb25maWd1cmF0aW9uLiBDaGVjayB0aGUgY29uc29sZSBmb3IgZXJyb3JzLicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGlmIChzaG93Tm90aWNlKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yIGFwcGx5aW5nIGNvbmZpZ3VyYXRpb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByb3RlY3RlZCBjcmVhdGVEcm9wZG93blNldHRpbmcoXG5cdFx0Y29udGFpbmVyOiBIVE1MRWxlbWVudCxcblx0XHRuYW1lOiBzdHJpbmcsXG5cdFx0ZGVzY3JpcHRpb246IHN0cmluZyxcblx0XHR2YWx1ZTogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG5cdFx0b25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkXG5cdCk6IFNldHRpbmcge1xuXHRcdHJldHVybiBuZXcgU2V0dGluZyhjb250YWluZXIpXG5cdFx0XHQuc2V0TmFtZShuYW1lKVxuXHRcdFx0LnNldERlc2MoZGVzY3JpcHRpb24pXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRPYmplY3QuZW50cmllcyhvcHRpb25zKS5mb3JFYWNoKChba2V5LCBsYWJlbF0pID0+IHtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oa2V5LCBsYWJlbCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdG9uQ2hhbmdlKHZhbHVlKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLmdldFNldHRpbmdzKCkpO1xuXHRcdFx0XHRcdC8vIE5vdGU6IGFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24gc2hvdWxkIGJlIGNhbGxlZCBleHBsaWNpdGx5IGJ5IHRoZSBzZXR0aW5nIGltcGxlbWVudGF0aW9uXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gZHJvcGRvd247XG5cdFx0XHR9KTtcblx0fVxuXG5cdHByb3RlY3RlZCBjcmVhdGVUZXh0U2V0dGluZyhcblx0XHRjb250YWluZXI6IEhUTUxFbGVtZW50LFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRkZXNjcmlwdGlvbjogc3RyaW5nLFxuXHRcdHZhbHVlOiBzdHJpbmcsXG5cdFx0b25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkLFxuXHRcdGRlYm91bmNlTXM6IG51bWJlciA9IDEwMDAsXG5cdFx0b25BcHBseUNvbmZpZz86ICgpID0+IFByb21pc2U8dm9pZD4sXG5cdFx0cGxhY2Vob2xkZXI/OiBzdHJpbmdcblx0KTogU2V0dGluZyB7XG5cdFx0cmV0dXJuIG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcblx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHQuc2V0RGVzYyhkZXNjcmlwdGlvbilcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHR0ZXh0LnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0aWYgKHBsYWNlaG9sZGVyKSB7XG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihwbGFjZWhvbGRlcik7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdC8vIENsZWFyIGV4aXN0aW5nIHRpbWVvdXRcblx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHRoZSB2YWx1ZSBpbW1lZGlhdGVseSBmb3IgVUkgcmVzcG9uc2l2ZW5lc3Ncblx0XHRcdFx0XHRvbkNoYW5nZSh2YWx1ZSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gU2F2ZSBzZXR0aW5ncyBpbW1lZGlhdGVseSAoZmlyZSBhbmQgZm9yZ2V0KVxuXHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5nZXRTZXR0aW5ncygpKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBEZWJvdW5jZSB0aGUgY29uZmlndXJhdGlvbiBhcHBsaWNhdGlvblxuXHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdGlmIChvbkFwcGx5Q29uZmlnKSB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgb25BcHBseUNvbmZpZygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGRlYm91bmNlTXMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIEFsc28gYXBwbHkgb24gYmx1ciAod2hlbiB1c2VyIGxlYXZlcyB0aGUgZmllbGQpXG5cdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0aWYgKG9uQXBwbHlDb25maWcpIHtcblx0XHRcdFx0XHRcdFx0dm9pZCBvbkFwcGx5Q29uZmlnKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdFx0fSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgY3JlYXRlVG9nZ2xlU2V0dGluZyhcblx0XHRjb250YWluZXI6IEhUTUxFbGVtZW50LFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRkZXNjcmlwdGlvbjogc3RyaW5nLFxuXHRcdHZhbHVlOiBib29sZWFuLFxuXHRcdG9uQ2hhbmdlOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWRcblx0KTogU2V0dGluZyB7XG5cdFx0cmV0dXJuIG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcblx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHQuc2V0RGVzYyhkZXNjcmlwdGlvbilcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0dG9nZ2xlLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdG9uQ2hhbmdlKHZhbHVlKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLmdldFNldHRpbmdzKCkpO1xuXHRcdFx0XHRcdC8vIE5vdGU6IGFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24gc2hvdWxkIGJlIGNhbGxlZCBleHBsaWNpdGx5IGJ5IHRoZSBzZXR0aW5nIGltcGxlbWVudGF0aW9uXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gdG9nZ2xlO1xuXHRcdFx0fSk7XG5cdH1cbn1cbiIsICIvKipcclxuICogQ29tcGF0aWJpbGl0eSB1dGlsaXRpZXMgZm9yIHNldHRpbmdzXHJcbiAqIFByb3ZpZGVzIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIFNldHRpbmdHcm91cCAocmVxdWlyZXMgQVBJIDEuMTEuMCspXHJcbiAqL1xyXG5pbXBvcnQgeyBTZXR0aW5nLCByZXF1aXJlQXBpVmVyc2lvbiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8qKlxyXG4gKiBUeXBlIGRlZmluaXRpb24gZm9yIFNldHRpbmdHcm91cCBjb25zdHJ1Y3RvclxyXG4gKiBOb3RlOiBTZXR0aW5nR3JvdXAgbWF5IGV4aXN0IGF0IHJ1bnRpbWUgaW4gMS4xMS4wKyBidXQgbWF5IG5vdCBiZSBpbiBUeXBlU2NyaXB0IGRlZmluaXRpb25zXHJcbiAqL1xyXG50eXBlIFNldHRpbmdHcm91cENvbnN0cnVjdG9yID0gbmV3IChjb250YWluZXJFbDogSFRNTEVsZW1lbnQpID0+IHtcclxuICBzZXRIZWFkaW5nPyhoZWFkaW5nOiBzdHJpbmcpOiB7XHJcbiAgICBhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgfTtcclxuICBhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCk6IHZvaWQ7XHJcbn07XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIHRoYXQgd29ya3Mgd2l0aCBib3RoIFNldHRpbmdHcm91cCBhbmQgZmFsbGJhY2sgY29udGFpbmVyXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFNldHRpbmdzQ29udGFpbmVyIHtcclxuICBhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCk6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgc2V0dGluZ3MgY29udGFpbmVyIHRoYXQgdXNlcyBTZXR0aW5nR3JvdXAgaWYgYXZhaWxhYmxlIChBUEkgMS4xMS4wKyksXHJcbiAqIG90aGVyd2lzZSBmYWxscyBiYWNrIHRvIGNyZWF0aW5nIGEgaGVhZGluZyAoaWYgcHJvdmlkZWQpIGFuZCB1c2luZyB0aGUgY29udGFpbmVyIGRpcmVjdGx5LlxyXG4gKiBcclxuICogVXNlcyByZXF1aXJlQXBpVmVyc2lvbignMS4xMS4wJykgdG8gY2hlY2sgaWYgU2V0dGluZ0dyb3VwIGlzIGF2YWlsYWJsZS5cclxuICogXHJcbiAqIEBwYXJhbSBjb250YWluZXJFbCAtIFRoZSBjb250YWluZXIgZWxlbWVudCBmb3Igc2V0dGluZ3NcclxuICogQHBhcmFtIGhlYWRpbmcgLSBPcHRpb25hbCBoZWFkaW5nIHRleHQgZm9yIHRoZSBzZXR0aW5ncyBncm91cC4gSWYgb21pdHRlZCwgbm8gaGVhZGluZyBpcyBjcmVhdGVkLlxyXG4gKiBAcGFyYW0gbWFuaWZlc3RJZCAtIFRoZSBwbHVnaW4ncyBtYW5pZmVzdCBJRCBmb3IgQ1NTIHNjb3BpbmcgKHJlcXVpcmVkIGZvciBmYWxsYmFjayBtb2RlKVxyXG4gKiBAcmV0dXJucyBBIGNvbnRhaW5lciB0aGF0IGNhbiBiZSB1c2VkIHRvIGFkZCBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNldHRpbmdzR3JvdXAoXHJcbiAgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxyXG4gIGhlYWRpbmc/OiBzdHJpbmcsXHJcbiAgbWFuaWZlc3RJZD86IHN0cmluZ1xyXG4pOiBTZXR0aW5nc0NvbnRhaW5lciB7XHJcbiAgLy8gQ2hlY2sgaWYgU2V0dGluZ0dyb3VwIGlzIGF2YWlsYWJsZSAoQVBJIDEuMTEuMCspXHJcbiAgaWYgKHJlcXVpcmVBcGlWZXJzaW9uKCcxLjExLjAnKSkge1xyXG4gICAgLy8gVXNlIGR5bmFtaWMgcmVxdWlyZSgpIHRvIGFjY2VzcyBTZXR0aW5nR3JvdXAgYXQgcnVudGltZVxyXG4gICAgLy8gVGhpcyBhdm9pZHMgVHlwZVNjcmlwdCBlcnJvcnMgd2hlbiBTZXR0aW5nR3JvdXAgaXNuJ3QgaW4gdHlwZSBkZWZpbml0aW9uc1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIG5vLXVuZGVmXHJcbiAgICBjb25zdCBvYnNpZGlhbiA9IHJlcXVpcmUoJ29ic2lkaWFuJykgYXMgeyBTZXR0aW5nR3JvdXA6IFNldHRpbmdHcm91cENvbnN0cnVjdG9yIH07XHJcbiAgICBjb25zdCBTZXR0aW5nR3JvdXAgPSBvYnNpZGlhbi5TZXR0aW5nR3JvdXA7XHJcbiAgICBcclxuICAgIC8vIFVzZSBTZXR0aW5nR3JvdXAgLSBpdCdzIGd1YXJhbnRlZWQgdG8gZXhpc3QgaWYgcmVxdWlyZUFwaVZlcnNpb24gcmV0dXJucyB0cnVlXHJcbiAgICBjb25zdCBncm91cCA9IGhlYWRpbmcgXHJcbiAgICAgID8gbmV3IFNldHRpbmdHcm91cChjb250YWluZXJFbCkuc2V0SGVhZGluZyEoaGVhZGluZylcclxuICAgICAgOiBuZXcgU2V0dGluZ0dyb3VwKGNvbnRhaW5lckVsKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpIHtcclxuICAgICAgICBncm91cC5hZGRTZXR0aW5nKGNiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gRmFsbGJhY2sgcGF0aCAoZWl0aGVyIEFQSSA8IDEuMTEuMCBvciBTZXR0aW5nR3JvdXAgbm90IGZvdW5kKVxyXG4gICAgLy8gQWRkIHNjb3BpbmcgY2xhc3MgdG8gY29udGFpbmVyRWwgdG8gc2NvcGUgQ1NTIHRvIG9ubHkgdGhpcyBwbHVnaW4ncyBzZXR0aW5nc1xyXG4gICAgaWYgKG1hbmlmZXN0SWQpIHtcclxuICAgICAgY29udGFpbmVyRWwuYWRkQ2xhc3MoYCR7bWFuaWZlc3RJZH0tc2V0dGluZ3MtY29tcGF0YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZhbGxiYWNrOiBDcmVhdGUgYSBoZWFkaW5nIG1hbnVhbGx5IChpZiBwcm92aWRlZCkgYW5kIHVzZSBjb250YWluZXIgZGlyZWN0bHlcclxuICAgIGlmIChoZWFkaW5nKSB7XHJcbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXRIZWFkaW5nKClcclxuICAgICAgICAuc2V0TmFtZShoZWFkaW5nKTtcclxuICAgIH1cclxuICAgICAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGFkZFNldHRpbmcoY2I6IChzZXR0aW5nOiBTZXR0aW5nKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKTtcclxuICAgICAgICBjYihzZXR0aW5nKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbiIsICJpbXBvcnQgeyBUYWJSZW5kZXJlciB9IGZyb20gJy4uL2NvbW1vbi9UYWJSZW5kZXJlcic7XHJcbmltcG9ydCB7IFNldHVwV2l6YXJkTW9kYWwgfSBmcm9tICcuLi9TZXR1cFdpemFyZE1vZGFsJztcclxuaW1wb3J0IHsgVEVNUExBVEVfT1BUSU9OUywgVEhFTUVfT1BUSU9OUywgQXN0cm9Nb2R1bGFyUGx1Z2luLCBBc3Ryb01vZHVsYXJTZXR0aW5ncyB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgY3JlYXRlU2V0dGluZ3NHcm91cCB9IGZyb20gJy4uLy4uL3V0aWxzL3NldHRpbmdzLWNvbXBhdCc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2VuZXJhbFRhYiBleHRlbmRzIFRhYlJlbmRlcmVyIHtcclxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XHJcblx0XHRcclxuXHRcdC8vIEFsd2F5cyB1c2UgdGhlIHBsdWdpbidzIGN1cnJlbnQgc2V0dGluZ3NcclxuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG5cclxuXHRcdC8vIEN1cnJlbnQgY29uZmlndXJhdGlvbiBhcyBhIHNldHRpbmdzIGdyb3VwXHJcblx0XHRjb25zdCBjb25maWdHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCAnQ3VycmVudCBjb25maWd1cmF0aW9uJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcclxuXHRcdFxyXG5cdFx0Ly8gQ3JlYXRlIGNvbmZpZyBpdGVtcyBkaXNwbGF5IGluIHRoZSBvcmlnaW5hbCBmb3JtYXRcclxuXHRcdGNvbmZpZ0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0Ly8gSGlkZSBkZWZhdWx0IFVJIGVsZW1lbnRzXHJcblx0XHRcdGNvbnN0IG5hbWVFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tbmFtZScpO1xyXG5cdFx0XHRjb25zdCBkZXNjRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyk7XHJcblx0XHRcdGNvbnN0IGNvbnRyb2xFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tY29udHJvbCcpO1xyXG5cdFx0XHRpZiAobmFtZUVsKSAobmFtZUVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdFx0aWYgKGRlc2NFbCkgKGRlc2NFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XHJcblx0XHRcdGlmIChjb250cm9sRWwpIChjb250cm9sRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0Ym9yZGVyVG9wOiAnbm9uZScsXHJcblx0XHRcdFx0cGFkZGluZ1RvcDogJzAnLFxyXG5cdFx0XHRcdHBhZGRpbmdCb3R0b206ICcwJyxcclxuXHRcdFx0XHRkaXNwbGF5OiAnYmxvY2snXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQ3JlYXRlIGNvbmZpZyBpdGVtcyBjb250YWluZXIgLSBmdWxsIHdpZHRoLCBsZWZ0IGFsaWduZWRcclxuXHRcdFx0Y29uc3QgY29uZmlnSXRlbXMgPSBzZXR0aW5nLnNldHRpbmdFbC5jcmVhdGVEaXYoJ2NvbmZpZy1pdGVtcycpO1xyXG5cdFx0XHRjb25maWdJdGVtcy5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcclxuXHRcdFx0XHRtYXJnaW5Cb3R0b206ICcwJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFRlbXBsYXRlXHJcblx0XHRcdGNvbnN0IHRlbXBsYXRlSXRlbSA9IGNvbmZpZ0l0ZW1zLmNyZWF0ZURpdignY29uZmlnLWl0ZW0nKTtcclxuXHRcdFx0dGVtcGxhdGVJdGVtLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdUZW1wbGF0ZTogJyB9KTtcclxuXHRcdFx0dGVtcGxhdGVJdGVtLmNyZWF0ZVNwYW4oeyB0ZXh0OiBURU1QTEFURV9PUFRJT05TLmZpbmQodCA9PiB0LmlkID09PSBzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUpPy5uYW1lIHx8ICdVbmtub3duJyB9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFRoZW1lXHJcblx0XHRcdGNvbnN0IHRoZW1lSXRlbSA9IGNvbmZpZ0l0ZW1zLmNyZWF0ZURpdignY29uZmlnLWl0ZW0nKTtcclxuXHRcdFx0dGhlbWVJdGVtLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdUaGVtZTogJyB9KTtcclxuXHRcdFx0dGhlbWVJdGVtLmNyZWF0ZVNwYW4oeyB0ZXh0OiBUSEVNRV9PUFRJT05TLmZpbmQodCA9PiB0LmlkID09PSBzZXR0aW5ncy5jdXJyZW50VGhlbWUpPy5uYW1lIHx8ICdVbmtub3duJyB9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIE9yZ2FuaXphdGlvblxyXG5cdFx0XHRjb25zdCBvcmdJdGVtID0gY29uZmlnSXRlbXMuY3JlYXRlRGl2KCdjb25maWctaXRlbScpO1xyXG5cdFx0XHRvcmdJdGVtLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdPcmdhbml6YXRpb246ICcgfSk7XHJcblx0XHRcdG9yZ0l0ZW0uY3JlYXRlU3Bhbih7IHRleHQ6IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24gPT09ICdmaWxlLWJhc2VkJyA/ICdGaWxlLWJhc2VkJyA6ICdGb2xkZXItYmFzZWQnIH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gRGVwbG95bWVudFxyXG5cdFx0XHRjb25zdCBkZXBsb3ltZW50SXRlbSA9IGNvbmZpZ0l0ZW1zLmNyZWF0ZURpdignY29uZmlnLWl0ZW0nKTtcclxuXHRcdFx0ZGVwbG95bWVudEl0ZW0uY3JlYXRlRWwoJ3N0cm9uZycsIHsgdGV4dDogJ0RlcGxveW1lbnQ6ICcgfSk7XHJcblx0XHRcdGRlcGxveW1lbnRJdGVtLmNyZWF0ZVNwYW4oeyB0ZXh0OiB0aGlzLmZvcm1hdERlcGxveW1lbnROYW1lKHNldHRpbmdzLmRlcGxveW1lbnQucGxhdGZvcm0pIH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gU2l0ZSB0aXRsZVxyXG5cdFx0XHRjb25zdCBzaXRlVGl0bGVJdGVtID0gY29uZmlnSXRlbXMuY3JlYXRlRGl2KCdjb25maWctaXRlbScpO1xyXG5cdFx0XHRzaXRlVGl0bGVJdGVtLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdTaXRlIHRpdGxlOiAnIH0pO1xyXG5cdFx0XHRzaXRlVGl0bGVJdGVtLmNyZWF0ZVNwYW4oeyB0ZXh0OiBzZXR0aW5ncy5zaXRlSW5mby50aXRsZSB9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIFNpdGUgVVJMXHJcblx0XHRcdGNvbnN0IHNpdGVVcmxJdGVtID0gY29uZmlnSXRlbXMuY3JlYXRlRGl2KCdjb25maWctaXRlbScpO1xyXG5cdFx0XHRzaXRlVXJsSXRlbS5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnU2l0ZSBVUkw6ICcgfSk7IC8vIFVSTCBpcyBhbiBhY3JvbnltLCBrZWVwIHVwcGVyY2FzZVxyXG5cdFx0XHRzaXRlVXJsSXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogc2V0dGluZ3Muc2l0ZUluZm8uc2l0ZSB9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFdpemFyZCBzZXR0aW5ncyBncm91cFxyXG5cdFx0Y29uc3Qgd2l6YXJkR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ1dpemFyZCcsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XHJcblx0XHRcclxuXHRcdC8vIFJ1biBzZXR1cCB3aXphcmQgYnV0dG9uXHJcblx0XHR3aXphcmRHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2V0dXAgd2l6YXJkJylcclxuXHRcdFx0XHQuc2V0RGVzYygnUnVuIHRoZSBzZXR1cCB3aXphcmQgdG8gcmVjb25maWd1cmUgeW91ciB0aGVtZScpXHJcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnUnVuIHNldHVwIHdpemFyZCcpXHJcblx0XHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB3ZSBoYXZlIHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRcdFx0XHRcdGNvbnN0IHBsdWdpbiA9IHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbjtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKS50aGVuKChkYXRhOiBQYXJ0aWFsPEFzdHJvTW9kdWxhclNldHRpbmdzPiB8IG51bGwpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0T2JqZWN0LmFzc2lnbihwbHVnaW4uc2V0dGluZ3MsIGRhdGEpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHdpemFyZCA9IG5ldyBTZXR1cFdpemFyZE1vZGFsKHRoaXMuYXBwLCBwbHVnaW4pO1xyXG5cdFx0XHRcdFx0XHR3aXphcmQub3BlbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUnVuIHdpemFyZCBvbiBzdGFydHVwXHJcblx0XHR3aXphcmRHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUnVuIHdpemFyZCBvbiBzdGFydHVwJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyB0aGUgc2V0dXAgd2l6YXJkIHdoZW4gT2JzaWRpYW4gc3RhcnRzIChpZiBub3QgZGlzYWJsZWQpJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5ydW5XaXphcmRPblN0YXJ0dXApXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnJ1bldpemFyZE9uU3RhcnR1cCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBSZW1vdmUgcmliYm9uIGljb24gdG9nZ2xlXHJcblx0XHR3aXphcmRHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUmVtb3ZlIHJpYmJvbiBpY29uJylcclxuXHRcdFx0XHQuc2V0RGVzYygnUmVtb3ZlIHRoZSB3aXphcmQgaWNvbiBmcm9tIHRoZSBsZWZ0IHJpYmJvbicpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucmVtb3ZlUmliYm9uSWNvbiA/PyBmYWxzZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucmVtb3ZlUmliYm9uSWNvbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSByaWJib24gaWNvbiBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdFx0XHRjb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XHJcblx0XHRcdFx0XHRcdGlmIChwbHVnaW4udXBkYXRlUmliYm9uSWNvbikge1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHBsdWdpbi51cGRhdGVSaWJib25JY29uKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmb3JtYXREZXBsb3ltZW50TmFtZShkZXBsb3ltZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0c3dpdGNoIChkZXBsb3ltZW50KSB7XHJcblx0XHRcdGNhc2UgJ25ldGxpZnknOlxyXG5cdFx0XHRcdHJldHVybiAnTmV0bGlmeSc7XHJcblx0XHRcdGNhc2UgJ3ZlcmNlbCc6XHJcblx0XHRcdFx0cmV0dXJuICdWZXJjZWwnO1xyXG5cdFx0XHRjYXNlICdnaXRodWItcGFnZXMnOlxyXG5cdFx0XHRcdHJldHVybiAnR2l0SHViIFBhZ2VzJztcclxuXHRcdFx0Y2FzZSAnY2xvdWRmbGFyZS13b3JrZXJzJzpcclxuXHRcdFx0XHRyZXR1cm4gJ0Nsb3VkZmxhcmUgV29ya2Vycyc7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIGRlcGxveW1lbnQ7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBOb3RpY2UsIE1vZGFsLCBzZXRJY29uLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgVGFiUmVuZGVyZXIgfSBmcm9tICcuLi9jb21tb24vVGFiUmVuZGVyZXInO1xuaW1wb3J0IHsgQXN0cm9Nb2R1bGFyUGx1Z2luLCBPYnNpZGlhblZhdWx0QWRhcHRlciB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IGNyZWF0ZVNldHRpbmdzR3JvdXAgfSBmcm9tICcuLi8uLi91dGlscy9zZXR0aW5ncy1jb21wYXQnO1xuLy8gQnVmZmVyIGlzIGF2YWlsYWJsZSBpbiBOb2RlLmpzIGVudmlyb25tZW50XG4vLyBCdWZmZXIgaXMgYXZhaWxhYmxlIGluIE5vZGUuanMgZW52aXJvbm1lbnRcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50LCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbmNvbnN0IEJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjtcblxuZXhwb3J0IGNsYXNzIFNpdGVJbmZvVGFiIGV4dGVuZHMgVGFiUmVuZGVyZXIge1xuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gRmlyc3QgZ3JvdXA6IEdyb3VwIGluaXRpYWwgc2V0dGluZ3Mgd2l0aCBubyBoZWFkaW5nXG5cdFx0Y29uc3Qgc2l0ZUluZm9Hcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCB1bmRlZmluZWQsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XG5cblx0XHQvLyBTaXRlIFVSTFxuXHRcdHNpdGVJbmZvR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnU2l0ZSBVUkwnKVxuXHRcdFx0XHQuc2V0RGVzYygnWW91ciBzaXRlXFwncyBiYXNlIFVSTCAoZS5nLiwgaHR0cHM6Ly95b3Vyc2l0ZS5jb20pJylcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy5zaXRlSW5mby5zaXRlKTtcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLnNpdGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIFNpdGUgVGl0bGVcblx0XHRzaXRlSW5mb0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ1NpdGUgdGl0bGUnKVxuXHRcdFx0XHQuc2V0RGVzYygnWW91ciBzaXRlXFwncyB0aXRsZScpXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3Muc2l0ZUluZm8udGl0bGUpO1xuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8udGl0bGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIFNpdGUgRGVzY3JpcHRpb25cblx0XHRzaXRlSW5mb0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ1NpdGUgZGVzY3JpcHRpb24nKVxuXHRcdFx0XHQuc2V0RGVzYygnQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIHNpdGUnKVxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLnNpdGVJbmZvLmRlc2NyaXB0aW9uKTtcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLmRlc2NyaXB0aW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBBdXRob3IgTmFtZVxuXHRcdHNpdGVJbmZvR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnQXV0aG9yIG5hbWUnKVxuXHRcdFx0XHQuc2V0RGVzYygnWW91ciBuYW1lIG9yIHRoZSBzaXRlIGF1dGhvclxcJ3MgbmFtZScpXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3Muc2l0ZUluZm8uYXV0aG9yKTtcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLmF1dGhvciA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gTGFuZ3VhZ2UgLSBsYXN0IHNldHRpbmcgaW4gZ3JvdXAgd2l0aG91dCBoZWFkaW5nLCBhZGQgYm90dG9tIG1hcmdpblxuXHRcdHNpdGVJbmZvR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnTGFuZ3VhZ2UgY29kZScpXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0LnNldERlc2MoJ1lvdXIgc2l0ZVxcJ3MgcHJpbWFyeSBsYW5ndWFnZSAoSVNPIDYzOS0xIGNvZGUpJylcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy5zaXRlSW5mby5sYW5ndWFnZSk7XG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5sYW5ndWFnZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0Ly8gQWRkIGJvdHRvbSBtYXJnaW4gdG8gbGFzdCBzZXR0aW5nIGluIGdyb3VwIHdpdGhvdXQgaGVhZGluZyB0byBjcmVhdGUgc3BhY2UgYmVmb3JlIG5leHQgaGVhZGluZ1xuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRtYXJnaW5Cb3R0b206ICd2YXIoLS1zaXplLTQtNiknXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIEFzc2V0cyAmIE1ldGFkYXRhIHNlY3Rpb24gLSBjcmVhdGUgaGVhZGVyIHdpdGggZmxvYXRpbmcgYnV0dG9uIHVzaW5nIFNldHRpbmcgcGF0dGVyblxuXHRcdGNvbnN0IGFzc2V0c1NlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KCdhc3NldHMtc2VjdGlvbicpO1xuXHRcdGNvbnN0IGFzc2V0c0hlYWRlclNldHRpbmcgPSBuZXcgU2V0dGluZyhhc3NldHNTZWN0aW9uKVxuXHRcdFx0LnNldEhlYWRpbmcoKVxuXHRcdFx0LnNldE5hbWUoJ0Fzc2V0cyAmIG1ldGFkYXRhJyk7XG5cdFx0YXNzZXRzSGVhZGVyU2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0bWFyZ2luVG9wOiAndmFyKC0tc2l6ZS00LTYpJyxcblx0XHRcdG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNpemUtNC0yKScsXG5cdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIEFkZCBmb2xkZXIgYnV0dG9uIHRvIHRoZSBoZWFkaW5nJ3MgY29udHJvbCBhcmVhXG5cdFx0Y29uc3Qgc2hhcmVkRm9sZGVyQnV0dG9uID0gYXNzZXRzSGVhZGVyU2V0dGluZy5jb250cm9sRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdGNsczogJ2NsaWNrYWJsZS1pY29uJyxcblx0XHRcdGF0dHI6IHsgJ2FyaWEtbGFiZWwnOiAnT3BlbiBwdWJsaWMgZm9sZGVyJyB9XG5cdFx0fSk7XG5cdFx0c2hhcmVkRm9sZGVyQnV0dG9uLnNldENzc1Byb3BzKHtcblx0XHRcdHBhZGRpbmc6ICc0cHgnLFxuXHRcdFx0Ym9yZGVyOiAnbm9uZScsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG5cdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtbm9ybWFsKScsXG5cdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRhbGlnbkl0ZW1zOiAnY2VudGVyJyxcblx0XHRcdGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcblx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0cmlnaHQ6ICcwJyxcblx0XHRcdHRvcDogJzUwJScsXG5cdFx0XHR0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKC01MCUpJ1xuXHRcdH0pO1xuXHRcdFxuXHRcdHNldEljb24oc2hhcmVkRm9sZGVyQnV0dG9uLCAnZm9sZGVyJyk7XG5cdFx0XG5cdFx0c2hhcmVkRm9sZGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y29uc3QgcHVibGljUGF0aCA9ICcuLi8uLi9wdWJsaWMnO1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG5cdFx0XHR2b2lkICgodGhpcy5hcHAgYXMgYW55KS5vcGVuV2l0aERlZmF1bHRBcHA/LihwdWJsaWNQYXRoKSA/PyBQcm9taXNlLnJlc29sdmUoKSkuY2F0Y2goKGVycm9yOiB1bmtub3duKSA9PiB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBvcGVuIHB1YmxpYyBmb2xkZXI6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBBc3NldHMgJiBNZXRhZGF0YSBncm91cCB3aXRob3V0IGhlYWRpbmcgKGhlYWRpbmcgaXMgbm93IHNlcGFyYXRlKVxuXHRcdGNvbnN0IGFzc2V0c0dyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChhc3NldHNTZWN0aW9uLCB1bmRlZmluZWQsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XG5cblx0XHQvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29weSBmaWxlIHRvIHB1YmxpYyBmb2xkZXJcblx0XHRjb25zdCBjb3B5SW1hZ2VUb1B1YmxpYyA9IGFzeW5jIChzb3VyY2VQYXRoOiBzdHJpbmcsIHRhcmdldEZpbGVOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxuXHRcdFx0XHRjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJykgYXMgdHlwZW9mIGltcG9ydCgnZnMnKTtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIG5vLXVuZGVmXG5cdFx0XHRcdGNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJykgYXMgdHlwZW9mIGltcG9ydCgncGF0aCcpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gR2V0IHZhdWx0IHBhdGhcblx0XHRcdFx0Y29uc3QgdmF1bHRBZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyB1bmtub3duIGFzIE9ic2lkaWFuVmF1bHRBZGFwdGVyO1xuXHRcdFx0XHRjb25zdCB2YXVsdFBhdGggPSB2YXVsdEFkYXB0ZXIuYmFzZVBhdGggfHwgdmF1bHRBZGFwdGVyLnBhdGg7XG5cdFx0XHRcdGNvbnN0IHZhdWx0UGF0aFN0cmluZyA9IHR5cGVvZiB2YXVsdFBhdGggPT09ICdzdHJpbmcnID8gdmF1bHRQYXRoIDogU3RyaW5nKHZhdWx0UGF0aCA/PyAnJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBQdWJsaWMgZm9sZGVyIHBhdGggKHR3byBsZXZlbHMgdXAgZnJvbSB2YXVsdCwgdGhlbiBpbnRvIHB1YmxpYylcblx0XHRcdFx0Y29uc3QgcHVibGljRm9sZGVyUGF0aCA9IHBhdGguam9pbih2YXVsdFBhdGhTdHJpbmcsICcuLicsICcuLicsICdwdWJsaWMnKTtcblx0XHRcdFx0Y29uc3QgdGFyZ2V0UGF0aCA9IHBhdGguam9pbihwdWJsaWNGb2xkZXJQYXRoLCB0YXJnZXRGaWxlTmFtZSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBFbnN1cmUgcHVibGljIGZvbGRlciBleGlzdHNcblx0XHRcdFx0aWYgKCFmcy5leGlzdHNTeW5jKHB1YmxpY0ZvbGRlclBhdGgpKSB7XG5cdFx0XHRcdFx0ZnMubWtkaXJTeW5jKHB1YmxpY0ZvbGRlclBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBDb3B5IGZpbGVcblx0XHRcdFx0ZnMuY29weUZpbGVTeW5jKHNvdXJjZVBhdGgsIHRhcmdldFBhdGgpO1xuXHRcdFx0XHRuZXcgTm90aWNlKGBTdWNjZXNzZnVsbHkgY29waWVkICR7dGFyZ2V0RmlsZU5hbWV9IHRvIHB1YmxpYyBmb2xkZXJgKTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNvcHkgZmlsZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIEhlbHBlciBmdW5jdGlvbiB0byBzaG93IGZpbGUgcGlja2VyIGRpYWxvZ1xuXHRcdGNvbnN0IHNob3dGaWxlUGlja2VyID0gYXN5bmMgKHRhcmdldEZpbGVOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcblx0XHRcdGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cdFx0XHRmaWxlSW5wdXQudHlwZSA9ICdmaWxlJztcblx0XHRcdGZpbGVJbnB1dC5hY2NlcHQgPSAnLnBuZyc7XG5cdFx0XHRcblx0XHRcdC8vIFN0b3JlIGZpbGUgcmVmZXJlbmNlIG91dHNpZGUgdGhlIGV2ZW50IGhhbmRsZXJcblx0XHRcdGxldCBzZWxlY3RlZEZpbGU6IEZpbGUgfCBudWxsID0gbnVsbDtcblx0XHRcdFxuXHRcdFx0ZmlsZUlucHV0Lm9uY2hhbmdlID0gKGUpID0+IHtcblx0XHRcdFx0Y29uc3QgZmlsZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5maWxlcz8uWzBdO1xuXHRcdFx0XHRpZiAoZmlsZSkge1xuXHRcdFx0XHRcdGlmICghZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy5wbmcnKSkge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnUGxlYXNlIHNlbGVjdCBhIFBORyBmaWxlJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFN0b3JlIHRoZSBmaWxlIHJlZmVyZW5jZVxuXHRcdFx0XHRcdHNlbGVjdGVkRmlsZSA9IGZpbGU7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gU2hvdyBjb25maXJtYXRpb24gbW9kYWwgYmVmb3JlIGNvcHlpbmdcblx0XHRcdFx0XHQvLyBVc2Ugc2V0VGltZW91dCB0byBlbnN1cmUgZmlsZSBwaWNrZXIgZGlhbG9nIGhhcyBjbG9zZWRcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGNvbmZpcm1Nb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmFwcCk7XG5cdFx0XHRcdFx0XHRjb25maXJtTW9kYWwudGl0bGVFbC5zZXRUZXh0KCdSZXBsYWNlIGltYWdlJyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGNvbnN0IGNvbnRlbnREaXYgPSBjb25maXJtTW9kYWwuY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdFx0XHRcdFx0Y29udGVudERpdi5jcmVhdGVFbCgncCcsIHsgXG5cdFx0XHRcdFx0XHRcdHRleHQ6IGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVwbGFjZSAke3RhcmdldEZpbGVOYW1lfSBpbiB0aGUgcHVibGljIGZvbGRlciB3aXRoIHRoZSBuZXcgaW1hZ2U/YCBcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RGl2LmNyZWF0ZURpdigpO1xuXHRcdFx0XHRcdFx0YnV0dG9uQ29udGFpbmVyLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0bWFyZ2luVG9wOiAnMjBweCcsXG5cdFx0XHRcdFx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdFx0XHRcdFx0Z2FwOiAnMTBweCcsXG5cdFx0XHRcdFx0XHRcdGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gQ2FuY2VsIGJ1dHRvblxuXHRcdFx0XHRcdFx0Y29uc3QgY2FuY2VsQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDYW5jZWwnIH0pO1xuXHRcdFx0XHRcdFx0Y2FuY2VsQnV0dG9uLmNsYXNzTmFtZSA9ICdtb2QtYnV0dG9uJztcblx0XHRcdFx0XHRcdGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0Y29uZmlybU1vZGFsLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gQ29uZmlybSBidXR0b25cblx0XHRcdFx0XHRcdGNvbnN0IGNvbmZpcm1CdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1JlcGxhY2UnIH0pO1xuXHRcdFx0XHRcdFx0Y29uZmlybUJ1dHRvbi5jbGFzc05hbWUgPSAnbW9kLXdhcm5pbmcnO1xuXHRcdFx0XHRcdFx0Y29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0Y29uZmlybU1vZGFsLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRpZiAoIXNlbGVjdGVkRmlsZSkge1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0ZpbGUgc2VsZWN0aW9uIHdhcyBsb3N0LiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKSBhcyB0eXBlb2YgaW1wb3J0KCdmcycpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIG5vLXVuZGVmXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpIGFzIHR5cGVvZiBpbXBvcnQoJ3BhdGgnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gVHJ5IHRvIGdldCBwYXRoIGZyb20gZmlsZSBvYmplY3QgKHdvcmtzIGluIEVsZWN0cm9uKVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm90ZTogVEZpbGUgZG9lc24ndCBoYXZlIGEgcGF0aCBwcm9wZXJ0eSBpbiBPYnNpZGlhbiBBUEksIGJ1dCBzb21lIGltcGxlbWVudGF0aW9ucyBtYXkgaGF2ZSBpdFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZmlsZVBhdGggPSAoc2VsZWN0ZWRGaWxlIGFzIHVua25vd24gYXMgeyBwYXRoPzogc3RyaW5nIH0pLnBhdGg7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZmlsZVBhdGgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgY29weUltYWdlVG9QdWJsaWMoZmlsZVBhdGgsIHRhcmdldEZpbGVOYW1lKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElmIG5vIHBhdGgsIHJlYWQgZmlsZSBjb250ZW50IGFuZCB3cml0ZSBpdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHNlbGVjdGVkRmlsZS5hcnJheUJ1ZmZlcigpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50LCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWNhbGwsIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB2YXVsdEFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIHVua25vd24gYXMgT2JzaWRpYW5WYXVsdEFkYXB0ZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHZhdWx0UGF0aCA9IHZhdWx0QWRhcHRlci5iYXNlUGF0aCB8fCB2YXVsdEFkYXB0ZXIucGF0aDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdmF1bHRQYXRoU3RyaW5nID0gdHlwZW9mIHZhdWx0UGF0aCA9PT0gJ3N0cmluZycgPyB2YXVsdFBhdGggOiBTdHJpbmcodmF1bHRQYXRoID8/ICcnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcHVibGljRm9sZGVyUGF0aCA9IHBhdGguam9pbih2YXVsdFBhdGhTdHJpbmcsICcuLicsICcuLicsICdwdWJsaWMnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGFyZ2V0UGF0aCA9IHBhdGguam9pbihwdWJsaWNGb2xkZXJQYXRoLCB0YXJnZXRGaWxlTmFtZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWZzLmV4aXN0c1N5bmMocHVibGljRm9sZGVyUGF0aCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmcy5ta2RpclN5bmMocHVibGljRm9sZGVyUGF0aCwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZzLndyaXRlRmlsZVN5bmModGFyZ2V0UGF0aCwgYnVmZmVyKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgU3VjY2Vzc2Z1bGx5IGNvcGllZCAke3RhcmdldEZpbGVOYW1lfSB0byBwdWJsaWMgZm9sZGVyYCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gY29weSBmaWxlOiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBTdHJpbmcoZXJyKX1gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gT3BlbiB0aGUgbW9kYWxcblx0XHRcdFx0XHRcdGNvbmZpcm1Nb2RhbC5vcGVuKCk7XG5cdFx0XHRcdFx0fSwgMTAwKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdFxuXHRcdFx0ZmlsZUlucHV0LmNsaWNrKCk7XG5cdFx0fTtcblxuXHRcdC8vIE9wZW4gR3JhcGggSW1hZ2Vcblx0XHRhc3NldHNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdPcGVuIGdyYXBoIGltYWdlJylcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiUE5HXCIgaXMgYW4gYWNyb255bSBhbmQgc2hvdWxkIGJlIHVwcGVyY2FzZVxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdC5zZXREZXNjKCdTZWxlY3QgYSBQTkcgaW1hZ2UgdG8gcmVwbGFjZSBvcGVuLWdyYXBoLnBuZyBpbiB0aGUgcHVibGljIGZvbGRlciAocmVjb21tZW5kZWQ6IDEyMDAgeCA2MzAgcGl4ZWxzKScpO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBvZ0ltYWdlQnV0dG9uID0gc2V0dGluZy5jb250cm9sRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdFx0dGV4dDogJ1NlbGVjdCBQTkcgZmlsZScsXG5cdFx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0b2dJbWFnZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0dm9pZCBzaG93RmlsZVBpY2tlcignb3Blbi1ncmFwaC5wbmcnKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gT3BlbiBHcmFwaCBJbWFnZSBBbHQgVGV4dFxuXHRcdGFzc2V0c0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiT3BlbiBHcmFwaFwiIGlzIGEgcHJvcGVyIG5vdW4gKE9HIGZvcm1hdCBzdGFuZGFyZClcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHQuc2V0TmFtZSgnT3BlbiBHcmFwaCBpbWFnZSBhbHQgdGV4dCcpXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIk9wZW4gR3JhcGhcIiBpcyBhIHRlY2huaWNhbCB0ZXJtIChPRyBpbWFnZSBzdGFuZGFyZCkgYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdC5zZXREZXNjKCdBbHRlcm5hdGl2ZSB0ZXh0IGZvciB0aGUgT3BlbiBHcmFwaCBpbWFnZScpXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3Muc2l0ZUluZm8uZGVmYXVsdE9nSW1hZ2VBbHQgfHwgc2V0dGluZ3Muc2VvPy5kZWZhdWx0T2dJbWFnZUFsdCB8fCAnQXN0cm8gTW9kdWxhciBsb2dvLicpO1xuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8uZGVmYXVsdE9nSW1hZ2VBbHQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3Muc2VvKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNlbyA9IHsgZGVmYXVsdE9nSW1hZ2VBbHQ6ICcnIH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5zZW8uZGVmYXVsdE9nSW1hZ2VBbHQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIk9wZW4gR3JhcGhcIiBpcyBhIHRlY2huaWNhbCB0ZXJtIChPRyBpbWFnZSBzdGFuZGFyZCkgYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxuXHRcdFx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdPcGVuIEdyYXBoIGltYWdlIGFsdCB0ZXh0IHVwZGF0ZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIk9wZW4gR3JhcGhcIiBpcyBhIHRlY2huaWNhbCB0ZXJtIChPRyBpbWFnZSBzdGFuZGFyZCkgYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxuXHRcdFx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdPcGVuIEdyYXBoIGltYWdlIGFsdCB0ZXh0IHVwZGF0ZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIEZhdmljb24gKGFsd2F5cyB2aXNpYmxlIC0gdXNlZCBhcyBmYWxsYmFjayB3aGVuIHRoZW1lLWFkYXB0aXZlIGlzIGVuYWJsZWQpXG5cdFx0YXNzZXRzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnRmF2aWNvbicpXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIlBOR1wiIGlzIGFuIGFjcm9ueW0gYW5kIHNob3VsZCBiZSB1cHBlcmNhc2Vcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHQuc2V0RGVzYygnU2VsZWN0IGEgUE5HIGltYWdlIHRvIHJlcGxhY2UgZmF2aWNvbi5wbmcgaW4gdGhlIHB1YmxpYyBmb2xkZXIgKHJlY29tbWVuZGVkOiAyNTYgeCAyNTYgcGl4ZWxzKS4gU3RhbmRhcmQgZmF2aWNvbiBpcyB1c2VkIHdoZW4gYnJvd3NlciBwcmVmZXJlbmNlIGNhbm5vdCBiZSBkZXRlcm1pbmVkLicpO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBmYXZpY29uQnV0dG9uID0gc2V0dGluZy5jb250cm9sRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdFx0dGV4dDogJ1NlbGVjdCBQTkcgZmlsZScsXG5cdFx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0ZmF2aWNvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0dm9pZCBzaG93RmlsZVBpY2tlcignZmF2aWNvbi5wbmcnKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gVGhlbWUtYWRhcHRpdmUgZmF2aWNvbiB0b2dnbGVcblx0XHRhc3NldHNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdUaGVtZS1hZGFwdGl2ZSBmYXZpY29uJylcblx0XHRcdFx0LnNldERlc2MoJ0lmIGVuYWJsZWQsIGZhdmljb24gc3dpdGNoZXMgYmV0d2VlbiBsaWdodCBhbmQgZGFyayB2YXJpYW50cyBiYXNlZCBvbiBicm93c2VyIHRoZW1lIHByZWZlcmVuY2UuIFN0YW5kYXJkIGZhdmljb24gaXMgdXNlZCB3aGVuIGJyb3dzZXJcXCdzIHByZWZlcmVuY2UgY2Fubm90IGJlIGRldGVybWluZWQuJylcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnNpdGVJbmZvLmZhdmljb25UaGVtZUFkYXB0aXZlID8/IHRydWUpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8uZmF2aWNvblRoZW1lQWRhcHRpdmUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgVGhlbWUtYWRhcHRpdmUgZmF2aWNvbiAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XG5cdFx0XHRcdFx0fSkpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gTGlnaHQvRGFyayBmYXZpY29uIGZpZWxkcyAob25seSBzaG93biB3aGVuIHRoZW1lLWFkYXB0aXZlIGlzIGVuYWJsZWQpXG5cdFx0aWYgKHNldHRpbmdzLnNpdGVJbmZvLmZhdmljb25UaGVtZUFkYXB0aXZlID8/IHRydWUpIHtcblx0XHRcdC8vIExpZ2h0IHRoZW1lIGZhdmljb25cblx0XHRcdGFzc2V0c0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdFx0c2V0dGluZ1xuXHRcdFx0XHRcdC5zZXROYW1lKCdMaWdodCB0aGVtZSBmYXZpY29uJylcblx0XHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJQTkdcIiBpcyBhbiBhY3JvbnltIGFuZCBzaG91bGQgYmUgdXBwZXJjYXNlXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHRcdC5zZXREZXNjKCdTZWxlY3QgYSBQTkcgaW1hZ2UgdG8gcmVwbGFjZSBmYXZpY29uLWxpZ2h0LnBuZyBpbiB0aGUgcHVibGljIGZvbGRlciAocmVjb21tZW5kZWQ6IDI1NiB4IDI1NiBwaXhlbHMpJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBmYXZpY29uTGlnaHRCdXR0b24gPSBzZXR0aW5nLmNvbnRyb2xFbC5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0XHRcdHRleHQ6ICdTZWxlY3QgUE5HIGZpbGUnLFxuXHRcdFx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0ZmF2aWNvbkxpZ2h0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRcdHZvaWQgc2hvd0ZpbGVQaWNrZXIoJ2Zhdmljb24tbGlnaHQucG5nJyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIERhcmsgdGhlbWUgZmF2aWNvblxuXHRcdFx0YXNzZXRzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRzZXR0aW5nXG5cdFx0XHRcdFx0LnNldE5hbWUoJ0RhcmsgdGhlbWUgZmF2aWNvbicpXG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiUE5HXCIgaXMgYW4gYWNyb255bSBhbmQgc2hvdWxkIGJlIHVwcGVyY2FzZVxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0XHQuc2V0RGVzYygnU2VsZWN0IGEgUE5HIGltYWdlIHRvIHJlcGxhY2UgZmF2aWNvbi1kYXJrLnBuZyBpbiB0aGUgcHVibGljIGZvbGRlciAocmVjb21tZW5kZWQ6IDI1NiB4IDI1NiBwaXhlbHMpJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBmYXZpY29uRGFya0J1dHRvbiA9IHNldHRpbmcuY29udHJvbEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRcdFx0dGV4dDogJ1NlbGVjdCBQTkcgZmlsZScsXG5cdFx0XHRcdFx0Y2xzOiAnbW9kLWN0YSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRmYXZpY29uRGFya0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHR2b2lkIHNob3dGaWxlUGlja2VyKCdmYXZpY29uLWRhcmsucG5nJyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgU2V0dGluZywgTm90aWNlLCBzZXRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBBc3Ryb01vZHVsYXJQbHVnaW4sIE5hdmlnYXRpb25JdGVtIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBUYWJSZW5kZXJlciB9IGZyb20gJy4uL2NvbW1vbi9UYWJSZW5kZXJlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVNldHRpbmdzR3JvdXAgfSBmcm9tICcuLi8uLi91dGlscy9zZXR0aW5ncy1jb21wYXQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25UYWIgZXh0ZW5kcyBUYWJSZW5kZXJlciB7XHJcblx0cHJpdmF0ZSBzYXZlVGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHRwcml2YXRlIGxpc3RlbmVyc0F0dGFjaGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHQvLyBDbGVhciB0aGUgY29udGFpbmVyIGFuZCByZXNldCBsaXN0ZW5lcnMgZmxhZ1xyXG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XHJcblx0XHR0aGlzLmxpc3RlbmVyc0F0dGFjaGVkID0gZmFsc2U7XHJcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuXHJcblx0XHQvLyBOYXZpZ2F0aW9uIHBhZ2VzIHNlY3Rpb25cclxuXHRcdGNvbnN0IHBhZ2VzU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3NldHRpbmdzLXNlY3Rpb24nKTtcclxuXHRcdFxyXG5cdFx0Ly8gTmF2aWdhdGlvbiBQYWdlcyBoZWFkaW5nXHJcblx0XHRuZXcgU2V0dGluZyhwYWdlc1NlY3Rpb24pXHJcblx0XHRcdC5zZXRIZWFkaW5nKClcclxuXHRcdFx0LnNldE5hbWUoJ05hdmlnYXRpb24gcGFnZXMnKVxyXG5cdFx0XHQuc2V0RGVzYygnQWRkIG9yIHJlbW92ZSBwYWdlcyBmcm9tIHlvdXIgbWFpbiBuYXZpZ2F0aW9uIG1lbnUuJyk7XHJcblxyXG5cdFx0Ly8gRGlzcGxheSBleGlzdGluZyBwYWdlcyB1c2luZyBwcm9ncmFtbWF0aWMgRE9NIGNyZWF0aW9uXHJcblx0XHRjb25zdCBwYWdlc0xpc3QgPSBwYWdlc1NlY3Rpb24uY3JlYXRlRGl2KCduYXYtaXRlbXMnKTtcclxuXHRcdHBhZ2VzTGlzdC5pZCA9ICdwYWdlcy1saXN0JztcclxuXHRcdFxyXG5cdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlcy5mb3JFYWNoKChwYWdlLCBpbmRleCkgPT4ge1xyXG5cdFx0XHR0aGlzLnJlbmRlclBhZ2VJdGVtKHBhZ2VzTGlzdCwgcGFnZSwgaW5kZXgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIHBhZ2UgYnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhwYWdlc1NlY3Rpb24pXHJcblx0XHRcdC5zZXROYW1lKCdBZGQgcGFnZScpXHJcblx0XHRcdC5zZXREZXNjKCdBZGQgYSBuZXcgcGFnZSB0byB5b3VyIG5hdmlnYXRpb24nKVxyXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG5cdFx0XHRcdFx0Ly8gXCIrIEFkZCBwYWdlXCIgaXMgYSBidXR0b24gbGFiZWwsIGtlZXAgYXMgaXNcclxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCcrIEFkZCBwYWdlJylcclxuXHRcdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzLnB1c2goeyB0aXRsZTogJ05ldyBQYWdlJywgdXJsOiAnL25ldy1wYWdlJyB9KTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdOYXZpZ2F0aW9uIHBhZ2UgYWRkZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7IC8vIFJlLXJlbmRlclxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFNvY2lhbCBsaW5rcyBzZWN0aW9uXHJcblx0XHRjb25zdCBzb2NpYWxTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignc2V0dGluZ3Mtc2VjdGlvbicpO1xyXG5cdFx0XHJcblx0XHQvLyBTb2NpYWwgTGlua3MgaGVhZGluZ1xyXG5cdFx0bmV3IFNldHRpbmcoc29jaWFsU2VjdGlvbilcclxuXHRcdFx0LnNldEhlYWRpbmcoKVxyXG5cdFx0XHQuc2V0TmFtZSgnU29jaWFsIGxpbmtzJylcclxuXHRcdFx0LnNldERlc2MoJ0FkZCBvciByZW1vdmUgc29jaWFsIG1lZGlhIGxpbmtzLicpO1xyXG5cclxuXHRcdC8vIERpc3BsYXkgZXhpc3Rpbmcgc29jaWFsIGxpbmtzIHVzaW5nIHByb2dyYW1tYXRpYyBET00gY3JlYXRpb25cclxuXHRcdGNvbnN0IHNvY2lhbExpc3QgPSBzb2NpYWxTZWN0aW9uLmNyZWF0ZURpdignbmF2LWl0ZW1zJyk7XHJcblx0XHRzb2NpYWxMaXN0LmlkID0gJ3NvY2lhbC1saXN0JztcclxuXHRcdFxyXG5cdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5zb2NpYWwuZm9yRWFjaCgoc29jaWFsLCBpbmRleCkgPT4ge1xyXG5cdFx0XHR0aGlzLnJlbmRlclNvY2lhbEl0ZW0oc29jaWFsTGlzdCwgc29jaWFsLCBpbmRleCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgc29jaWFsIGxpbmsgYnV0dG9uXHJcblx0XHRuZXcgU2V0dGluZyhzb2NpYWxTZWN0aW9uKVxyXG5cdFx0XHQuc2V0TmFtZSgnQWRkIHNvY2lhbCBsaW5rJylcclxuXHRcdFx0LnNldERlc2MoJ0FkZCBhIG5ldyBzb2NpYWwgbWVkaWEgbGluaycpXHJcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcblx0XHRcdFx0XHQvLyBcIisgQWRkIHNvY2lhbCBsaW5rXCIgaXMgYSBidXR0b24gbGFiZWwsIGtlZXAgYXMgaXNcclxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCcrIEFkZCBzb2NpYWwgbGluaycpXHJcblx0XHRcdFx0XHQuc2V0Q3RhKClcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5zb2NpYWwucHVzaCh7IHRpdGxlOiAnTmV3IFNvY2lhbCcsIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCBpY29uOiAnJyB9KTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdTb2NpYWwgbGluayBhZGRlZCBhbmQgYXBwbGllZCB0byBjb25maWcudHMnKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTsgLy8gUmUtcmVuZGVyXHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cclxuXHRcdC8vIE5hdmlnYXRpb24gT3B0aW9ucyBncm91cCB3aXRoIGhlYWRpbmdcclxuXHRcdGNvbnN0IG5hdk9wdGlvbnNHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCAnTmF2aWdhdGlvbiBvcHRpb25zJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcclxuXHJcblx0XHQvLyBTaG93IG5hdmlnYXRpb24gdG9nZ2xlXHJcblx0XHRuYXZPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Nob3cgbmF2aWdhdGlvbicpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgbmF2aWdhdGlvbiBtZW51IG9uIHlvdXIgc2l0ZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TmF2aWdhdGlvbiA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnNob3dOYXZpZ2F0aW9uID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBOYXZpZ2F0aW9uICR7dmFsdWUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIE5hdmlnYXRpb24gc3R5bGUgZHJvcGRvd25cclxuXHRcdG5hdk9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnTmF2aWdhdGlvbiBzdHlsZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Nob29zZSBiZXR3ZWVuIG1pbmltYWwgb3IgdHJhZGl0aW9uYWwgbmF2aWdhdGlvbiBzdHlsZScpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCd0cmFkaXRpb25hbCcsICdUcmFkaXRpb25hbCcpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdtaW5pbWFsJywgJ01pbmltYWwnKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLm5hdmlnYXRpb24uc3R5bGUgfHwgJ3RyYWRpdGlvbmFsJylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5zdHlsZSA9IHZhbHVlIGFzICdtaW5pbWFsJyB8ICd0cmFkaXRpb25hbCc7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBOYXZpZ2F0aW9uIHN0eWxlIGNoYW5nZWQgdG8gJHt2YWx1ZX0gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTaG93IG1vYmlsZSBtZW51IHRvZ2dsZVxyXG5cdFx0bmF2T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTaG93IG1vYmlsZSBtZW51JylcclxuXHRcdFx0XHQuc2V0RGVzYygnRGlzcGxheSBtb2JpbGUgbmF2aWdhdGlvbiBtZW51IG9uIHNtYWxsZXIgc2NyZWVucycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TW9iaWxlTWVudSA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnNob3dNb2JpbGVNZW51ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBNb2JpbGUgbWVudSAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTZXR1cCBldmVudCBkZWxlZ2F0aW9uIGZvciBpbnB1dCBmaWVsZHMgYW5kIHJlbW92ZSBidXR0b25zXHJcblx0XHQvLyBUaGlzIG11c3QgYmUgZG9uZSBBRlRFUiBhbGwgRE9NIGVsZW1lbnRzIGFyZSBjcmVhdGVkXHJcblx0XHR0aGlzLnNldHVwRXZlbnREZWxlZ2F0aW9uKGNvbnRhaW5lcik7XHJcblx0XHRcclxuXHRcdC8vIERyYWcgYW5kIGRyb3AgZnVuY3Rpb25hbGl0eVxyXG5cdFx0dGhpcy5zZXR1cERyYWdBbmREcm9wKGNvbnRhaW5lcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldHVwRHJhZ0FuZERyb3AoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0bGV0IGRyYWdnZWRFbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG5cclxuXHRcdC8vIENyZWF0ZSBoYW5kbGVyc1xyXG5cdFx0Y29uc3QgZHJhZ1N0YXJ0SGFuZGxlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtaXRlbScpKSB7XHJcblx0XHRcdFx0ZHJhZ2dlZEVsZW1lbnQgPSB0YXJnZXQ7XHJcblx0XHRcdFx0dGFyZ2V0LnNldENzc1Byb3BzKHsgb3BhY2l0eTogJzAuNScgfSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgZHJhZ0VuZEhhbmRsZXIgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWl0ZW0nKSkge1xyXG5cdFx0XHRcdHRhcmdldC5zZXRDc3NQcm9wcyh7IG9wYWNpdHk6ICcxJyB9KTtcclxuXHRcdFx0XHRkcmFnZ2VkRWxlbWVudCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgZHJhZ092ZXJIYW5kbGVyID0gKGU6IERyYWdFdmVudCkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWl0ZW0nKSAmJiBkcmFnZ2VkRWxlbWVudCAmJiB0YXJnZXQgIT09IGRyYWdnZWRFbGVtZW50KSB7XHJcblx0XHRcdFx0Y29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRcdFx0XHRjb25zdCBtaWRwb2ludCA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIChlLmNsaWVudFkgPCBtaWRwb2ludCkge1xyXG5cdFx0XHRcdFx0dGFyZ2V0LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdFx0Ym9yZGVyVG9wOiAnMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCknLFxyXG5cdFx0XHRcdFx0XHRib3JkZXJCb3R0b206ICdub25lJ1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRhcmdldC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0XHRcdGJvcmRlckJvdHRvbTogJzJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJyxcclxuXHRcdFx0XHRcdFx0Ym9yZGVyVG9wOiAnbm9uZSdcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBkcmFnTGVhdmVIYW5kbGVyID0gKGU6IERyYWdFdmVudCkgPT4ge1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1pdGVtJykpIHtcclxuXHRcdFx0XHR0YXJnZXQuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0Ym9yZGVyVG9wOiAnbm9uZScsXHJcblx0XHRcdFx0XHRib3JkZXJCb3R0b206ICdub25lJ1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGRyb3BIYW5kbGVyID0gYXN5bmMgKGU6IERyYWdFdmVudCkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1pdGVtJykgJiYgZHJhZ2dlZEVsZW1lbnQpIHtcclxuXHRcdFx0XHRjb25zdCB0YXJnZXRJbmRleCA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdGNvbnN0IGRyYWdnZWRJbmRleCA9IHBhcnNlSW50KGRyYWdnZWRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0Y29uc3QgaXNQYWdlID0gdGFyZ2V0LmNsb3Nlc3QoJyNwYWdlcy1saXN0Jyk7XHJcblx0XHRcdFx0Y29uc3QgaXNTb2NpYWwgPSB0YXJnZXQuY2xvc2VzdCgnI3NvY2lhbC1saXN0Jyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gQ2xlYXIgdmlzdWFsIGluZGljYXRvcnNcclxuXHRcdFx0XHR0YXJnZXQuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0Ym9yZGVyVG9wOiAnbm9uZScsXHJcblx0XHRcdFx0XHRib3JkZXJCb3R0b206ICdub25lJ1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmICh0YXJnZXRJbmRleCAhPT0gZHJhZ2dlZEluZGV4KSB7XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50U2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRpZiAoaXNQYWdlKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG5ld1BhZ2VzID0gWy4uLmN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzXTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZHJhZ2dlZEl0ZW0gPSBuZXdQYWdlcy5zcGxpY2UoZHJhZ2dlZEluZGV4LCAxKVswXTtcclxuXHRcdFx0XHRcdFx0bmV3UGFnZXMuc3BsaWNlKHRhcmdldEluZGV4LCAwLCBkcmFnZ2VkSXRlbSk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlcyA9IG5ld1BhZ2VzO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpc1NvY2lhbCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBuZXdTb2NpYWwgPSBbLi4uY3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsXTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZHJhZ2dlZEl0ZW0gPSBuZXdTb2NpYWwuc3BsaWNlKGRyYWdnZWRJbmRleCwgMSlbMF07XHJcblx0XHRcdFx0XHRcdG5ld1NvY2lhbC5zcGxpY2UodGFyZ2V0SW5kZXgsIDAsIGRyYWdnZWRJdGVtKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbCA9IG5ld1NvY2lhbDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gU2F2ZSBjaGFuZ2VzXHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShjdXJyZW50U2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFJlLXJlbmRlciB0byB1cGRhdGUgZGF0YSBpbmRpY2VzIGFuZCB2aXN1YWwgb3JkZXJcclxuXHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIFJlbW92ZSBvbGQgaGFuZGxlcnMgaWYgdGhleSBleGlzdFxyXG5cdFx0aW50ZXJmYWNlIENvbnRhaW5lcldpdGhIYW5kbGVycyBleHRlbmRzIEhUTUxFbGVtZW50IHtcclxuXHRcdFx0X2RyYWdTdGFydEhhbmRsZXI/OiAoZXY6IERyYWdFdmVudCkgPT4gdm9pZDtcclxuXHRcdFx0X2RyYWdFbmRIYW5kbGVyPzogKGV2OiBEcmFnRXZlbnQpID0+IHZvaWQ7XHJcblx0XHRcdF9kcmFnT3ZlckhhbmRsZXI/OiAoZXY6IERyYWdFdmVudCkgPT4gdm9pZDtcclxuXHRcdFx0X2RyYWdMZWF2ZUhhbmRsZXI/OiAoZXY6IERyYWdFdmVudCkgPT4gdm9pZDtcclxuXHRcdFx0X2Ryb3BIYW5kbGVyPzogKGV2OiBEcmFnRXZlbnQpID0+IHZvaWQ7XHJcblx0XHRcdF9yZW1vdmVIYW5kbGVyPzogKGV2OiBNb3VzZUV2ZW50KSA9PiB2b2lkO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgY29udGFpbmVyV2l0aEhhbmRsZXJzID0gY29udGFpbmVyIGFzIENvbnRhaW5lcldpdGhIYW5kbGVycztcclxuXHRcdFxyXG5cdFx0aWYgKGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ1N0YXJ0SGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnU3RhcnRIYW5kbGVyKTtcclxuXHRcdFx0Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdFbmRIYW5kbGVyISk7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ092ZXJIYW5kbGVyISk7XHJcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdMZWF2ZUhhbmRsZXIhKTtcclxuXHRcdFx0Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBjb250YWluZXJXaXRoSGFuZGxlcnMuX2Ryb3BIYW5kbGVyISk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU3RvcmUgaGFuZGxlcnMgZm9yIGxhdGVyIHJlbW92YWxcclxuXHRcdGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ1N0YXJ0SGFuZGxlciA9IGRyYWdTdGFydEhhbmRsZXI7XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdFbmRIYW5kbGVyID0gZHJhZ0VuZEhhbmRsZXI7XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdPdmVySGFuZGxlciA9IGRyYWdPdmVySGFuZGxlcjtcclxuXHRcdGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ0xlYXZlSGFuZGxlciA9IGRyYWdMZWF2ZUhhbmRsZXI7XHJcblx0XHRjb250YWluZXJXaXRoSGFuZGxlcnMuX2Ryb3BIYW5kbGVyID0gZHJvcEhhbmRsZXI7XHJcblxyXG5cdFx0Ly8gQWRkIG5ldyBoYW5kbGVyc1xyXG5cdFx0aWYgKGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ1N0YXJ0SGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnU3RhcnRIYW5kbGVyKTtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2RyYWdFbmRIYW5kbGVyKSB7XHJcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnRW5kSGFuZGxlcik7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnT3ZlckhhbmRsZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnT3ZlckhhbmRsZXIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvbnRhaW5lcldpdGhIYW5kbGVycy5fZHJhZ0xlYXZlSGFuZGxlcikge1xyXG5cdFx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcmFnTGVhdmVIYW5kbGVyKTtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX2Ryb3BIYW5kbGVyKSB7XHJcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9kcm9wSGFuZGxlcik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldHVwRXZlbnREZWxlZ2F0aW9uKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xyXG5cdFx0XHJcblx0XHQvLyBGaW5kIHRoZSBsaXN0c1xyXG5cdFx0Y29uc3QgcGFnZXNMaXN0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwYWdlcy1saXN0Jyk7XHJcblx0XHRjb25zdCBzb2NpYWxMaXN0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzb2NpYWwtbGlzdCcpO1xyXG5cdFx0XHJcblx0XHQvLyBIYW5kbGUgaW5wdXQgY2hhbmdlcyBmb3IgcGFnZXNcclxuXHRcdGlmIChwYWdlc0xpc3QpIHtcclxuXHRcdFx0cGFnZXNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuXHRcdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtdGl0bGUnKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWl0ZW0nKTtcclxuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoaXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbaW5kZXhdLnRpdGxlID0gdGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5kZWJvdW5jZWRTYXZlKCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtdXJsJykpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLm5hdi1pdGVtJyk7XHJcblx0XHRcdFx0XHRjb25zdCBpbmRleCA9IHBhcnNlSW50KGl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHQvLyBJZiBVUkwgaXMgZW1wdHksIHJlbW92ZSBpdCAobWFrZXMgaXQgZHJvcGRvd24tb25seSkuIE90aGVyd2lzZSwgc2V0IGl0LlxyXG5cdFx0XHRcdFx0aWYgKHRhcmdldC52YWx1ZS50cmltKCkgPT09ICcnKSB7XHJcblx0XHRcdFx0XHRcdGRlbGV0ZSBzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS51cmw7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS51cmwgPSB0YXJnZXQudmFsdWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLmRlYm91bmNlZFNhdmUoKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1jaGlsZC10aXRsZScpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBjaGlsZEl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLm5hdi1jaGlsZC1pdGVtJyk7XHJcblx0XHRcdFx0XHRjb25zdCBwYXJlbnRJbmRleCA9IHBhcnNlSW50KGNoaWxkSXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdGNvbnN0IGNoaWxkSW5kZXggPSBwYXJzZUludChjaGlsZEl0ZW0/LmdldEF0dHJpYnV0ZSgnZGF0YS1jaGlsZC1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuKSB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuID0gW107XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdKSB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdID0geyB0aXRsZTogJycsIHVybDogJycgfTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuW2NoaWxkSW5kZXhdLnRpdGxlID0gdGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5kZWJvdW5jZWRTYXZlKCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtY2hpbGQtdXJsJykpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGNoaWxkSXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWNoaWxkLWl0ZW0nKTtcclxuXHRcdFx0XHRcdGNvbnN0IHBhcmVudEluZGV4ID0gcGFyc2VJbnQoY2hpbGRJdGVtPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRJbmRleCA9IHBhcnNlSW50KGNoaWxkSXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWNoaWxkLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdGlmICghc2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4pIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4gPSBbXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghc2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW5bY2hpbGRJbmRleF0pIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW5bY2hpbGRJbmRleF0gPSB7IHRpdGxlOiAnJywgdXJsOiAnJyB9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW5bY2hpbGRJbmRleF0udXJsID0gdGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5kZWJvdW5jZWRTYXZlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBIYW5kbGUgaW5wdXQgY2hhbmdlcyBmb3Igc29jaWFsIGxpbmtzXHJcblx0XHRpZiAoc29jaWFsTGlzdCkge1xyXG5cdFx0XHRzb2NpYWxMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuXHRcdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cdFx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtdGl0bGUnKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtdXJsJykgfHwgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWljb24nKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubmF2LWl0ZW0nKTtcclxuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoaXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRcdGNvbnN0IGZpZWxkID0gdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXRpdGxlJykgPyAndGl0bGUnIDogXHJcblx0XHRcdFx0XHRcdFx0XHQgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LXVybCcpID8gJ3VybCcgOiAnaWNvbic7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsW2luZGV4XVtmaWVsZF0gPSB0YXJnZXQudmFsdWU7XHJcblx0XHRcdFx0XHR0aGlzLmRlYm91bmNlZFNhdmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEhhbmRsZSByZW1vdmUgYnV0dG9uIGNsaWNrcyBhbmQgYWRkIGNoaWxkIGJ1dHRvbiAtIHVzZSBldmVudCBkZWxlZ2F0aW9uIG9uIGNvbnRhaW5lclxyXG5cdFx0Ly8gVGhpcyBpcyBtb3JlIHJlbGlhYmxlIHRoYW4gYXR0YWNoaW5nIHRvIGVhY2ggYnV0dG9uXHJcblx0XHRjb25zdCByZW1vdmVIYW5kbGVyID0gYXN5bmMgKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtcmVtb3ZlJykpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjb25zdCBpdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoaXRlbT8uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRjb25zdCBpc1BhZ2UgPSBpdGVtPy5jbG9zZXN0KCcjcGFnZXMtbGlzdCcpO1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRTZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTsgLy8gR2V0IGZyZXNoIHNldHRpbmdzXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGlzUGFnZSkge1xyXG5cdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKGN1cnJlbnRTZXR0aW5ncyk7XHJcblx0XHRcdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbihmYWxzZSk7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdOYXZpZ2F0aW9uIHBhZ2UgcmVtb3ZlZCBhbmQgYXBwbGllZCB0byBjb25maWcudHMnKTtcclxuXHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7IC8vIFJlLXJlbmRlciB0byB1cGRhdGUgaW5kaWNlc1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5zb2NpYWwuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKGN1cnJlbnRTZXR0aW5ncyk7XHJcblx0XHRcdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbihmYWxzZSk7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdTb2NpYWwgbGluayByZW1vdmVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTsgLy8gUmUtcmVuZGVyIHRvIHVwZGF0ZSBpbmRpY2VzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1jaGlsZC1yZW1vdmUnKSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNvbnN0IHBhcmVudEluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpIHx8ICcwJyk7XHJcblx0XHRcdFx0Y29uc3QgY2hpbGRJbmRleCA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2hpbGQtaW5kZXgnKSB8fCAnMCcpO1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRTZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoY3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuKSB7XHJcblx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1twYXJlbnRJbmRleF0uY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGNoaWxkcmVuIGFycmF5IGlmIGVtcHR5XHJcblx0XHRcdFx0XHRpZiAoY3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRkZWxldGUgY3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoY3VycmVudFNldHRpbmdzKTtcclxuXHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKGZhbHNlKTtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0NoaWxkIHBhZ2UgcmVtb3ZlZCBhbmQgYXBwbGllZCB0byBjb25maWcudHMnKTtcclxuXHRcdFx0XHRcdC8vIEhpZGUgY2hpbGRyZW4gY29udGFpbmVyIGlmIG5vIGNoaWxkcmVuIGxlZnRcclxuXHRcdFx0XHRcdGNvbnN0IG5hdkl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLm5hdi1pdGVtJyk7XHJcblx0XHRcdFx0XHRjb25zdCBjaGlsZHJlbkNvbnRhaW5lciA9IG5hdkl0ZW0/LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtY2hpbGRyZW4tY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5cdFx0XHRcdFx0aWYgKGNoaWxkcmVuQ29udGFpbmVyICYmICghY3VycmVudFNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXNbcGFyZW50SW5kZXhdLmNoaWxkcmVuIHx8IGN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW3BhcmVudEluZGV4XS5jaGlsZHJlbi5sZW5ndGggPT09IDApKSB7XHJcblx0XHRcdFx0XHRcdGNoaWxkcmVuQ29udGFpbmVyLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWFkZC1jaGlsZCcpKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Y29uc3QgaW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykgfHwgJzAnKTtcclxuXHRcdFx0XHRjb25zdCBjdXJyZW50U2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKCFjdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1tpbmRleF0uY2hpbGRyZW4pIHtcclxuXHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzW2luZGV4XS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjdXJyZW50U2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlc1tpbmRleF0uY2hpbGRyZW4ucHVzaCh7IHRpdGxlOiAnTmV3IENoaWxkJywgdXJsOiAnL25ldy1jaGlsZCcgfSk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoY3VycmVudFNldHRpbmdzKTtcclxuXHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oZmFsc2UpO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ0NoaWxkIHBhZ2UgYWRkZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XHJcblx0XHRcdFx0Ly8gU2hvdyB0aGUgY2hpbGRyZW4gY29udGFpbmVyIGlmIGl0IHdhcyBoaWRkZW5cclxuXHRcdFx0XHRjb25zdCBuYXZJdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpO1xyXG5cdFx0XHRcdGNvbnN0IGNoaWxkcmVuQ29udGFpbmVyID0gbmF2SXRlbT8ucXVlcnlTZWxlY3RvcignLm5hdi1jaGlsZHJlbi1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRpZiAoY2hpbGRyZW5Db250YWluZXIpIHtcclxuXHRcdFx0XHRcdGNoaWxkcmVuQ29udGFpbmVyLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ2Jsb2NrJyB9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcclxuXHRcdFx0XHQvLyBSZS1zZXQgaWNvbnMgYWZ0ZXIgcmVuZGVyIChpbmNsdWRpbmcgbmV3IGNoaWxkIGJ1dHRvbnMpXHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW2RhdGEtaWNvbj1cInRyYXNoXCJdJykuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0XHRcdFx0XHRzZXRJY29uKGJ1dHRvbiBhcyBIVE1MRWxlbWVudCwgJ3RyYXNoJyk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9LCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Ly8gUmVtb3ZlIGFueSBleGlzdGluZyByZW1vdmUgaGFuZGxlciB0byBwcmV2ZW50IGR1cGxpY2F0ZXNcclxuXHRcdGludGVyZmFjZSBDb250YWluZXJXaXRoSGFuZGxlcnMgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcblx0XHRcdF9yZW1vdmVIYW5kbGVyPzogKGV2OiBNb3VzZUV2ZW50KSA9PiB2b2lkO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgY29udGFpbmVyV2l0aEhhbmRsZXJzID0gY29udGFpbmVyIGFzIENvbnRhaW5lcldpdGhIYW5kbGVycztcclxuXHRcdGlmIChjb250YWluZXJXaXRoSGFuZGxlcnMuX3JlbW92ZUhhbmRsZXIpIHtcclxuXHRcdFx0Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29udGFpbmVyV2l0aEhhbmRsZXJzLl9yZW1vdmVIYW5kbGVyKTtcclxuXHRcdH1cclxuXHRcdC8vIFN0b3JlIHRoZSBoYW5kbGVyIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXJcclxuXHRcdGNvbnRhaW5lcldpdGhIYW5kbGVycy5fcmVtb3ZlSGFuZGxlciA9IHJlbW92ZUhhbmRsZXI7XHJcblx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb250YWluZXJXaXRoSGFuZGxlcnMuX3JlbW92ZUhhbmRsZXIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkZWJvdW5jZWRTYXZlKCk6IHZvaWQge1xyXG5cdFx0Ly8gQ2xlYXIgZXhpc3RpbmcgdGltZW91dFxyXG5cdFx0aWYgKHRoaXMuc2F2ZVRpbWVvdXRJZCkge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5zYXZlVGltZW91dElkKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gU2V0IG5ldyB0aW1lb3V0XHJcblx0XHR0aGlzLnNhdmVUaW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5nZXRTZXR0aW5ncygpKTtcclxuXHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oZmFsc2UpOyAvLyBObyBub3RpZmljYXRpb24gZm9yIGRyYWcgYW5kIGRyb3BcclxuXHRcdH0sIDEwMDApOyAvLyAxIHNlY29uZCBkZWJvdW5jZVxyXG5cdH1cclxuXHRcclxuXHRwcml2YXRlIHJlbmRlclBhZ2VJdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHBhZ2U6IE5hdmlnYXRpb25JdGVtLCBpbmRleDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHRjb25zdCBoYXNDaGlsZHJlbiA9IHBhZ2UuY2hpbGRyZW4gJiYgcGFnZS5jaGlsZHJlbi5sZW5ndGggPiAwO1xyXG5cdFx0XHJcblx0XHRjb25zdCBuYXZJdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdignbmF2LWl0ZW0nKTtcclxuXHRcdG5hdkl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgaW5kZXgudG9TdHJpbmcoKSk7XHJcblx0XHRuYXZJdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgaXRlbUNvbnRlbnQgPSBuYXZJdGVtLmNyZWF0ZURpdignbmF2LWl0ZW0tY29udGVudCcpO1xyXG5cdFx0Y29uc3QgaXRlbUZpZWxkcyA9IGl0ZW1Db250ZW50LmNyZWF0ZURpdignbmF2LWl0ZW0tZmllbGRzJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHRpdGxlSW5wdXQgPSBpdGVtRmllbGRzLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtdGl0bGUnLFxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnUGFnZSB0aXRsZScsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdHRpdGxlSW5wdXQudmFsdWUgPSBwYWdlLnRpdGxlIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCB1cmxJbnB1dCA9IGl0ZW1GaWVsZHMuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi11cmwnLFxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnL3BhZ2UtdXJsIChsZWF2ZSBlbXB0eSBmb3IgZHJvcGRvd24tb25seSknLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR1cmxJbnB1dC52YWx1ZSA9IHBhZ2UudXJsIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpdGVtQWN0aW9ucyA9IGl0ZW1Db250ZW50LmNyZWF0ZURpdignbmF2LWl0ZW0tYWN0aW9ucycpO1xyXG5cdFx0aXRlbUFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuXHRcdFx0Ly8gXCIrIENoaWxkXCIgaXMgYSBidXR0b24gbGFiZWwsIGtlZXAgYXMgaXNcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHR0ZXh0OiAnKyBDaGlsZCcsXHJcblx0XHRcdGNsczogJ25hdi1hZGQtY2hpbGQnLFxyXG5cdFx0XHRhdHRyOiB7ICdkYXRhLWluZGV4JzogaW5kZXgudG9TdHJpbmcoKSwgdGl0bGU6ICdBZGQgY2hpbGQgcGFnZScgfVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHJlbW92ZUJ0biA9IGl0ZW1BY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XHJcblx0XHRcdGNsczogJ25hdi1yZW1vdmUgbW9kLXdhcm5pbmcnLFxyXG5cdFx0XHRhdHRyOiB7ICdkYXRhLWluZGV4JzogaW5kZXgudG9TdHJpbmcoKSwgJ2RhdGEtaWNvbic6ICd0cmFzaCcsIHRpdGxlOiAnUmVtb3ZlJywgJ2FyaWEtbGFiZWwnOiAnUmVtb3ZlJyB9XHJcblx0XHR9KTtcclxuXHRcdHNldEljb24ocmVtb3ZlQnRuLCAndHJhc2gnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgY2hpbGRyZW5Db250YWluZXIgPSBuYXZJdGVtLmNyZWF0ZURpdignbmF2LWNoaWxkcmVuLWNvbnRhaW5lcicpO1xyXG5cdFx0Y2hpbGRyZW5Db250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXBhcmVudC1pbmRleCcsIGluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0aWYgKCFoYXNDaGlsZHJlbikge1xyXG5cdFx0XHRjaGlsZHJlbkNvbnRhaW5lci5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y2hpbGRyZW5Db250YWluZXIuY3JlYXRlRGl2KCduYXYtY2hpbGRyZW4tbGFiZWwnKS50ZXh0Q29udGVudCA9ICdDaGlsZCBwYWdlczonO1xyXG5cdFx0Y29uc3QgY2hpbGRyZW5EaXYgPSBjaGlsZHJlbkNvbnRhaW5lci5jcmVhdGVEaXYoJ25hdi1jaGlsZHJlbicpO1xyXG5cdFx0Y2hpbGRyZW5EaXYuc2V0QXR0cmlidXRlKCdkYXRhLXBhcmVudC1pbmRleCcsIGluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0XHJcblx0XHRpZiAoaGFzQ2hpbGRyZW4gJiYgcGFnZS5jaGlsZHJlbikge1xyXG5cdFx0XHRwYWdlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBjaGlsZEluZGV4KSA9PiB7XHJcblx0XHRcdFx0dGhpcy5yZW5kZXJDaGlsZEl0ZW0oY2hpbGRyZW5EaXYsIGNoaWxkLCBpbmRleCwgY2hpbGRJbmRleCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRwcml2YXRlIHJlbmRlckNoaWxkSXRlbShjb250YWluZXI6IEhUTUxFbGVtZW50LCBjaGlsZDogTmF2aWdhdGlvbkl0ZW0sIHBhcmVudEluZGV4OiBudW1iZXIsIGNoaWxkSW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0Y29uc3QgY2hpbGRJdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdignbmF2LWNoaWxkLWl0ZW0nKTtcclxuXHRcdGNoaWxkSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBwYXJlbnRJbmRleC50b1N0cmluZygpKTtcclxuXHRcdGNoaWxkSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2hpbGQtaW5kZXgnLCBjaGlsZEluZGV4LnRvU3RyaW5nKCkpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpdGVtRmllbGRzID0gY2hpbGRJdGVtLmNyZWF0ZURpdignbmF2LWl0ZW0tZmllbGRzJyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHRpdGxlSW5wdXQgPSBpdGVtRmllbGRzLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRjbHM6ICduYXYtY2hpbGQtdGl0bGUnLFxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnQ2hpbGQgdGl0bGUnLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR0aXRsZUlucHV0LnZhbHVlID0gY2hpbGQudGl0bGUgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IHVybElucHV0ID0gaXRlbUZpZWxkcy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LWNoaWxkLXVybCcsXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICcvY2hpbGQtdXJsJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0dXJsSW5wdXQudmFsdWUgPSBjaGlsZC51cmwgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IHJlbW92ZUJ0biA9IGNoaWxkSXRlbS5jcmVhdGVFbCgnYnV0dG9uJywge1xyXG5cdFx0XHRjbHM6ICduYXYtY2hpbGQtcmVtb3ZlIG1vZC13YXJuaW5nJyxcclxuXHRcdFx0YXR0cjoge1xyXG5cdFx0XHRcdCdkYXRhLWluZGV4JzogcGFyZW50SW5kZXgudG9TdHJpbmcoKSxcclxuXHRcdFx0XHQnZGF0YS1jaGlsZC1pbmRleCc6IGNoaWxkSW5kZXgudG9TdHJpbmcoKSxcclxuXHRcdFx0XHQnZGF0YS1pY29uJzogJ3RyYXNoJyxcclxuXHRcdFx0XHR0aXRsZTogJ1JlbW92ZScsXHJcblx0XHRcdFx0J2FyaWEtbGFiZWwnOiAnUmVtb3ZlJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHNldEljb24ocmVtb3ZlQnRuLCAndHJhc2gnKTtcclxuXHR9XHJcblx0XHJcblx0cHJpdmF0ZSByZW5kZXJTb2NpYWxJdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHNvY2lhbDogeyB0aXRsZTogc3RyaW5nOyB1cmw6IHN0cmluZzsgaWNvbjogc3RyaW5nIH0sIGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGNvbnN0IG5hdkl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KCduYXYtaXRlbScpO1xyXG5cdFx0bmF2SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBpbmRleC50b1N0cmluZygpKTtcclxuXHRcdG5hdkl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpdGVtQ29udGVudCA9IG5hdkl0ZW0uY3JlYXRlRGl2KCduYXYtaXRlbS1jb250ZW50Jyk7XHJcblx0XHRjb25zdCBpdGVtRmllbGRzID0gaXRlbUNvbnRlbnQuY3JlYXRlRGl2KCduYXYtaXRlbS1maWVsZHMnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgdGl0bGVJbnB1dCA9IGl0ZW1GaWVsZHMuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi10aXRsZScsXHJcblx0XHRcdGF0dHI6IHsgcGxhY2Vob2xkZXI6ICdTb2NpYWwgdGl0bGUnLCBkcmFnZ2FibGU6ICdmYWxzZScgfVxyXG5cdFx0fSk7XHJcblx0XHR0aXRsZUlucHV0LnZhbHVlID0gc29jaWFsLnRpdGxlIHx8ICcnO1xyXG5cdFx0XHJcblx0XHRjb25zdCB1cmxJbnB1dCA9IGl0ZW1GaWVsZHMuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdGNsczogJ25hdi11cmwnLFxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnaHR0cHM6Ly9leGFtcGxlLmNvbScsIGRyYWdnYWJsZTogJ2ZhbHNlJyB9XHJcblx0XHR9KTtcclxuXHRcdHVybElucHV0LnZhbHVlID0gc29jaWFsLnVybCB8fCAnJztcclxuXHRcdFxyXG5cdFx0Y29uc3QgcmVtb3ZlQnRuID0gaXRlbUNvbnRlbnQuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuXHRcdFx0Y2xzOiAnbmF2LXJlbW92ZSBtb2Qtd2FybmluZycsXHJcblx0XHRcdGF0dHI6IHsgJ2RhdGEtaW5kZXgnOiBpbmRleC50b1N0cmluZygpLCAnZGF0YS1pY29uJzogJ3RyYXNoJywgdGl0bGU6ICdSZW1vdmUnLCAnYXJpYS1sYWJlbCc6ICdSZW1vdmUnIH1cclxuXHRcdH0pO1xyXG5cdFx0c2V0SWNvbihyZW1vdmVCdG4sICd0cmFzaCcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpY29uUm93ID0gbmF2SXRlbS5jcmVhdGVEaXYoJ25hdi1pY29uLXJvdycpO1xyXG5cdFx0Y29uc3QgaWNvbklucHV0ID0gaWNvblJvdy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdHR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0Y2xzOiAnbmF2LWljb24nLFxyXG5cdFx0XHRhdHRyOiB7IHBsYWNlaG9sZGVyOiAnSWNvbiBuYW1lJywgZHJhZ2dhYmxlOiAnZmFsc2UnIH1cclxuXHRcdH0pO1xyXG5cdFx0aWNvbklucHV0LnZhbHVlID0gc29jaWFsLmljb24gfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IGljb25IZWxwID0gaWNvblJvdy5jcmVhdGVEaXYoJ25hdi1pY29uLWhlbHAnKTtcclxuXHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkZvbnRBd2Vzb21lIEJyYW5kc1wiIGlzIGEgcHJvcGVyIG5vdW4gKHByb2R1Y3QgbmFtZSkgYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0aWNvbkhlbHAuY3JlYXRlRWwoJ3NtYWxsJywgeyB0ZXh0OiAnSWNvbiBuYW1lcyBmcm9tIEZvbnRBd2Vzb21lIEJyYW5kcycgfSk7XHJcblx0fVxyXG59IiwgImltcG9ydCB7IFNldHRpbmcsIE5vdGljZSwgTW9kYWwsIHNldEljb24gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBUYWJSZW5kZXJlciB9IGZyb20gJy4uL2NvbW1vbi9UYWJSZW5kZXJlcic7XG5pbXBvcnQgeyBURU1QTEFURV9PUFRJT05TLCBBc3Ryb01vZHVsYXJQbHVnaW4sIFRlbXBsYXRlVHlwZSwgQXN0cm9Nb2R1bGFyU2V0dGluZ3MsIENvbW1hbmRQYWxldHRlU2V0dGluZ3MsIEhvbWVPcHRpb25zLCBQb3N0T3B0aW9ucywgTmF2aWdhdGlvblNldHRpbmdzLCBQbHVnaW5Db25maWd1cmF0aW9uIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgUHJlc2V0V2FybmluZ01vZGFsIH0gZnJvbSAnLi4vUHJlc2V0V2FybmluZ01vZGFsJztcbmltcG9ydCB7IGNyZWF0ZVNldHRpbmdzR3JvdXAgfSBmcm9tICcuLi8uLi91dGlscy9zZXR0aW5ncy1jb21wYXQnO1xuXG5leHBvcnQgY2xhc3MgQ29uZmlnVGFiIGV4dGVuZHMgVGFiUmVuZGVyZXIge1xuXHRhc3luYyByZW5kZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gR3JvdXAgZmlyc3QgdGhyZWUgc2V0dGluZ3Mgd2l0aCBubyBoZWFkaW5nXG5cdFx0Y29uc3QgY29uZmlnR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgdW5kZWZpbmVkLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xuXG5cdFx0Ly8gVGVtcGxhdGUgc2VsZWN0b3Jcblx0XHRjb25maWdHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdUZW1wbGF0ZScpXG5cdFx0XHRcdC5zZXREZXNjKCdDaG9vc2UgeW91ciBjb250ZW50IHRlbXBsYXRlJylcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0XHRURU1QTEFURV9PUFRJT05TLmZvckVhY2godGVtcGxhdGUgPT4ge1xuXHRcdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKHRlbXBsYXRlLmlkLCB0ZW1wbGF0ZS5uYW1lKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUpO1xuXHRcdFx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gU2hvdyB3YXJuaW5nIG1vZGFsIGZvciB0ZW1wbGF0ZSBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRjb25zdCBjaGFuZ2VzID0gdGhpcy5nZXRUZW1wbGF0ZUNoYW5nZXModmFsdWUgYXMgVGVtcGxhdGVUeXBlKTtcblx0XHRcdFx0XHRcdGNvbnN0IG1vZGFsID0gbmV3IFByZXNldFdhcm5pbmdNb2RhbChcblx0XHRcdFx0XHRcdFx0dGhpcy5hcHAsXG5cdFx0XHRcdFx0XHRcdGNoYW5nZXMsXG5cdFx0XHRcdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlciBjb25maXJtZWQgLSBhcHBseSBleGFjdGx5IGxpa2UgVGVtcGxhdGVTdGVwIGRvZXNcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHRlbXBsYXRlIHNldHRpbmdzIGV4YWN0bHkgbGlrZSB0aGUgd2l6YXJkIGRvZXNcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlUGx1Z2luU2V0dGluZ3NXaXRoVGVtcGxhdGUodmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCBwbHVnaW4ubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEdldCBmcmVzaCBzZXR0aW5ncyBhZnRlciByZWxvYWRcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZyZXNoU2V0dGluZ3MgPSBwbHVnaW4uc2V0dGluZ3M7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEFwcGx5IHRoZSBjb25maWd1cmF0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXRTdWNjZXNzID0gYXdhaXQgcGx1Z2luLmNvbmZpZ01hbmFnZXIuYXBwbHlQcmVzZXQoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBmcmVzaFNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246ICcnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmZWF0dXJlczogZnJlc2hTZXR0aW5ncy5mZWF0dXJlcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbWU6IGZyZXNoU2V0dGluZ3MuY3VycmVudFRoZW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZW50T3JnYW5pemF0aW9uOiBmcmVzaFNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb24sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbmZpZzogZnJlc2hTZXR0aW5nc1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChwcmVzZXRTdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFRlbXBsYXRlIGNoYW5nZWQgdG8gJHt2YWx1ZX0gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdGYWlsZWQgdG8gYXBwbHkgdGVtcGxhdGUgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSB0ZW1wbGF0ZSBjaGFuZ2U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MuY3VycmVudFRlbXBsYXRlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFVzZXIgY2FuY2VsbGVkIC0gcmVzZXQgZHJvcGRvd24gdG8gY3VycmVudCB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRtb2RhbC5vcGVuKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gRGVwbG95bWVudCBwbGF0Zm9ybVxuXHRcdGNvbmZpZ0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0RlcGxveW1lbnQnKVxuXHRcdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHlvdXIgZGVwbG95bWVudCBwbGF0Zm9ybScpXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCduZXRsaWZ5JywgJ05ldGxpZnknKTtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJ3ZlcmNlbCcsICdWZXJjZWwnKTtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJ2dpdGh1Yi1wYWdlcycsICdHaXRIdWIgcGFnZXMnKTtcblx0XHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJDbG91ZGZsYXJlIFdvcmtlcnNcIiBpcyBhIHByb3BlciBub3VuIChwcm9kdWN0IG5hbWUpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdjbG91ZGZsYXJlLXdvcmtlcnMnLCAnQ2xvdWRmbGFyZSBXb3JrZXJzJyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MuZGVwbG95bWVudC5wbGF0Zm9ybSk7XG5cdFx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5kZXBsb3ltZW50LnBsYXRmb3JtID0gdmFsdWUgYXMgJ25ldGxpZnknIHwgJ3ZlcmNlbCcgfCAnZ2l0aHViLXBhZ2VzJyB8ICdjbG91ZGZsYXJlLXdvcmtlcnMnO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIEFwcGx5IGNoYW5nZXMgaW1tZWRpYXRlbHkgdG8gY29uZmlnLnRzXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRGVwbG95bWVudCBwbGF0Zm9ybSBjaGFuZ2VkIHRvICR7dmFsdWV9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IGRlcGxveW1lbnQgcGxhdGZvcm0gY2hhbmdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBDb250ZW50IG9yZ2FuaXphdGlvblxuXHRcdGNvbmZpZ0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0NvbnRlbnQgb3JnYW5pemF0aW9uJylcblx0XHRcdFx0LnNldERlc2MoJ0Nob29zZSBob3cgdG8gb3JnYW5pemUgeW91ciBjb250ZW50IGFuZCBhc3NldHMnKVxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignZmlsZS1iYXNlZCcsICdGaWxlLWJhc2VkJyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdmb2xkZXItYmFzZWQnLCAnRm9sZGVyLWJhc2VkJyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbik7XG5cdFx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uID0gdmFsdWUgYXMgJ2ZpbGUtYmFzZWQnIHwgJ2ZvbGRlci1iYXNlZCc7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gQnVpbGQgcGx1Z2luIGNvbmZpZyBkeW5hbWljYWxseSBiYXNlZCBvbiBuZXcgY29udGVudCBvcmdhbml6YXRpb24gKGxpa2Ugd2l6YXJkIGRvZXMpXG5cdFx0XHRcdFx0XHRjb25zdCBjb250ZW50T3JnID0gdmFsdWUgYXMgJ2ZpbGUtYmFzZWQnIHwgJ2ZvbGRlci1iYXNlZCc7XG5cdFx0XHRcdFx0XHRjb25zdCBjb25maWc6IFBsdWdpbkNvbmZpZ3VyYXRpb24gPSB7XG5cdFx0XHRcdFx0XHRcdG9ic2lkaWFuU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG5cdFx0XHRcdFx0XHRcdFx0YXR0YWNobWVudExvY2F0aW9uOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ3N1YmZvbGRlcicgOiAnc2FtZS1mb2xkZXInKSBhcyAnc3ViZm9sZGVyJyB8ICdzYW1lLWZvbGRlcicsXG5cdFx0XHRcdFx0XHRcdFx0c3ViZm9sZGVyTmFtZTogJ2F0dGFjaG1lbnRzJ1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRhc3Ryb0NvbXBvc2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Y3JlYXRpb25Nb2RlOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ2ZpbGUnIDogJ2ZvbGRlcicpIGFzICdmaWxlJyB8ICdmb2xkZXInLFxuXHRcdFx0XHRcdFx0XHRcdGluZGV4RmlsZU5hbWU6ICdpbmRleCdcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0aW1hZ2VNYW5hZ2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHRjdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXQ6IGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyBcblx0XHRcdFx0XHRcdFx0XHRcdD8gJ1tbYXR0YWNobWVudHMve2ltYWdlLXVybH1dXScgXG5cdFx0XHRcdFx0XHRcdFx0XHQ6ICdbW3tpbWFnZS11cmx9XV0nXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIENvbmZpZ3VyZSBwbHVnaW5zIHdpdGggdGhlIG5ldyBjb25maWdcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLnBsdWdpbk1hbmFnZXIuY29uZmlndXJlUGx1Z2lucyhjb25maWcpO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRhY2htZW50TG9jYXRpb24gPSBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnc3ViZm9sZGVyIChhdHRhY2htZW50cy8pJyA6ICdzYW1lIGZvbGRlcic7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNyZWF0aW9uTW9kZSA9IGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdmaWxlJyA6ICdmb2xkZXInO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBDb250ZW50IG9yZ2FuaXphdGlvbiBjaGFuZ2VkIHRvICR7dmFsdWV9XFxuXFxuXHUyMDIyIE9ic2lkaWFuOiBBdHRhY2htZW50cyBcdTIxOTIgJHthdHRhY2htZW50TG9jYXRpb259XFxuXHUyMDIyIEFzdHJvIENvbXBvc2VyOiBDcmVhdGlvbiBtb2RlIFx1MjE5MiAke2NyZWF0aW9uTW9kZX1cXG5cdTIwMjIgSW1hZ2UgTWFuYWdlcjogRm9ybWF0IHVwZGF0ZWRgLCA4MDAwKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBjb25maWd1cmUgcGx1Z2lucyBmb3IgY29udGVudCBvcmdhbml6YXRpb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdC8vIEFkZCBib3R0b20gbWFyZ2luIHRvIGxhc3Qgc2V0dGluZyBpbiBncm91cCB3aXRob3V0IGhlYWRpbmcgdG8gY3JlYXRlIHNwYWNlIGJlZm9yZSBuZXh0IGhlYWRpbmdcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0bWFyZ2luQm90dG9tOiAndmFyKC0tc2l6ZS00LTYpJ1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBQbHVnaW4gY29uZmlndXJhdGlvbiBzZWN0aW9uXG5cdFx0Ly8gUGx1Z2luIGNvbmZpZ3VyYXRpb24gaGVhZGluZyB3aXRoIHByb3BlciBzcGFjaW5nXG5cdFx0Y29uc3QgcGx1Z2luQ29uZmlnSGVhZGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcblx0XHRcdC5zZXRIZWFkaW5nKClcblx0XHRcdC5zZXROYW1lKCdQbHVnaW4gY29uZmlndXJhdGlvbicpO1xuXHRcdHBsdWdpbkNvbmZpZ0hlYWRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcblx0XHRcdG1hcmdpblRvcDogJzAnLFxuXHRcdFx0bWFyZ2luQm90dG9tOiAndmFyKC0tc2l6ZS00LTIpJ1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIEdldCBwbHVnaW4gc3RhdHVzIChhc3luYywgc28gd2UgbmVlZCB0byBoYW5kbGUgdGhpcylcblx0XHR2b2lkIHRoaXMucmVuZGVyUGx1Z2luU3RhdHVzKGNvbnRhaW5lciwgc2V0dGluZ3MpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyByZW5kZXJQbHVnaW5TdGF0dXMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgc2V0dGluZ3M6IEFzdHJvTW9kdWxhclNldHRpbmdzKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gR2V0IHBsdWdpbiBzdGF0dXNcblx0XHRjb25zdCBjb250ZW50T3JnID0gc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbjtcblx0XHRjb25zdCBwbHVnaW5TdGF0dXMgPSBhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5wbHVnaW5NYW5hZ2VyLmdldFBsdWdpblN0YXR1cyhjb250ZW50T3JnKTtcblxuXHRcdC8vIERpc3BsYXkgcGx1Z2luIHN0YXR1c1xuXHRcdGNvbnN0IHN0YXR1c0NvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3BsdWdpbi1zdGF0dXMtY29udGFpbmVyJyk7XG5cdFx0Y29uc3QgcGx1Z2luU3RhdHVzRGl2ID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZURpdigncGx1Z2luLXN0YXR1cycpO1xuXHRcdFxuXHRcdGZvciAoY29uc3QgcGx1Z2luIG9mIHBsdWdpblN0YXR1cykge1xuXHRcdFx0Y29uc3QgaXNTZXR0aW5nc0NoZWNrID0gcGx1Z2luLm5hbWUgPT09ICdBdHRhY2htZW50IHNldHRpbmdzJztcblx0XHRcdGNvbnN0IGlzQ29uZmlndXJlZCA9IHBsdWdpbi5pbnN0YWxsZWQ7IC8vIEZvciBzZXR0aW5ncywgaW5zdGFsbGVkIG1lYW5zIGNvbmZpZ3VyZWRcblx0XHRcdGNvbnN0IGhhc1N5bmNJc3N1ZXMgPSBwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzICYmIHBsdWdpbi5vdXRPZlN5bmNDb250ZW50VHlwZXMubGVuZ3RoID4gMDtcblx0XHRcdC8vIElmIEFMTCBjb250ZW50IHR5cGVzIGFyZSBvdXQgb2Ygc3luYyAoNCBvdXQgb2YgNCksIGl0J3MgXCJEb2Vzbid0IG1hdGNoXCIsIG5vdCBcIlBhcnRpYWxseSBjb25maWd1cmVkXCJcblx0XHRcdGNvbnN0IGFsbE91dE9mU3luYyA9IGhhc1N5bmNJc3N1ZXMgJiYgcGx1Z2luLm91dE9mU3luY0NvbnRlbnRUeXBlcyAmJiBwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzLmxlbmd0aCA9PT0gNDtcblx0XHRcdGNvbnN0IGlzUGFydGlhbGx5Q29uZmlndXJlZCA9IGhhc1N5bmNJc3N1ZXMgJiYgIWFsbE91dE9mU3luYyAmJiBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkO1xuXHRcdFx0Y29uc3QgYWxsTWlzbWF0Y2hlZCA9IGFsbE91dE9mU3luYyAmJiBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkO1xuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhpcyBpcyBJbWFnZSBNYW5hZ2VyIGFuZCBzZXR0aW5ncyBkb24ndCBtYXRjaFxuXHRcdFx0Y29uc3QgaXNJbWFnZU1hbmFnZXIgPSBwbHVnaW4ubmFtZSA9PT0gJ0ltYWdlIE1hbmFnZXInO1xuXHRcdFx0Y29uc3QgaW1hZ2VNYW5hZ2VyTWlzbWF0Y2ggPSBpc0ltYWdlTWFuYWdlciAmJiBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkICYmIHBsdWdpbi5zZXR0aW5nc01hdGNoID09PSBmYWxzZTtcblx0XHRcdFxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGl0ZW0gY2xhc3MgYW5kIHN0eWxpbmdcblx0XHRcdGxldCBpdGVtQ2xhc3MgPSAncGx1Z2luLWl0ZW0nO1xuXHRcdFx0aWYgKGlzU2V0dGluZ3NDaGVjaykge1xuXHRcdFx0XHRpdGVtQ2xhc3MgKz0gaXNDb25maWd1cmVkID8gJyBpbnN0YWxsZWQnIDogJyBtaXNzaW5nJztcblx0XHRcdH0gZWxzZSBpZiAoaW1hZ2VNYW5hZ2VyTWlzbWF0Y2ggfHwgYWxsTWlzbWF0Y2hlZCkge1xuXHRcdFx0XHQvLyBJbWFnZSBNYW5hZ2VyIHNldHRpbmdzIGRvbid0IG1hdGNoIG9yIGFsbCBjb250ZW50IHR5cGVzIGFyZSBvdXQgb2Ygc3luYyAtIHNob3cgYXMgXCJtaXNzaW5nXCIgKHJlZCBYKVxuXHRcdFx0XHRpdGVtQ2xhc3MgKz0gJyBtaXNzaW5nJztcblx0XHRcdH0gZWxzZSBpZiAoaXNQYXJ0aWFsbHlDb25maWd1cmVkKSB7XG5cdFx0XHRcdGl0ZW1DbGFzcyArPSAnIHBhcnRpYWxseS1jb25maWd1cmVkJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGl0ZW1DbGFzcyArPSBwbHVnaW4uaW5zdGFsbGVkICYmIHBsdWdpbi5lbmFibGVkID8gJyBpbnN0YWxsZWQnIDogJyBtaXNzaW5nJztcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgcGx1Z2luSXRlbSA9IHBsdWdpblN0YXR1c0Rpdi5jcmVhdGVEaXYoaXRlbUNsYXNzKTtcblx0XHRcdGNvbnN0IGljb24gPSBwbHVnaW5JdGVtLmNyZWF0ZURpdigncGx1Z2luLWljb24nKTtcblx0XHRcdFxuXHRcdFx0Ly8gU2V0IGljb24gYmFzZWQgb24gc3RhdHVzIHVzaW5nIHNldEljb25cblx0XHRcdGlmIChpc1NldHRpbmdzQ2hlY2spIHtcblx0XHRcdFx0c2V0SWNvbihpY29uLCBpc0NvbmZpZ3VyZWQgPyAnY2hlY2snIDogJ3gnKTtcblx0XHRcdH0gZWxzZSBpZiAoaW1hZ2VNYW5hZ2VyTWlzbWF0Y2ggfHwgYWxsTWlzbWF0Y2hlZCkge1xuXHRcdFx0XHQvLyBJbWFnZSBNYW5hZ2VyIHNldHRpbmdzIGRvbid0IG1hdGNoIG9yIGFsbCBjb250ZW50IHR5cGVzIGFyZSBvdXQgb2Ygc3luYyAtIHNob3cgcmVkIFhcblx0XHRcdFx0c2V0SWNvbihpY29uLCAneCcpO1xuXHRcdFx0fSBlbHNlIGlmIChpc1BhcnRpYWxseUNvbmZpZ3VyZWQpIHtcblx0XHRcdFx0Ly8gQWxlcnQgdHJpYW5nbGUgaWNvbiAobmV1dHJhbCB3YXJuaW5nIGljb24gZnJvbSBMdWNpZGUpXG5cdFx0XHRcdHNldEljb24oaWNvbiwgJ2FsZXJ0LXRyaWFuZ2xlJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXRJY29uKGljb24sIHBsdWdpbi5pbnN0YWxsZWQgJiYgcGx1Z2luLmVuYWJsZWQgPyAnY2hlY2snIDogJ3gnKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgaW5mbyA9IHBsdWdpbkl0ZW0uY3JlYXRlRGl2KCdwbHVnaW4taW5mbycpO1xuXHRcdFx0aW5mby5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHBsdWdpbi5uYW1lIH0pO1xuXHRcdFx0XG5cdFx0XHRsZXQgc3RhdHVzVGV4dDogc3RyaW5nO1xuXHRcdFx0aWYgKGlzU2V0dGluZ3NDaGVjaykge1xuXHRcdFx0XHQvLyBGb3Igc2V0dGluZ3MgY2hlY2ssIGluc3RhbGxlZCBtZWFucyBjb25maWd1cmVkXG5cdFx0XHRcdHN0YXR1c1RleHQgPSBpc0NvbmZpZ3VyZWQgPyAnQ29uZmlndXJlZCcgOiAnRG9lc25cXCd0IG1hdGNoJztcblx0XHRcdH0gZWxzZSBpZiAoIXBsdWdpbi5pbnN0YWxsZWQpIHtcblx0XHRcdFx0c3RhdHVzVGV4dCA9ICdOb3QgaW5zdGFsbGVkJztcblx0XHRcdH0gZWxzZSBpZiAoIXBsdWdpbi5lbmFibGVkKSB7XG5cdFx0XHRcdHN0YXR1c1RleHQgPSAnRGlzYWJsZWQnO1xuXHRcdFx0fSBlbHNlIGlmIChpbWFnZU1hbmFnZXJNaXNtYXRjaCB8fCBhbGxNaXNtYXRjaGVkKSB7XG5cdFx0XHRcdC8vIFNldHRpbmdzIGRvbid0IG1hdGNoXG5cdFx0XHRcdHN0YXR1c1RleHQgPSAnRG9lc25cXCd0IG1hdGNoJztcblx0XHRcdH0gZWxzZSBpZiAoaXNQYXJ0aWFsbHlDb25maWd1cmVkKSB7XG5cdFx0XHRcdC8vIFNvbWUgc2V0dGluZ3MgZG9uJ3QgbWF0Y2hcblx0XHRcdFx0c3RhdHVzVGV4dCA9ICdQYXJ0aWFsbHkgY29uZmlndXJlZCc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBQbHVnaW4gaXMgaW5zdGFsbGVkLCBlbmFibGVkLCBhbmQgc2V0dGluZ3MgbWF0Y2ggKG9yIG5vIHNldHRpbmdzIHRvIGNoZWNrKVxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gJ0NvbmZpZ3VyZWQnO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpbmZvLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBzdGF0dXNUZXh0IH0pO1xuXHRcdFx0XG5cdFx0XHQvLyBBZGQgZGV0YWlscyBhYm91dCBvdXQtb2Ytc3luYyBjb250ZW50IHR5cGVzXG5cdFx0XHRpZiAoaGFzU3luY0lzc3VlcyAmJiBwbHVnaW4ub3V0T2ZTeW5jQ29udGVudFR5cGVzKSB7XG5cdFx0XHRcdGNvbnN0IGRldGFpbHNQID0gaW5mby5jcmVhdGVFbCgncCcsIHsgXG5cdFx0XHRcdFx0dGV4dDogYE91dCBvZiBzeW5jOiAke3BsdWdpbi5vdXRPZlN5bmNDb250ZW50VHlwZXMuam9pbignLCAnKX1gLFxuXHRcdFx0XHRcdGNsczogJ3N5bmMtZGV0YWlscydcblx0XHRcdFx0fSk7XG5cdFx0XHRcdC8vIFNldCBkeW5hbWljIHN0eWxlc1xuXHRcdFx0XHRkZXRhaWxzUC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0Zm9udFNpemU6ICcwLjllbScsXG5cdFx0XHRcdFx0b3BhY2l0eTogJzAuOCcsXG5cdFx0XHRcdFx0bWFyZ2luVG9wOiAnNHB4J1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBQbHVnaW4gQWN0aW9ucyBncm91cCB3aXRoIGhlYWRpbmdcblx0XHRjb25zdCBwbHVnaW5BY3Rpb25zR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ1BsdWdpbiBhY3Rpb25zJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcblxuXHRcdC8vIFJlLWFwcGx5IGNvbmZpZ3VyYXRpb24gYnV0dG9uXG5cdFx0cGx1Z2luQWN0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ1JlLWFwcGx5IGNvbmZpZ3VyYXRpb24nKVxuXHRcdFx0XHQuc2V0RGVzYygnUmUtYXBwbHkgcGx1Z2luIHNldHRpbmdzIGJhc2VkIG9uIHlvdXIgY29udGVudCBvcmdhbml6YXRpb24gY2hvaWNlICh1c2VmdWwgaWYgc2V0dGluZ3Mgd2VyZSBjaGFuZ2VkIG1hbnVhbGx5IG9yIGNvbmZpZ3VyYXRpb24gZmFpbGVkKScpXG5cdFx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdSZS1hcHBseSBjb25maWd1cmF0aW9uJylcblx0XHRcdFx0XHQuc2V0Q3RhKClcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHQvLyBDcmVhdGUgY29uZmlndXJhdGlvbiBiYXNlZCBvbiBjdXJyZW50IGNvbnRlbnQgb3JnYW5pemF0aW9uIGNob2ljZVxuXHRcdFx0XHRcdFx0Y29uc3QgY29udGVudE9yZyA9IHNldHRpbmdzLmNvbnRlbnRPcmdhbml6YXRpb247XG5cdFx0XHRcdFx0XHRjb25zdCBjb25maWc6IFBsdWdpbkNvbmZpZ3VyYXRpb24gPSB7XG5cdFx0XHRcdFx0XHRcdG9ic2lkaWFuU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG5cdFx0XHRcdFx0XHRcdFx0YXR0YWNobWVudExvY2F0aW9uOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ3N1YmZvbGRlcicgOiAnc2FtZS1mb2xkZXInKSBhcyAnc3ViZm9sZGVyJyB8ICdzYW1lLWZvbGRlcicsXG5cdFx0XHRcdFx0XHRcdFx0c3ViZm9sZGVyTmFtZTogJ2F0dGFjaG1lbnRzJ1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRhc3Ryb0NvbXBvc2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Y3JlYXRpb25Nb2RlOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ2ZpbGUnIDogJ2ZvbGRlcicpIGFzICdmaWxlJyB8ICdmb2xkZXInLFxuXHRcdFx0XHRcdFx0XHRcdGluZGV4RmlsZU5hbWU6ICdpbmRleCdcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0aW1hZ2VNYW5hZ2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0XHRjdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXQ6IGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyBcblx0XHRcdFx0XHRcdFx0XHRcdD8gJ1tbYXR0YWNobWVudHMve2ltYWdlLXVybH1dXScgXG5cdFx0XHRcdFx0XHRcdFx0XHQ6ICdbW3tpbWFnZS11cmx9XV0nXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5wbHVnaW5NYW5hZ2VyLmNvbmZpZ3VyZVBsdWdpbnMoY29uZmlnKTtcblx0XHRcdFx0XHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFNob3cgZGV0YWlsZWQgc3VjY2VzcyBtZXNzYWdlXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNvbnRlbnRPcmcgPSBzZXR0aW5ncy5jb250ZW50T3JnYW5pemF0aW9uO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRhY2htZW50TG9jYXRpb24gPSBjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnc3ViZm9sZGVyIChhdHRhY2htZW50cy8pJyA6ICdzYW1lIGZvbGRlcic7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNyZWF0aW9uTW9kZSA9IGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyA/ICdmaWxlJyA6ICdmb2xkZXInO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgQ29uZmlndXJhdGlvbiByZS1hcHBsaWVkIHN1Y2Nlc3NmdWxseSFcXG5cXG5cdTIwMjIgT2JzaWRpYW46IEF0dGFjaG1lbnRzIFx1MjE5MiAke2F0dGFjaG1lbnRMb2NhdGlvbn1cXG5cdTIwMjIgQXN0cm8gQ29tcG9zZXI6IENyZWF0aW9uIG1vZGUgXHUyMTkyICR7Y3JlYXRpb25Nb2RlfVxcblx1MjAyMiBJbWFnZSBNYW5hZ2VyOiBGb3JtYXQgdXBkYXRlZCBmb3IgJHtjb250ZW50T3JnfWAsIDgwMDApO1xuXHRcdFx0XHRcdFx0XHQvLyBSZWZyZXNoIHRoZSBwbHVnaW4gc3RhdHVzIGRpc3BsYXlcblx0XHRcdFx0XHRcdFx0Y29uc3Qgc3RhdHVzQ29udGFpbmVyRWwgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnBsdWdpbi1zdGF0dXMtY29udGFpbmVyJyk7XG5cdFx0XHRcdFx0XHRcdGlmIChzdGF0dXNDb250YWluZXJFbCkge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXR1c0NvbnRhaW5lckVsLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucmVuZGVyUGx1Z2luU3RhdHVzKGNvbnRhaW5lciwgc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBUZXh0IGlzIGFscmVhZHkgaW4gc2VudGVuY2UgY2FzZVxuXHRcdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1x1MjZBMFx1RkUwRiBTb21lIHBsdWdpbnMgY291bGQgbm90IGJlIGNvbmZpZ3VyZWQgYXV0b21hdGljYWxseS4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy4nLCA1MDAwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSk7XG5cdFx0fSk7XG5cblx0XHQvLyBTaG93IG1hbnVhbCBpbnN0cnVjdGlvbnMgYnV0dG9uXG5cdFx0cGx1Z2luQWN0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ1Nob3cgbWFudWFsIGluc3RydWN0aW9ucycpXG5cdFx0XHRcdC5zZXREZXNjKCdHZXQgc3RlcC1ieS1zdGVwIGluc3RydWN0aW9ucyBmb3IgbWFudWFsIGNvbmZpZ3VyYXRpb24nKVxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnU2hvdyBtYW51YWwgaW5zdHJ1Y3Rpb25zJylcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Ly8gQ3JlYXRlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gY3VycmVudCBjb250ZW50IG9yZ2FuaXphdGlvbiBjaG9pY2Vcblx0XHRcdFx0XHRjb25zdCBjb250ZW50T3JnID0gc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbjtcblx0XHRcdFx0XHRjb25zdCBjb25maWc6IFBsdWdpbkNvbmZpZ3VyYXRpb24gPSB7XG5cdFx0XHRcdFx0XHRvYnNpZGlhblNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cblx0XHRcdFx0XHRcdFx0YXR0YWNobWVudExvY2F0aW9uOiAoY29udGVudE9yZyA9PT0gJ2ZpbGUtYmFzZWQnID8gJ3N1YmZvbGRlcicgOiAnc2FtZS1mb2xkZXInKSBhcyAnc3ViZm9sZGVyJyB8ICdzYW1lLWZvbGRlcicsXG5cdFx0XHRcdFx0XHRcdHN1YmZvbGRlck5hbWU6ICdhdHRhY2htZW50cydcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRhc3Ryb0NvbXBvc2VyU2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdFx0XHRjcmVhdGlvbk1vZGU6IChjb250ZW50T3JnID09PSAnZmlsZS1iYXNlZCcgPyAnZmlsZScgOiAnZm9sZGVyJykgYXMgJ2ZpbGUnIHwgJ2ZvbGRlcicsXG5cdFx0XHRcdFx0XHRcdGluZGV4RmlsZU5hbWU6ICdpbmRleCdcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRpbWFnZU1hbmFnZXJTZXR0aW5nczoge1xuXHRcdFx0XHRcdFx0XHRjdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXQ6IGNvbnRlbnRPcmcgPT09ICdmaWxlLWJhc2VkJyBcblx0XHRcdFx0XHRcdFx0XHQ/ICdbW2F0dGFjaG1lbnRzL3tpbWFnZS11cmx9XV0nIFxuXHRcdFx0XHRcdFx0XHRcdDogJ1tbe2ltYWdlLXVybH1dXSdcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGNvbnN0IGluc3RydWN0aW9ucyA9IGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLnBsdWdpbk1hbmFnZXIuZ2V0TWFudWFsQ29uZmlndXJhdGlvbkluc3RydWN0aW9ucyhjb25maWcpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIENyZWF0ZSBhIG1vZGFsIHRvIHNob3cgaW5zdHJ1Y3Rpb25zXG5cdFx0XHRcdFx0Y29uc3QgaW5zdHJ1Y3Rpb25Nb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmFwcCk7XG5cdFx0XHRcdFx0aW5zdHJ1Y3Rpb25Nb2RhbC50aXRsZUVsLnNldFRleHQoJ01hbnVhbCBjb25maWd1cmF0aW9uIGluc3RydWN0aW9ucycpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIENyZWF0ZSBhIGNvbnRhaW5lciBmb3IgdGhlIGluc3RydWN0aW9uc1xuXHRcdFx0XHRcdGNvbnN0IGNvbnRlbnREaXYgPSBpbnN0cnVjdGlvbk1vZGFsLmNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRcdFx0XHRjb250ZW50RGl2LnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdHBhZGRpbmc6ICcyMHB4Jyxcblx0XHRcdFx0XHRcdGxpbmVIZWlnaHQ6ICcxLjYnXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gUGFyc2UgaW5zdHJ1Y3Rpb25zIGxpbmUgYnkgbGluZSBhbmQgY3JlYXRlIHByb3BlciBET00gZWxlbWVudHNcblx0XHRcdFx0XHRjb25zdCBsaW5lcyA9IGluc3RydWN0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0bGV0IGN1cnJlbnRMaXN0OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGxpbmVzLmZvckVhY2goKGxpbmU6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgdHJpbW1lZExpbmUgPSBsaW5lLnRyaW0oKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgKHRyaW1tZWRMaW5lID09PSAnJykge1xuXHRcdFx0XHRcdFx0XHQvLyBFbXB0eSBsaW5lIC0gYWRkIHNwYWNpbmdcblx0XHRcdFx0XHRcdFx0Y29udGVudERpdi5jcmVhdGVFbCgnYnInKTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnIyMgJykpIHtcblx0XHRcdFx0XHRcdFx0Ly8gU3ViIGhlYWRpbmdcblx0XHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3QgPSBudWxsOyAvLyBFbmQgY3VycmVudCBsaXN0XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y29uc3QgaDIgPSBjb250ZW50RGl2LmNyZWF0ZUVsKCdoMicpO1xuXHRcdFx0XHRcdFx0XHRoMi5zZXRUZXh0KHRyaW1tZWRMaW5lLnN1YnN0cmluZygzKSk7XG5cdFx0XHRcdFx0XHRcdGgyLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Ub3A6ICcyMHB4Jyxcblx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICcxMHB4Jyxcblx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogJzEuMmVtJyxcblx0XHRcdFx0XHRcdFx0XHRmb250V2VpZ2h0OiAnYm9sZCdcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRyaW1tZWRMaW5lLm1hdGNoKC9eXFxkK1xcLlxccy8pKSB7XG5cdFx0XHRcdFx0XHRcdC8vIE51bWJlcmVkIGxpc3QgaXRlbVxuXHRcdFx0XHRcdFx0XHRpZiAoIWN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3QgPSBjb250ZW50RGl2LmNyZWF0ZUVsKCdvbCcpO1xuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRMaXN0LnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkxlZnQ6ICcyMHB4Jyxcblx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzE1cHgnXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y29uc3QgbGkgPSBjdXJyZW50TGlzdC5jcmVhdGVFbCgnbGknKTtcblx0XHRcdFx0XHRcdFx0bGkuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzVweCdcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdC8vIFBhcnNlIGJvbGQgdGV4dCBpbiB0aGUgbGluZVxuXHRcdFx0XHRcdFx0XHR0aGlzLnBhcnNlQm9sZFRleHQobGksIHRyaW1tZWRMaW5lLnJlcGxhY2UoL15cXGQrXFwuXFxzLywgJycpKTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnLSAnKSB8fCB0cmltbWVkTGluZS5zdGFydHNXaXRoKCcqICcpKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEJ1bGxldCBsaXN0IGl0ZW1cblx0XHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50TGlzdCkge1xuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRMaXN0ID0gY29udGVudERpdi5jcmVhdGVFbCgndWwnKTtcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50TGlzdC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5MZWZ0OiAnMjBweCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICcxNXB4J1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxpID0gY3VycmVudExpc3QuY3JlYXRlRWwoJ2xpJyk7XG5cdFx0XHRcdFx0XHRcdGxpLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICc1cHgnXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHQvLyBQYXJzZSBib2xkIHRleHQgaW4gdGhlIGxpbmVcblx0XHRcdFx0XHRcdFx0dGhpcy5wYXJzZUJvbGRUZXh0KGxpLCB0cmltbWVkTGluZS5zdWJzdHJpbmcoMikpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmVndWxhciBwYXJhZ3JhcGhcblx0XHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRMaXN0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudExpc3QgPSBudWxsOyAvLyBFbmQgY3VycmVudCBsaXN0XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y29uc3QgcCA9IGNvbnRlbnREaXYuY3JlYXRlRWwoJ3AnKTtcblx0XHRcdFx0XHRcdFx0cC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiAnMTBweCdcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdC8vIFBhcnNlIGJvbGQgdGV4dCBpbiB0aGUgbGluZVxuXHRcdFx0XHRcdFx0XHR0aGlzLnBhcnNlQm9sZFRleHQocCwgdHJpbW1lZExpbmUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGluc3RydWN0aW9uTW9kYWwub3BlbigpO1xuXHRcdFx0XHR9KSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIHBhcnNlQm9sZFRleHQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdGV4dDogc3RyaW5nKTogdm9pZCB7XG5cdFx0Ly8gU2ltcGxlIGJvbGQgdGV4dCBwYXJzZXIgLSBoYW5kbGVzICoqdGV4dCoqIHBhdHRlcm5zXG5cdFx0Y29uc3QgcGFydHMgPSB0ZXh0LnNwbGl0KC8oXFwqXFwqLio/XFwqXFwqKS9nKTtcblx0XHRcblx0XHRwYXJ0cy5mb3JFYWNoKHBhcnQgPT4ge1xuXHRcdFx0aWYgKHBhcnQuc3RhcnRzV2l0aCgnKionKSAmJiBwYXJ0LmVuZHNXaXRoKCcqKicpKSB7XG5cdFx0XHRcdC8vIEJvbGQgdGV4dFxuXHRcdFx0XHRjb25zdCBzdHJvbmcgPSBjb250YWluZXIuY3JlYXRlRWwoJ3N0cm9uZycpO1xuXHRcdFx0XHRzdHJvbmcuc2V0VGV4dChwYXJ0LnN1YnN0cmluZygyLCBwYXJ0Lmxlbmd0aCAtIDIpKTtcblx0XHRcdH0gZWxzZSBpZiAocGFydC50cmltKCkgIT09ICcnKSB7XG5cdFx0XHRcdC8vIFJlZ3VsYXIgdGV4dFxuXHRcdFx0XHRjb250YWluZXIuYXBwZW5kVGV4dChwYXJ0KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgdXBkYXRlUGx1Z2luU2V0dGluZ3NXaXRoVGVtcGxhdGUodGVtcGxhdGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdC8vIEdldCB0aGUgY3VycmVudCBwbHVnaW4gc2V0dGluZ3Ncblx0XHRjb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW47XG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSBwbHVnaW4uc2V0dGluZ3M7XG5cdFx0XG5cdFx0Ly8gTG9hZCB0aGUgdGVtcGxhdGUgcHJlc2V0IGZyb20gSlNPTiAoc2luZ2xlIHNvdXJjZSBvZiB0cnV0aClcblx0XHRjb25zdCB0ZW1wbGF0ZVByZXNldCA9IHBsdWdpbi5jb25maWdNYW5hZ2VyLmdldFRlbXBsYXRlUHJlc2V0KHRlbXBsYXRlKTtcblx0XHRpZiAoIXRlbXBsYXRlUHJlc2V0IHx8ICF0ZW1wbGF0ZVByZXNldC5jb25maWcpIHtcblx0XHRcdG5ldyBOb3RpY2UoJ1RlbXBsYXRlIHByZXNldCBub3QgZm91bmQnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDUklUSUNBTDogR2V0IGZ1bGwgdGVtcGxhdGUgY29uZmlnIGluY2x1ZGluZyBjb21tYW5kIHBhbGV0dGUgc2V0dGluZ3Ncblx0XHRjb25zdCB0ZW1wbGF0ZUNvbmZpZyA9IHBsdWdpbi5jb25maWdNYW5hZ2VyLmdldFRlbXBsYXRlQ29uZmlnKHRlbXBsYXRlLCBzZXR0aW5ncyk7XG5cblx0XHQvLyBVcGRhdGUgc2V0dGluZ3MgZnJvbSB0aGUgcHJlc2V0J3MgY29uZmlnXG5cdFx0c2V0dGluZ3MuY3VycmVudFRlbXBsYXRlID0gdGVtcGxhdGUgYXMgVGVtcGxhdGVUeXBlO1xuXHRcdFxuXHRcdC8vIE5PVEU6IFdlIGRvIE5PVCB1cGRhdGUgdGhlbWUgb3IgY29udGVudE9yZ2FuaXphdGlvbiAtIHRob3NlIGFyZSBzZXBhcmF0ZSB1c2VyIGNob2ljZXNcblx0XHRcblx0XHQvLyBVcGRhdGUgZmVhdHVyZXMgZnJvbSBwcmVzZXQgKHByZXNlcnZpbmcgdXNlciBwcmVmZXJlbmNlcyBmb3IgY29tbWVudHMvcHJvZmlsZVBpY3R1cmUpXG5cdFx0aWYgKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcykge1xuXHRcdFx0Y29uc3QgY3VycmVudENvbW1lbnRzID0gc2V0dGluZ3MuZmVhdHVyZXMuY29tbWVudHM7XG5cdFx0XHRjb25zdCBjdXJyZW50UHJvZmlsZVBpY3R1cmUgPSBzZXR0aW5ncy5mZWF0dXJlcy5wcm9maWxlUGljdHVyZTtcblx0XHRcdHNldHRpbmdzLmZlYXR1cmVzID0geyAuLi5zZXR0aW5ncy5mZWF0dXJlcywgLi4udGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzIH07XG5cdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5jb21tZW50cyA9IGN1cnJlbnRDb21tZW50cztcblx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlID0gY3VycmVudFByb2ZpbGVQaWN0dXJlO1xuXHRcdFx0XG5cdFx0XHQvLyBDUklUSUNBTDogU3luYyBwb3N0T3B0aW9ucyB3aXRoIGZlYXR1cmVzIHRvIG1haW50YWluIGRhdGEgaW50ZWdyaXR5XG5cdFx0XHQvLyBwb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZCBpcyB0aGUgc291cmNlIG9mIHRydXRoXG5cdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldykge1xuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZCA9IHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcy5ncmFwaFZpZXcgPz8gZmFsc2U7XG5cdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmdyYXBoVmlldyA9IHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBTeW5jIGxpbmtlZCBtZW50aW9uc1xuXHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zPy5saW5rZWRNZW50aW9ucykge1xuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5lbmFibGVkID0gdGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLmxpbmtlZE1lbnRpb25zID8/IGZhbHNlO1xuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPSB0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMubGlua2VkTWVudGlvbnNDb21wYWN0ID8/IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBTeW5jIGNvbW1hbmQgcGFsZXR0ZSBxdWljayBhY3Rpb25zXG5cdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnF1aWNrQWN0aW9ucyAmJiB0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMucXVpY2tBY3Rpb25zKSB7XG5cdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyA9IHsgLi4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zLCAuLi50ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMucXVpY2tBY3Rpb25zIH07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIENSSVRJQ0FMOiBVcGRhdGUgQUxMIHNldHRpbmdzIGZyb20gdGVtcGxhdGUgY29uZmlnIChub3QganVzdCBwcmVzZXQgSlNPTilcblx0XHQvLyBUaGlzIGVuc3VyZXMgZGF0YS5qc29uIG1hdGNoZXMgd2hhdCBjb25maWcudHMgd2lsbCBzaG93XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGNvbW1hbmQgcGFsZXR0ZVxuXHRcdGNvbnN0IGNvbW1hbmRQYWxldHRlID0gdGVtcGxhdGVDb25maWcuY29tbWFuZFBhbGV0dGUgYXMgUGFydGlhbDxDb21tYW5kUGFsZXR0ZVNldHRpbmdzPiB8IHVuZGVmaW5lZDtcblx0XHRpZiAoY29tbWFuZFBhbGV0dGUpIHtcblx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlID0ge1xuXHRcdFx0XHQuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSxcblx0XHRcdFx0ZW5hYmxlZDogY29tbWFuZFBhbGV0dGUuZW5hYmxlZCA/PyBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5lbmFibGVkLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXIgPz8gc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXIsXG5cdFx0XHRcdHNob3J0Y3V0OiBjb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCA/PyBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCxcblx0XHRcdFx0c2VhcmNoOiB7XG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLFxuXHRcdFx0XHRcdC4uLihjb21tYW5kUGFsZXR0ZS5zZWFyY2ggfHwge30pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNlY3Rpb25zOiB7XG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMsXG5cdFx0XHRcdFx0Li4uKGNvbW1hbmRQYWxldHRlLnNlY3Rpb25zIHx8IHt9KVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRxdWlja0FjdGlvbnM6IHtcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMsXG5cdFx0XHRcdFx0Li4uKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcz8ucXVpY2tBY3Rpb25zIHx8IHt9KVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0XG5cdFx0XHQvLyBTeW5jIGZlYXR1cmVzLnF1aWNrQWN0aW9uc1xuXHRcdFx0aWYgKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcz8ucXVpY2tBY3Rpb25zKSB7XG5cdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnF1aWNrQWN0aW9ucyA9IHtcblx0XHRcdFx0XHQuLi5zZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMsXG5cdFx0XHRcdFx0Li4udGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzLnF1aWNrQWN0aW9uc1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgaG9tZSBvcHRpb25zXG5cdFx0Y29uc3QgaG9tZU9wdGlvbnMgPSB0ZW1wbGF0ZUNvbmZpZy5ob21lT3B0aW9ucyBhcyBQYXJ0aWFsPEhvbWVPcHRpb25zPiB8IHVuZGVmaW5lZDtcblx0XHRpZiAoaG9tZU9wdGlvbnMpIHtcblx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zID0ge1xuXHRcdFx0XHQuLi5zZXR0aW5ncy5ob21lT3B0aW9ucyxcblx0XHRcdFx0ZmVhdHVyZWRQb3N0OiB7XG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0LFxuXHRcdFx0XHRcdC4uLihob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QgfHwge30pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlY2VudFBvc3RzOiB7XG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuaG9tZU9wdGlvbnMucmVjZW50UG9zdHMsXG5cdFx0XHRcdFx0Li4uKGhvbWVPcHRpb25zLnJlY2VudFBvc3RzIHx8IHt9KVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRwcm9qZWN0czoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzLFxuXHRcdFx0XHRcdC4uLihob21lT3B0aW9ucy5wcm9qZWN0cyB8fCB7fSlcblx0XHRcdFx0fSxcblx0XHRcdFx0ZG9jczoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLmhvbWVPcHRpb25zLmRvY3MsXG5cdFx0XHRcdFx0Li4uKGhvbWVPcHRpb25zLmRvY3MgfHwge30pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJsdXJiOiB7XG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MuaG9tZU9wdGlvbnMuYmx1cmIsXG5cdFx0XHRcdFx0Li4uKGhvbWVPcHRpb25zLmJsdXJiIHx8IHt9KVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgcG9zdCBvcHRpb25zXG5cdFx0Y29uc3QgcG9zdE9wdGlvbnMgPSB0ZW1wbGF0ZUNvbmZpZy5wb3N0T3B0aW9ucyBhcyBQYXJ0aWFsPFBvc3RPcHRpb25zPiB8IHVuZGVmaW5lZDtcblx0XHRpZiAocG9zdE9wdGlvbnMpIHtcblx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0ge1xuXHRcdFx0XHQuLi5zZXR0aW5ncy5wb3N0T3B0aW9ucyxcblx0XHRcdFx0cG9zdHNQZXJQYWdlOiBwb3N0T3B0aW9ucy5wb3N0c1BlclBhZ2UgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdHNQZXJQYWdlLFxuXHRcdFx0XHRyZWFkaW5nVGltZTogcG9zdE9wdGlvbnMucmVhZGluZ1RpbWUgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMucmVhZGluZ1RpbWUsXG5cdFx0XHRcdHdvcmRDb3VudDogcG9zdE9wdGlvbnMud29yZENvdW50ID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLndvcmRDb3VudCxcblx0XHRcdFx0dGFnczogcG9zdE9wdGlvbnMudGFncyA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy50YWdzLFxuXHRcdFx0XHRwb3N0TmF2aWdhdGlvbjogcG9zdE9wdGlvbnMucG9zdE5hdmlnYXRpb24gPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdE5hdmlnYXRpb24sXG5cdFx0XHRcdHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiBwb3N0T3B0aW9ucy5zaG93UG9zdENhcmRDb3ZlckltYWdlcyA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5zaG93UG9zdENhcmRDb3ZlckltYWdlcyxcblx0XHRcdFx0cG9zdENhcmRBc3BlY3RSYXRpbzogcG9zdE9wdGlvbnMucG9zdENhcmRBc3BlY3RSYXRpbyA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5wb3N0Q2FyZEFzcGVjdFJhdGlvLFxuXHRcdFx0XHRsaW5rZWRNZW50aW9uczoge1xuXHRcdFx0XHRcdC4uLnNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zLFxuXHRcdFx0XHRcdC4uLihwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyB8fCB7fSlcblx0XHRcdFx0fSxcblx0XHRcdFx0Z3JhcGhWaWV3OiB7XG5cdFx0XHRcdFx0Li4uc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LFxuXHRcdFx0XHRcdGVuYWJsZWQ6IHBvc3RPcHRpb25zLmdyYXBoVmlldz8uZW5hYmxlZCA/PyBzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZCxcblx0XHRcdFx0XHRzaG93SW5TaWRlYmFyOiBwb3N0T3B0aW9ucy5ncmFwaFZpZXc/LnNob3dJblNpZGViYXIgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LnNob3dJblNpZGViYXIsXG5cdFx0XHRcdFx0bWF4Tm9kZXM6IHBvc3RPcHRpb25zLmdyYXBoVmlldz8ubWF4Tm9kZXMgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3Lm1heE5vZGVzLFxuXHRcdFx0XHRcdHNob3dPcnBoYW5lZFBvc3RzOiBwb3N0T3B0aW9ucy5ncmFwaFZpZXc/LnNob3dPcnBoYW5lZFBvc3RzID8/IHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5zaG93T3JwaGFuZWRQb3N0c1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb21tZW50czogc2V0dGluZ3MucG9zdE9wdGlvbnMuY29tbWVudHMgIC8vIFByZXNlcnZlIGNvbW1lbnRzXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvblxuXHRcdGNvbnN0IG5hdmlnYXRpb24gPSB0ZW1wbGF0ZUNvbmZpZy5uYXZpZ2F0aW9uIGFzIFBhcnRpYWw8TmF2aWdhdGlvblNldHRpbmdzPiB8IHVuZGVmaW5lZDtcblx0XHRpZiAobmF2aWdhdGlvbikge1xuXHRcdFx0c2V0dGluZ3MubmF2aWdhdGlvbiA9IHtcblx0XHRcdFx0Li4uc2V0dGluZ3MubmF2aWdhdGlvbixcblx0XHRcdFx0c2hvd05hdmlnYXRpb246IG5hdmlnYXRpb24uc2hvd05hdmlnYXRpb24gPz8gc2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TmF2aWdhdGlvbixcblx0XHRcdFx0c2hvd01vYmlsZU1lbnU6IG5hdmlnYXRpb24uc2hvd01vYmlsZU1lbnUgPz8gc2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TW9iaWxlTWVudSxcblx0XHRcdFx0c3R5bGU6IG5hdmlnYXRpb24uc3R5bGUgPz8gc2V0dGluZ3MubmF2aWdhdGlvbi5zdHlsZVxuXHRcdFx0XHQvLyBQcmVzZXJ2ZSBwYWdlcyBhbmQgc29jaWFsIGFycmF5cyBmcm9tIHVzZXIgc2V0dGluZ3Ncblx0XHRcdH07XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSB0YWJsZSBvZiBjb250ZW50cyBzZXR0aW5ncyBmcm9tIHByZXNldFxuXHRcdGlmICh0ZW1wbGF0ZVByZXNldC5jb25maWcudGFibGVPZkNvbnRlbnRzKSB7XG5cdFx0XHRzZXR0aW5ncy50YWJsZU9mQ29udGVudHMgPSB7IC4uLnNldHRpbmdzLnRhYmxlT2ZDb250ZW50cywgLi4udGVtcGxhdGVQcmVzZXQuY29uZmlnLnRhYmxlT2ZDb250ZW50cyB9O1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgb3B0aW9uYWwgY29udGVudCB0eXBlcyBmcm9tIHRlbXBsYXRlIGNvbmZpZ1xuXHRcdGNvbnN0IG9wdGlvbmFsQ29udGVudFR5cGVzID0gdGVtcGxhdGVDb25maWcub3B0aW9uYWxDb250ZW50VHlwZXMgYXMgeyBwcm9qZWN0cz86IGJvb2xlYW47IGRvY3M/OiBib29sZWFuIH0gfCB1bmRlZmluZWQ7XG5cdFx0aWYgKG9wdGlvbmFsQ29udGVudFR5cGVzKSB7XG5cdFx0XHRzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcyA9IHtcblx0XHRcdFx0cHJvamVjdHM6IG9wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzID8/IGZhbHNlLFxuXHRcdFx0XHRkb2NzOiBvcHRpb25hbENvbnRlbnRUeXBlcy5kb2NzID8/IGZhbHNlXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRcblx0XHQvLyBDUklUSUNBTDogVXBkYXRlIGZvb3RlciBzZXR0aW5ncyBmcm9tIHRlbXBsYXRlIGNvbmZpZ1xuXHRcdGNvbnN0IGZvb3RlciA9IHRlbXBsYXRlQ29uZmlnLmZvb3RlciBhcyB7IHNob3dTb2NpYWxJY29uc0luRm9vdGVyPzogYm9vbGVhbiB9IHwgdW5kZWZpbmVkO1xuXHRcdGlmIChmb290ZXIpIHtcblx0XHRcdHNldHRpbmdzLmZvb3RlciA9IHtcblx0XHRcdFx0Li4uc2V0dGluZ3MuZm9vdGVyLFxuXHRcdFx0XHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogZm9vdGVyLnNob3dTb2NpYWxJY29uc0luRm9vdGVyID8/IHNldHRpbmdzLmZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3RlclxuXHRcdFx0fTtcblx0XHRcdC8vIFN5bmMgZmVhdHVyZXMuc2hvd1NvY2lhbEljb25zSW5Gb290ZXJcblx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnNob3dTb2NpYWxJY29uc0luRm9vdGVyID0gZm9vdGVyLnNob3dTb2NpYWxJY29uc0luRm9vdGVyID8/IHNldHRpbmdzLmZlYXR1cmVzLnNob3dTb2NpYWxJY29uc0luRm9vdGVyO1xuXHRcdH1cblxuXHRcdC8vIFNhdmUgdGhlIHVwZGF0ZWQgc2V0dGluZ3Ncblx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdH1cblxuXHRwcml2YXRlIGdldFRlbXBsYXRlQ2hhbmdlcyh0ZW1wbGF0ZUlkOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG5cdFx0Y29uc3QgY2hhbmdlczogc3RyaW5nW10gPSBbXTtcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRoaXMuZ2V0U2V0dGluZ3MoKTtcblx0XHRcblx0XHQvLyBMb2FkIHRoZSB0ZW1wbGF0ZSBwcmVzZXQgZnJvbSBKU09OXG5cdFx0Y29uc3QgdGVtcGxhdGVQcmVzZXQgPSAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5jb25maWdNYW5hZ2VyLmdldFRlbXBsYXRlUHJlc2V0KHRlbXBsYXRlSWQpO1xuXHRcdGlmICghdGVtcGxhdGVQcmVzZXQgfHwgIXRlbXBsYXRlUHJlc2V0LmNvbmZpZykge1xuXHRcdFx0Y2hhbmdlcy5wdXNoKCdUaGlzIHdpbGwgYXBwbHkgdGhlIHRlbXBsYXRlIHNldHRpbmdzIHRvIHlvdXIgY29uZmlndXJhdGlvbi4nKTtcblx0XHRcdHJldHVybiBjaGFuZ2VzO1xuXHRcdH1cblxuXHRcdGNvbnN0IG5ld0NvbmZpZyA9IHRlbXBsYXRlUHJlc2V0LmNvbmZpZztcblx0XHRjb25zdCBmZWF0dXJlQ2hhbmdlcyA9IFtdO1xuXG5cdFx0Ly8gTk9URTogV2UgZG9uJ3QgY29tcGFyZSB0aGVtZSAtIHRoYXQncyBhIHNlcGFyYXRlIHVzZXIgY2hvaWNlXG5cblx0XHQvLyBDb21wYXJlIGFsbCBmZWF0dXJlcyBmcm9tIHRoZSBwcmVzZXRcblx0XHRpZiAobmV3Q29uZmlnLmZlYXR1cmVzKSB7XG5cdFx0XHQvLyBLZXkgZmVhdHVyZXMgdG8gaGlnaGxpZ2h0IChleGNsdWRpbmcgY29tbWVudHMgd2hpY2ggaXMgdXNlci1jb25maWd1cmVkKVxuXHRcdFx0Y29uc3Qga2V5RmVhdHVyZXMgPSBbXG5cdFx0XHRcdHsga2V5OiAnZ3JhcGhWaWV3JywgbGFiZWw6ICdHcmFwaCB2aWV3JyB9LFxuXHRcdFx0XHR7IGtleTogJ3RhYmxlT2ZDb250ZW50cycsIGxhYmVsOiAnVGFibGUgb2YgY29udGVudHMnIH0sXG5cdFx0XHRcdHsga2V5OiAncmVhZGluZ1RpbWUnLCBsYWJlbDogJ1JlYWRpbmcgdGltZScgfSxcblx0XHRcdFx0eyBrZXk6ICdsaW5rZWRNZW50aW9ucycsIGxhYmVsOiAnTGlua2VkIG1lbnRpb25zJyB9LFxuXHRcdFx0XHR7IGtleTogJ2xpbmtlZE1lbnRpb25zQ29tcGFjdCcsIGxhYmVsOiAnQ29tcGFjdCBsaW5rZWQgbWVudGlvbnMnIH0sXG5cdFx0XHRcdHsga2V5OiAncG9zdE5hdmlnYXRpb24nLCBsYWJlbDogJ1Bvc3QgbmF2aWdhdGlvbicgfSxcblx0XHRcdFx0eyBrZXk6ICdzaG93U29jaWFsSWNvbnNJbkZvb3RlcicsIGxhYmVsOiAnU29jaWFsIGljb25zIGluIGZvb3RlcicgfSxcblx0XHRcdFx0eyBrZXk6ICdmZWF0dXJlQnV0dG9uJywgbGFiZWw6ICdGZWF0dXJlIGJ1dHRvbicgfVxuXHRcdFx0XTtcblxuXHRcdFx0a2V5RmVhdHVyZXMuZm9yRWFjaCgoeyBrZXksIGxhYmVsIH0pID0+IHtcblx0XHRcdFx0Y29uc3Qgb2xkRmVhdHVyZSA9IChzZXR0aW5ncy5mZWF0dXJlcyBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtrZXldO1xuXHRcdFx0XHRjb25zdCBuZXdGZWF0dXJlID0gKG5ld0NvbmZpZy5mZWF0dXJlcyBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtrZXldO1xuXHRcdFx0aWYgKG5ld0ZlYXR1cmUgIT09IHVuZGVmaW5lZCAmJiBvbGRGZWF0dXJlICE9PSBuZXdGZWF0dXJlKSB7XG5cdFx0XHRcdGNvbnN0IG9sZFZhbCA9IHR5cGVvZiBvbGRGZWF0dXJlID09PSAnYm9vbGVhbicgXG5cdFx0XHRcdFx0PyAob2xkRmVhdHVyZSA/ICdPTicgOiAnT0ZGJylcblx0XHRcdFx0XHQ6IChvbGRGZWF0dXJlID09PSBudWxsIHx8IG9sZEZlYXR1cmUgPT09IHVuZGVmaW5lZCA/ICcnIDogKHR5cGVvZiBvbGRGZWF0dXJlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb2xkRmVhdHVyZSA9PT0gJ251bWJlcicgPyBTdHJpbmcob2xkRmVhdHVyZSkgOiBKU09OLnN0cmluZ2lmeShvbGRGZWF0dXJlKSkpO1xuXHRcdFx0XHRjb25zdCBuZXdWYWwgPSB0eXBlb2YgbmV3RmVhdHVyZSA9PT0gJ2Jvb2xlYW4nXG5cdFx0XHRcdFx0PyAobmV3RmVhdHVyZSA/ICdPTicgOiAnT0ZGJylcblx0XHRcdFx0XHQ6IChuZXdGZWF0dXJlID09PSBudWxsIHx8IG5ld0ZlYXR1cmUgPT09IHVuZGVmaW5lZCA/ICcnIDogKHR5cGVvZiBuZXdGZWF0dXJlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmV3RmVhdHVyZSA9PT0gJ251bWJlcicgPyBTdHJpbmcobmV3RmVhdHVyZSkgOiBKU09OLnN0cmluZ2lmeShuZXdGZWF0dXJlKSkpO1xuXHRcdFx0XHRmZWF0dXJlQ2hhbmdlcy5wdXNoKGAke2xhYmVsfTogJHtvbGRWYWx9IFx1MjE5MiAke25ld1ZhbH1gKTtcblx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBDaGVjayBxdWlja0FjdGlvbnMgY2hhbmdlc1xuXHRcdFx0aWYgKG5ld0NvbmZpZy5mZWF0dXJlcy5xdWlja0FjdGlvbnMgJiYgc2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zKSB7XG5cdFx0XHRcdGlmIChuZXdDb25maWcuZmVhdHVyZXMucXVpY2tBY3Rpb25zLmVuYWJsZWQgIT09IHNldHRpbmdzLmZlYXR1cmVzLnF1aWNrQWN0aW9ucy5lbmFibGVkKSB7XG5cdFx0XHRcdFx0ZmVhdHVyZUNoYW5nZXMucHVzaChgUXVpY2sgYWN0aW9uczogJHtzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMuZW5hYmxlZCA/ICdPTicgOiAnT0ZGJ30gXHUyMTkyICR7bmV3Q29uZmlnLmZlYXR1cmVzLnF1aWNrQWN0aW9ucy5lbmFibGVkID8gJ09OJyA6ICdPRkYnfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29tcGFyZSBvcHRpb25hbCBjb250ZW50IHR5cGVzXG5cdFx0Y29uc3QgaXNTdGFuZGFyZCA9IHRlbXBsYXRlSWQgPT09ICdzdGFuZGFyZCc7XG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzPy5wcm9qZWN0cyAhPT0gaXNTdGFuZGFyZCkge1xuXHRcdFx0ZmVhdHVyZUNoYW5nZXMucHVzaChgUHJvamVjdHMgY29udGVudCB0eXBlOiAke3NldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzPy5wcm9qZWN0cyA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IFx1MjE5MiAke2lzU3RhbmRhcmQgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfWApO1xuXHRcdH1cblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXM/LmRvY3MgIT09IGlzU3RhbmRhcmQpIHtcblx0XHRcdGZlYXR1cmVDaGFuZ2VzLnB1c2goYERvY3MgY29udGVudCB0eXBlOiAke3NldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzPy5kb2NzID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gXHUyMTkyICR7aXNTdGFuZGFyZCA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9YCk7XG5cdFx0fVxuXG5cdFx0aWYgKGZlYXR1cmVDaGFuZ2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdGNoYW5nZXMucHVzaCguLi5mZWF0dXJlQ2hhbmdlcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNoYW5nZXMucHVzaCgnTm8gY2hhbmdlcyBuZWVkZWQgLSB5b3VyIHNldHRpbmdzIGFscmVhZHkgbWF0Y2ggdGhpcyB0ZW1wbGF0ZS4nKTtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIGNoYW5nZXM7XG5cdH1cbn0iLCAiaW1wb3J0IHsgTW9kYWwsIEFwcCB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQcmVzZXRXYXJuaW5nTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cHJpdmF0ZSBvbkNvbmZpcm06ICgpID0+IHZvaWQ7XHJcblx0cHJpdmF0ZSBvbkNhbmNlbDogKCkgPT4gdm9pZDtcclxuXHRwcml2YXRlIGNoYW5nZXM6IHN0cmluZ1tdO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgY2hhbmdlczogc3RyaW5nW10sIG9uQ29uZmlybTogKCkgPT4gdm9pZCwgb25DYW5jZWw6ICgpID0+IHZvaWQpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLmNoYW5nZXMgPSBjaGFuZ2VzO1xyXG5cdFx0dGhpcy5vbkNvbmZpcm0gPSBvbkNvbmZpcm07XHJcblx0XHR0aGlzLm9uQ2FuY2VsID0gb25DYW5jZWw7XHJcblx0fVxyXG5cclxuXHRvbk9wZW4oKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cclxuXHRcdC8vIE1vZGFsIGhlYWRlclxyXG5cdFx0Y29uc3QgaGVhZGVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0FwcGx5IHRlbXBsYXRlIHByZXNldCcgfSk7XHJcblx0XHRoZWFkZXIuYWRkQ2xhc3MoJ3ByZXNldC13YXJuaW5nLW1vZGFsLWhlYWRlcicpO1xyXG5cclxuXHRcdC8vIFdhcm5pbmcgbWVzc2FnZVxyXG5cdFx0Y29uc3Qgd2FybmluZyA9IGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgXHJcblx0XHRcdHRleHQ6ICdBcHBseWluZyB0aGlzIHRlbXBsYXRlIHdpbGwgY2hhbmdlIHRoZSBmb2xsb3dpbmcgc2V0dGluZ3M6JyBcclxuXHRcdH0pO1xyXG5cdFx0d2FybmluZy5hZGRDbGFzcygncHJlc2V0LXdhcm5pbmctbWVzc2FnZScpO1xyXG5cclxuXHRcdC8vIENoYW5nZXMgbGlzdFxyXG5cdFx0Y29uc3QgY2hhbmdlc0xpc3QgPSBjb250ZW50RWwuY3JlYXRlRWwoJ3VsJyk7XHJcblx0XHRjaGFuZ2VzTGlzdC5hZGRDbGFzcygncHJlc2V0LXdhcm5pbmctY2hhbmdlcy1saXN0Jyk7XHJcblxyXG5cdFx0dGhpcy5jaGFuZ2VzLmZvckVhY2goY2hhbmdlID0+IHtcclxuXHRcdFx0Y29uc3QgbGlzdEl0ZW0gPSBjaGFuZ2VzTGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6IGNoYW5nZSB9KTtcclxuXHRcdFx0bGlzdEl0ZW0uYWRkQ2xhc3MoJ3ByZXNldC13YXJuaW5nLWxpc3QtaXRlbScpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUXVlc3Rpb25cclxuXHRcdGNvbnN0IHF1ZXN0aW9uID0gY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyBcclxuXHRcdFx0dGV4dDogJ0RvIHlvdSB3YW50IHRvIGFwcGx5IHRoaXMgdGVtcGxhdGU/JyBcclxuXHRcdH0pO1xyXG5cdFx0cXVlc3Rpb24uYWRkQ2xhc3MoJ3ByZXNldC13YXJuaW5nLXF1ZXN0aW9uJyk7XHJcblxyXG5cdFx0Ly8gQnV0dG9ucyBjb250YWluZXJcclxuXHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ21vZGFsLWJ1dHRvbi1jb250YWluZXInKTtcclxuXHJcblx0XHQvLyBDYW5jZWwgYnV0dG9uXHJcblx0XHRjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XHJcblx0XHRjYW5jZWxCdXR0b24uY2xhc3NOYW1lID0gJ21vZC1jdGEnO1xyXG5cdFx0Y2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm9uQ2FuY2VsKCk7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENvbmZpcm0gYnV0dG9uXHJcblx0XHRjb25zdCBjb25maXJtQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDb250aW51ZScgfSk7XHJcblx0XHRjb25maXJtQnV0dG9uLmNsYXNzTmFtZSA9ICdtb2Qtd2FybmluZyc7XHJcblx0XHRjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm9uQ29uZmlybSgpO1xyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBGb2N1cyB0aGUgY29uZmlybSBidXR0b25cclxuXHRcdGNvbmZpcm1CdXR0b24uZm9jdXMoKTtcclxuXHR9XHJcblxyXG5cdG9uQ2xvc2UoKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgTm90aWNlLCBzZXRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgVGFiUmVuZGVyZXIgfSBmcm9tICcuLi9jb21tb24vVGFiUmVuZGVyZXInO1xuaW1wb3J0IHsgVEhFTUVfT1BUSU9OUywgRk9OVF9PUFRJT05TLCBBc3Ryb01vZHVsYXJQbHVnaW4sIFRoZW1lVHlwZSwgQXN0cm9Nb2R1bGFyU2V0dGluZ3MsIENvbG9yU2NhbGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBUaGVtZUNvbG9yRXh0cmFjdG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvVGhlbWVDb2xvckV4dHJhY3Rvcic7XG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0dGluZ3MtY29tcGF0JztcblxuZXhwb3J0IGNsYXNzIFN0eWxlVGFiIGV4dGVuZHMgVGFiUmVuZGVyZXIge1xuXHRwcml2YXRlIG1haW5Db250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0XHR0aGlzLm1haW5Db250YWluZXIgPSBjb250YWluZXI7IC8vIFN0b3JlIHJlZmVyZW5jZSB0byBtYWluIGNvbnRhaW5lclxuXHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gQ29sb3JzIGdyb3VwIHdpdGggaGVhZGluZ1xuXHRcdGNvbnN0IGNvbG9yc0dyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXIsICdDb2xvcnMnLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xuXG5cdFx0Ly8gVGhlbWUgc2VsZWN0b3Jcblx0XHRjb2xvcnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHQuc2V0TmFtZSgnVGhlbWUnKVxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB5b3VyIGNvbG9yIHRoZW1lJylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdFRIRU1FX09QVElPTlMuZm9yRWFjaCh0aGVtZSA9PiB7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKHRoZW1lLmlkLCB0aGVtZS5uYW1lKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLmN1cnJlbnRUaGVtZSk7XG5cdFx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdHNldHRpbmdzLmN1cnJlbnRUaGVtZSA9IHZhbHVlIGFzIFRoZW1lVHlwZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdC8vIFJlbG9hZCBzZXR0aW5ncyB0byBlbnN1cmUgdGhlIHBsdWdpbiBoYXMgdGhlIGxhdGVzdCB2YWx1ZXNcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBSZS1yZW5kZXIgdG8gc2hvdy9oaWRlIGN1c3RvbSB0aGVtZSBmaWxlIGZpZWxkXG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBBcHBseSBvbmx5IHRoZW1lIGNoYW5nZSB0byBjb25maWcudHMgKG5vdCBhbGwgc2V0dGluZ3MpXG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBzdWNjZXNzID0gYXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuY29uZmlnTWFuYWdlci51cGRhdGVUaGVtZU9ubHkodmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFRoZW1lIGNoYW5nZWQgdG8gJHt2YWx1ZX0gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IHRoZW1lIGNoYW5nZSB0byBjb25maWcudHNgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IHRoZW1lIGNoYW5nZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIEF2YWlsYWJsZSB0aGVtZXMgY3VzdG9taXphdGlvblxuXHRcdGNvbG9yc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0N1c3RvbWl6ZSBhdmFpbGFibGUgdGhlbWVzJylcblx0XHRcdFx0LnNldERlc2MoJ0NvbnRyb2wgd2hpY2ggdGhlbWVzIGFyZSBzaG93biB0byB1c2VycyBpbiB0aGUgdGhlbWUgc2VsZWN0b3InKVxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgaXNDdXN0b21pemVkID0gQXJyYXkuaXNBcnJheShzZXR0aW5ncy5hdmFpbGFibGVUaGVtZXMpO1xuXHRcdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZShpc0N1c3RvbWl6ZWQpO1xuXHRcdFx0XHRcdHRvZ2dsZS5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRW5hYmxlIGN1c3RvbWl6YXRpb24gLSBzZXQgdG8gYWxsIHRoZW1lcyBleGNlcHQgJ2N1c3RvbSdcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBhbGxUaGVtZXMgPSBUSEVNRV9PUFRJT05TLmZpbHRlcih0aGVtZSA9PiB0aGVtZS5pZCAhPT0gJ2N1c3RvbScpLm1hcCh0aGVtZSA9PiB0aGVtZS5pZCkgYXMgQXJyYXk8RXhjbHVkZTxUaGVtZVR5cGUsICdjdXN0b20nPj47XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuYXZhaWxhYmxlVGhlbWVzID0gYWxsVGhlbWVzO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdC8vIERpc2FibGUgY3VzdG9taXphdGlvbiAtIHNldCB0byBcImRlZmF1bHRcIlxuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmF2YWlsYWJsZVRoZW1lcyA9ICdkZWZhdWx0Jztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gUmUtcmVuZGVyIHRvIHNob3cvaGlkZSB0aGVtZSBwaWxsc1xuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5tYWluQ29udGFpbmVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIodGhpcy5tYWluQ29udGFpbmVyKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB0byBjb25maWcudHNcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBBdmFpbGFibGUgdGhlbWVzICR7dmFsdWUgPyAnY3VzdG9taXplZCcgOiAnc2V0IHRvIGRlZmF1bHQnfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgYXZhaWxhYmxlIHRoZW1lcyBjaGFuZ2U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdC8vIFNob3cgdGhlbWUgcGlsbHMgd2hlbiBjdXN0b21pemF0aW9uIGlzIGVuYWJsZWQgLSBhZGQgYXMgY3VzdG9tIHNldHRpbmcgd2l0aGluIGdyb3VwXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoc2V0dGluZ3MuYXZhaWxhYmxlVGhlbWVzKSkge1xuXHRcdFx0Y29sb3JzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHQvLyBIaWRlIGRlZmF1bHQgVUkgZWxlbWVudHNcblx0XHRcdFx0Y29uc3QgbmFtZUVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1uYW1lJyk7XG5cdFx0XHRcdGNvbnN0IGRlc2NFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nKTtcblx0XHRcdFx0Y29uc3QgY29udHJvbEVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1jb250cm9sJyk7XG5cdFx0XHRcdGlmIChuYW1lRWwpIChuYW1lRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRpZiAoZGVzY0VsKSAoZGVzY0VsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRcdFx0aWYgKGNvbnRyb2xFbCkgKGNvbnRyb2xFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG5cdFx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRib3JkZXJUb3A6ICdub25lJyxcblx0XHRcdFx0XHRwYWRkaW5nVG9wOiAnMCcsXG5cdFx0XHRcdFx0cGFkZGluZ0JvdHRvbTogJzAnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgdGhlbWVQaWxsc0NvbnRhaW5lciA9IHNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigndGhlbWUtcGlsbHMtY29udGFpbmVyJyk7XG5cdFx0XHR0aGVtZVBpbGxzQ29udGFpbmVyLnNldENzc1Byb3BzKHtcblx0XHRcdFx0bWFyZ2luVG9wOiAnMTBweCcsXG5cdFx0XHRcdG1hcmdpbkJvdHRvbTogJzIwcHgnXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgcGlsbHNIZWFkZXIgPSB0aGVtZVBpbGxzQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyBcblx0XHRcdFx0dGV4dDogJ0F2YWlsYWJsZSB0aGVtZXMgKGNsaWNrIHRvIHRvZ2dsZSBzZWxlY3Rpb24pOicsXG5cdFx0XHRcdGNsczogJ3RoZW1lLXBpbGxzLWhlYWRlcidcblx0XHRcdH0pO1xuXHRcdFx0cGlsbHNIZWFkZXIuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRmb250U2l6ZTogJzE0cHgnLFxuXHRcdFx0XHRtYXJnaW5Cb3R0b206ICc4cHgnLFxuXHRcdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtbXV0ZWQpJ1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IHBpbGxzV3JhcHBlciA9IHRoZW1lUGlsbHNDb250YWluZXIuY3JlYXRlRGl2KCd0aGVtZS1waWxscy13cmFwcGVyJyk7XG5cdFx0XHRwaWxsc1dyYXBwZXIuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRcdGZsZXhXcmFwOiAnd3JhcCcsXG5cdFx0XHRcdGdhcDogJzhweCdcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHQvLyBTaG93IGFsbCB0aGVtZXMgKGV4Y2VwdCBjdXN0b20pIHdpdGggc2VsZWN0aW9uIHN0YXRlXG5cdFx0XHRjb25zdCBhbGxUaGVtZXMgPSBUSEVNRV9PUFRJT05TLmZpbHRlcih0aGVtZSA9PiB0aGVtZS5pZCAhPT0gJ2N1c3RvbScpO1xuXHRcdFx0YWxsVGhlbWVzLmZvckVhY2godGhlbWUgPT4ge1xuXHRcdFx0XHRjb25zdCBpc1NlbGVjdGVkID0gKHNldHRpbmdzLmF2YWlsYWJsZVRoZW1lcyBhcyBzdHJpbmdbXSkuaW5jbHVkZXModGhlbWUuaWQpO1xuXHRcdFx0XHRcblx0XHRcdFx0XHRjb25zdCBwaWxsID0gcGlsbHNXcmFwcGVyLmNyZWF0ZURpdigndGhlbWUtcGlsbCcpO1xuXHRcdFx0XHRcdHBpbGwuYWRkQ2xhc3MoJ3RoZW1lLXBpbGwnKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBTdHlsZSBiYXNlZCBvbiBzZWxlY3Rpb24gc3RhdGVcblx0XHRcdFx0XHRpZiAoaXNTZWxlY3RlZCkge1xuXHRcdFx0XHRcdFx0cGlsbC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0XHRcdGJhY2tncm91bmRDb2xvcjogJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknLFxuXHRcdFx0XHRcdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtb24tYWNjZW50KScsXG5cdFx0XHRcdFx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJ1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBpbGwuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknLFxuXHRcdFx0XHRcdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtbXV0ZWQpJyxcblx0XHRcdFx0XHRcdFx0Ym9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSdcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRwaWxsLmNyZWF0ZVNwYW4oeyB0ZXh0OiB0aGVtZS5uYW1lIH0pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHQvLyBBZGQgc2VsZWN0aW9uIGluZGljYXRvclxuXHRcdFx0XHRjb25zdCBpbmRpY2F0b3IgPSBwaWxsLmNyZWF0ZVNwYW4oeyB0ZXh0OiBpc1NlbGVjdGVkID8gJ1x1MjcxMycgOiAnXHUyNUNCJyB9KTtcblx0XHRcdFx0aW5kaWNhdG9yLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRmb250U2l6ZTogJzEwcHgnLFxuXHRcdFx0XHRcdG9wYWNpdHk6ICcwLjgnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0cGlsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBjdXJyZW50VGhlbWVzID0gc2V0dGluZ3MuYXZhaWxhYmxlVGhlbWVzIGFzIHN0cmluZ1tdO1xuXHRcdFx0XHRcdFx0bGV0IG5ld1RoZW1lczogc3RyaW5nW107XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmIChpc1NlbGVjdGVkKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJlbW92ZSB0aGVtZSBmcm9tIHNlbGVjdGlvblxuXHRcdFx0XHRcdFx0XHRuZXdUaGVtZXMgPSBjdXJyZW50VGhlbWVzLmZpbHRlcigoaWQ6IHN0cmluZykgPT4gaWQgIT09IHRoZW1lLmlkKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIEFkZCB0aGVtZSB0byBzZWxlY3Rpb25cblx0XHRcdFx0XHRcdFx0bmV3VGhlbWVzID0gWy4uLmN1cnJlbnRUaGVtZXMsIHRoZW1lLmlkXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuYXZhaWxhYmxlVGhlbWVzID0gbmV3VGhlbWVzIGFzIEFycmF5PEV4Y2x1ZGU8VGhlbWVUeXBlLCAnY3VzdG9tJz4+O1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFJlLXJlbmRlciB0byB1cGRhdGUgcGlsbHNcblx0XHRcdFx0XHRcdGlmICh0aGlzLm1haW5Db250YWluZXIpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIodGhpcy5tYWluQ29udGFpbmVyKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB0byBjb25maWcudHNcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUaGVtZSBcIiR7dGhlbWUubmFtZX1cIiAke2lzU2VsZWN0ZWQgPyAncmVtb3ZlZCBmcm9tJyA6ICdhZGRlZCB0byd9IGF2YWlsYWJsZSB0aGVtZXNgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSB0aGVtZSBjaGFuZ2U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIEFkZCBjdXN0b20gdGhlbWVzIGlucHV0IGZpZWxkXG5cdFx0XHRjb25zdCBjdXN0b21UaGVtZXNTZWN0aW9uID0gdGhlbWVQaWxsc0NvbnRhaW5lci5jcmVhdGVEaXYoJ2N1c3RvbS10aGVtZXMtc2VjdGlvbicpO1xuXHRcdFx0Y3VzdG9tVGhlbWVzU2VjdGlvbi5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdG1hcmdpblRvcDogJzE1cHgnLFxuXHRcdFx0XHRwYWRkaW5nOiAnMTBweCcsXG5cdFx0XHRcdGJhY2tncm91bmRDb2xvcjogJ3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KScsXG5cdFx0XHRcdGJvcmRlclJhZGl1czogJzZweCcsXG5cdFx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgY3VzdG9tVGhlbWVzTGFiZWwgPSBjdXN0b21UaGVtZXNTZWN0aW9uLmNyZWF0ZUVsKCdsYWJlbCcsIHsgXG5cdFx0XHRcdHRleHQ6ICdDdXN0b20gdGhlbWVzIChjb21tYS1zZXBhcmF0ZWQpOicsXG5cdFx0XHRcdGNsczogJ2N1c3RvbS10aGVtZXMtbGFiZWwnXG5cdFx0XHR9KTtcblx0XHRcdGN1c3RvbVRoZW1lc0xhYmVsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0ZGlzcGxheTogJ2Jsb2NrJyxcblx0XHRcdFx0Zm9udFNpemU6ICcxMnB4Jyxcblx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW11dGVkKScsXG5cdFx0XHRcdG1hcmdpbkJvdHRvbTogJzZweCdcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHQvLyBDcmVhdGUgaW5wdXQgY29udGFpbmVyIHdpdGggZm9sZGVyIGJ1dHRvblxuXHRcdFx0Y29uc3QgaW5wdXRDb250YWluZXIgPSBjdXN0b21UaGVtZXNTZWN0aW9uLmNyZWF0ZURpdignY3VzdG9tLXRoZW1lcy1pbnB1dC1jb250YWluZXInKTtcblx0XHRcdGlucHV0Q29udGFpbmVyLnNldENzc1Byb3BzKHtcblx0XHRcdFx0ZGlzcGxheTogJ2ZsZXgnLFxuXHRcdFx0XHRnYXA6ICc2cHgnLFxuXHRcdFx0XHRhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGN1c3RvbVRoZW1lc0lucHV0ID0gaW5wdXRDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0Jywge1xuXHRcdFx0XHR0eXBlOiAndGV4dCcsXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiAnY3VzdG9tLG9ic2lkaW5pdGUnLFxuXHRcdFx0XHR2YWx1ZTogc2V0dGluZ3MuY3VzdG9tVGhlbWVzIHx8ICcnLFxuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0c3BlbGxjaGVjazogJ2ZhbHNlJ1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGN1c3RvbVRoZW1lc0lucHV0LnNldENzc1Byb3BzKHtcblx0XHRcdFx0ZmxleDogJzEnLFxuXHRcdFx0XHRwYWRkaW5nOiAnNnB4IDhweCcsXG5cdFx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknLFxuXHRcdFx0XHRib3JkZXJSYWRpdXM6ICc0cHgnLFxuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpJyxcblx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW5vcm1hbCknLFxuXHRcdFx0XHRmb250U2l6ZTogJzEycHgnXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gQWRkIGZvbGRlciBidXR0b25cblx0XHRcdGNvbnN0IGZvbGRlckJ1dHRvbiA9IGlucHV0Q29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRcdGNsczogJ2NsaWNrYWJsZS1pY29uJyxcblx0XHRcdFx0YXR0cjoge1xuXHRcdFx0XHRcdCdhcmlhLWxhYmVsJzogJ09wZW4gdGhlbWVzIGZvbGRlcidcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRmb2xkZXJCdXR0b24uc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRwYWRkaW5nOiAnNHB4Jyxcblx0XHRcdFx0Ym9yZGVyOiAnbm9uZScsXG5cdFx0XHRcdGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50Jyxcblx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW5vcm1hbCknLFxuXHRcdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRcdGFsaWduSXRlbXM6ICdjZW50ZXInLFxuXHRcdFx0XHRqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG5cdFx0XHRcdG1hcmdpblRvcDogJzJweCdcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHQvLyBBZGQgZm9sZGVyIGljb24gdXNpbmcgT2JzaWRpYW4ncyBpY29uIHN5c3RlbVxuXHRcdFx0Y29uc3QgZm9sZGVySWNvbiA9IGZvbGRlckJ1dHRvbi5jcmVhdGVEaXYoKTtcblx0XHRcdHNldEljb24oZm9sZGVySWNvbiwgJ2ZvbGRlcicpO1xuXHRcdFx0XG5cdFx0XHQvLyBBZGQgY2xpY2sgaGFuZGxlciBmb3IgZm9sZGVyIGJ1dHRvblxuXHRcdFx0Zm9sZGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHQvLyBPcGVuIGZpbGUgZXhwbG9yZXIgdG8gdGhlIHRoZW1lcy9jdXN0b20gZGlyZWN0b3J5XG5cdFx0XHRcdC8vIFBhdGg6IGdvIHVwIHR3byBsZXZlbHMgZnJvbSB2YXVsdCAoc3JjL2NvbnRlbnQpIHRvIHByb2plY3Qgcm9vdCwgdGhlbiBkb3duIHRvIHNyYy90aGVtZXMvY3VzdG9tXG5cdFx0XHRcdGNvbnN0IHRoZW1lc1BhdGggPSAnLi4vLi4vc3JjL3RoZW1lcy9jdXN0b20nO1xuXHRcdFx0XHQvLyBvcGVuV2l0aERlZmF1bHRBcHAgaXMgbm90IGF2YWlsYWJsZSBpbiBPYnNpZGlhbidzIEFwcCBpbnRlcmZhY2UsIGJ1dCBtYXkgZXhpc3QgaW4gRWxlY3Ryb25cblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG5cdFx0XHRcdHZvaWQgKCh0aGlzLmFwcCBhcyBhbnkpLm9wZW5XaXRoRGVmYXVsdEFwcD8uKHRoZW1lc1BhdGgpID8/IFByb21pc2UucmVzb2x2ZSgpKS5jYXRjaCgoZXJyb3I6IHVua25vd24pID0+IHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gb3BlbiB0aGVtZXMgZm9sZGVyOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gVXNlIGRlYm91bmNlZCBpbnB1dCBsaWtlIG90aGVyIHRleHQgZmllbGRzXG5cdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdGN1c3RvbVRoZW1lc0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuXHRcdFx0XHQvLyBVcGRhdGUgdGhlIHZhbHVlIGltbWVkaWF0ZWx5IGZvciBVSSByZXNwb25zaXZlbmVzc1xuXHRcdFx0XHRzZXR0aW5ncy5jdXN0b21UaGVtZXMgPSBjdXN0b21UaGVtZXNJbnB1dC52YWx1ZS50cmltKCk7XG5cdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBDbGVhciBleGlzdGluZyB0aW1lb3V0XG5cdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Ly8gRGVib3VuY2UgdGhlIGNvbmZpZ3VyYXRpb24gYXBwbGljYXRpb25cblx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdDdXN0b20gdGhlbWVzIHVwZGF0ZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0fSkuY2F0Y2goKGVycm9yOiB1bmtub3duKSA9PiB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgY3VzdG9tIHRoZW1lczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0sIDEwMDApOyAvLyAxIHNlY29uZCBkZWJvdW5jZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBDdXN0b20gVGhlbWUgU2VjdGlvbiBncm91cCB3aXRoIGhlYWRpbmdcblx0XHRjb25zdCBjdXN0b21UaGVtZUdyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXIsICdDdXN0b20gdGhlbWUgZ2VuZXJhdGlvbicsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XG5cblx0XHQvLyBHZW5lcmF0ZSBjdXN0b20gdGhlbWUgdG9nZ2xlXG5cdFx0Y3VzdG9tVGhlbWVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdHZW5lcmF0ZSBjdXN0b20gdGhlbWUnKVxuXHRcdFx0XHQuc2V0RGVzYygnRW5hYmxlIHRvIGV4dHJhY3QgY29sb3JzIGZyb20geW91ciBPYnNpZGlhbiB0aGVtZSBhbmQgZ2VuZXJhdGUgY3VzdG9tIHRoZW1lIGZpbGVzJylcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUoc2V0dGluZ3MuY3VzdG9tVGhlbWVHZW5lcmF0aW9uRW5hYmxlZCB8fCBmYWxzZSk7XG5cdFx0XHRcdHRvZ2dsZS5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXN0b21UaGVtZUdlbmVyYXRpb25FbmFibGVkID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHQvLyBJbml0aWFsaXplIGN1c3RvbSB0aGVtZSBzZXR0aW5ncyBpZiB0aGV5IGRvbid0IGV4aXN0XG5cdFx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MudGhlbWVDb2xvcnMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycyA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdG1vZGU6ICdzaW1wbGUnLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZXh0cmFjdGVkQ29sb3JzOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRzaW1wbGVDb2xvcnM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWNjZW50OiAnIzU4NjVmMicsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmQ6ICcjMWUxZTFlJ1xuXHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdGxhc3RFeHRyYWN0ZWQ6IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBSZS1yZW5kZXIgdG8gc2hvdy9oaWRlIGN1c3RvbSB0aGVtZSBvcHRpb25zXG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlcihjb250YWluZXIpO1xuXHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBTaG93IGN1c3RvbSB0aGVtZSBvcHRpb25zIHdoZW4gZW5hYmxlZFxuXHRcdGlmIChzZXR0aW5ncy5jdXN0b21UaGVtZUdlbmVyYXRpb25FbmFibGVkKSB7XG5cdFx0XHQvLyBUaGVtZSBmaWxlIG5hbWUgaW5wdXQgKGFsd2F5cyB2aXNpYmxlIHdoZW4gY3VzdG9tIHRoZW1lIGdlbmVyYXRpb24gaXMgZW5hYmxlZClcblx0XHRcdGN1c3RvbVRoZW1lR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRzZXR0aW5nXG5cdFx0XHRcdFx0LnNldE5hbWUoJ0N1c3RvbSB0aGVtZSBmaWxlIG5hbWUnKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdGaWxlbmFtZSBmb3IgdGhlIGdlbmVyYXRlZCB0aGVtZSBmaWxlICh3aXRob3V0IC50cyBleHRlbnNpb24pJylcblx0XHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3MuY3VzdG9tVGhlbWVGaWxlIHx8ICdjdXN0b20nKTtcblx0XHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmN1c3RvbVRoZW1lRmlsZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBFeHRyYWN0IGZyb20gT2JzaWRpYW4gYnV0dG9uXG5cdFx0XHRjdXN0b21UaGVtZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdFx0c2V0dGluZ1xuXHRcdFx0XHRcdC5zZXROYW1lKCdFeHRyYWN0IGZyb20gT2JzaWRpYW4gdGhlbWUnKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdFeHRyYWN0IGNvbG9ycyBmcm9tIHlvdXIgY3VycmVudGx5IGFjdGl2ZSBPYnNpZGlhbiB0aGVtZScpXG5cdFx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4ge1xuXHRcdFx0XHRcdFx0YnV0dG9uLnNldEJ1dHRvblRleHQoJ0V4dHJhY3QgY29sb3JzJyk7XG5cdFx0XHRcdFx0XHRidXR0b24uc2V0Q3RhKCk7XG5cdFx0XHRcdFx0XHRidXR0b24ub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZXh0cmFjdGVkQ29sb3JzID0gYXdhaXQgVGhlbWVDb2xvckV4dHJhY3Rvci5leHRyYWN0T2JzaWRpYW5UaGVtZUNvbG9ycygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdG9yZSBleHRyYWN0ZWQgY29sb3JzXG5cdFx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMgPSBleHRyYWN0ZWRDb2xvcnM7XG5cdFx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycy5sYXN0RXh0cmFjdGVkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFJlLXJlbmRlciB0byBzaG93IGV4dHJhY3RlZCBjb2xvcnNcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0NvbG9ycyBleHRyYWN0ZWQgc3VjY2Vzc2Z1bGx5IGZyb20gT2JzaWRpYW4gdGhlbWUhJyk7XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBleHRyYWN0IGNvbG9yczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gU2hvdyBsYXN0IGV4dHJhY3RlZCB0aW1lc3RhbXAgLSBhZGQgYXMgY3VzdG9tIHNldHRpbmdcblx0XHRcdGlmIChzZXR0aW5ncy50aGVtZUNvbG9ycy5sYXN0RXh0cmFjdGVkKSB7XG5cdFx0XHRcdGN1c3RvbVRoZW1lR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGxhc3RFeHRyYWN0ZWQgPSBuZXcgRGF0ZShzZXR0aW5ncy50aGVtZUNvbG9ycy5sYXN0RXh0cmFjdGVkISkudG9Mb2NhbGVTdHJpbmcoKTtcblx0XHRcdFx0XHRjb25zdCBuYW1lRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLW5hbWUnKTtcblx0XHRcdFx0XHRjb25zdCBkZXNjRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyk7XG5cdFx0XHRcdFx0Y29uc3QgY29udHJvbEVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1jb250cm9sJyk7XG5cdFx0XHRcdFx0aWYgKG5hbWVFbCkgKG5hbWVFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG5cdFx0XHRcdFx0aWYgKGRlc2NFbCkgKGRlc2NFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG5cdFx0XHRcdFx0aWYgKGNvbnRyb2xFbCkgKGNvbnRyb2xFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG5cdFx0XHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdFx0Ym9yZGVyVG9wOiAnbm9uZScsXG5cdFx0XHRcdFx0XHRwYWRkaW5nVG9wOiAnMCcsXG5cdFx0XHRcdFx0XHRwYWRkaW5nQm90dG9tOiAnMCdcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRjb25zdCB0aW1lc3RhbXBFbCA9IHNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZUVsKCdwJywgeyBcblx0XHRcdFx0XHRcdHRleHQ6IGBMYXN0IGV4dHJhY3RlZDogJHtsYXN0RXh0cmFjdGVkfWAsXG5cdFx0XHRcdFx0XHRjbHM6ICd0aGVtZS1leHRyYWN0aW9uLXRpbWVzdGFtcCdcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR0aW1lc3RhbXBFbC5zZXRDc3NQcm9wcyh7IGNvbG9yOiAndmFyKC0tdGV4dC1tdXRlZCknIH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29sb3IgbW9kZSBzZWxlY3RvciAoU2ltcGxlIHZzIEFkdmFuY2VkKVxuXHRcdFx0Y3VzdG9tVGhlbWVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRcdHNldHRpbmdcblx0XHRcdFx0XHQuc2V0TmFtZSgnQ29sb3IgZWRpdGluZyBtb2RlJylcblx0XHRcdFx0XHQuc2V0RGVzYygnQ2hvb3NlIGhvdyB0byBlZGl0IHlvdXIgdGhlbWUgY29sb3JzJylcblx0XHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdzaW1wbGUnLCAnU2ltcGxlIChhY2NlbnQgKyBiYWNrZ3JvdW5kKScpO1xuXHRcdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdhZHZhbmNlZCcsICdBZHZhbmNlZCAoaW5kaXZpZHVhbCBzaGFkZXMpJyk7XG5cdFx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShzZXR0aW5ncy50aGVtZUNvbG9ycy5tb2RlKTtcblx0XHRcdFx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMubW9kZSA9IHZhbHVlIGFzICdzaW1wbGUnIHwgJ2FkdmFuY2VkJztcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIoY29udGFpbmVyKTtcblx0XHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIENvbG9yIHByZXZpZXcgaWYgY29sb3JzIGFyZSBhdmFpbGFibGUgLSBhZGQgYXMgY3VzdG9tIHNldHRpbmdcblx0XHRcdGlmIChzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMpIHtcblx0XHRcdFx0Y3VzdG9tVGhlbWVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgbmFtZUVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1uYW1lJyk7XG5cdFx0XHRcdFx0Y29uc3QgZGVzY0VsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbicpO1xuXHRcdFx0XHRcdGNvbnN0IGNvbnRyb2xFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tY29udHJvbCcpO1xuXHRcdFx0XHRcdGlmIChuYW1lRWwpIChuYW1lRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdGlmIChkZXNjRWwpIChkZXNjRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdGlmIChjb250cm9sRWwpIChjb250cm9sRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxuXHRcdFx0XHRcdFx0cGFkZGluZ1RvcDogJzAnLFxuXHRcdFx0XHRcdFx0cGFkZGluZ0JvdHRvbTogJzAnXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycykge1xuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXJDb2xvclByZXZpZXcoc2V0dGluZy5zZXR0aW5nRWwsIHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29sb3IgZWRpdGluZyBpbnRlcmZhY2UgLSBhZGQgYXMgY3VzdG9tIHNldHRpbmdcblx0XHRcdGlmIChzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMpIHtcblx0XHRcdFx0Y3VzdG9tVGhlbWVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgbmFtZUVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1uYW1lJyk7XG5cdFx0XHRcdFx0Y29uc3QgZGVzY0VsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbicpO1xuXHRcdFx0XHRcdGNvbnN0IGNvbnRyb2xFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tY29udHJvbCcpO1xuXHRcdFx0XHRcdGlmIChuYW1lRWwpIChuYW1lRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdGlmIChkZXNjRWwpIChkZXNjRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdGlmIChjb250cm9sRWwpIChjb250cm9sRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRcdFx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxuXHRcdFx0XHRcdFx0cGFkZGluZ1RvcDogJzAnLFxuXHRcdFx0XHRcdFx0cGFkZGluZ0JvdHRvbTogJzAnXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKHNldHRpbmdzLnRoZW1lQ29sb3JzLm1vZGUgPT09ICdzaW1wbGUnKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlclNpbXBsZUNvbG9yRWRpdG9yKHNldHRpbmcuc2V0dGluZ0VsLCBzZXR0aW5ncyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMucmVuZGVyQWR2YW5jZWRDb2xvckVkaXRvcihzZXR0aW5nLnNldHRpbmdFbCwgc2V0dGluZ3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgdG8gY3VzdG9tIHRoZW1lIGZpbGVcblx0XHRcdGN1c3RvbVRoZW1lR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0XHRzZXR0aW5nXG5cdFx0XHRcdFx0LnNldE5hbWUoJ1NhdmUgdG8gY3VzdG9tIHRoZW1lIGZpbGUnKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdHZW5lcmF0ZSBhIGN1c3RvbSB0aGVtZSBmaWxlIGZyb20geW91ciBleHRyYWN0ZWQgY29sb3JzJylcblx0XHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XG5cdFx0XHRcdFx0XHRidXR0b24uc2V0QnV0dG9uVGV4dCgnU2F2ZSB0aGVtZSBmaWxlJyk7XG5cdFx0XHRcdFx0XHRidXR0b24uc2V0Q3RhKCk7XG5cdFx0XHRcdFx0XHRidXR0b24ub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnTm8gY29sb3JzIGF2YWlsYWJsZSB0byBzYXZlLiBQbGVhc2UgZXh0cmFjdCBjb2xvcnMgZmlyc3QuJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBjdXN0b20gdGhlbWUgZmlsZW5hbWUgZnJvbSBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGhlbWVGaWxlTmFtZSA9IHNldHRpbmdzLmN1c3RvbVRoZW1lRmlsZSB8fCAnY3VzdG9tJztcblx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gR2VuZXJhdGUgdGhlbWUgZmlsZSBjb250ZW50IHdpdGggdGhlIGN1c3RvbSB0aGVtZSBuYW1lXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB0aGVtZUNvbnRlbnQgPSBUaGVtZUNvbG9yRXh0cmFjdG9yLmdlbmVyYXRlVGhlbWVGaWxlQ29udGVudChzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMsIHRoZW1lRmlsZU5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTYXZlIHRvIGN1c3RvbSB0aGVtZSBmaWxlIC0gdXNlIHRoZSBjdXN0b20gZmlsZW5hbWVcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZpbGVQYXRoID0gYC4uLy4uL3NyYy90aGVtZXMvY3VzdG9tLyR7dGhlbWVGaWxlTmFtZX0udHNgO1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShmaWxlUGF0aCwgdGhlbWVDb250ZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHNldHRpbmdzIHdpdGggdGhlIGN1c3RvbSB0aGVtZSBmaWxlIG5hbWVcblx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmN1c3RvbVRoZW1lRmlsZSA9IHRoZW1lRmlsZU5hbWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEFwcGx5IHRoZW1lIGFuZCBjdXN0b21UaGVtZUZpbGUgY2hhbmdlcyB0byBjb25maWcudHNcblx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5jb25maWdNYW5hZ2VyLnVwZGF0ZUluZGl2aWR1YWxGZWF0dXJlcyhzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgJHt0aGVtZUZpbGVOYW1lfS50cyBzYXZlZCBzdWNjZXNzZnVsbHkhIFVzZSB0aGUgbWFpbiB0aGVtZSBkcm9wZG93biB0byBzd2l0Y2ggdG8gXCJjdXN0b21cIiBpZiB5b3Ugd2FudCB0byB1c2UgdGhpcyB0aGVtZS5gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdUaGVtZSBmaWxlIHNhdmVkIGJ1dCBmYWlsZWQgdG8gYXBwbHkgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFRoZW1lIGZpbGUgc2F2ZWQgYnV0IGZhaWxlZCB0byBhcHBseTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBzYXZlIHRoZW1lIGZpbGU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gVHlwb2dyYXBoeSBncm91cCB3aXRoIGhlYWRpbmdcblx0XHRjb25zdCB0eXBvZ3JhcGh5R3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ1R5cG9ncmFwaHknLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xuXG5cdFx0Ly8gSGVhZGluZyBmb250IGRyb3Bkb3duXG5cdFx0dHlwb2dyYXBoeUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0hlYWRpbmcgZm9udCcpXG5cdFx0XHRcdC5zZXREZXNjKCdGb250IGZvciBoZWFkaW5ncyBhbmQgdGl0bGVzJylcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0XHRGT05UX09QVElPTlMuZm9yRWFjaChmb250ID0+IHtcblx0XHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihmb250LCBmb250KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShzZXR0aW5ncy50eXBvZ3JhcGh5LmhlYWRpbmdGb250KTtcblx0XHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5oZWFkaW5nRm9udCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgb25seSBoZWFkaW5nIGZvbnQgY2hhbmdlIHRvIGNvbmZpZy50cyAobm90IGFsbCBzZXR0aW5ncylcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBzdWNjZXNzID0gYXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuY29uZmlnTWFuYWdlci51cGRhdGVGb250T25seSgnaGVhZGluZycsIHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnSGVhZGluZyBmb250IHVwZGF0ZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBhcHBseSBoZWFkaW5nIGZvbnQgY2hhbmdlIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgaGVhZGluZyBmb250IGNoYW5nZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gUHJvc2UgZm9udCBkcm9wZG93blxuXHRcdHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdQcm9zZSBmb250Jylcblx0XHRcdFx0LnNldERlc2MoJ0ZvbnQgZm9yIGJvZHkgdGV4dCBhbmQgY29udGVudCcpXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdFx0Rk9OVF9PUFRJT05TLmZvckVhY2goZm9udCA9PiB7XG5cdFx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oZm9udCwgZm9udCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MudHlwb2dyYXBoeS5wcm9zZUZvbnQpO1xuXHRcdFx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LnByb3NlRm9udCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgb25seSBwcm9zZSBmb250IGNoYW5nZSB0byBjb25maWcudHMgKG5vdCBhbGwgc2V0dGluZ3MpXG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc3VjY2VzcyA9IGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmNvbmZpZ01hbmFnZXIudXBkYXRlRm9udE9ubHkoJ3Byb3NlJywgdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdQcm9zZSBmb250IHVwZGF0ZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBhcHBseSBwcm9zZSBmb250IGNoYW5nZSB0byBjb25maWcudHMnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IHByb3NlIGZvbnQgY2hhbmdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBNb25vIGZvbnQgZHJvcGRvd25cblx0XHR0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnTW9ub3NwYWNlIGZvbnQnKVxuXHRcdFx0XHQuc2V0RGVzYygnRm9udCBmb3IgY29kZSBibG9ja3MgYW5kIHRlY2huaWNhbCBjb250ZW50Jylcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0XHRGT05UX09QVElPTlMuZm9yRWFjaChmb250ID0+IHtcblx0XHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihmb250LCBmb250KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZShzZXR0aW5ncy50eXBvZ3JhcGh5Lm1vbm9Gb250KTtcblx0XHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5tb25vRm9udCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgb25seSBtb25vc3BhY2UgZm9udCBjaGFuZ2UgdG8gY29uZmlnLnRzIChub3QgYWxsIHNldHRpbmdzKVxuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5jb25maWdNYW5hZ2VyLnVwZGF0ZUZvbnRPbmx5KCdtb25vJywgdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdNb25vc3BhY2UgZm9udCB1cGRhdGVkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdGYWlsZWQgdG8gYXBwbHkgbW9ub3NwYWNlIGZvbnQgY2hhbmdlIHRvIGNvbmZpZy50cycpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgbW9ub3NwYWNlIGZvbnQgY2hhbmdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyBGb250IHNvdXJjZSBkcm9wZG93blxuXHRcdHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdGb250IHNvdXJjZScpXG5cdFx0XHRcdC5zZXREZXNjKCdIb3cgZm9udHMgYXJlIGxvYWRlZCcpXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiR29vZ2xlIEZvbnRzXCIgaXMgYSBwcm9wZXIgbm91biAocHJvZHVjdCBuYW1lKSBhbmQgc2hvdWxkIGJlIGNhcGl0YWxpemVkXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignbG9jYWwnLCAnTG9jYWwgKEdvb2dsZSBGb250cyknKTtcblx0XHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJDRE5cIiBpcyBhbiBhY3JvbnltIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdjZG4nLCAnQ0ROIChDdXN0b20pJyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUoc2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlKTtcblx0XHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlID0gdmFsdWUgYXMgJ2xvY2FsJyB8ICdjZG4nO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gUmUtcmVuZGVyIHRvIHNob3cvaGlkZSBjdXN0b20gaW5wdXRzXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lcik7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQvLyBBcHBseSBjaGFuZ2VzIGltbWVkaWF0ZWx5IHRvIGNvbmZpZy50c1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZvbnQgc291cmNlIGNoYW5nZWQgdG8gJHt2YWx1ZX0gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IGZvbnQgc291cmNlIGNoYW5nZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gRm9udCBkaXNwbGF5IGRyb3Bkb3duXG5cdFx0dHlwb2dyYXBoeUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0ZvbnQgZGlzcGxheScpXG5cdFx0XHRcdC5zZXREZXNjKCdGb250IGRpc3BsYXkgc3RyYXRlZ3knKVxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignc3dhcCcsICdTd2FwIChyZWNvbW1lbmRlZCknKTtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oJ2ZhbGxiYWNrJywgJ0ZhbGxiYWNrJyk7XG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdvcHRpb25hbCcsICdPcHRpb25hbCcpO1xuXHRcdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLnR5cG9ncmFwaHkuZm9udERpc3BsYXkgfHwgJ3N3YXAnKTtcblx0XHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudHlwb2dyYXBoeS5mb250RGlzcGxheSA9IHZhbHVlIGFzICdzd2FwJyB8ICdmYWxsYmFjaycgfCAnb3B0aW9uYWwnO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB0byBjb25maWcudHNcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdGb250IGRpc3BsYXkgdXBkYXRlZCBhbmQgYXBwbGllZCB0byBjb25maWcudHMnKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgZm9udCBkaXNwbGF5IGNoYW5nZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQ29udGVudCBXaWR0aFxuXHRcdHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdDb250ZW50IHdpZHRoJylcblx0XHRcdFx0LnNldERlc2MoJ01heGltdW0gd2lkdGggZm9yIGNvbnRlbnQgKGUuZy4sIDQ1cmVtKScpXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3MubGF5b3V0Py5jb250ZW50V2lkdGggfHwgJzQ1cmVtJyk7XG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmxheW91dCkge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5sYXlvdXQgPSB7IGNvbnRlbnRXaWR0aDogJzQ1cmVtJyB9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2V0dGluZ3MubGF5b3V0LmNvbnRlbnRXaWR0aCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQ3VzdG9tIGZvbnQgaW5wdXRzIChvbmx5IHNob3cgd2hlbiBDRE4gaXMgc2VsZWN0ZWQpXG5cdFx0aWYgKHNldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZSA9PT0gJ2NkbicpIHtcblx0XHRcdC8vIEN1c3RvbSBmb250IFVSTHNcblx0XHR0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJVUkxzXCIgaXMgYW4gYWNyb255bSBhbmQgc2hvdWxkIGJlIGNhcGl0YWxpemVkXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2Vcblx0XHRcdFx0LnNldE5hbWUoJ0N1c3RvbSBmb250IFVSTHMnKVxuXHRcdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJHb29nbGUgRm9udHNcIiBpcyBhIHByb3BlciBub3VuIChwcm9kdWN0IG5hbWUpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHQuc2V0RGVzYygnQ29tbWEtc2VwYXJhdGVkIFVSTHMgZm9yIGN1c3RvbSBmb250cyAoZS5nLiwgR29vZ2xlIEZvbnRzIFVSTCknKVxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cz8udXJscyB8fCAnJyk7XG5cdFx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzID0geyBoZWFkaW5nOiAnJywgcHJvc2U6ICcnLCBtb25vOiAnJywgdXJsczogJycgfTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLnVybHMgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBDdXN0b20gaGVhZGluZyBmb250IG5hbWVcblx0XHRcdHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRcdHNldHRpbmdcblx0XHRcdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIGhlYWRpbmcgZm9udCBuYW1lJylcblx0XHRcdFx0XHQuc2V0RGVzYygnRm9udCBmYW1pbHkgbmFtZSBmb3IgaGVhZGluZ3MnKVxuXHRcdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzPy5oZWFkaW5nIHx8ICcnKTtcblx0XHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cykge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMgPSB7IGhlYWRpbmc6ICcnLCBwcm9zZTogJycsIG1vbm86ICcnLCB1cmxzOiAnJyB9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMuaGVhZGluZyA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xuXHRcdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXHRcdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEN1c3RvbSBCb2R5IEZvbnQgTmFtZVxuXHRcdFx0dHlwb2dyYXBoeUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdFx0c2V0dGluZ1xuXHRcdFx0XHRcdC5zZXROYW1lKCdDdXN0b20gYm9keSBmb250IG5hbWUnKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdGb250IGZhbWlseSBuYW1lIGZvciBib2R5IHRleHQnKVxuXHRcdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzPy5wcm9zZSB8fCAnJyk7XG5cdFx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzID0geyBoZWFkaW5nOiAnJywgcHJvc2U6ICcnLCBtb25vOiAnJywgdXJsczogJycgfTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLnByb3NlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cdFx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQ3VzdG9tIE1vbm9zcGFjZSBGb250IE5hbWVcblx0XHRcdHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRcdHNldHRpbmdcblx0XHRcdFx0XHQuc2V0TmFtZSgnQ3VzdG9tIG1vbm9zcGFjZSBmb250IG5hbWUnKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdGb250IGZhbWlseSBuYW1lIGZvciBjb2RlJylcblx0XHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcblx0XHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cz8ubW9ubyB8fCAnJyk7XG5cdFx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzID0geyBoZWFkaW5nOiAnJywgcHJvc2U6ICcnLCBtb25vOiAnJywgdXJsczogJycgfTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLm1vbm8gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcblx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcblx0XHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmVuZGVyIGNvbG9yIHByZXZpZXdcblx0ICovXG5cdHByaXZhdGUgcmVuZGVyQ29sb3JQcmV2aWV3KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNvbG9yczogeyBwcmltYXJ5OiBDb2xvclNjYWxlOyBoaWdobGlnaHQ6IENvbG9yU2NhbGUgfSk6IHZvaWQge1xuXHRcdGNvbnN0IHByZXZpZXdTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignY29sb3ItcHJldmlldy1zZWN0aW9uJyk7XG5cdFx0cHJldmlld1NlY3Rpb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQ29sb3IgcHJldmlldycgfSk7XG5cdFx0XG5cdFx0Y29uc3QgcHJldmlld0NvbnRhaW5lciA9IHByZXZpZXdTZWN0aW9uLmNyZWF0ZURpdignY29sb3ItcHJldmlldy1jb250YWluZXInKTtcblx0XHRwcmV2aWV3Q29udGFpbmVyLnNldENzc1Byb3BzKHtcblx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdGdhcDogJzEwcHgnLFxuXHRcdFx0bWFyZ2luVG9wOiAnMTBweCdcblx0XHR9KTtcblxuXHRcdC8vIFNob3cgcHJpbWFyeSBjb2xvcnMgKDUwLCAxMDAsIDIwMCwgMzAwLCA0MDAsIDUwMCwgNjAwLCA3MDAsIDgwMCwgOTAwLCA5NTApXG5cdFx0Y29uc3QgcHJpbWFyeVNoYWRlczogQXJyYXk8a2V5b2YgQ29sb3JTY2FsZT4gPSBbNTAsIDEwMCwgMjAwLCAzMDAsIDQwMCwgNTAwLCA2MDAsIDcwMCwgODAwLCA5MDAsIDk1MF07XG5cdFx0cHJpbWFyeVNoYWRlcy5mb3JFYWNoKHNoYWRlID0+IHtcblx0XHRcdGNvbnN0IGNvbG9yVmFsdWUgPSBjb2xvcnMucHJpbWFyeVtzaGFkZV07XG5cdFx0XHRpZiAoY29sb3JWYWx1ZSkge1xuXHRcdFx0XHRjb25zdCBjb2xvckJveCA9IHByZXZpZXdDb250YWluZXIuY3JlYXRlRGl2KCdjb2xvci1ib3gnKTtcblx0XHRcdFx0Y29sb3JCb3guc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdHdpZHRoOiAnMjBweCcsXG5cdFx0XHRcdFx0aGVpZ2h0OiAnMjBweCcsXG5cdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBjb2xvclZhbHVlLFxuXHRcdFx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknLFxuXHRcdFx0XHRcdGJvcmRlclJhZGl1czogJzNweCdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGNvbG9yQm94LnRpdGxlID0gYFByaW1hcnkgJHtzaGFkZX06ICR7Y29sb3JWYWx1ZX1gO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gU2hvdyBoaWdobGlnaHQgY29sb3JzICg1MCwgMTAwLCAyMDAsIDMwMCwgNDAwLCA1MDAsIDYwMCwgNzAwLCA4MDAsIDkwMClcblx0XHRjb25zdCBoaWdobGlnaHRTaGFkZXM6IEFycmF5PGtleW9mIENvbG9yU2NhbGU+ID0gWzUwLCAxMDAsIDIwMCwgMzAwLCA0MDAsIDUwMCwgNjAwLCA3MDAsIDgwMCwgOTAwXTtcblx0XHRoaWdobGlnaHRTaGFkZXMuZm9yRWFjaChzaGFkZSA9PiB7XG5cdFx0XHRjb25zdCBjb2xvclZhbHVlID0gY29sb3JzLmhpZ2hsaWdodFtzaGFkZV07XG5cdFx0XHRpZiAoY29sb3JWYWx1ZSkge1xuXHRcdFx0XHRjb25zdCBjb2xvckJveCA9IHByZXZpZXdDb250YWluZXIuY3JlYXRlRGl2KCdjb2xvci1ib3gnKTtcblx0XHRcdFx0Y29sb3JCb3guc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdHdpZHRoOiAnMjBweCcsXG5cdFx0XHRcdFx0aGVpZ2h0OiAnMjBweCcsXG5cdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBjb2xvclZhbHVlLFxuXHRcdFx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknLFxuXHRcdFx0XHRcdGJvcmRlclJhZGl1czogJzNweCdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGNvbG9yQm94LnRpdGxlID0gYEhpZ2hsaWdodCAke3NoYWRlfTogJHtjb2xvclZhbHVlfWA7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogUmVuZGVyIHNpbXBsZSBjb2xvciBlZGl0b3IgKGFjY2VudCArIGJhY2tncm91bmQpXG5cdCAqL1xuXHRwcml2YXRlIHJlbmRlclNpbXBsZUNvbG9yRWRpdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IHZvaWQge1xuXHRcdGNvbnN0IHNpbXBsZVNlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KCdzaW1wbGUtY29sb3ItaW5wdXRzJyk7XG5cdFx0c2ltcGxlU2VjdGlvbi5zZXRDc3NQcm9wcyh7IG1hcmdpbkJvdHRvbTogJzIwcHgnIH0pOyAvLyBBZGQgc3BhY2luZyBiZWxvdyB0aGUgc2ltcGxlIGVkaXRvclxuXHRcdHNpbXBsZVNlY3Rpb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnU2ltcGxlIGNvbG9yIGVkaXRvcicgfSk7XG5cblx0XHQvLyBBbHdheXMgaW5pdGlhbGl6ZSBzaW1wbGUgY29sb3JzIGZyb20gZXh0cmFjdGVkIGNvbG9ycyB0byBlbnN1cmUgdGhleSdyZSBjdXJyZW50XG5cdFx0Y29uc3QgYWNjZW50Q29sb3IgPSBzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnM/LmhpZ2hsaWdodD8uWzUwMF0gfHwgJyM1ODY1ZjInO1xuXHRcdGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycz8ucHJpbWFyeT8uWzgwMF0gfHwgJyMxZTFlMWUnO1xuXHRcdFxuXHRcdHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycyA9IHtcblx0XHRcdGFjY2VudDogYWNjZW50Q29sb3IsXG5cdFx0XHRiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kQ29sb3Jcblx0XHR9O1xuXG5cdFx0Ly8gQWNjZW50IGNvbG9yXG5cdFx0Y29uc3QgYWNjZW50RGl2ID0gc2ltcGxlU2VjdGlvbi5jcmVhdGVEaXYoJ3NpbXBsZS1jb2xvci1pbnB1dCcpO1xuXHRcdGFjY2VudERpdi5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdBY2NlbnQgY29sb3I6JyB9KTtcblx0XHRcblx0XHRjb25zdCBhY2NlbnRUZXh0SW5wdXQgPSBhY2NlbnREaXYuY3JlYXRlRWwoJ2lucHV0JywgeyBcblx0XHRcdHR5cGU6ICd0ZXh0JywgXG5cdFx0XHR2YWx1ZTogc2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzLmFjY2VudCBcblx0XHR9KTtcblx0XHRhY2NlbnRUZXh0SW5wdXQuc2V0Q3NzUHJvcHMoeyBmb250RmFtaWx5OiAndmFyKC0tZm9udC1tb25vc3BhY2UpJyB9KTtcblx0XHRcblx0XHRjb25zdCBhY2NlbnRDb2xvclBpY2tlciA9IGFjY2VudERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicgfSk7XG5cdFx0YWNjZW50Q29sb3JQaWNrZXIudmFsdWUgPSBzZXR0aW5ncy50aGVtZUNvbG9ycy5zaW1wbGVDb2xvcnMuYWNjZW50O1xuXHRcdGFjY2VudENvbG9yUGlja2VyLmNsYXNzTmFtZSA9ICdjb2xvci1waWNrZXInO1xuXHRcdFxuXHRcdGFjY2VudFRleHRJbnB1dC5vbmlucHV0ID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKFRoZW1lQ29sb3JFeHRyYWN0b3IuaXNWYWxpZEhleENvbG9yKGFjY2VudFRleHRJbnB1dC52YWx1ZSkgJiYgc2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzKSB7XG5cdFx0XHRcdHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycy5hY2NlbnQgPSBhY2NlbnRUZXh0SW5wdXQudmFsdWU7XG5cdFx0XHRcdGFjY2VudENvbG9yUGlja2VyLnZhbHVlID0gYWNjZW50VGV4dElucHV0LnZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHRhY2NlbnRDb2xvclBpY2tlci5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdGlmIChzZXR0aW5ncy50aGVtZUNvbG9ycy5zaW1wbGVDb2xvcnMpIHtcblx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzLmFjY2VudCA9IGFjY2VudENvbG9yUGlja2VyLnZhbHVlO1xuXHRcdFx0XHRhY2NlbnRUZXh0SW5wdXQudmFsdWUgPSBhY2NlbnRDb2xvclBpY2tlci52YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvLyBCYWNrZ3JvdW5kIGNvbG9yXG5cdFx0Y29uc3QgYmFja2dyb3VuZERpdiA9IHNpbXBsZVNlY3Rpb24uY3JlYXRlRGl2KCdzaW1wbGUtY29sb3ItaW5wdXQnKTtcblx0XHRiYWNrZ3JvdW5kRGl2LmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ0JhY2tncm91bmQgY29sb3I6JyB9KTtcblx0XHRcblx0XHRjb25zdCBiYWNrZ3JvdW5kVGV4dElucHV0ID0gYmFja2dyb3VuZERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IFxuXHRcdFx0dHlwZTogJ3RleHQnLCBcblx0XHRcdHZhbHVlOiBzZXR0aW5ncy50aGVtZUNvbG9ycy5zaW1wbGVDb2xvcnMuYmFja2dyb3VuZCBcblx0XHR9KTtcblx0XHRiYWNrZ3JvdW5kVGV4dElucHV0LnNldENzc1Byb3BzKHsgZm9udEZhbWlseTogJ3ZhcigtLWZvbnQtbW9ub3NwYWNlKScgfSk7XG5cdFx0XG5cdFx0Y29uc3QgYmFja2dyb3VuZENvbG9yUGlja2VyID0gYmFja2dyb3VuZERpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicgfSk7XG5cdFx0YmFja2dyb3VuZENvbG9yUGlja2VyLnZhbHVlID0gc2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzLmJhY2tncm91bmQ7XG5cdFx0YmFja2dyb3VuZENvbG9yUGlja2VyLmNsYXNzTmFtZSA9ICdjb2xvci1waWNrZXInO1xuXHRcdFxuXHRcdGJhY2tncm91bmRUZXh0SW5wdXQub25pbnB1dCA9IGFzeW5jICgpID0+IHtcblx0XHRcdGlmIChUaGVtZUNvbG9yRXh0cmFjdG9yLmlzVmFsaWRIZXhDb2xvcihiYWNrZ3JvdW5kVGV4dElucHV0LnZhbHVlKSAmJiBzZXR0aW5ncy50aGVtZUNvbG9ycy5zaW1wbGVDb2xvcnMpIHtcblx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kVGV4dElucHV0LnZhbHVlO1xuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3JQaWNrZXIudmFsdWUgPSBiYWNrZ3JvdW5kVGV4dElucHV0LnZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHRiYWNrZ3JvdW5kQ29sb3JQaWNrZXIub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoc2V0dGluZ3MudGhlbWVDb2xvcnMuc2ltcGxlQ29sb3JzKSB7XG5cdFx0XHRcdHNldHRpbmdzLnRoZW1lQ29sb3JzLnNpbXBsZUNvbG9ycy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZENvbG9yUGlja2VyLnZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0YmFja2dyb3VuZFRleHRJbnB1dC52YWx1ZSA9IGJhY2tncm91bmRDb2xvclBpY2tlci52YWx1ZTtcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbmRlciBhZHZhbmNlZCBjb2xvciBlZGl0b3IgKGluZGl2aWR1YWwgc2hhZGVzKVxuXHQgKi9cblx0cHJpdmF0ZSByZW5kZXJBZHZhbmNlZENvbG9yRWRpdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IHZvaWQge1xuXHRcdGNvbnN0IGFkdmFuY2VkU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2FkdmFuY2VkLW1vZGUtc2VjdGlvbicpO1xuXHRcdGFkdmFuY2VkU2VjdGlvbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdBZHZhbmNlZCBjb2xvciBlZGl0b3InIH0pO1xuXG5cdFx0Ly8gUHJpbWFyeSBjb2xvcnNcblx0XHRjb25zdCBwcmltYXJ5U2VjdGlvbiA9IGFkdmFuY2VkU2VjdGlvbi5jcmVhdGVEaXYoJ2NvbG9yLXNjYWxlLWVkaXRvcicpO1xuXHRcdHByaW1hcnlTZWN0aW9uLmNyZWF0ZUVsKCdoNScsIHsgdGV4dDogJ1ByaW1hcnkgY29sb3JzJyB9KTtcblx0XHRcblx0XHRjb25zdCBwcmltYXJ5U2hhZGVzOiBBcnJheTxrZXlvZiBDb2xvclNjYWxlPiA9IFs1MCwgMTAwLCAyMDAsIDMwMCwgNDAwLCA1MDAsIDYwMCwgNzAwLCA4MDAsIDkwMCwgOTUwXTtcblx0XHRwcmltYXJ5U2hhZGVzLmZvckVhY2goc2hhZGUgPT4ge1xuXHRcdFx0Y29uc3QgY29sb3JWYWx1ZSA9IHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycz8ucHJpbWFyeT8uW3NoYWRlXTtcblx0XHRcdGlmIChjb2xvclZhbHVlKSB7XG5cdFx0XHRcdGNvbnN0IHNldHRpbmdJdGVtID0gcHJpbWFyeVNlY3Rpb24uY3JlYXRlRGl2KCdzZXR0aW5nLWl0ZW0nKTtcblx0XHRcdFx0c2V0dGluZ0l0ZW0uc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdFx0XHRhbGlnbkl0ZW1zOiAnY2VudGVyJyxcblx0XHRcdFx0XHRnYXA6ICcxMHB4Jyxcblx0XHRcdFx0XHRtYXJnaW5Cb3R0b206ICc4cHgnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgbGFiZWwgPSBzZXR0aW5nSXRlbS5jcmVhdGVEaXYoJ3NldHRpbmctaXRlbS1uYW1lJyk7XG5cdFx0XHRcdGxhYmVsLnRleHRDb250ZW50ID0gYCR7c2hhZGV9OmA7XG5cdFx0XHRcdGxhYmVsLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRtaW5XaWR0aDogJzQwcHgnLFxuXHRcdFx0XHRcdGZvbnRTaXplOiAnMTJweCcsXG5cdFx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW11dGVkKSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBjb250cm9sID0gc2V0dGluZ0l0ZW0uY3JlYXRlRGl2KCdzZXR0aW5nLWl0ZW0tY29udHJvbCcpO1xuXHRcdFx0XHRjb250cm9sLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRcdFx0Z2FwOiAnOHB4Jyxcblx0XHRcdFx0XHRhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IHRleHRJbnB1dCA9IGNvbnRyb2wuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiBjb2xvclZhbHVlIH0pO1xuXHRcdFx0XHR0ZXh0SW5wdXQuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdHdpZHRoOiAnMTAwcHgnLFxuXHRcdFx0XHRcdGZvbnRGYW1pbHk6ICd2YXIoLS1mb250LW1vbm9zcGFjZSknLFxuXHRcdFx0XHRcdGZvbnRTaXplOiAnMTJweCdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBjb2xvclBpY2tlciA9IGNvbnRyb2wuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY29sb3InLCB2YWx1ZTogY29sb3JWYWx1ZSB9KTtcblx0XHRcdFx0Y29sb3JQaWNrZXIuY2xhc3NOYW1lID0gJ2NvbG9yLXBpY2tlcic7XG5cdFx0XHRcdFxuXHRcdFx0XHR0ZXh0SW5wdXQub25pbnB1dCA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRpZiAoVGhlbWVDb2xvckV4dHJhY3Rvci5pc1ZhbGlkSGV4Q29sb3IodGV4dElucHV0LnZhbHVlKSkge1xuXHRcdFx0XHRcdFx0aWYgKHNldHRpbmdzLnRoZW1lQ29sb3JzLmV4dHJhY3RlZENvbG9ycz8ucHJpbWFyeSkge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMucHJpbWFyeVtzaGFkZV0gPSB0ZXh0SW5wdXQudmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjb2xvclBpY2tlci52YWx1ZSA9IHRleHRJbnB1dC52YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdFxuXHRcdFx0XHRjb2xvclBpY2tlci5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRpZiAoc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzKSB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMucHJpbWFyeVtzaGFkZV0gPSBjb2xvclBpY2tlci52YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGV4dElucHV0LnZhbHVlID0gY29sb3JQaWNrZXIudmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gSGlnaGxpZ2h0IGNvbG9yc1xuXHRcdGNvbnN0IGhpZ2hsaWdodFNlY3Rpb24gPSBhZHZhbmNlZFNlY3Rpb24uY3JlYXRlRGl2KCdjb2xvci1zY2FsZS1lZGl0b3InKTtcblx0XHRoaWdobGlnaHRTZWN0aW9uLmNyZWF0ZUVsKCdoNScsIHsgdGV4dDogJ0hpZ2hsaWdodCBjb2xvcnMnIH0pO1xuXHRcdFxuXHRcdGNvbnN0IGhpZ2hsaWdodFNoYWRlczogQXJyYXk8a2V5b2YgQ29sb3JTY2FsZT4gPSBbNTAsIDEwMCwgMjAwLCAzMDAsIDQwMCwgNTAwLCA2MDAsIDcwMCwgODAwLCA5MDBdO1xuXHRcdGhpZ2hsaWdodFNoYWRlcy5mb3JFYWNoKHNoYWRlID0+IHtcblx0XHRcdGNvbnN0IGNvbG9yVmFsdWUgPSBzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnM/LmhpZ2hsaWdodD8uW3NoYWRlXTtcblx0XHRcdGlmIChjb2xvclZhbHVlKSB7XG5cdFx0XHRcdGNvbnN0IHNldHRpbmdJdGVtID0gaGlnaGxpZ2h0U2VjdGlvbi5jcmVhdGVEaXYoJ3NldHRpbmctaXRlbScpO1xuXHRcdFx0XHRzZXR0aW5nSXRlbS5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0ZGlzcGxheTogJ2ZsZXgnLFxuXHRcdFx0XHRcdGFsaWduSXRlbXM6ICdjZW50ZXInLFxuXHRcdFx0XHRcdGdhcDogJzEwcHgnLFxuXHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogJzhweCdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBsYWJlbCA9IHNldHRpbmdJdGVtLmNyZWF0ZURpdignc2V0dGluZy1pdGVtLW5hbWUnKTtcblx0XHRcdFx0bGFiZWwudGV4dENvbnRlbnQgPSBgJHtzaGFkZX06YDtcblx0XHRcdFx0bGFiZWwuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdG1pbldpZHRoOiAnNDBweCcsXG5cdFx0XHRcdFx0Zm9udFNpemU6ICcxMnB4Jyxcblx0XHRcdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtbXV0ZWQpJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IGNvbnRyb2wgPSBzZXR0aW5nSXRlbS5jcmVhdGVEaXYoJ3NldHRpbmctaXRlbS1jb250cm9sJyk7XG5cdFx0XHRcdGNvbnRyb2wuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdFx0XHRnYXA6ICc4cHgnLFxuXHRcdFx0XHRcdGFsaWduSXRlbXM6ICdjZW50ZXInXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgdGV4dElucHV0ID0gY29udHJvbC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IGNvbG9yVmFsdWUgfSk7XG5cdFx0XHRcdHRleHRJbnB1dC5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdFx0d2lkdGg6ICcxMDBweCcsXG5cdFx0XHRcdFx0Zm9udEZhbWlseTogJ3ZhcigtLWZvbnQtbW9ub3NwYWNlKScsXG5cdFx0XHRcdFx0Zm9udFNpemU6ICcxMnB4J1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IGNvbG9yUGlja2VyID0gY29udHJvbC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicsIHZhbHVlOiBjb2xvclZhbHVlIH0pO1xuXHRcdFx0XHRjb2xvclBpY2tlci5jbGFzc05hbWUgPSAnY29sb3ItcGlja2VyJztcblx0XHRcdFx0XG5cdFx0XHRcdHRleHRJbnB1dC5vbmlucHV0ID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGlmIChUaGVtZUNvbG9yRXh0cmFjdG9yLmlzVmFsaWRIZXhDb2xvcih0ZXh0SW5wdXQudmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRpZiAoc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzPy5oaWdobGlnaHQpIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzLmhpZ2hsaWdodFtzaGFkZV0gPSB0ZXh0SW5wdXQudmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjb2xvclBpY2tlci52YWx1ZSA9IHRleHRJbnB1dC52YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdFxuXHRcdFx0XHRjb2xvclBpY2tlci5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRpZiAoc2V0dGluZ3MudGhlbWVDb2xvcnMuZXh0cmFjdGVkQ29sb3JzKSB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy50aGVtZUNvbG9ycy5leHRyYWN0ZWRDb2xvcnMuaGlnaGxpZ2h0W3NoYWRlXSA9IGNvbG9yUGlja2VyLnZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0ZXh0SW5wdXQudmFsdWUgPSBjb2xvclBpY2tlci52YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn0iLCAiaW1wb3J0IHsgVGhlbWVDb2xvcnMsIENvbG9yU2NhbGUgfSBmcm9tICcuLi90eXBlcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVGhlbWVDb2xvckV4dHJhY3RvciB7XHJcblx0LyoqXHJcblx0ICogRXh0cmFjdCBjb2xvcnMgZnJvbSB0aGUgY3VycmVudGx5IGFjdGl2ZSBPYnNpZGlhbiB0aGVtZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyBleHRyYWN0T2JzaWRpYW5UaGVtZUNvbG9ycygpOiBQcm9taXNlPFRoZW1lQ29sb3JzPiB7XHJcblx0XHQvLyBHZXQgY29tcHV0ZWQgc3R5bGVzIGZyb20gdGhlIGRvY3VtZW50IHJvb3RcclxuXHRcdGNvbnN0IHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSk7XHJcblx0XHRcclxuXHRcdC8vIEV4dHJhY3QgcHJpbWFyeSBjb2xvcnMgKGJhY2tncm91bmRzIGFuZCB0ZXh0KVxyXG5cdFx0Y29uc3QgcHJpbWFyeUNvbG9ycyA9IHRoaXMuZXh0cmFjdFByaW1hcnlDb2xvcnMoc3R5bGVzKTtcclxuXHRcdFxyXG5cdFx0Ly8gRXh0cmFjdCBoaWdobGlnaHQvYWNjZW50IGNvbG9yc1xyXG5cdFx0Y29uc3QgaGlnaGxpZ2h0Q29sb3JzID0gdGhpcy5leHRyYWN0SGlnaGxpZ2h0Q29sb3JzKHN0eWxlcyk7XHJcblx0XHRcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHByaW1hcnk6IHByaW1hcnlDb2xvcnMsXHJcblx0XHRcdGhpZ2hsaWdodDogaGlnaGxpZ2h0Q29sb3JzXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXh0cmFjdCBwcmltYXJ5IGNvbG9yIHNjYWxlIGZyb20gT2JzaWRpYW4gdGhlbWVcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBleHRyYWN0UHJpbWFyeUNvbG9ycyhzdHlsZXM6IENTU1N0eWxlRGVjbGFyYXRpb24pOiBDb2xvclNjYWxlIHtcclxuXHRcdC8vIEdldCBtdWx0aXBsZSBiYWNrZ3JvdW5kIGNvbG9ycyB0byBjcmVhdGUgYSBiZXR0ZXIgc2NhbGVcclxuXHRcdGNvbnN0IGJhY2tncm91bmRQcmltYXJ5ID0gdGhpcy5nZXRDb2xvclZhbHVlKHN0eWxlcywgJy0tYmFja2dyb3VuZC1wcmltYXJ5Jyk7XHJcblx0XHRjb25zdCBiYWNrZ3JvdW5kU2Vjb25kYXJ5ID0gdGhpcy5nZXRDb2xvclZhbHVlKHN0eWxlcywgJy0tYmFja2dyb3VuZC1zZWNvbmRhcnknKTtcclxuXHRcdFxyXG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHdlJ3JlIGluIGEgZGFyayBvciBsaWdodCB0aGVtZVxyXG5cdFx0Y29uc3QgYmFja2dyb3VuZFJnYiA9IHRoaXMuaGV4VG9SZ2IoYmFja2dyb3VuZFByaW1hcnkpO1xyXG5cdFx0Y29uc3QgaXNEYXJrVGhlbWUgPSBiYWNrZ3JvdW5kUmdiID8gKDAuMjk5ICogYmFja2dyb3VuZFJnYi5yICsgMC41ODcgKiBiYWNrZ3JvdW5kUmdiLmcgKyAwLjExNCAqIGJhY2tncm91bmRSZ2IuYikgLyAyNTUgPCAwLjUgOiB0cnVlO1xyXG5cdFx0XHJcblx0XHRpZiAoaXNEYXJrVGhlbWUpIHtcclxuXHRcdFx0Ly8gRm9yIGRhcmsgdGhlbWVzLCBjcmVhdGUgYSBzY2FsZSB0aGF0IGdvZXMgZnJvbSBsaWdodCB0byBkYXJrXHJcblx0XHRcdC8vIFVzZSBiYWNrZ3JvdW5kU2Vjb25kYXJ5IGFzIHRoZSBtYWluIGNvbnRlbnQgY29sb3IgKDcwMClcclxuXHRcdFx0Ly8gVXNlIGJhY2tncm91bmRQcmltYXJ5IGFzIHRoZSBmYXIgYmFja2dyb3VuZCAoOTAwKSAtIGJ1dCBtYWtlIGl0IGRhcmtlciBsaWtlICMxYTFhMWFcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHQ1MDogdGhpcy5saWdodGVuQ29sb3IoYmFja2dyb3VuZFNlY29uZGFyeSwgOTUpLCAgIC8vIFZlcnkgbGlnaHRcclxuXHRcdFx0XHQxMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhY2tncm91bmRTZWNvbmRhcnksIDkwKSwgIC8vIExpZ2h0XHJcblx0XHRcdFx0MjAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYWNrZ3JvdW5kU2Vjb25kYXJ5LCA4MCksICAvLyBMaWdodFxyXG5cdFx0XHRcdDMwMDogdGhpcy5saWdodGVuQ29sb3IoYmFja2dyb3VuZFNlY29uZGFyeSwgNzApLCAgLy8gTWVkaXVtIGxpZ2h0XHJcblx0XHRcdFx0NDAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYWNrZ3JvdW5kU2Vjb25kYXJ5LCA1NSksICAvLyBNZWRpdW1cclxuXHRcdFx0XHQ1MDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhY2tncm91bmRTZWNvbmRhcnksIDQwKSwgIC8vIE1lZGl1bVxyXG5cdFx0XHRcdDYwMDogdGhpcy5saWdodGVuQ29sb3IoYmFja2dyb3VuZFNlY29uZGFyeSwgMjUpLCAgLy8gTWVkaXVtIGRhcmtcclxuXHRcdFx0XHQ3MDA6IGJhY2tncm91bmRTZWNvbmRhcnksICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWluIGNvbnRlbnQgYmFja2dyb3VuZFxyXG5cdFx0XHRcdDgwMDogdGhpcy5kYXJrZW5Db2xvcihiYWNrZ3JvdW5kUHJpbWFyeSwgMjApLCAgICAgLy8gRGFya2VyIGZhciBiYWNrZ3JvdW5kXHJcblx0XHRcdFx0OTAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhY2tncm91bmRQcmltYXJ5LCAzNSksICAgICAvLyBWZXJ5IGRhcmsgKGxpa2UgIzFhMWExYSlcclxuXHRcdFx0XHQ5NTA6IHRoaXMuZGFya2VuQ29sb3IoYmFja2dyb3VuZFByaW1hcnksIDUwKSwgICAgIC8vIERhcmtlc3RcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEZvciBsaWdodCB0aGVtZXMsIHVzZSB0aGUgc3RhbmRhcmQgc2NhbGUgZ2VuZXJhdGlvblxyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVCZXR0ZXJDb2xvclNjYWxlKGJhY2tncm91bmRQcmltYXJ5LCB0cnVlLCBpc0RhcmtUaGVtZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHRyYWN0IGhpZ2hsaWdodCBjb2xvciBzY2FsZSBmcm9tIE9ic2lkaWFuIHRoZW1lXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdGF0aWMgZXh0cmFjdEhpZ2hsaWdodENvbG9ycyhzdHlsZXM6IENTU1N0eWxlRGVjbGFyYXRpb24pOiBDb2xvclNjYWxlIHtcclxuXHRcdC8vIFRyeSBtdWx0aXBsZSBjb2xvciBzb3VyY2VzIGluIG9yZGVyIG9mIHByZWZlcmVuY2VcclxuXHRcdGNvbnN0IGJhc2VDb2xvciA9IHRoaXMuZ2V0Q29sb3JWYWx1ZShzdHlsZXMsICctLXRleHQtYWNjZW50JykgfHwgXHJcblx0XHRcdFx0XHRcdCAgdGhpcy5nZXRDb2xvclZhbHVlKHN0eWxlcywgJy0taW50ZXJhY3RpdmUtYWNjZW50JykgfHxcclxuXHRcdFx0XHRcdFx0ICB0aGlzLmdldENvbG9yVmFsdWUoc3R5bGVzLCAnLS10ZXh0LWEnKSB8fFxyXG5cdFx0XHRcdFx0XHQgIHRoaXMuZ2V0Q29sb3JWYWx1ZShzdHlsZXMsICctLXRleHQtbGluaycpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBob3ZlckNvbG9yID0gdGhpcy5nZXRDb2xvclZhbHVlKHN0eWxlcywgJy0tdGV4dC1hY2NlbnQtaG92ZXInKSB8fCBcclxuXHRcdFx0XHRcdFx0ICAgdGhpcy5nZXRDb2xvclZhbHVlKHN0eWxlcywgJy0tdGV4dC1hLWhvdmVyJykgfHxcclxuXHRcdFx0XHRcdFx0ICAgYmFzZUNvbG9yO1xyXG5cdFx0XHJcblx0XHQvLyBVc2UgdGhlIHJhdyBjb2xvcnMgZGlyZWN0bHkgaW4gdGhlIHNjYWxlXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQ1MDogaG92ZXJDb2xvciwgICAvLyBIb3Zlci9saWdodGVyIHZhcmlhbnRcclxuXHRcdFx0MTAwOiBob3ZlckNvbG9yLCAgLy8gSG92ZXIvbGlnaHRlciB2YXJpYW50XHJcblx0XHRcdDIwMDogaG92ZXJDb2xvciwgIC8vIEhvdmVyL2xpZ2h0ZXIgdmFyaWFudFxyXG5cdFx0XHQzMDA6IGJhc2VDb2xvciwgICAvLyBCYXNlIGNvbG9yXHJcblx0XHRcdDQwMDogYmFzZUNvbG9yLCAgIC8vIEJhc2UgY29sb3JcclxuXHRcdFx0NTAwOiBiYXNlQ29sb3IsICAgLy8gQmFzZSBjb2xvclxyXG5cdFx0XHQ2MDA6IGJhc2VDb2xvciwgICAvLyBCYXNlIGNvbG9yXHJcblx0XHRcdDcwMDogYmFzZUNvbG9yLCAgIC8vIEJhc2UgY29sb3JcclxuXHRcdFx0ODAwOiBiYXNlQ29sb3IsICAgLy8gQmFzZSBjb2xvclxyXG5cdFx0XHQ5MDA6IGJhc2VDb2xvciwgICAvLyBCYXNlIGNvbG9yXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjb2xvciB2YWx1ZSBmcm9tIENTUyBjdXN0b20gcHJvcGVydHkgd2l0aCBmYWxsYmFja1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGdldENvbG9yVmFsdWUoc3R5bGVzOiBDU1NTdHlsZURlY2xhcmF0aW9uLCBwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHZhbHVlID0gc3R5bGVzLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpLnRyaW0oKTtcclxuXHRcdGlmICghdmFsdWUpIHtcclxuXHRcdFx0Ly8gRmFsbGJhY2sgY29sb3JzIGlmIENTUyB2YXJpYWJsZXMgYXJlIG5vdCBhdmFpbGFibGVcclxuXHRcdFx0c3dpdGNoIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdGNhc2UgJy0tYmFja2dyb3VuZC1wcmltYXJ5JzpcclxuXHRcdFx0XHRcdHJldHVybiAnIzFlMWUxZSc7XHJcblx0XHRcdFx0Y2FzZSAnLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyMyZDJkMmQnO1xyXG5cdFx0XHRcdGNhc2UgJy0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXInOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjM2EzYTNhJztcclxuXHRcdFx0XHRjYXNlICctLXRleHQtbm9ybWFsJzpcclxuXHRcdFx0XHRcdHJldHVybiAnI2RjZGRkZSc7XHJcblx0XHRcdFx0Y2FzZSAnLS10ZXh0LW11dGVkJzpcclxuXHRcdFx0XHRcdHJldHVybiAnIzcyNzY3ZCc7XHJcblx0XHRcdFx0Y2FzZSAnLS10ZXh0LWZhaW50JzpcclxuXHRcdFx0XHRcdHJldHVybiAnIzQ4NGI1MSc7XHJcblx0XHRcdFx0Y2FzZSAnLS10ZXh0LWFjY2VudCc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyM3MDg3OTQnO1xyXG5cdFx0XHRcdGNhc2UgJy0tYXgxJzpcclxuXHRcdFx0XHRcdHJldHVybiAnIzcwODc5NCc7XHJcblx0XHRcdFx0Y2FzZSAnLS1heDInOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjODg5ZWFhJztcclxuXHRcdFx0XHRjYXNlICctLWF4Myc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyM1YTZkNzcnO1xyXG5cdFx0XHRcdGNhc2UgJy0tdGV4dC1hY2NlbnQtaG92ZXInOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjODg5ZWFhJztcclxuXHRcdFx0XHRjYXNlICctLXRleHQtYSc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyNmOGM1MzcnO1xyXG5cdFx0XHRcdGNhc2UgJy0tdGV4dC1hLWhvdmVyJzpcclxuXHRcdFx0XHRcdHJldHVybiAnI2Y4YzUzNyc7XHJcblx0XHRcdFx0Y2FzZSAnLS10ZXh0LWxpbmsnOlxyXG5cdFx0XHRcdFx0cmV0dXJuICcjODNhNTk4JztcclxuXHRcdFx0XHRjYXNlICctLWludGVyYWN0aXZlLWFjY2VudCc6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyM1ODY1ZjInO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRyZXR1cm4gJyM2NjY2NjYnO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIENvbnZlcnQgQ1NTIGNvbG9yIHZhbHVlcyB0byBoZXggZm9ybWF0XHJcblx0XHRyZXR1cm4gdGhpcy5jb252ZXJ0VG9IZXgodmFsdWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCBDU1MgY29sb3IgdmFsdWUgdG8gaGV4IGZvcm1hdFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGNvbnZlcnRUb0hleChjb2xvclZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Ly8gSWYgaXQncyBhbHJlYWR5IGEgaGV4IGNvbG9yLCByZXR1cm4gYXMgaXNcclxuXHRcdGlmIChjb2xvclZhbHVlLnN0YXJ0c1dpdGgoJyMnKSkge1xyXG5cdFx0XHRyZXR1cm4gY29sb3JWYWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgZWxlbWVudCB0byBjb21wdXRlIHRoZSBjb2xvclxyXG5cdFx0Y29uc3QgdGVtcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHRlbXBFbGVtZW50LnNldENzc1Byb3BzKHsgY29sb3I6IGNvbG9yVmFsdWUgfSk7XHJcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlbXBFbGVtZW50KTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgY29tcHV0ZWRDb2xvciA9IGdldENvbXB1dGVkU3R5bGUodGVtcEVsZW1lbnQpLmNvbG9yO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZW1wRWxlbWVudCk7XHJcblx0XHRcclxuXHRcdC8vIENvbnZlcnQgcmdiL3JnYmEgdG8gaGV4XHJcblx0XHRjb25zdCByZ2JNYXRjaCA9IGNvbXB1dGVkQ29sb3IubWF0Y2goL3JnYlxcKChcXGQrKSxcXHMqKFxcZCspLFxccyooXFxkKylcXCkvKTtcclxuXHRcdGlmIChyZ2JNYXRjaCkge1xyXG5cdFx0XHRjb25zdCByID0gcGFyc2VJbnQocmdiTWF0Y2hbMV0pO1xyXG5cdFx0XHRjb25zdCBnID0gcGFyc2VJbnQocmdiTWF0Y2hbMl0pO1xyXG5cdFx0XHRjb25zdCBiID0gcGFyc2VJbnQocmdiTWF0Y2hbM10pO1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZ2JUb0hleChyLCBnLCBiKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gQ29udmVydCBoc2wgdG8gaGV4XHJcblx0XHRjb25zdCBoc2xNYXRjaCA9IGNvbG9yVmFsdWUubWF0Y2goL2hzbFxcKFxccyooXFxkKyksXFxzKihcXGQrKSUsXFxzKihcXGQrKSVcXHMqXFwpLyk7XHJcblx0XHRpZiAoaHNsTWF0Y2gpIHtcclxuXHRcdFx0Y29uc3QgaCA9IHBhcnNlSW50KGhzbE1hdGNoWzFdKTtcclxuXHRcdFx0Y29uc3QgcyA9IHBhcnNlSW50KGhzbE1hdGNoWzJdKTtcclxuXHRcdFx0Y29uc3QgbCA9IHBhcnNlSW50KGhzbE1hdGNoWzNdKTtcclxuXHRcdFx0cmV0dXJuIHRoaXMuaHNsVG9IZXgoaCwgcywgbCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIElmIHdlIGNhbid0IGNvbnZlcnQsIHJldHVybiBhIGZhbGxiYWNrXHJcblx0XHRyZXR1cm4gJyM2NjY2NjYnO1xyXG5cdH1cclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnZlcnQgSFNMIHRvIGhleCBjb2xvclxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGhzbFRvSGV4KGg6IG51bWJlciwgczogbnVtYmVyLCBsOiBudW1iZXIpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgaE5vcm0gPSBoIC8gMzYwO1xyXG5cdFx0Y29uc3Qgc05vcm0gPSBzIC8gMTAwO1xyXG5cdFx0Y29uc3QgbE5vcm0gPSBsIC8gMTAwO1xyXG5cclxuXHRcdGNvbnN0IGh1ZTJyZ2IgPSAocDogbnVtYmVyLCBxOiBudW1iZXIsIHQ6IG51bWJlcikgPT4ge1xyXG5cdFx0XHRpZiAodCA8IDApIHQgKz0gMTtcclxuXHRcdFx0aWYgKHQgPiAxKSB0IC09IDE7XHJcblx0XHRcdGlmICh0IDwgMS82KSByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcclxuXHRcdFx0aWYgKHQgPCAxLzIpIHJldHVybiBxO1xyXG5cdFx0XHRpZiAodCA8IDIvMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjtcclxuXHRcdFx0cmV0dXJuIHA7XHJcblx0XHR9O1xyXG5cclxuXHRcdGxldCByLCBnLCBiO1xyXG5cclxuXHRcdGlmIChzTm9ybSA9PT0gMCkge1xyXG5cdFx0XHRyID0gZyA9IGIgPSBsTm9ybTsgLy8gYWNocm9tYXRpY1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3QgcSA9IGxOb3JtIDwgMC41ID8gbE5vcm0gKiAoMSArIHNOb3JtKSA6IGxOb3JtICsgc05vcm0gLSBsTm9ybSAqIHNOb3JtO1xyXG5cdFx0XHRjb25zdCBwID0gMiAqIGxOb3JtIC0gcTtcclxuXHRcdFx0ciA9IGh1ZTJyZ2IocCwgcSwgaE5vcm0gKyAxLzMpO1xyXG5cdFx0XHRnID0gaHVlMnJnYihwLCBxLCBoTm9ybSk7XHJcblx0XHRcdGIgPSBodWUycmdiKHAsIHEsIGhOb3JtIC0gMS8zKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5yZ2JUb0hleChcclxuXHRcdFx0TWF0aC5yb3VuZChyICogMjU1KSxcclxuXHRcdFx0TWF0aC5yb3VuZChnICogMjU1KSxcclxuXHRcdFx0TWF0aC5yb3VuZChiICogMjU1KVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlIGZ1bGwgY29sb3Igc2NhbGUgZnJvbSBzaW1wbGUgY29sb3JzXHJcblx0ICovXHJcblx0c3RhdGljIGdlbmVyYXRlQ29sb3JTY2FsZUZyb21TaW1wbGUoYWNjZW50OiBzdHJpbmcsIGJhY2tncm91bmQ6IHN0cmluZyk6IFRoZW1lQ29sb3JzIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHByaW1hcnk6IHRoaXMuZ2VuZXJhdGVQcmltYXJ5U2NhbGUoYmFja2dyb3VuZCksXHJcblx0XHRcdGhpZ2hsaWdodDogdGhpcy5nZW5lcmF0ZUhpZ2hsaWdodFNjYWxlKGFjY2VudClcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZW5lcmF0ZSBwcmltYXJ5IGNvbG9yIHNjYWxlIGZyb20gYmFja2dyb3VuZCBjb2xvclxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGdlbmVyYXRlUHJpbWFyeVNjYWxlKGJhc2VDb2xvcjogc3RyaW5nKTogQ29sb3JTY2FsZSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQ1MDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA5NSksXHJcblx0XHRcdDEwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA4NSksXHJcblx0XHRcdDIwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA3NSksXHJcblx0XHRcdDMwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA1MCksXHJcblx0XHRcdDQwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCAyNSksXHJcblx0XHRcdDUwMDogYmFzZUNvbG9yLFxyXG5cdFx0XHQ2MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCAxNSksXHJcblx0XHRcdDcwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDMwKSxcclxuXHRcdFx0ODAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgNDUpLFxyXG5cdFx0XHQ5MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA2MCksXHJcblx0XHRcdDk1MDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDc1KSxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZW5lcmF0ZSBoaWdobGlnaHQgY29sb3Igc2NhbGUgZnJvbSBhY2NlbnQgY29sb3JcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZUhpZ2hsaWdodFNjYWxlKGJhc2VDb2xvcjogc3RyaW5nKTogQ29sb3JTY2FsZSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQ1MDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA5NSksXHJcblx0XHRcdDEwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA4NSksXHJcblx0XHRcdDIwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA3NSksXHJcblx0XHRcdDMwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA2NSksXHJcblx0XHRcdDQwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA1NSksXHJcblx0XHRcdDUwMDogYmFzZUNvbG9yLFxyXG5cdFx0XHQ2MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCAxMCksXHJcblx0XHRcdDcwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDIwKSxcclxuXHRcdFx0ODAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgMzApLFxyXG5cdFx0XHQ5MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA0MCksXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTGlnaHRlbiBhIGhleCBjb2xvciBieSBhIHBlcmNlbnRhZ2VcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBsaWdodGVuQ29sb3IoaGV4OiBzdHJpbmcsIHBlcmNlbnQ6IG51bWJlcik6IHN0cmluZyB7XHJcblx0XHRjb25zdCByZ2IgPSB0aGlzLmhleFRvUmdiKGhleCk7XHJcblx0XHRpZiAoIXJnYikgcmV0dXJuIGhleDtcclxuXHJcblx0XHRjb25zdCB7IHIsIGcsIGIgfSA9IHJnYjtcclxuXHRcdGNvbnN0IGZhY3RvciA9IHBlcmNlbnQgLyAxMDA7XHJcblx0XHRcclxuXHRcdHJldHVybiB0aGlzLnJnYlRvSGV4KFxyXG5cdFx0XHRNYXRoLnJvdW5kKHIgKyAoMjU1IC0gcikgKiBmYWN0b3IpLFxyXG5cdFx0XHRNYXRoLnJvdW5kKGcgKyAoMjU1IC0gZykgKiBmYWN0b3IpLFxyXG5cdFx0XHRNYXRoLnJvdW5kKGIgKyAoMjU1IC0gYikgKiBmYWN0b3IpXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGFya2VuIGEgaGV4IGNvbG9yIGJ5IGEgcGVyY2VudGFnZVxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGRhcmtlbkNvbG9yKGhleDogc3RyaW5nLCBwZXJjZW50OiBudW1iZXIpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgcmdiID0gdGhpcy5oZXhUb1JnYihoZXgpO1xyXG5cdFx0aWYgKCFyZ2IpIHJldHVybiBoZXg7XHJcblxyXG5cdFx0Y29uc3QgeyByLCBnLCBiIH0gPSByZ2I7XHJcblx0XHRjb25zdCBmYWN0b3IgPSBwZXJjZW50IC8gMTAwO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gdGhpcy5yZ2JUb0hleChcclxuXHRcdFx0TWF0aC5yb3VuZChyICogKDEgLSBmYWN0b3IpKSxcclxuXHRcdFx0TWF0aC5yb3VuZChnICogKDEgLSBmYWN0b3IpKSxcclxuXHRcdFx0TWF0aC5yb3VuZChiICogKDEgLSBmYWN0b3IpKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBhIG1vcmUgYWdncmVzc2l2ZSBsaWdodGVuaW5nIGZ1bmN0aW9uIGZvciBiZXR0ZXIgY29udHJhc3RcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyBhZ2dyZXNzaXZlTGlnaHRlbihoZXg6IHN0cmluZywgcGVyY2VudDogbnVtYmVyKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHJnYiA9IHRoaXMuaGV4VG9SZ2IoaGV4KTtcclxuXHRcdGlmICghcmdiKSByZXR1cm4gaGV4O1xyXG5cclxuXHRcdGNvbnN0IHsgciwgZywgYiB9ID0gcmdiO1xyXG5cdFx0Y29uc3QgZmFjdG9yID0gcGVyY2VudCAvIDEwMDtcclxuXHRcdFxyXG5cdFx0Ly8gVXNlIGEgbW9yZSBhZ2dyZXNzaXZlIGxpZ2h0ZW5pbmcgYWxnb3JpdGhtXHJcblx0XHRyZXR1cm4gdGhpcy5yZ2JUb0hleChcclxuXHRcdFx0TWF0aC5yb3VuZChNYXRoLm1pbigyNTUsIHIgKyAoMjU1IC0gcikgKiBmYWN0b3IgKiAxLjIpKSxcclxuXHRcdFx0TWF0aC5yb3VuZChNYXRoLm1pbigyNTUsIGcgKyAoMjU1IC0gZykgKiBmYWN0b3IgKiAxLjIpKSxcclxuXHRcdFx0TWF0aC5yb3VuZChNYXRoLm1pbigyNTUsIGIgKyAoMjU1IC0gYikgKiBmYWN0b3IgKiAxLjIpKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBhIG1vcmUgYWdncmVzc2l2ZSBkYXJrZW5pbmcgZnVuY3Rpb24gZm9yIGJldHRlciBjb250cmFzdFxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGFnZ3Jlc3NpdmVEYXJrZW4oaGV4OiBzdHJpbmcsIHBlcmNlbnQ6IG51bWJlcik6IHN0cmluZyB7XHJcblx0XHRjb25zdCByZ2IgPSB0aGlzLmhleFRvUmdiKGhleCk7XHJcblx0XHRpZiAoIXJnYikgcmV0dXJuIGhleDtcclxuXHJcblx0XHRjb25zdCB7IHIsIGcsIGIgfSA9IHJnYjtcclxuXHRcdGNvbnN0IGZhY3RvciA9IHBlcmNlbnQgLyAxMDA7XHJcblx0XHRcclxuXHRcdC8vIFVzZSBhIG1vcmUgYWdncmVzc2l2ZSBkYXJrZW5pbmcgYWxnb3JpdGhtXHJcblx0XHRyZXR1cm4gdGhpcy5yZ2JUb0hleChcclxuXHRcdFx0TWF0aC5yb3VuZChNYXRoLm1heCgwLCByICogKDEgLSBmYWN0b3IgKiAxLjIpKSksXHJcblx0XHRcdE1hdGgucm91bmQoTWF0aC5tYXgoMCwgZyAqICgxIC0gZmFjdG9yICogMS4yKSkpLFxyXG5cdFx0XHRNYXRoLnJvdW5kKE1hdGgubWF4KDAsIGIgKiAoMSAtIGZhY3RvciAqIDEuMikpKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBhIG1vcmUgc29waGlzdGljYXRlZCBjb2xvciBzY2FsZSB0aGF0IGJldHRlciBtYXRjaGVzIHRoZW1lIGV4cGVjdGF0aW9uc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGNyZWF0ZUJldHRlckNvbG9yU2NhbGUoYmFzZUNvbG9yOiBzdHJpbmcsIGlzUHJpbWFyeTogYm9vbGVhbiA9IHRydWUsIGlzRGFya1RoZW1lOiBib29sZWFuID0gdHJ1ZSk6IENvbG9yU2NhbGUge1xyXG5cdFx0Y29uc3QgcmdiID0gdGhpcy5oZXhUb1JnYihiYXNlQ29sb3IpO1xyXG5cdFx0aWYgKCFyZ2IpIHtcclxuXHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2ltcGxlIHNjYWxlIGlmIGNvbG9yIHBhcnNpbmcgZmFpbHNcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2VuZXJhdGVQcmltYXJ5U2NhbGUoYmFzZUNvbG9yKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB7IHIsIGcsIGIgfSA9IHJnYjtcclxuXHRcdFxyXG5cdFx0Ly8gQ2FsY3VsYXRlIGx1bWluYW5jZSB0byBkZXRlcm1pbmUgaWYgdGhpcyBpcyBhIGxpZ2h0IG9yIGRhcmsgY29sb3JcclxuXHRcdGNvbnN0IGx1bWluYW5jZSA9ICgwLjI5OSAqIHIgKyAwLjU4NyAqIGcgKyAwLjExNCAqIGIpIC8gMjU1O1xyXG5cdFx0Y29uc3QgaXNEYXJrID0gbHVtaW5hbmNlIDwgMC41O1xyXG5cclxuXHRcdGlmIChpc1ByaW1hcnkpIHtcclxuXHRcdFx0Ly8gUHJpbWFyeSBjb2xvcnM6IGNyZWF0ZSBhIHNjYWxlIGZyb20gdmVyeSBsaWdodCB0byB2ZXJ5IGRhcmtcclxuXHRcdFx0Ly8gVXNlIG1vcmUgZHJhbWF0aWMgZGlmZmVyZW5jZXMgZm9yIGJldHRlciBjb250cmFzdCBiZXR3ZWVuIGJhY2tncm91bmQgc2hhZGVzXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0NTA6IGlzRGFyayA/IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgOTUpIDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDk1KSxcclxuXHRcdFx0XHQxMDA6IGlzRGFyayA/IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgOTApIDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDkwKSxcclxuXHRcdFx0XHQyMDA6IGlzRGFyayA/IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgODApIDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDgwKSxcclxuXHRcdFx0XHQzMDA6IGlzRGFyayA/IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNzApIDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDcwKSxcclxuXHRcdFx0XHQ0MDA6IGlzRGFyayA/IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNTUpIDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDU1KSxcclxuXHRcdFx0XHQ1MDA6IGlzRGFyayA/IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNDApIDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDQwKSxcclxuXHRcdFx0XHQ2MDA6IGlzRGFyayA/IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgMjUpIDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDI1KSxcclxuXHRcdFx0XHQ3MDA6IGJhc2VDb2xvcixcclxuXHRcdFx0XHQ4MDA6IGlzRGFyayA/IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCAyMCkgOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDIwKSxcclxuXHRcdFx0XHQ5MDA6IGlzRGFyayA/IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCAzNSkgOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDM1KSxcclxuXHRcdFx0XHQ5NTA6IGlzRGFyayA/IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA1MCkgOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDUwKSxcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEhpZ2hsaWdodCBjb2xvcnM6IGNyZWF0ZSBhIHNjYWxlIGZyb20gdmVyeSBsaWdodCB0byB2ZXJ5IGRhcmtcclxuXHRcdFx0Ly8gQWRqdXN0IHRoZSBzY2FsZSBiYXNlZCBvbiB3aGV0aGVyIHdlJ3JlIGluIGRhcmsgb3IgbGlnaHQgdGhlbWVcclxuXHRcdFx0aWYgKGlzRGFya1RoZW1lKSB7XHJcblx0XHRcdFx0Ly8gRm9yIGRhcmsgdGhlbWVzLCB1c2UgdGhlIGJhc2UgY29sb3IgYXMgdGhlIDUwMCBzaGFkZSAodGhlIHZpYnJhbnQgb25lKVxyXG5cdFx0XHRcdC8vIGFuZCBjcmVhdGUgbGlnaHRlciBhbmQgZGFya2VyIHZhcmlhdGlvbnMgYXJvdW5kIGl0XHJcblx0XHRcdFx0Ly8gTWFrZSB0aGUgNDAwIHNoYWRlIG11Y2ggY2xvc2VyIHRvIHRoZSBiYXNlIGNvbG9yIGZvciBiZXR0ZXIgY29udHJhc3RcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0NTA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgOTUpLCAgIC8vIFZlcnkgbGlnaHRcclxuXHRcdFx0XHRcdDEwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA4NSksICAvLyBMaWdodFxyXG5cdFx0XHRcdFx0MjAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDc1KSwgIC8vIExpZ2h0XHJcblx0XHRcdFx0XHQzMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNjUpLCAgLy8gTWVkaXVtIGxpZ2h0XHJcblx0XHRcdFx0XHQ0MDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgMjUpLCAgLy8gTXVjaCBjbG9zZXIgdG8gYmFzZSBjb2xvclxyXG5cdFx0XHRcdFx0NTAwOiBiYXNlQ29sb3IsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFx1RDgzQ1x1REZBRiBVc2UgdGhlIHZpYnJhbnQgYmFzZSBjb2xvciBhcyA1MDBcclxuXHRcdFx0XHRcdDYwMDogdGhpcy5kYXJrZW5Db2xvcihiYXNlQ29sb3IsIDE1KSwgICAvLyBNZWRpdW0gZGFya1xyXG5cdFx0XHRcdFx0NzAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgMzApLCAgIC8vIERhcmtlclxyXG5cdFx0XHRcdFx0ODAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgNDUpLCAgIC8vIFZlcnkgZGFya1xyXG5cdFx0XHRcdFx0OTAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgNjApLCAgIC8vIERhcmtlc3RcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIEZvciBsaWdodCB0aGVtZXMsIHdlIHdhbnQgZGFya2VyIGhpZ2hsaWdodHMgZm9yIGJldHRlciBjb250cmFzdFxyXG5cdFx0XHRcdC8vIFNoaWZ0IHRoZSBzY2FsZSBzbyBkYXJrZXIgY29sb3JzIGFyZSBtb3JlIHByb21pbmVudFxyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHQ1MDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCA2MCksICAgLy8gVmVyeSBsaWdodFxyXG5cdFx0XHRcdFx0MTAwOiB0aGlzLmxpZ2h0ZW5Db2xvcihiYXNlQ29sb3IsIDUwKSwgIC8vIExpZ2h0XHJcblx0XHRcdFx0XHQyMDA6IHRoaXMubGlnaHRlbkNvbG9yKGJhc2VDb2xvciwgNDApLCAgLy8gTGlnaHRcclxuXHRcdFx0XHRcdDMwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCAzMCksICAvLyBNZWRpdW0gbGlnaHRcclxuXHRcdFx0XHRcdDQwMDogdGhpcy5saWdodGVuQ29sb3IoYmFzZUNvbG9yLCAyMCksICAvLyBNZWRpdW0gbGlnaHRcclxuXHRcdFx0XHRcdDUwMDogYmFzZUNvbG9yLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFzZSBjb2xvclxyXG5cdFx0XHRcdFx0NjAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgMjApLCAgIC8vIE1lZGl1bSBkYXJrXHJcblx0XHRcdFx0XHQ3MDA6IHRoaXMuZGFya2VuQ29sb3IoYmFzZUNvbG9yLCA0MCksICAgLy8gRGFya1xyXG5cdFx0XHRcdFx0ODAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgNjApLCAgIC8vIERhcmtlclxyXG5cdFx0XHRcdFx0OTAwOiB0aGlzLmRhcmtlbkNvbG9yKGJhc2VDb2xvciwgODApLCAgIC8vIFZlcnkgZGFya1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnZlcnQgaGV4IGNvbG9yIHRvIFJHQlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhdGljIGhleFRvUmdiKGhleDogc3RyaW5nKTogeyByOiBudW1iZXI7IGc6IG51bWJlcjsgYjogbnVtYmVyIH0gfCBudWxsIHtcclxuXHRcdC8vIFJlbW92ZSAjIGlmIHByZXNlbnRcclxuXHRcdGhleCA9IGhleC5yZXBsYWNlKCcjJywgJycpO1xyXG5cdFx0XHJcblx0XHQvLyBIYW5kbGUgMy1kaWdpdCBoZXhcclxuXHRcdGlmIChoZXgubGVuZ3RoID09PSAzKSB7XHJcblx0XHRcdGhleCA9IGhleC5zcGxpdCgnJykubWFwKGNoYXIgPT4gY2hhciArIGNoYXIpLmpvaW4oJycpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBIYW5kbGUgNi1kaWdpdCBoZXhcclxuXHRcdGlmIChoZXgubGVuZ3RoID09PSA2KSB7XHJcblx0XHRcdGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNik7XHJcblx0XHRcdGNvbnN0IGcgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDIsIDQpLCAxNik7XHJcblx0XHRcdGNvbnN0IGIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDQsIDYpLCAxNik7XHJcblx0XHRcdHJldHVybiB7IHIsIGcsIGIgfTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IFJHQiB0byBoZXggY29sb3JcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyByZ2JUb0hleChyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHRvSGV4ID0gKG46IG51bWJlcikgPT4ge1xyXG5cdFx0XHRjb25zdCBoZXggPSBNYXRoLnJvdW5kKE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgbikpKS50b1N0cmluZygxNik7XHJcblx0XHRcdHJldHVybiBoZXgubGVuZ3RoID09PSAxID8gJzAnICsgaGV4IDogaGV4O1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGAjJHt0b0hleChyKX0ke3RvSGV4KGcpfSR7dG9IZXgoYil9YDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFZhbGlkYXRlIGlmIGEgc3RyaW5nIGlzIGEgdmFsaWQgaGV4IGNvbG9yXHJcblx0ICovXHJcblx0c3RhdGljIGlzVmFsaWRIZXhDb2xvcihjb2xvcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gL14jKFtBLUZhLWYwLTldezZ9fFtBLUZhLWYwLTldezN9KSQvLnRlc3QoY29sb3IpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2VuZXJhdGUgdGhlbWUgZmlsZSBjb250ZW50IGZyb20gY29sb3JzXHJcblx0ICovXHJcblx0c3RhdGljIGdlbmVyYXRlVGhlbWVGaWxlQ29udGVudChjb2xvcnM6IFRoZW1lQ29sb3JzLCB0aGVtZU5hbWU6IHN0cmluZyA9ICdjdXN0b20nKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGAvLyBDdXN0b20gdGhlbWUgZXh0cmFjdGVkIGZyb20gT2JzaWRpYW5cclxuLy8gR2VuZXJhdGVkOiAke3RpbWVzdGFtcH1cclxuXHJcbmV4cG9ydCBjb25zdCAke3RoZW1lTmFtZX1UaGVtZSA9IHtcclxuICBwcmltYXJ5OiB7XHJcbiAgICA1MDogXCIke2NvbG9ycy5wcmltYXJ5WzUwXX1cIixcclxuICAgIDEwMDogXCIke2NvbG9ycy5wcmltYXJ5WzEwMF19XCIsXHJcbiAgICAyMDA6IFwiJHtjb2xvcnMucHJpbWFyeVsyMDBdfVwiLFxyXG4gICAgMzAwOiBcIiR7Y29sb3JzLnByaW1hcnlbMzAwXX1cIixcclxuICAgIDQwMDogXCIke2NvbG9ycy5wcmltYXJ5WzQwMF19XCIsXHJcbiAgICA1MDA6IFwiJHtjb2xvcnMucHJpbWFyeVs1MDBdfVwiLFxyXG4gICAgNjAwOiBcIiR7Y29sb3JzLnByaW1hcnlbNjAwXX1cIixcclxuICAgIDcwMDogXCIke2NvbG9ycy5wcmltYXJ5WzcwMF19XCIsXHJcbiAgICA4MDA6IFwiJHtjb2xvcnMucHJpbWFyeVs4MDBdfVwiLFxyXG4gICAgOTAwOiBcIiR7Y29sb3JzLnByaW1hcnlbOTAwXX1cIixcclxuICAgIDk1MDogXCIke2NvbG9ycy5wcmltYXJ5Wzk1MF19XCJcclxuICB9LFxyXG4gIGhpZ2hsaWdodDoge1xyXG4gICAgNTA6IFwiJHtjb2xvcnMuaGlnaGxpZ2h0WzUwXX1cIixcclxuICAgIDEwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbMTAwXX1cIixcclxuICAgIDIwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbMjAwXX1cIixcclxuICAgIDMwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbMzAwXX1cIixcclxuICAgIDQwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbNDAwXX1cIixcclxuICAgIDUwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbNTAwXX1cIixcclxuICAgIDYwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbNjAwXX1cIixcclxuICAgIDcwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbNzAwXX1cIixcclxuICAgIDgwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbODAwXX1cIixcclxuICAgIDkwMDogXCIke2NvbG9ycy5oaWdobGlnaHRbOTAwXX1cIlxyXG4gIH1cclxufTtcclxuYDtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IFNldHRpbmcsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgVGFiUmVuZGVyZXIgfSBmcm9tICcuLi9jb21tb24vVGFiUmVuZGVyZXInO1xyXG5pbXBvcnQgeyBBc3Ryb01vZHVsYXJQbHVnaW4sIEFzdHJvTW9kdWxhclNldHRpbmdzLCBQcm9maWxlUGljdHVyZVNldHRpbmdzIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwLCBTZXR0aW5nc0NvbnRhaW5lciB9IGZyb20gJy4uLy4uL3V0aWxzL3NldHRpbmdzLWNvbXBhdCc7XHJcblxyXG5leHBvcnQgY2xhc3MgRmVhdHVyZXNUYWIgZXh0ZW5kcyBUYWJSZW5kZXJlciB7XHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XHJcblxyXG5cdFx0Ly8gR2xvYmFsIG9wdGlvbnMgZ3JvdXAgd2l0aCBoZWFkaW5nXHJcblx0XHRjb25zdCBnbG9iYWxHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCAnR2xvYmFsIG9wdGlvbnMnLCAnYXN0cm8tbW9kdWxhci1zZXR0aW5ncycpO1xyXG5cclxuXHRcdC8vIEVuYWJsZSBQcm9qZWN0c1xyXG5cdFx0Z2xvYmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdC5zZXROYW1lKCdFbmFibGUgcHJvamVjdHMnKVxyXG5cdFx0XHQuc2V0RGVzYygnRW5hYmxlIHByb2plY3RzIGFzIGEgdW5pcXVlIGNvbnRlbnQgdHlwZSBmb3Igc2hvd2Nhc2luZyB3b3JrIGFuZCBwb3J0Zm9saW9zJylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzPy5wcm9qZWN0cyA/PyB0cnVlKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGlmICghc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMpIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMgPSB7IHByb2plY3RzOiB0cnVlLCBkb2NzOiB0cnVlIH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcy5wcm9qZWN0cyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBQcm9qZWN0cyAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIEVuYWJsZSBEb2NzXHJcblx0XHRnbG9iYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnRW5hYmxlIGRvY3MnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdFbmFibGUgZG9jcyBhcyBhIHVuaXF1ZSBjb250ZW50IHR5cGUgZm9yIGRvY3VtZW50YXRpb24gYW5kIGtub3dsZWRnZSBiYXNlJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcz8uZG9jcyA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMgPSB7IHByb2plY3RzOiB0cnVlLCBkb2NzOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMuZG9jcyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRG9jcyAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBUYWJsZSBvZiBjb250ZW50c1xyXG5cdFx0Z2xvYmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1RhYmxlIG9mIGNvbnRlbnRzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyB0YWJsZSBvZiBjb250ZW50cyBvbiBjb250ZW50IHBhZ2VzJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy50YWJsZU9mQ29udGVudHM/LmVuYWJsZWQgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy50YWJsZU9mQ29udGVudHMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50YWJsZU9mQ29udGVudHMgPSB7IGVuYWJsZWQ6IHRydWUsIGRlcHRoOiA0IH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzLmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIFRvQyBkZXB0aCBzZXR0aW5nXHJcblx0XHRcdFx0XHRcdGNvbnN0IHRvY0RlcHRoU2V0dGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudG9jLWRlcHRoLXNldHRpbmcnKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRcdFx0aWYgKHRvY0RlcHRoU2V0dGluZykge1xyXG5cdFx0XHRcdFx0XHRcdHRvY0RlcHRoU2V0dGluZy5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFRhYmxlIG9mIGNvbnRlbnRzICR7dmFsdWUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFRvQyBkZXB0aCAtIGFkZCBhcyBzZXR0aW5nIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0Z2xvYmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCd0b2MtZGVwdGgtc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cz8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnVGFibGUgb2YgY29udGVudHMgZGVwdGgnKVxyXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIlRvQ1wiIGlzIGFuIGFjcm9ueW0gYW5kIHNob3VsZCByZW1haW4gY2FwaXRhbGl6ZWRcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0LnNldERlc2MoJ01heGltdW0gaGVhZGluZyBkZXB0aCB0byBpbmNsdWRlIGluIFRvQyAoMj1IMiwgMz1IMywgND1INCwgNT1INSwgNj1INiknKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCc0JylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShTdHJpbmcoc2V0dGluZ3MudGFibGVPZkNvbnRlbnRzPy5kZXB0aCB8fCA0KSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbnVtID0gcGFyc2VJbnQodmFsdWUpIHx8IDQ7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGNsYW1wZWROdW0gPSBNYXRoLm1heCgyLCBNYXRoLm1pbig2LCBudW0pKTtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy50YWJsZU9mQ29udGVudHMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50YWJsZU9mQ29udGVudHMgPSB7IGVuYWJsZWQ6IHRydWUsIGRlcHRoOiA0IH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzLmRlcHRoID0gY2xhbXBlZE51bTtcclxuXHRcdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShTdHJpbmcoY2xhbXBlZE51bSkpO1xyXG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUYWJsZSBvZiBjb250ZW50cyBkZXB0aCBzZXQgdG8gJHtjbGFtcGVkTnVtfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEZvb3RlciBlbmFibGVkXHJcblx0XHRnbG9iYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnRm9vdGVyJylcclxuXHRcdFx0XHQuc2V0RGVzYygnRW5hYmxlIGZvb3RlciBvbiB5b3VyIHNpdGUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmZvb3Rlcj8uZW5hYmxlZCA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmZvb3Rlcikge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZvb3RlciA9IHsgZW5hYmxlZDogdHJ1ZSwgY29udGVudDogJ1x1MDBBOSAyMDI1IHthdXRob3J9LiBCdWlsdCB3aXRoIHRoZSA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkdmtpbWJhbGwvYXN0cm8tbW9kdWxhclwiIHRhcmdldD1cIl9ibGFua1wiPkFzdHJvIE1vZHVsYXI8L2E+IHRoZW1lLicsIHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZm9vdGVyLmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGZvb3RlciBvcHRpb25zXHJcblx0XHRcdFx0XHRcdGNvbnN0IGZvb3RlckNvbnRlbnRTZXR0aW5nID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXItY29udGVudC1zZXR0aW5nJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGZvb3RlclNvY2lhbFNldHRpbmcgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvb3Rlci1zb2NpYWwtc2V0dGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRcdFx0XHRpZiAoZm9vdGVyQ29udGVudFNldHRpbmcpIHtcclxuXHRcdFx0XHRcdFx0XHRmb290ZXJDb250ZW50U2V0dGluZy5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoZm9vdGVyU29jaWFsU2V0dGluZykge1xyXG5cdFx0XHRcdFx0XHRcdGZvb3RlclNvY2lhbFNldHRpbmcuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGb290ZXIgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRm9vdGVyIGNvbnRlbnQgLSBhZGQgYXMgc2V0dGluZyB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdGdsb2JhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnZm9vdGVyLWNvbnRlbnQtc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmZvb3Rlcj8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnRm9vdGVyIGNvbnRlbnQnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdUZXh0IHRvIGRpc3BsYXkgaW4gZm9vdGVyLiBVc2Uge2F1dGhvcn0gZm9yIHNpdGUgYXV0aG9yIGFuZCB7dGl0bGV9IGZvciBzaXRlIHRpdGxlJyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBBcHBseSBzcGFjaW5nIGRpcmVjdGx5IHRvIGRlc2NyaXB0aW9uIGVsZW1lbnRcclxuXHRcdFx0Y29uc3QgZGVzY0VsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbicpO1xyXG5cdFx0XHRpZiAoZGVzY0VsKSB7XHJcblx0XHRcdFx0KGRlc2NFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0bWFyZ2luQm90dG9tOiAndmFyKC0tc2l6ZS00LTMpJ1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBDcmVhdGUgdGV4dGFyZWEgbWFudWFsbHkgZm9yIGZ1bGwtd2lkdGgsIG11bHRpLWxpbmUgaW5wdXRcclxuXHRcdFx0Y29uc3QgdGV4dGFyZWEgPSBzZXR0aW5nLmNvbnRyb2xFbC5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XHJcblx0XHRcdFx0YXR0cjoge1xyXG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI6ICdcdTAwQTkgMjAyNSB7YXV0aG9yfS4gQnVpbHQgd2l0aCB0aGUgQXN0cm8gTW9kdWxhciB0aGVtZS4nLFxyXG5cdFx0XHRcdFx0cm93czogJzMnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGV4dGFyZWEudmFsdWUgPSBzZXR0aW5ncy5mb290ZXI/LmNvbnRlbnQgfHwgJ1x1MDBBOSAyMDI1IHthdXRob3J9LiBCdWlsdCB3aXRoIHRoZSA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkdmtpbWJhbGwvYXN0cm8tbW9kdWxhclwiIHRhcmdldD1cIl9ibGFua1wiPkFzdHJvIE1vZHVsYXI8L2E+IHRoZW1lLic7XHJcblx0XHRcdFxyXG5cdFx0XHR0ZXh0YXJlYS5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcclxuXHRcdFx0XHRtaW5IZWlnaHQ6ICc4MHB4JyxcclxuXHRcdFx0XHRyZXNpemU6ICd2ZXJ0aWNhbCcsXHJcblx0XHRcdFx0Zm9udEZhbWlseTogJ3ZhcigtLWZvbnQtdGV4dCknLFxyXG5cdFx0XHRcdGZvbnRTaXplOiAndmFyKC0tZm9udC11aS1zbWFsbCknLFxyXG5cdFx0XHRcdHBhZGRpbmc6ICd2YXIoLS1zaXplLTQtMikgdmFyKC0tc2l6ZS00LTMpJyxcclxuXHRcdFx0XHRib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJyxcclxuXHRcdFx0XHRib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtcyknLFxyXG5cdFx0XHRcdGJhY2tncm91bmQ6ICd2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpJyxcclxuXHRcdFx0XHRjb2xvcjogJ3ZhcigtLXRleHQtbm9ybWFsKSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBQb3NpdGlvbiB0ZXh0YXJlYSBiZWxvdyBkZXNjcmlwdGlvbiAobm90IHRvIHRoZSByaWdodClcclxuXHRcdFx0c2V0dGluZy5jb250cm9sRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdHdpZHRoOiAnMTAwJScsXHJcblx0XHRcdFx0ZGlzcGxheTogJ2Jsb2NrJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cdFx0XHR0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFzZXR0aW5ncy5mb290ZXIpIHtcclxuXHRcdFx0XHRcdHNldHRpbmdzLmZvb3RlciA9IHsgZW5hYmxlZDogdHJ1ZSwgY29udGVudDogJycsIHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiB0cnVlIH07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNldHRpbmdzLmZvb3Rlci5jb250ZW50ID0gdGV4dGFyZWEudmFsdWU7XHJcblx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKCk7XHJcblx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTaG93IHNvY2lhbCBpY29ucyBpbiBmb290ZXIgLSBhZGQgYXMgc2V0dGluZyB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdGdsb2JhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnZm9vdGVyLXNvY2lhbC1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuZm9vdGVyPy5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTaG93IHNvY2lhbCBpY29ucyBpbiBmb290ZXInKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdEaXNwbGF5IHNvY2lhbCBtZWRpYSBpY29ucyBpbiB0aGUgZm9vdGVyJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5mb290ZXI/LnNob3dTb2NpYWxJY29uc0luRm9vdGVyID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuZm9vdGVyKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZm9vdGVyID0geyBlbmFibGVkOiB0cnVlLCBjb250ZW50OiAnXHUwMEE5IDIwMjUge2F1dGhvcn0uIEJ1aWx0IHdpdGggdGhlIDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyXCIgdGFyZ2V0PVwiX2JsYW5rXCI+QXN0cm8gTW9kdWxhcjwvYT4gdGhlbWUuJywgc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IHRydWUgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mb290ZXIuc2hvd1NvY2lhbEljb25zSW5Gb290ZXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFNvY2lhbCBpY29ucyBpbiBmb290ZXIgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gSGlkZSBzY3JvbGwgYmFyXHJcblx0XHRnbG9iYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnSGlkZSBzY3JvbGwgYmFyJylcclxuXHRcdFx0XHQuc2V0RGVzYygnSGlkZSB0aGUgYnJvd3NlciBzY3JvbGwgYmFyIGZvciBhIGNsZWFuZXIgbG9vaycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuZmVhdHVyZXM/LmhpZGVTY3JvbGxCYXIgPz8gZmFsc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmhpZGVTY3JvbGxCYXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEhpZGUgc2Nyb2xsIGJhciAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTY3JvbGwgdG8gdG9wXHJcblx0XHRnbG9iYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2Nyb2xsIHRvIHRvcCcpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgc2Nyb2xsIHRvIHRvcCBidXR0b24nKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmZlYXR1cmVzPy5zY3JvbGxUb1RvcCA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5zY3JvbGxUb1RvcCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgU2Nyb2xsIHRvIHRvcCAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBGZWF0dXJlIGJ1dHRvblxyXG5cdFx0Z2xvYmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0ZlYXR1cmUgYnV0dG9uJylcclxuXHRcdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHdoaWNoIGZlYXR1cmUgYnV0dG9uIGFwcGVhcnMgaW4gdGhlIGhlYWRlcicpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdtb2RlJywgJ0RhcmsvbGlnaHQgbW9kZSB0b2dnbGUnKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignZ3JhcGgnLCAnVmlldyBncmFwaCcpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCd0aGVtZScsICdDaGFuZ2UgdGhlbWUnKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignbm9uZScsICdOb25lJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5mZWF0dXJlcz8uZmVhdHVyZUJ1dHRvbiB8fCAnbW9kZScpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmZlYXR1cmVCdXR0b24gPSB2YWx1ZSBhcyAnbW9kZScgfCAnZ3JhcGgnIHwgJ3RoZW1lJyB8ICdub25lJztcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZlYXR1cmUgYnV0dG9uIHVwZGF0ZWQgdG8gXCIke3ZhbHVlfVwiIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ29tbWFuZCBQYWxldHRlIGdyb3VwIHdpdGggaGVhZGluZ1xyXG5cdFx0Y29uc3QgY29tbWFuZFBhbGV0dGVHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCAnQ29tbWFuZCBwYWxldHRlJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcclxuXHJcblx0XHQvLyBFbmFibGUgQ29tbWFuZCBQYWxldHRlXHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdFbmFibGUgY29tbWFuZCBwYWxldHRlJylcclxuXHRcdFx0XHQuc2V0RGVzYygnQWRkIGEgY29tbWFuZCBwYWxldHRlIHRvIHlvdXIgc2l0ZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdHNob3J0Y3V0OiAnY3RybCtLJyxcclxuXHRcdFx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyOiAnU2VhcmNoIHBvc3RzJyxcclxuXHRcdFx0XHRcdFx0XHRcdHNlYXJjaDogeyBwb3N0czogdHJ1ZSwgcGFnZXM6IGZhbHNlLCBwcm9qZWN0czogZmFsc2UsIGRvY3M6IGZhbHNlIH0sXHJcblx0XHRcdFx0XHRcdFx0XHRzZWN0aW9uczogeyBxdWlja0FjdGlvbnM6IHRydWUsIHBhZ2VzOiB0cnVlLCBzb2NpYWw6IHRydWUgfSxcclxuXHRcdFx0XHRcdFx0XHRcdHF1aWNrQWN0aW9uczogeyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH1cclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuY29tbWFuZFBhbGV0dGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHZpc2liaWxpdHkgb2YgYWxsIGNvbW1hbmQgcGFsZXR0ZSBvcHRpb25zXHJcblx0XHRcdFx0XHRcdGNvbnN0IGNwU2V0dGluZ3MgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmNwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdFx0XHRcdGNwU2V0dGluZ3MuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdFx0XHRcdFx0XHQoZWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogdmFsdWUgPyAnYmxvY2snIDogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBDb21tYW5kIHBhbGV0dGUgJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gU2hvcnRjdXQgLSBhZGQgd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2hvcnRjdXQnKVxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHQuc2V0RGVzYygnS2V5Ym9hcmQgc2hvcnRjdXQgdG8gb3BlbiBjb21tYW5kIHBhbGV0dGUgKEN0cmwgPSBDbWQgb24gTWFjKScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zaG9ydGN1dCB8fCAnY3RybCtLJyk7XHJcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHRcdFx0XHRcdHRleHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmNvbW1hbmRQYWxldHRlKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUgPSB7IGVuYWJsZWQ6IHRydWUsIHNob3J0Y3V0OiAnY3RybCtLJywgcGxhY2Vob2xkZXI6ICdTZWFyY2ggcG9zdHMnLCBzZWFyY2g6IHsgcG9zdHM6IHRydWUsIHBhZ2VzOiBmYWxzZSwgcHJvamVjdHM6IGZhbHNlLCBkb2NzOiBmYWxzZSB9LCBzZWN0aW9uczogeyBxdWlja0FjdGlvbnM6IHRydWUsIHBhZ2VzOiB0cnVlLCBzb2NpYWw6IHRydWUgfSwgcXVpY2tBY3Rpb25zOiB7IGVuYWJsZWQ6IHRydWUsIHRvZ2dsZU1vZGU6IHRydWUsIGdyYXBoVmlldzogdHJ1ZSwgY2hhbmdlVGhlbWU6IHRydWUgfSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNob3J0Y3V0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBQbGFjZWhvbGRlciAtIGFkZCB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdGNvbW1hbmRQYWxldHRlR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdjcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdQbGFjZWhvbGRlcicpXHJcblx0XHRcdFx0LnNldERlc2MoJ1BsYWNlaG9sZGVyIHRleHQgaW4gY29tbWFuZCBwYWxldHRlIHNlYXJjaCBib3gnKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8ucGxhY2Vob2xkZXIgfHwgJ1NlYXJjaCBwb3N0cycpO1xyXG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlID0geyBlbmFibGVkOiB0cnVlLCBzaG9ydGN1dDogJ2N0cmwrSycsIHBsYWNlaG9sZGVyOiAnU2VhcmNoIHBvc3RzJywgc2VhcmNoOiB7IHBvc3RzOiB0cnVlLCBwYWdlczogZmFsc2UsIHByb2plY3RzOiBmYWxzZSwgZG9jczogZmFsc2UgfSwgc2VjdGlvbnM6IHsgcXVpY2tBY3Rpb25zOiB0cnVlLCBwYWdlczogdHJ1ZSwgc29jaWFsOiB0cnVlIH0sIHF1aWNrQWN0aW9uczogeyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH0gfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gU2VhcmNoIGNvbnRlbnQgdHlwZXMgLSBhbGwgd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2VhcmNoIHBvc3RzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnSW5jbHVkZSBwb3N0cyBpbiBzZWFyY2ggcmVzdWx0cycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlYXJjaD8ucG9zdHMgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlID0geyBlbmFibGVkOiB0cnVlLCBzaG9ydGN1dDogJ2N0cmwrSycsIHBsYWNlaG9sZGVyOiAnU2VhcmNoIHBvc3RzJywgc2VhcmNoOiB7IHBvc3RzOiB0cnVlLCBwYWdlczogZmFsc2UsIHByb2plY3RzOiBmYWxzZSwgZG9jczogZmFsc2UgfSwgc2VjdGlvbnM6IHsgcXVpY2tBY3Rpb25zOiB0cnVlLCBwYWdlczogdHJ1ZSwgc29jaWFsOiB0cnVlIH0sIHF1aWNrQWN0aW9uczogeyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH0gfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaCkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaCA9IHsgcG9zdHM6IHRydWUsIHBhZ2VzOiBmYWxzZSwgcHJvamVjdHM6IGZhbHNlLCBkb2NzOiBmYWxzZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaC5wb3N0cyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbW1hbmRQYWxldHRlR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdjcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTZWFyY2ggcGFnZXMnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdJbmNsdWRlIHBhZ2VzIGluIHNlYXJjaCByZXN1bHRzJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VhcmNoPy5wYWdlcyA/PyBmYWxzZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VhcmNoKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoID0geyBwb3N0czogdHJ1ZSwgcGFnZXM6IGZhbHNlLCBwcm9qZWN0czogZmFsc2UsIGRvY3M6IGZhbHNlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLnBhZ2VzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1NlYXJjaCBwcm9qZWN0cycpXHJcblx0XHRcdFx0LnNldERlc2MoJ0luY2x1ZGUgcHJvamVjdHMgaW4gc2VhcmNoIHJlc3VsdHMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWFyY2g/LnByb2plY3RzID8/IGZhbHNlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWFyY2gpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2ggPSB7IHBvc3RzOiB0cnVlLCBwYWdlczogZmFsc2UsIHByb2plY3RzOiBmYWxzZSwgZG9jczogZmFsc2UgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gucHJvamVjdHMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2VhcmNoIGRvY3MnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdJbmNsdWRlIGRvY3MgaW4gc2VhcmNoIHJlc3VsdHMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWFyY2g/LmRvY3MgPz8gZmFsc2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlYXJjaCkge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaCA9IHsgcG9zdHM6IHRydWUsIHBhZ2VzOiBmYWxzZSwgcHJvamVjdHM6IGZhbHNlLCBkb2NzOiBmYWxzZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaC5kb2NzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ29tbWFuZCBwYWxldHRlIHNlY3Rpb25zIC0gYWxsIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Nob3cgcXVpY2sgYWN0aW9ucyBzZWN0aW9uJylcclxuXHRcdFx0XHQuc2V0RGVzYygnRGlzcGxheSBxdWljayBhY3Rpb25zIGluIGNvbW1hbmQgcGFsZXR0ZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlY3Rpb25zPy5xdWlja0FjdGlvbnMgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VjdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyA9IHsgcXVpY2tBY3Rpb25zOiB0cnVlLCBwYWdlczogdHJ1ZSwgc29jaWFsOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMucXVpY2tBY3Rpb25zID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIHF1aWNrIGFjdGlvbnMgb3B0aW9uc1xyXG5cdFx0XHRcdFx0XHRjb25zdCBxYVNldHRpbmdzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5xYS1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRcdFx0XHRxYVNldHRpbmdzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0KGVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFF1aWNrIGFjdGlvbnMgb3B0aW9ucyAtIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eSBiYXNlZCBvbiBib3RoIGVuYWJsZWQgYW5kIHF1aWNrQWN0aW9ucyBzZWN0aW9uXHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnLCAncWEtb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSAmJiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlY3Rpb25zPy5xdWlja0FjdGlvbnMgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1RvZ2dsZSBkYXJrL2xpZ2h0IG1vZGUnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IG1vZGUgdG9nZ2xlIGJ1dHRvbiBpbiBjb21tYW5kIHBhbGV0dGUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5xdWlja0FjdGlvbnM/LnRvZ2dsZU1vZGUgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8ucXVpY2tBY3Rpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zID0geyBlbmFibGVkOiB0cnVlLCB0b2dnbGVNb2RlOiB0cnVlLCBncmFwaFZpZXc6IHRydWUsIGNoYW5nZVRoZW1lOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zLnRvZ2dsZU1vZGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLnRvZ2dsZU1vZGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnLCAncWEtb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSAmJiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlY3Rpb25zPy5xdWlja0FjdGlvbnMgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1ZpZXcgZ3JhcGgnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IGdyYXBoIHZpZXcgYnV0dG9uIGluIGNvbW1hbmQgcGFsZXR0ZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnF1aWNrQWN0aW9ucz8uZ3JhcGhWaWV3ID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnF1aWNrQWN0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyA9IHsgZW5hYmxlZDogdHJ1ZSwgdG9nZ2xlTW9kZTogdHJ1ZSwgZ3JhcGhWaWV3OiB0cnVlLCBjaGFuZ2VUaGVtZTogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucy5ncmFwaFZpZXcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLmdyYXBoVmlldyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbW1hbmRQYWxldHRlR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdjcC1vcHRpb24tc2V0dGluZycsICdxYS1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5lbmFibGVkID8/IHRydWUpICYmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VjdGlvbnM/LnF1aWNrQWN0aW9ucyA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnQ2hhbmdlIHRoZW1lJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyB0aGVtZSBzZWxlY3RvciBidXR0b24gaW4gY29tbWFuZCBwYWxldHRlJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8ucXVpY2tBY3Rpb25zPy5jaGFuZ2VUaGVtZSA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5xdWlja0FjdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgPSB7IGVuYWJsZWQ6IHRydWUsIHRvZ2dsZU1vZGU6IHRydWUsIGdyYXBoVmlldzogdHJ1ZSwgY2hhbmdlVGhlbWU6IHRydWUgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMuY2hhbmdlVGhlbWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLmNoYW5nZVRoZW1lID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29tbWFuZFBhbGV0dGVHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Nob3cgcGFnZXMgc2VjdGlvbicpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgbmF2aWdhdGlvbiBwYWdlcyBpbiBjb21tYW5kIHBhbGV0dGUnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlPy5zZWN0aW9ucz8ucGFnZXMgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VjdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyA9IHsgcXVpY2tBY3Rpb25zOiB0cnVlLCBwYWdlczogdHJ1ZSwgc29jaWFsOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMucGFnZXMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb21tYW5kUGFsZXR0ZUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3Atb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2hvdyBzb2NpYWwgc2VjdGlvbicpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgc29jaWFsIGxpbmtzIGluIGNvbW1hbmQgcGFsZXR0ZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LnNlY3Rpb25zPy5zb2NpYWwgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8uc2VjdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyA9IHsgcXVpY2tBY3Rpb25zOiB0cnVlLCBwYWdlczogdHJ1ZSwgc29jaWFsOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMuc29jaWFsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gSG9tZSBPcHRpb25zIGdyb3VwIHdpdGggaGVhZGluZ1xyXG5cdFx0Y29uc3QgaG9tZU9wdGlvbnNHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCAnSG9tZSBvcHRpb25zJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcclxuXHJcblx0XHQvLyBGZWF0dXJlZCBQb3N0XHJcblx0XHRob21lT3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdGZWF0dXJlZCBwb3N0JylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyBmZWF0dXJlZCBwb3N0IG9uIGhvbWVwYWdlJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5ob21lT3B0aW9ucz8uZmVhdHVyZWRQb3N0Py5lbmFibGVkID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuaG9tZU9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdGZlYXR1cmVkUG9zdDogeyBlbmFibGVkOiB0cnVlLCB0eXBlOiAnbGF0ZXN0Jywgc2x1ZzogJ2dldHRpbmctc3RhcnRlZCcgfSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlY2VudFBvc3RzOiB7IGVuYWJsZWQ6IHRydWUsIGNvdW50OiA3IH0sXHJcblx0XHRcdFx0XHRcdFx0XHRwcm9qZWN0czogeyBlbmFibGVkOiB0cnVlLCBjb3VudDogMiB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0ZG9jczogeyBlbmFibGVkOiB0cnVlLCBjb3VudDogMyB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0Ymx1cmI6IHsgcGxhY2VtZW50OiAnYmVsb3cnIH1cclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0KSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0ID0geyBlbmFibGVkOiB0cnVlLCB0eXBlOiAnbGF0ZXN0Jywgc2x1ZzogJ2dldHRpbmctc3RhcnRlZCcgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QuZW5hYmxlZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHZpc2liaWxpdHkgb2YgZmVhdHVyZWQgcG9zdCBvcHRpb25zXHJcblx0XHRcdFx0XHRcdGNvbnN0IGZwU2V0dGluZ3MgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmZwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdFx0XHRcdGZwU2V0dGluZ3MuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdFx0XHRcdFx0XHQoZWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogdmFsdWUgPyAnYmxvY2snIDogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGZWF0dXJlZCBwb3N0ICR7dmFsdWUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSBhbmQgYXBwbGllZCB0byBjb25maWcudHNgKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEZlYXR1cmVkIFBvc3Qgb3B0aW9ucyAtIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2ZwLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmZlYXR1cmVkUG9zdD8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnRmVhdHVyZWQgcG9zdCB0eXBlJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyBsYXRlc3QgcG9zdCBvciBhIHNwZWNpZmljIGZlYXR1cmVkIHBvc3QnKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdsYXRlc3QnLCAnTGF0ZXN0JylcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignZmVhdHVyZWQnLCAnRmVhdHVyZWQnKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmZlYXR1cmVkUG9zdD8udHlwZSB8fCAnbGF0ZXN0JylcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmZlYXR1cmVkUG9zdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0ID0geyBlbmFibGVkOiB0cnVlLCB0eXBlOiAnbGF0ZXN0Jywgc2x1ZzogJ2dldHRpbmctc3RhcnRlZCcgfTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0LnR5cGUgPSB2YWx1ZSBhcyAnbGF0ZXN0JyB8ICdmZWF0dXJlZCc7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIHNsdWcgZmllbGRcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBmcFNsdWdTZXR0aW5nID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mcC1zbHVnLXNldHRpbmcnKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZnBTbHVnU2V0dGluZykge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZnBTbHVnU2V0dGluZy5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID09PSAnZmVhdHVyZWQnID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Ly8gQXBwbHkgd2lkdGggZGlyZWN0bHkgdG8gc2VsZWN0IGVsZW1lbnQgYWZ0ZXIgaXQncyBjcmVhdGVkXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3Qgc2VsZWN0RWwgPSBzZXR0aW5nLmNvbnRyb2xFbC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTtcclxuXHRcdFx0XHRcdFx0aWYgKHNlbGVjdEVsKSB7XHJcblx0XHRcdFx0XHRcdFx0c2VsZWN0RWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0XHRcdFx0d2lkdGg6ICcyMDBweCcsXHJcblx0XHRcdFx0XHRcdFx0XHRtaW5XaWR0aDogJzIwMHB4JyxcclxuXHRcdFx0XHRcdFx0XHRcdG1heFdpZHRoOiAnMjAwcHgnXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sIDApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRmVhdHVyZWQgcG9zdCBzbHVnIC0gd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRob21lT3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnZnAtb3B0aW9uLXNldHRpbmcnLCAnZnAtc2x1Zy1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmZlYXR1cmVkUG9zdD8uZW5hYmxlZCA/PyB0cnVlKSAmJiAoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmZlYXR1cmVkUG9zdD8udHlwZSA9PT0gJ2ZlYXR1cmVkJykgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0ZlYXR1cmVkIHBvc3Qgc2x1ZycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1NsdWcgb2YgdGhlIHBvc3QgdG8gZmVhdHVyZSAoZS5nLiwgXCJnZXR0aW5nLXN0YXJ0ZWRcIiBmb3IgL3Bvc3RzL2dldHRpbmctc3RhcnRlZCknKVxyXG5cdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiZ2V0dGluZy1zdGFydGVkXCIgaXMgYSBwbGFjZWhvbGRlciBleGFtcGxlLCBub3QgVUkgdGV4dFxyXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignZ2V0dGluZy1zdGFydGVkJyk7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLmhvbWVPcHRpb25zPy5mZWF0dXJlZFBvc3Q/LnNsdWcgfHwgJ2dldHRpbmctc3RhcnRlZCcpO1xyXG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5ob21lT3B0aW9ucz8uZmVhdHVyZWRQb3N0KSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0ID0geyBlbmFibGVkOiB0cnVlLCB0eXBlOiAnZmVhdHVyZWQnLCBzbHVnOiAnZ2V0dGluZy1zdGFydGVkJyB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdC5zbHVnID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHR0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdH0pKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUmVjZW50IFBvc3RzXHJcblx0XHRob21lT3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdSZWNlbnQgcG9zdHMnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IHJlY2VudCBwb3N0cyBvbiBob21lcGFnZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LnJlY2VudFBvc3RzPy5lbmFibGVkID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuaG9tZU9wdGlvbnM/LnJlY2VudFBvc3RzKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMucmVjZW50UG9zdHMgPSB7IGVuYWJsZWQ6IHRydWUsIGNvdW50OiA3IH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMucmVjZW50UG9zdHMuZW5hYmxlZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHZpc2liaWxpdHkgb2YgcmVjZW50IHBvc3RzIGNvdW50XHJcblx0XHRcdFx0XHRcdGNvbnN0IHJwQ291bnRTZXR0aW5nID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5ycC1jb3VudC1zZXR0aW5nJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdGlmIChycENvdW50U2V0dGluZykge1xyXG5cdFx0XHRcdFx0XHRcdHJwQ291bnRTZXR0aW5nLnNldENzc1Byb3BzKHsgZGlzcGxheTogdmFsdWUgPyAnYmxvY2snIDogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFJlY2VudCBQb3N0cyBjb3VudCAtIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ3JwLWNvdW50LXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5ob21lT3B0aW9ucz8ucmVjZW50UG9zdHM/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1JlY2VudCBwb3N0cyBjb3VudCcpXHJcblx0XHRcdFx0LnNldERlc2MoJ051bWJlciBvZiByZWNlbnQgcG9zdHMgdG8gc2hvdycpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCc3Jyk7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKFN0cmluZyhzZXR0aW5ncy5ob21lT3B0aW9ucz8ucmVjZW50UG9zdHM/LmNvdW50IHx8IDcpKTtcclxuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKSB8fCA3O1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmhvbWVPcHRpb25zPy5yZWNlbnRQb3N0cykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLnJlY2VudFBvc3RzID0geyBlbmFibGVkOiB0cnVlLCBjb3VudDogNyB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLnJlY2VudFBvc3RzLmNvdW50ID0gbnVtO1xyXG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0fSkoKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFByb2plY3RzXHJcblx0XHRob21lT3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdQcm9qZWN0cyBvbiBob21lcGFnZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgZmVhdHVyZWQgcHJvamVjdHMgb24gaG9tZXBhZ2UnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmhvbWVPcHRpb25zPy5wcm9qZWN0cz8uZW5hYmxlZCA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmhvbWVPcHRpb25zPy5wcm9qZWN0cykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzID0geyBlbmFibGVkOiB0cnVlLCBjb3VudDogMiB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzLmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHZpc2liaWxpdHkgb2YgcHJvamVjdHMgY291bnRcclxuXHRcdFx0XHRcdFx0Y29uc3QgcENvdW50U2V0dGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucC1jb3VudC1zZXR0aW5nJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdGlmIChwQ291bnRTZXR0aW5nKSB7XHJcblx0XHRcdFx0XHRcdFx0cENvdW50U2V0dGluZy5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBQcm9qZWN0cyBjb3VudCAtIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ3AtY291bnQtc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLmhvbWVPcHRpb25zPy5wcm9qZWN0cz8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUHJvamVjdHMgY291bnQnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdOdW1iZXIgb2YgcHJvamVjdHMgdG8gc2hvdycpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCcyJyk7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKFN0cmluZyhzZXR0aW5ncy5ob21lT3B0aW9ucz8ucHJvamVjdHM/LmNvdW50IHx8IDIpKTtcclxuXHRcdFx0XHRcdGxldCB0aW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cdFx0XHRcdFx0dGV4dC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKSB8fCAyO1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmhvbWVPcHRpb25zPy5wcm9qZWN0cykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzID0geyBlbmFibGVkOiB0cnVlLCBjb3VudDogMiB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzLmNvdW50ID0gbnVtO1xyXG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdH0pKCk7XHJcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRpbWVvdXRJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdH0pKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRG9jc1xyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnRG9jcyBvbiBob21lcGFnZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgZmVhdHVyZWQgZG9jcyBvbiBob21lcGFnZScpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmRvY3M/LmVuYWJsZWQgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5ob21lT3B0aW9ucz8uZG9jcykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmRvY3MgPSB7IGVuYWJsZWQ6IHRydWUsIGNvdW50OiAzIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuZG9jcy5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGRvY3MgY291bnRcclxuXHRcdFx0XHRcdFx0Y29uc3QgZENvdW50U2V0dGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZC1jb3VudC1zZXR0aW5nJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdGlmIChkQ291bnRTZXR0aW5nKSB7XHJcblx0XHRcdFx0XHRcdFx0ZENvdW50U2V0dGluZy5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBEb2NzIGNvdW50IC0gd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRob21lT3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnZC1jb3VudC1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiAoc2V0dGluZ3MuaG9tZU9wdGlvbnM/LmRvY3M/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0RvY3MgY291bnQnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdOdW1iZXIgb2YgZG9jcyB0byBzaG93JylcclxuXHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJzMnKTtcclxuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoU3RyaW5nKHNldHRpbmdzLmhvbWVPcHRpb25zPy5kb2NzPy5jb3VudCB8fCAzKSk7XHJcblx0XHRcdFx0XHRsZXQgdGltZW91dElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHRcdFx0XHRcdHRleHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSkgfHwgMztcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5ob21lT3B0aW9ucz8uZG9jcykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmhvbWVPcHRpb25zLmRvY3MgPSB7IGVuYWJsZWQ6IHRydWUsIGNvdW50OiAzIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuZG9jcy5jb3VudCA9IG51bTtcclxuXHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICh0aW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0XHR2b2lkIChhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEJsdXJiIHBsYWNlbWVudFxyXG5cdFx0aG9tZU9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnQmx1cmIgcGxhY2VtZW50JylcclxuXHRcdFx0XHQuc2V0RGVzYygnV2hlcmUgdG8gcGxhY2UgdGhlIGJsdXJiIHRleHQgb24gaG9tZXBhZ2UnKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdhYm92ZScsICdBYm92ZScpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ2JlbG93JywgJ0JlbG93JylcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignbm9uZScsICdOb25lJylcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmhvbWVPcHRpb25zPy5ibHVyYj8ucGxhY2VtZW50IHx8ICdiZWxvdycpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmhvbWVPcHRpb25zPy5ibHVyYikge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuaG9tZU9wdGlvbnMuYmx1cmIgPSB7IHBsYWNlbWVudDogJ2JlbG93JyB9O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5ob21lT3B0aW9ucy5ibHVyYi5wbGFjZW1lbnQgPSB2YWx1ZSBhcyAnYWJvdmUnIHwgJ2JlbG93JyB8ICdub25lJztcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Ly8gQXBwbHkgd2lkdGggZGlyZWN0bHkgdG8gc2VsZWN0IGVsZW1lbnQgYWZ0ZXIgaXQncyBjcmVhdGVkXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3Qgc2VsZWN0RWwgPSBzZXR0aW5nLmNvbnRyb2xFbC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTtcclxuXHRcdFx0XHRcdFx0aWYgKHNlbGVjdEVsKSB7XHJcblx0XHRcdFx0XHRcdFx0c2VsZWN0RWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdFx0XHRcdFx0d2lkdGg6ICcyMDBweCcsXHJcblx0XHRcdFx0XHRcdFx0XHRtaW5XaWR0aDogJzIwMHB4JyxcclxuXHRcdFx0XHRcdFx0XHRcdG1heFdpZHRoOiAnMjAwcHgnXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sIDApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUG9zdCBPcHRpb25zIGdyb3VwIHdpdGggaGVhZGluZ1xyXG5cdFx0Y29uc3QgcG9zdE9wdGlvbnNHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCAnUG9zdCBvcHRpb25zJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcclxuXHJcblx0XHQvLyBQb3N0cyBwZXIgcGFnZVxyXG5cdFx0cG9zdE9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUG9zdHMgcGVyIHBhZ2UnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdOdW1iZXIgb2YgcG9zdHMgdG8gc2hvdyBwZXIgcGFnZScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJzYnKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKFN0cmluZyhzZXR0aW5ncy5wb3N0T3B0aW9ucz8ucG9zdHNQZXJQYWdlIHx8IDYpKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSkgfHwgNjtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0cG9zdHNQZXJQYWdlOiA2LFxyXG5cdFx0XHRcdFx0XHRcdFx0cmVhZGluZ1RpbWU6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0XHR3b3JkQ291bnQ6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0XHR0YWdzOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0bGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0Z3JhcGhWaWV3OiB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdFx0XHRwb3N0TmF2aWdhdGlvbjogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJyxcclxuXHRcdFx0XHRcdFx0XHRcdHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsXHJcblx0XHRcdFx0XHRcdFx0XHRjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29tbWVudHM6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzIHx8IHsgZW5hYmxlZDogZmFsc2UsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJywgaW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5JyB9XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5wb3N0c1BlclBhZ2UgPSBudW07XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBSZWFkaW5nIHRpbWVcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1JlYWRpbmcgdGltZScpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgZXN0aW1hdGVkIHJlYWRpbmcgdGltZSBvbiBwb3N0cycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucG9zdE9wdGlvbnM/LnJlYWRpbmdUaW1lID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHsgcG9zdHNQZXJQYWdlOiA2LCByZWFkaW5nVGltZTogdHJ1ZSwgd29yZENvdW50OiB0cnVlLCB0YWdzOiB0cnVlLCBsaW5rZWRNZW50aW9uczogeyBlbmFibGVkOiB0cnVlLCBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlIH0sIGdyYXBoVmlldzogeyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9LCBwb3N0TmF2aWdhdGlvbjogdHJ1ZSwgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLCBjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBjb21tZW50czogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwgeyBlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByZXBvOiAnJywgcmVwb0lkOiAnJywgY2F0ZWdvcnk6ICcnLCBjYXRlZ29yeUlkOiAnJywgbWFwcGluZzogJ3BhdGhuYW1lJywgc3RyaWN0OiAnMCcsIHJlYWN0aW9uczogJzEnLCBtZXRhZGF0YTogJzAnLCBpbnB1dFBvc2l0aW9uOiAnYm90dG9tJywgdGhlbWU6ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJywgbGFuZzogJ2VuJywgbG9hZGluZzogJ2xhenknIH0gfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5yZWFkaW5nVGltZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5yZWFkaW5nVGltZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFdvcmQgY291bnRcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdC5zZXROYW1lKCdXb3JkIGNvdW50JylcclxuXHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgd29yZCBjb3VudCBvbiBwb3N0cycpXHJcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5wb3N0T3B0aW9ucz8ud29yZENvdW50ID8/IHRydWUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHsgcG9zdHNQZXJQYWdlOiA2LCByZWFkaW5nVGltZTogdHJ1ZSwgd29yZENvdW50OiB0cnVlLCB0YWdzOiB0cnVlLCBsaW5rZWRNZW50aW9uczogeyBlbmFibGVkOiB0cnVlLCBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlIH0sIGdyYXBoVmlldzogeyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9LCBwb3N0TmF2aWdhdGlvbjogdHJ1ZSwgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLCBjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBjb21tZW50czogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwgeyBlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByZXBvOiAnJywgcmVwb0lkOiAnJywgY2F0ZWdvcnk6ICcnLCBjYXRlZ29yeUlkOiAnJywgbWFwcGluZzogJ3BhdGhuYW1lJywgc3RyaWN0OiAnMCcsIHJlYWN0aW9uczogJzEnLCBtZXRhZGF0YTogJzAnLCBpbnB1dFBvc2l0aW9uOiAnYm90dG9tJywgdGhlbWU6ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJywgbGFuZzogJ2VuJywgbG9hZGluZzogJ2xhenknIH0gfTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy53b3JkQ291bnQgPSB2YWx1ZTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0Ly8gUmVsb2FkIHNldHRpbmdzIHRvIGVuc3VyZSB0aGUgcGx1Z2luIGhhcyB0aGUgbGF0ZXN0IHZhbHVlc1xyXG5cdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblxyXG5cdFx0Ly8gVGFnc1xyXG5cdFx0cG9zdE9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnVGFncycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgdGFncyBvbiBwb3N0cycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucG9zdE9wdGlvbnM/LnRhZ3MgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0geyBwb3N0c1BlclBhZ2U6IDYsIHJlYWRpbmdUaW1lOiB0cnVlLCB3b3JkQ291bnQ6IHRydWUsIHRhZ3M6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfSwgZ3JhcGhWaWV3OiB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH0sIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIGNvbW1lbnRzOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cyB8fCB7IGVuYWJsZWQ6IGZhbHNlLCBwcm92aWRlcjogJ2dpc2N1cycsIHJlcG86ICcnLCByZXBvSWQ6ICcnLCBjYXRlZ29yeTogJycsIGNhdGVnb3J5SWQ6ICcnLCBtYXBwaW5nOiAncGF0aG5hbWUnLCBzdHJpY3Q6ICcwJywgcmVhY3Rpb25zOiAnMScsIG1ldGFkYXRhOiAnMCcsIGlucHV0UG9zaXRpb246ICdib3R0b20nLCB0aGVtZTogJ3ByZWZlcnJlZF9jb2xvcl9zY2hlbWUnLCBsYW5nOiAnZW4nLCBsb2FkaW5nOiAnbGF6eScgfSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLnRhZ3MgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBMaW5rZWQgTWVudGlvbnNcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0xpbmtlZCBtZW50aW9ucycpXHJcblx0XHRcdFx0LnNldERlc2MoJ1Nob3cgbGlua2VkIG1lbnRpb25zIGFuZCBiYWNrbGlua3Mgb24gcG9zdHMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnBvc3RPcHRpb25zPy5saW5rZWRNZW50aW9ucz8uZW5hYmxlZCA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zPy5saW5rZWRNZW50aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zID0geyBlbmFibGVkOiB0cnVlLCBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMuZW5hYmxlZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5saW5rZWRNZW50aW9ucyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHZpc2liaWxpdHkgb2YgY29tcGFjdCB2aWV3IHNldHRpbmdcclxuXHRcdFx0XHRcdFx0Y29uc3QgbG1Db21wYWN0U2V0dGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubG0tY29tcGFjdC1zZXR0aW5nJykgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdGlmIChsbUNvbXBhY3RTZXR0aW5nKSB7XHJcblx0XHRcdFx0XHRcdFx0bG1Db21wYWN0U2V0dGluZy5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBMaW5rZWQgTWVudGlvbnMgQ29tcGFjdCAtIHdpdGggY29uZGl0aW9uYWwgdmlzaWJpbGl0eVxyXG5cdFx0cG9zdE9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2xtLWNvbXBhY3Qtc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLnBvc3RPcHRpb25zPy5saW5rZWRNZW50aW9ucz8uZW5hYmxlZCA/PyB0cnVlKSA/ICdibG9jaycgOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnQ29tcGFjdCB2aWV3JylcclxuXHRcdFx0XHQuc2V0RGVzYygnVXNlIGNvbXBhY3QgdmlldyBmb3IgbGlua2VkIG1lbnRpb25zJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5wb3N0T3B0aW9ucz8ubGlua2VkTWVudGlvbnM/LmxpbmtlZE1lbnRpb25zQ29tcGFjdCA/PyBmYWxzZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucz8ubGlua2VkTWVudGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyA9IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zLmxpbmtlZE1lbnRpb25zQ29tcGFjdCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEdyYXBoIHZpZXdcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ0dyYXBoIHZpZXcnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IGdyYXBoIHZpZXcgb2YgcG9zdCBjb25uZWN0aW9ucycpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldz8uZW5hYmxlZCA/PyB0cnVlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXcpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcgPSB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuZ3JhcGhWaWV3ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdmlzaWJpbGl0eSBvZiBncmFwaCB2aWV3IG9wdGlvbnNcclxuXHRcdFx0XHRcdFx0Y29uc3QgZ3ZTZXR0aW5ncyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZ3Ytb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0XHRcdFx0Z3ZTZXR0aW5ncy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdChlbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA/ICdibG9jaycgOiAnbm9uZScgfSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBHcmFwaCBWaWV3IG9wdGlvbnMgLSB3aXRoIGNvbmRpdGlvbmFsIHZpc2liaWxpdHlcclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdndi1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogKHNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXc/LmVuYWJsZWQgPz8gdHJ1ZSkgPyAnYmxvY2snIDogJ25vbmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Nob3cgaW4gc2lkZWJhcicpXHJcblx0XHRcdFx0LnNldERlc2MoJ0Rpc3BsYXkgZ3JhcGggdmlldyBpbiBwb3N0IHNpZGViYXInKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXc/LnNob3dJblNpZGViYXIgPz8gdHJ1ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3ID0geyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5zaG93SW5TaWRlYmFyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnZ3Ytb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3Py5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdNYXhpbXVtIG5vZGVzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnTWF4aW11bSBudW1iZXIgb2Ygbm9kZXMgdG8gc2hvdyBpbiBncmFwaCcpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJzEwMCcpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoU3RyaW5nKHNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXc/Lm1heE5vZGVzIHx8IDEwMCkpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKSB8fCAxMDA7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldyA9IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcubWF4Tm9kZXMgPSBudW07XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnZ3Ytb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5wb3N0T3B0aW9ucz8uZ3JhcGhWaWV3Py5lbmFibGVkID8/IHRydWUpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdTaG93IG9ycGhhbmVkIHBvc3RzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnSW5jbHVkZSBwb3N0cyB3aXRoIG5vIGNvbm5lY3Rpb25zIGluIGdyYXBoIHZpZXcnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXc/LnNob3dPcnBoYW5lZFBvc3RzID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldyA9IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuc2hvd09ycGhhbmVkUG9zdHMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFBvc3QgbmF2aWdhdGlvblxyXG5cdFx0cG9zdE9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnUG9zdCBuYXZpZ2F0aW9uJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2hvdyBuZXh0L3ByZXZpb3VzIHBvc3QgbmF2aWdhdGlvbicpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MucG9zdE9wdGlvbnM/LnBvc3ROYXZpZ2F0aW9uID8/IHRydWUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHsgcG9zdHNQZXJQYWdlOiA2LCByZWFkaW5nVGltZTogdHJ1ZSwgd29yZENvdW50OiB0cnVlLCB0YWdzOiB0cnVlLCBsaW5rZWRNZW50aW9uczogeyBlbmFibGVkOiB0cnVlLCBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlIH0sIGdyYXBoVmlldzogeyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9LCBwb3N0TmF2aWdhdGlvbjogdHJ1ZSwgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLCBjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBjb21tZW50czogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwgeyBlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByZXBvOiAnJywgcmVwb0lkOiAnJywgY2F0ZWdvcnk6ICcnLCBjYXRlZ29yeUlkOiAnJywgbWFwcGluZzogJ3BhdGhuYW1lJywgc3RyaWN0OiAnMCcsIHJlYWN0aW9uczogJzEnLCBtZXRhZGF0YTogJzAnLCBpbnB1dFBvc2l0aW9uOiAnYm90dG9tJywgdGhlbWU6ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJywgbGFuZzogJ2VuJywgbG9hZGluZzogJ2xhenknIH0gfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5wb3N0TmF2aWdhdGlvbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5wb3N0TmF2aWdhdGlvbiA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFNob3cgcG9zdCBjYXJkIGNvdmVyIGltYWdlc1xyXG5cdFx0cG9zdE9wdGlvbnNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZSgnU2hvdyBwb3N0IGNhcmQgY292ZXIgaW1hZ2VzJylcclxuXHRcdFx0XHQuc2V0RGVzYygnV2hlcmUgdG8gZGlzcGxheSBjb3ZlciBpbWFnZXMgb24gcG9zdCBjYXJkcycpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcclxuXHRcdFx0XHRcdGRyb3Bkb3duXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ2FsbCcsICdBbGwnKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdmZWF0dXJlZCcsICdGZWF0dXJlZCcpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ2hvbWUnLCAnSG9tZScpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ3Bvc3RzJywgJ1Bvc3RzJylcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignZmVhdHVyZWQtYW5kLXBvc3RzJywgJ0ZlYXR1cmVkIGFuZCBwb3N0cycpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ25vbmUnLCAnTm9uZScpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5wb3N0T3B0aW9ucz8uc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXMgfHwgJ2ZlYXR1cmVkLWFuZC1wb3N0cycpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucyA9IHsgcG9zdHNQZXJQYWdlOiA2LCByZWFkaW5nVGltZTogdHJ1ZSwgd29yZENvdW50OiB0cnVlLCB0YWdzOiB0cnVlLCBsaW5rZWRNZW50aW9uczogeyBlbmFibGVkOiB0cnVlLCBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlIH0sIGdyYXBoVmlldzogeyBlbmFibGVkOiB0cnVlLCBzaG93SW5TaWRlYmFyOiB0cnVlLCBtYXhOb2RlczogMTAwLCBzaG93T3JwaGFuZWRQb3N0czogdHJ1ZSB9LCBwb3N0TmF2aWdhdGlvbjogdHJ1ZSwgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLCBwb3N0Q2FyZEFzcGVjdFJhdGlvOiAnb2cnLCBjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLCBjb21tZW50czogc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwgeyBlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByZXBvOiAnJywgcmVwb0lkOiAnJywgY2F0ZWdvcnk6ICcnLCBjYXRlZ29yeUlkOiAnJywgbWFwcGluZzogJ3BhdGhuYW1lJywgc3RyaWN0OiAnMCcsIHJlYWN0aW9uczogJzEnLCBtZXRhZGF0YTogJzAnLCBpbnB1dFBvc2l0aW9uOiAnYm90dG9tJywgdGhlbWU6ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJywgbGFuZzogJ2VuJywgbG9hZGluZzogJ2xhenknIH0gfTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXMgPSB2YWx1ZSBhcyAnYWxsJyB8ICdmZWF0dXJlZCcgfCAnaG9tZScgfCAncG9zdHMnIHwgJ2ZlYXR1cmVkLWFuZC1wb3N0cycgfCAnbm9uZSc7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXMgPSB2YWx1ZSBhcyAnYWxsJyB8ICdmZWF0dXJlZCcgfCAnaG9tZScgfCAncG9zdHMnIHwgJ2ZlYXR1cmVkLWFuZC1wb3N0cycgfCAnbm9uZSc7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdC8vIEFwcGx5IHdpZHRoIGRpcmVjdGx5IHRvIHNlbGVjdCBlbGVtZW50IGFmdGVyIGl0J3MgY3JlYXRlZFxyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdEVsID0gc2V0dGluZy5jb250cm9sRWwucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7XHJcblx0XHRcdFx0XHRcdGlmIChzZWxlY3RFbCkge1xyXG5cdFx0XHRcdFx0XHRcdHNlbGVjdEVsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAnMjAwcHgnLFxyXG5cdFx0XHRcdFx0XHRcdFx0bWluV2lkdGg6ICcyMDBweCcsXHJcblx0XHRcdFx0XHRcdFx0XHRtYXhXaWR0aDogJzIwMHB4J1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCAwKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFBvc3QgY2FyZCBhc3BlY3QgcmF0aW9cclxuXHRcdHBvc3RPcHRpb25zR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Bvc3QgY2FyZCBhc3BlY3QgcmF0aW8nKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdBc3BlY3QgcmF0aW8gZm9yIHBvc3QgY2FyZCBjb3ZlciBpbWFnZXMnKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCcxNjo5JywgJzE2OjknKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCc0OjMnLCAnNDozJylcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignMzoyJywgJzM6MicpXHJcblx0XHRcdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIk9wZW4gR3JhcGhcIiBpcyBhIHByb3BlciBub3VuIChPRyBmb3JtYXQgc3RhbmRhcmQpXHJcblx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignb2cnLCAnT3BlbiBHcmFwaCcpXHJcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oJ3NxdWFyZScsICdTcXVhcmUnKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKCdnb2xkZW4nLCAnR29sZGVuJylcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbignY3VzdG9tJywgJ0N1c3RvbScpXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5wb3N0T3B0aW9ucz8ucG9zdENhcmRBc3BlY3RSYXRpbyB8fCAnb2cnKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7IHBvc3RzUGVyUGFnZTogNiwgcmVhZGluZ1RpbWU6IHRydWUsIHdvcmRDb3VudDogdHJ1ZSwgdGFnczogdHJ1ZSwgbGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LCBncmFwaFZpZXc6IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfSwgcG9zdE5hdmlnYXRpb246IHRydWUsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJywgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgY29tbWVudHM6IHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzIHx8IHsgZW5hYmxlZDogZmFsc2UsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJywgaW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5JyB9IH07XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLnBvc3RDYXJkQXNwZWN0UmF0aW8gPSB2YWx1ZSBhcyAnb2cnIHwgJzE2OjknIHwgJzQ6MycgfCAnMzoyJyB8ICdzcXVhcmUnIHwgJ2dvbGRlbicgfCAnY3VzdG9tJztcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5wb3N0Q2FyZEFzcGVjdFJhdGlvID0gdmFsdWUgYXMgJ29nJyB8ICcxNjo5JyB8ICc0OjMnIHwgJzM6MicgfCAnc3F1YXJlJyB8ICdnb2xkZW4nIHwgJ2N1c3RvbSc7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIGN1c3RvbSBhc3BlY3QgcmF0aW8gc2V0dGluZ1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGN1c3RvbUFSU2V0dGluZyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLWFyLXNldHRpbmcnKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRcdFx0XHRpZiAoY3VzdG9tQVJTZXR0aW5nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjdXN0b21BUlNldHRpbmcuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiB2YWx1ZSA9PT0gJ2N1c3RvbScgPyAnYmxvY2snIDogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQvLyBBcHBseSB3aWR0aCBkaXJlY3RseSB0byBzZWxlY3QgZWxlbWVudCBhZnRlciBpdCdzIGNyZWF0ZWRcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3RFbCA9IHNldHRpbmcuY29udHJvbEVsLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xyXG5cdFx0XHRcdFx0XHRpZiAoc2VsZWN0RWwpIHtcclxuXHRcdFx0XHRcdFx0XHRzZWxlY3RFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0XHRcdFx0XHR3aWR0aDogJzIwMHB4JyxcclxuXHRcdFx0XHRcdFx0XHRcdG1pbldpZHRoOiAnMjAwcHgnLFxyXG5cdFx0XHRcdFx0XHRcdFx0bWF4V2lkdGg6ICcyMDBweCdcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgMCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDdXN0b20gYXNwZWN0IHJhdGlvIC0gd2l0aCBjb25kaXRpb25hbCB2aXNpYmlsaXR5XHJcblx0XHRwb3N0T3B0aW9uc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuY2xhc3NMaXN0LmFkZCgnY3VzdG9tLWFyLXNldHRpbmcnKTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGRpc3BsYXk6IChzZXR0aW5ncy5wb3N0T3B0aW9ucz8ucG9zdENhcmRBc3BlY3RSYXRpbyA9PT0gJ2N1c3RvbScpID8gJ2Jsb2NrJyA6ICdub25lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdDdXN0b20gYXNwZWN0IHJhdGlvJylcclxuXHRcdFx0XHQuc2V0RGVzYygnQ3VzdG9tIGFzcGVjdCByYXRpbyBpbiBmb3JtYXQgXCJ3aWR0aC9oZWlnaHRcIiAoZS5nLiwgXCIyLjUvMVwiKScpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKHNldHRpbmdzLnBvc3RPcHRpb25zPy5jdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvIHx8ICcyLjUvMScpO1xyXG5cdFx0XHRcdFx0bGV0IHRpbWVvdXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcblx0XHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5wb3N0T3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0geyBwb3N0c1BlclBhZ2U6IDYsIHJlYWRpbmdUaW1lOiB0cnVlLCB3b3JkQ291bnQ6IHRydWUsIHRhZ3M6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfSwgZ3JhcGhWaWV3OiB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH0sIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIGNvbW1lbnRzOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cyB8fCB7IGVuYWJsZWQ6IGZhbHNlLCBwcm92aWRlcjogJ2dpc2N1cycsIHJlcG86ICcnLCByZXBvSWQ6ICcnLCBjYXRlZ29yeTogJycsIGNhdGVnb3J5SWQ6ICcnLCBtYXBwaW5nOiAncGF0aG5hbWUnLCBzdHJpY3Q6ICcwJywgcmVhY3Rpb25zOiAnMScsIG1ldGFkYXRhOiAnMCcsIGlucHV0UG9zaXRpb246ICdib3R0b20nLCB0aGVtZTogJ3ByZWZlcnJlZF9jb2xvcl9zY2hlbWUnLCBsYW5nOiAnZW4nLCBsb2FkaW5nOiAnbGF6eScgfSB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW8gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0dGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0fSkoKTtcclxuXHRcdFx0XHRcdFx0fSwgMTAwMCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gT3B0aW9uYWwgRmVhdHVyZXMgZ3JvdXAgd2l0aCBoZWFkaW5nXHJcblx0XHRjb25zdCBvcHRpb25hbEZlYXR1cmVzR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lciwgJ09wdGlvbmFsIGZlYXR1cmVzJywgJ2FzdHJvLW1vZHVsYXItc2V0dGluZ3MnKTtcclxuXHJcblx0XHQvLyBQcm9maWxlIFBpY3R1cmUgKGtlZXAgZXhpc3RpbmcgaW1wbGVtZW50YXRpb24pXHJcblx0XHR0aGlzLnJlbmRlclByb2ZpbGVQaWN0dXJlU2V0dGluZyhvcHRpb25hbEZlYXR1cmVzR3JvdXAsIHNldHRpbmdzKTtcclxuXHJcblx0XHQvLyBQb3N0IENvbW1lbnRzIChrZWVwIGV4aXN0aW5nIGltcGxlbWVudGF0aW9uLCB1cGRhdGUgdGl0bGUpXHJcblx0XHR0aGlzLnJlbmRlckNvbW1lbnRzU2V0dGluZyhvcHRpb25hbEZlYXR1cmVzR3JvdXAsIHNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVuZGVyUHJvZmlsZVBpY3R1cmVTZXR0aW5nKGdyb3VwOiBTZXR0aW5nc0NvbnRhaW5lciwgc2V0dGluZ3M6IEFzdHJvTW9kdWxhclNldHRpbmdzKTogdm9pZCB7XHJcblx0XHRjb25zdCBpc0VuYWJsZWQgPSBzZXR0aW5ncy5mZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmUgfHwgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LmVuYWJsZWQ7XHJcblx0XHRjb25zdCBwcm9maWxlU2V0dGluZ3M6IFByb2ZpbGVQaWN0dXJlU2V0dGluZ3MgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5wcm9maWxlUGljdHVyZSB8fCB7XHJcblx0XHRcdGVuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRpbWFnZTogJy9wcm9maWxlLmpwZycsXHJcblx0XHRcdGFsdDogJ1Byb2ZpbGUgcGljdHVyZScsXHJcblx0XHRcdHNpemU6ICdtZCcsXHJcblx0XHRcdHVybDogJycsXHJcblx0XHRcdHBsYWNlbWVudDogJ2Zvb3RlcicsXHJcblx0XHRcdHN0eWxlOiAnY2lyY2xlJyxcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gTWFpbiB0b2dnbGVcclxuXHRcdGdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKCdQcm9maWxlIHBpY3R1cmUnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdTaG93IHByb2ZpbGUgcGljdHVyZSBpbiBoZWFkZXIgb3IgZm9vdGVyJylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShpc0VuYWJsZWQpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMgPSB7IHByb2ZpbGVQaWN0dXJlOiBwcm9maWxlU2V0dGluZ3MsIGNvbW1lbnRzOiBzZXR0aW5ncy5wb3N0T3B0aW9ucz8uY29tbWVudHMgfHwgeyBlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByZXBvOiAnJywgcmVwb0lkOiAnJywgY2F0ZWdvcnk6ICcnLCBjYXRlZ29yeUlkOiAnJywgbWFwcGluZzogJ3BhdGhuYW1lJywgc3RyaWN0OiAnMCcsIHJlYWN0aW9uczogJzEnLCBtZXRhZGF0YTogJzAnLCBpbnB1dFBvc2l0aW9uOiAnYm90dG9tJywgdGhlbWU6ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJywgbGFuZzogJ2VuJywgbG9hZGluZzogJ2xhenknIH0gfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB2aXNpYmlsaXR5IG9mIHByb2ZpbGUgcGljdHVyZSBvcHRpb25zXHJcblx0XHRcdFx0XHRcdGNvbnN0IHBwU2V0dGluZ3MgPSBzZXR0aW5nLnNldHRpbmdFbC5wYXJlbnRFbGVtZW50Py5xdWVyeVNlbGVjdG9yQWxsKCcucHAtb3B0aW9uLXNldHRpbmcnKTtcclxuXHRcdFx0XHRcdFx0aWYgKHBwU2V0dGluZ3MpIHtcclxuXHRcdFx0XHRcdFx0XHRwcFNldHRpbmdzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHQoZWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogdmFsdWUgPyAnYmxvY2snIDogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFByb2ZpbGUgcGljdHVyZSAke3ZhbHVlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30gYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGFwcGx5IHByb2ZpbGUgcGljdHVyZSB0byBjb25maWcudHM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBEZXRhaWxlZCBvcHRpb25zIC0gYWRkIGFzIGN1c3RvbSBzZXR0aW5nIHdpdGhpbiBncm91cFxyXG5cdFx0Z3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5jbGFzc0xpc3QuYWRkKCdwcC1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRzZXR0aW5nLnNldHRpbmdFbC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0ZGlzcGxheTogaXNFbmFibGVkID8gJ2Jsb2NrJyA6ICdub25lJyxcclxuXHRcdFx0XHRtYXJnaW5Ub3A6ICcxMHB4J1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEhpZGUgZGVmYXVsdCBVSSBlbGVtZW50cyBhbmQgYWRkIGN1c3RvbSBjb250YWluZXJcclxuXHRcdFx0Y29uc3QgbmFtZUVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1uYW1lJyk7XHJcblx0XHRcdGNvbnN0IGRlc2NFbCA9IHNldHRpbmcuc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nKTtcclxuXHRcdFx0Y29uc3QgY29udHJvbEVsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1jb250cm9sJyk7XHJcblx0XHRcdGlmIChuYW1lRWwpIChuYW1lRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRpZiAoZGVzY0VsKSAoZGVzY0VsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdFx0aWYgKGNvbnRyb2xFbCkgKGNvbnRyb2xFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRib3JkZXJUb3A6ICdub25lJyxcclxuXHRcdFx0XHRwYWRkaW5nVG9wOiAnMCcsXHJcblx0XHRcdFx0cGFkZGluZ0JvdHRvbTogJzAnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3Qgb3B0aW9uc0NvbnRhaW5lciA9IHNldHRpbmcuc2V0dGluZ0VsLmNyZWF0ZURpdigncHJvZmlsZS1waWN0dXJlLW9wdGlvbnMnKTtcclxuXHJcblx0XHRcdC8vIENyZWF0ZSB0d28tY29sdW1uIGdyaWQgZm9yIG9wdGlvbnNcclxuXHRcdFx0Y29uc3Qgb3B0aW9uc0dyaWQgPSBvcHRpb25zQ29udGFpbmVyLmNyZWF0ZURpdignb3B0aW9ucy1ncmlkJyk7XHJcblx0XHRvcHRpb25zR3JpZC5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdGRpc3BsYXk6ICdncmlkJyxcclxuXHRcdFx0Z3JpZFRlbXBsYXRlQ29sdW1uczogJzFmciAxZnInLFxyXG5cdFx0XHRnYXA6ICcxMHB4JyxcclxuXHRcdFx0bWFyZ2luVG9wOiAnMTBweCdcclxuXHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gSW1hZ2UgcGF0aCBzZXR0aW5nXHJcblx0XHRcdHRoaXMuY3JlYXRlVGV4dFNldHRpbmcoXHJcblx0XHRcdFx0b3B0aW9uc0dyaWQsXHJcblx0XHRcdFx0J0ltYWdlIHBhdGgnLFxyXG5cdFx0XHRcdCdQYXRoIHRvIHRoZSBwcm9maWxlIHBpY3R1cmUgaW1hZ2UgKGluIHRoZSBwdWJsaWMgZm9sZGVyKScsXHJcblx0XHRcdFx0cHJvZmlsZVNldHRpbmdzLmltYWdlLFxyXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0cHJvZmlsZVNldHRpbmdzLmltYWdlID0gdmFsdWU7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQxMDAwLFxyXG5cdFx0XHRcdGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQnL3Byb2ZpbGUuanBnJ1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gQWx0IHRleHQgc2V0dGluZ1xyXG5cdFx0XHR0aGlzLmNyZWF0ZVRleHRTZXR0aW5nKFxyXG5cdFx0XHRcdG9wdGlvbnNHcmlkLFxyXG5cdFx0XHRcdCdBbHQgdGV4dCcsXHJcblx0XHRcdFx0J0FsdGVybmF0aXZlIHRleHQgZm9yIHRoZSBwcm9maWxlIHBpY3R1cmUnLFxyXG5cdFx0XHRcdHByb2ZpbGVTZXR0aW5ncy5hbHQsXHJcblx0XHRcdFx0KHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRwcm9maWxlU2V0dGluZ3MuYWx0ID0gdmFsdWU7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQxMDAwLFxyXG5cdFx0XHRcdGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQnUHJvZmlsZSBwaWN0dXJlJ1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gU2l6ZSBzZXR0aW5nXHJcblx0XHRcdG5ldyBTZXR0aW5nKG9wdGlvbnNHcmlkKVxyXG5cdFx0XHRcdC5zZXROYW1lKCdTaXplJylcclxuXHRcdFx0XHQuc2V0RGVzYygnU2l6ZSBvZiB0aGUgcHJvZmlsZSBwaWN0dXJlJylcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ3NtJywgJ1NtYWxsJylcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ21kJywgJ01lZGl1bScpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdsZycsICdMYXJnZScpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUocHJvZmlsZVNldHRpbmdzLnNpemUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHByb2ZpbGVTZXR0aW5ncy5zaXplID0gdmFsdWUgYXMgJ3NtJyB8ICdtZCcgfCAnbGcnO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdC8vIFVSTCBzZXR0aW5nXHJcblx0XHRcdHRoaXMuY3JlYXRlVGV4dFNldHRpbmcoXHJcblx0XHRcdFx0b3B0aW9uc0dyaWQsXHJcblx0XHRcdFx0J1VSTCAob3B0aW9uYWwpJyxcclxuXHRcdFx0XHQnT3B0aW9uYWwgVVJMIHRvIGxpbmsgdGhlIHByb2ZpbGUgcGljdHVyZSB0bycsXHJcblx0XHRcdFx0cHJvZmlsZVNldHRpbmdzLnVybCB8fCAnJyxcclxuXHRcdFx0XHQodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHByb2ZpbGVTZXR0aW5ncy51cmwgPSB2YWx1ZTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdDEwMDAsXHJcblx0XHRcdFx0YXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdCcvYWJvdXQnXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBQbGFjZW1lbnQgc2V0dGluZ1xyXG5cdFx0XHRuZXcgU2V0dGluZyhvcHRpb25zR3JpZClcclxuXHRcdFx0XHQuc2V0TmFtZSgnUGxhY2VtZW50JylcclxuXHRcdFx0XHQuc2V0RGVzYygnV2hlcmUgdG8gc2hvdyB0aGUgcHJvZmlsZSBwaWN0dXJlJylcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ2Zvb3RlcicsICdGb290ZXInKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignaGVhZGVyJywgJ0hlYWRlcicpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUocHJvZmlsZVNldHRpbmdzLnBsYWNlbWVudClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0cHJvZmlsZVNldHRpbmdzLnBsYWNlbWVudCA9IHZhbHVlIGFzICdmb290ZXInIHwgJ2hlYWRlcic7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0Ly8gU3R5bGUgc2V0dGluZ1xyXG5cdFx0XHRuZXcgU2V0dGluZyhvcHRpb25zR3JpZClcclxuXHRcdFx0XHQuc2V0TmFtZSgnU3R5bGUnKVxyXG5cdFx0XHRcdC5zZXREZXNjKCdWaXN1YWwgc3R5bGUgb2YgdGhlIHByb2ZpbGUgcGljdHVyZScpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdjaXJjbGUnLCAnQ2lyY2xlJylcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ3NxdWFyZScsICdTcXVhcmUnKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignbm9uZScsICdOb25lJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShwcm9maWxlU2V0dGluZ3Muc3R5bGUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHByb2ZpbGVTZXR0aW5ncy5zdHlsZSA9IHZhbHVlIGFzICdjaXJjbGUnIHwgJ3NxdWFyZScgfCAnbm9uZSc7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbmRlckNvbW1lbnRzU2V0dGluZyhncm91cDogU2V0dGluZ3NDb250YWluZXIsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IHZvaWQge1xyXG5cdFx0Ly8gVXNlIG9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZCBhcyB0aGUgcHJpbWFyeSBzb3VyY2UsIGZhbGxiYWNrIHRvIG90aGVyc1xyXG5cdFx0Y29uc3QgaXNFbmFibGVkID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM/LmVuYWJsZWQgPz8gc2V0dGluZ3MuZmVhdHVyZXM/LmNvbW1lbnRzID8/IHNldHRpbmdzLnBvc3RPcHRpb25zPy5jb21tZW50cz8uZW5hYmxlZCA/PyBmYWxzZTtcclxuXHRcdGNvbnN0IGNvbW1lbnRzU2V0dGluZ3MgPSBzZXR0aW5ncy5wb3N0T3B0aW9ucz8uY29tbWVudHMgfHwgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwge1xyXG5cdFx0XHRlbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0cHJvdmlkZXI6ICdnaXNjdXMnLFxyXG5cdFx0XHRyYXdTY3JpcHQ6ICcnLFxyXG5cdFx0XHRyZXBvOiAnZGF2aWR2a2ltYmFsbC9hc3Ryby1tb2R1bGFyJyxcclxuXHRcdFx0cmVwb0lkOiAnUl9rZ0RPUGxsZkt3JyxcclxuXHRcdFx0Y2F0ZWdvcnk6ICdHZW5lcmFsJyxcclxuXHRcdFx0Y2F0ZWdvcnlJZDogJ0RJQ19rd0RPUGxsZks4NEN2VXB4JyxcclxuXHRcdFx0bWFwcGluZzogJ3BhdGhuYW1lJyxcclxuXHRcdFx0c3RyaWN0OiAnMCcsXHJcblx0XHRcdHJlYWN0aW9uczogJzEnLFxyXG5cdFx0XHRtZXRhZGF0YTogJzAnLFxyXG5cdFx0XHRpbnB1dFBvc2l0aW9uOiAnYm90dG9tJyxcclxuXHRcdFx0dGhlbWU6ICdwcmVmZXJyZWRfY29sb3Jfc2NoZW1lJyxcclxuXHRcdFx0bGFuZzogJ2VuJyxcclxuXHRcdFx0bG9hZGluZzogJ2xhenknLFxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBNYWluIHRvZ2dsZVxyXG5cdFx0Z3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoJ1Bvc3QgY29tbWVudHMnKVxyXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkdpc2N1c1wiIGlzIGEgcHJvcGVyIG5vdW4gKHByb2R1Y3QgbmFtZSkgYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuXHRcdFx0XHQuc2V0RGVzYygnRW5hYmxlIEdpc2N1cyBjb21tZW50IHN5c3RlbSBmb3IgcG9zdHMnKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKGlzRW5hYmxlZClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIGFsbCB0aHJlZSBsb2NhdGlvbnMgdG8gZW5zdXJlIGNvbnNpc3RlbmN5XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmNvbW1lbnRzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHZpc2liaWxpdHkgb2YgY29tbWVudHMgb3B0aW9ucyBmaXJzdFxyXG5cdFx0XHRcdFx0Y29uc3QgY29tbWVudHNTZXR0aW5nc0VscyA9IHNldHRpbmcuc2V0dGluZ0VsLnBhcmVudEVsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21tZW50cy1vcHRpb24tc2V0dGluZycpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBHZXQgZXhpc3RpbmcgY29tbWVudHMgc2V0dGluZ3Mgb3IgY3JlYXRlIGRlZmF1bHRcclxuXHRcdFx0XHRcdGNvbnN0IGV4aXN0aW5nQ29tbWVudHMgPSBzZXR0aW5ncy5wb3N0T3B0aW9ucz8uY29tbWVudHMgfHwgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHMgfHwgeyBlbmFibGVkOiBmYWxzZSwgcHJvdmlkZXI6ICdnaXNjdXMnLCByZXBvOiAnJywgcmVwb0lkOiAnJywgY2F0ZWdvcnk6ICcnLCBjYXRlZ29yeUlkOiAnJywgbWFwcGluZzogJ3BhdGhuYW1lJywgdGVybTogJycsIHJlYWN0aW9uc0VuYWJsZWQ6IHRydWUsIGVtaXRNZXRhZGF0YTogZmFsc2UsIGlucHV0UG9zaXRpb246ICdib3R0b20nLCBsYW5nOiAnZW4nLCBsb2FkaW5nOiAnbGF6eScsIHJhd1NjcmlwdDogJycgfTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHBvc3RPcHRpb25zIGV4aXN0cywgYnV0IHByZXNlcnZlIGV4aXN0aW5nIGNvbW1lbnQgc2V0dGluZ3NcclxuXHRcdFx0XHRcdGlmICghc2V0dGluZ3MucG9zdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7IHBvc3RzUGVyUGFnZTogNiwgcmVhZGluZ1RpbWU6IHRydWUsIHdvcmRDb3VudDogdHJ1ZSwgdGFnczogdHJ1ZSwgbGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LCBncmFwaFZpZXc6IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfSwgcG9zdE5hdmlnYXRpb246IHRydWUsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJywgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgY29tbWVudHM6IHsgLi4uZXhpc3RpbmdDb21tZW50cyB9IH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBPbmx5IHVwZGF0ZSB0aGUgZW5hYmxlZCBzdGF0ZSwgcHJlc2VydmUgYWxsIG90aGVyIGNvbW1lbnQgc2V0dGluZ3NcclxuXHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmNvbW1lbnRzLmVuYWJsZWQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gRW5zdXJlIG9wdGlvbmFsRmVhdHVyZXMgZXhpc3RzLCBidXQgcHJlc2VydmUgZXhpc3RpbmcgY29tbWVudCBzZXR0aW5nc1xyXG5cdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzKSB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMgPSB7IHByb2ZpbGVQaWN0dXJlOiB7IGVuYWJsZWQ6IGZhbHNlLCBpbWFnZTogJy9wcm9maWxlLmpwZycsIGFsdDogJ1Byb2ZpbGUgcGljdHVyZScsIHNpemU6ICdtZCcsIHVybDogJycsIHBsYWNlbWVudDogJ2Zvb3RlcicsIHN0eWxlOiAnY2lyY2xlJyB9LCBjb21tZW50czogeyAuLi5leGlzdGluZ0NvbW1lbnRzIH0gfTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIE9ubHkgdXBkYXRlIHRoZSBlbmFibGVkIHN0YXRlLCBwcmVzZXJ2ZSBhbGwgb3RoZXIgY29tbWVudCBzZXR0aW5nc1xyXG5cdFx0XHRcdFx0c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5lbmFibGVkID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHZpc2liaWxpdHkgb2YgY29tbWVudHMgb3B0aW9uc1xyXG5cdFx0XHRcdFx0Y29uc3QgY29tbWVudHNTZXR0aW5ncyA9IGNvbW1lbnRzU2V0dGluZ3NFbHM7XHJcblx0XHRcdFx0XHRcdGlmIChjb21tZW50c1NldHRpbmdzKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29tbWVudHNTZXR0aW5ncy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0KGVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyB9KTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcGx5Q3VycmVudENvbmZpZ3VyYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBDb21tZW50cyBzeXN0ZW0gJHt2YWx1ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50c2ApO1xyXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZhaWxlZCB0byBhcHBseSBjb21tZW50cyBzeXN0ZW0gdG8gY29uZmlnLnRzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gT3B0aW9ucyBjb250YWluZXIgLSBhZGQgYXMgY3VzdG9tIHNldHRpbmcgd2l0aGluIGdyb3VwXHJcblx0XHRncm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLmNsYXNzTGlzdC5hZGQoJ2NvbW1lbnRzLW9wdGlvbi1zZXR0aW5nJyk7XHJcblx0XHRcdHNldHRpbmcuc2V0dGluZ0VsLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRkaXNwbGF5OiBpc0VuYWJsZWQgPyAnYmxvY2snIDogJ25vbmUnLFxyXG5cdFx0XHRcdG1hcmdpblRvcDogJzEwcHgnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gSGlkZSBkZWZhdWx0IFVJIGVsZW1lbnRzIGFuZCBhZGQgY3VzdG9tIGNvbnRhaW5lclxyXG5cdFx0XHRjb25zdCBuYW1lRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLW5hbWUnKTtcclxuXHRcdFx0Y29uc3QgZGVzY0VsID0gc2V0dGluZy5zZXR0aW5nRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbicpO1xyXG5cdFx0XHRjb25zdCBjb250cm9sRWwgPSBzZXR0aW5nLnNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLWNvbnRyb2wnKTtcclxuXHRcdFx0aWYgKG5hbWVFbCkgKG5hbWVFbCBhcyBIVE1MRWxlbWVudCkuc2V0Q3NzUHJvcHMoeyBkaXNwbGF5OiAnbm9uZScgfSk7XHJcblx0XHRcdGlmIChkZXNjRWwpIChkZXNjRWwgYXMgSFRNTEVsZW1lbnQpLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRpZiAoY29udHJvbEVsKSAoY29udHJvbEVsIGFzIEhUTUxFbGVtZW50KS5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICdub25lJyB9KTtcclxuXHRcdFx0c2V0dGluZy5zZXR0aW5nRWwuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdGJvcmRlclRvcDogJ25vbmUnLFxyXG5cdFx0XHRcdHBhZGRpbmdUb3A6ICcwJyxcclxuXHRcdFx0XHRwYWRkaW5nQm90dG9tOiAnMCdcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCBvcHRpb25zQ29udGFpbmVyID0gc2V0dGluZy5zZXR0aW5nRWwuY3JlYXRlRGl2KCdjb21tZW50cy1vcHRpb25zJyk7XHJcblxyXG5cdFx0XHQvLyBJbnN0cnVjdGlvbnNcclxuXHRcdFx0Y29uc3QgaW5zdHJ1Y3Rpb25zRGl2ID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbW1lbnRzLWluc3RydWN0aW9ucycpO1xyXG5cdFx0XHRpbnN0cnVjdGlvbnNEaXYuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdG1hcmdpbkJvdHRvbTogJzE1cHgnLFxyXG5cdFx0XHRcdHBhZGRpbmc6ICcxMHB4JyxcclxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAndmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0aW5zdHJ1Y3Rpb25zRGl2LnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG5cdFx0XHRcdGJvcmRlckxlZnQ6ICczcHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCBpbnN0cnVjdGlvbnNUZXh0ID0gaW5zdHJ1Y3Rpb25zRGl2LmNyZWF0ZUVsKCdwJyk7XHJcblx0XHRcdGluc3RydWN0aW9uc1RleHQuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHRcdG1hcmdpbjogJzAnLFxyXG5cdFx0XHRcdGZvbnRTaXplOiAnMTNweCcsXHJcblx0XHRcdFx0Y29sb3I6ICd2YXIoLS10ZXh0LW11dGVkKScsXHJcblx0XHRcdFx0d2hpdGVTcGFjZTogJ3ByZS1saW5lJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIENyZWF0ZSB0aGUgdGV4dCB3aXRoIHByb3BlciBsaW5rIHBsYWNlbWVudFxyXG5cdFx0XHRpbnN0cnVjdGlvbnNUZXh0LmFwcGVuZFRleHQoJzEuIEdvIHRvICcpO1xyXG5cdFx0XHRjb25zdCBnaXNjdXNMaW5rID0gaW5zdHJ1Y3Rpb25zVGV4dC5jcmVhdGVFbCgnYScsIHtcclxuXHRcdFx0XHRocmVmOiAnaHR0cHM6Ly9naXNjdXMuYXBwLycsXHJcblx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiZ2lzY3VzLmFwcFwiIGlzIGEgZG9tYWluIG5hbWUsIG5vdCBVSSB0ZXh0XHJcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHRcdHRleHQ6ICdnaXNjdXMuYXBwJyxcclxuXHRcdFx0XHRhdHRyOiB7XHJcblx0XHRcdFx0XHR0YXJnZXQ6ICdfYmxhbmsnLFxyXG5cdFx0XHRcdFx0cmVsOiAnbm9vcGVuZXIgbm9yZWZlcnJlcidcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRnaXNjdXNMaW5rLnNldENzc1Byb3BzKHtcclxuXHRcdFx0XHRjb2xvcjogJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknLFxyXG5cdFx0XHRcdHRleHREZWNvcmF0aW9uOiAnbm9uZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdGluc3RydWN0aW9uc1RleHQuYXBwZW5kVGV4dCgnIGFuZCBjb25maWd1cmUgeW91ciBjb21tZW50c1xcbjIuIENvcHkgdGhlIGdlbmVyYXRlZCBzY3JpcHRcXG4zLiBQYXN0ZSBpdCBiZWxvdycpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQWRkIGhvdmVyIGVmZmVjdHMgdG8gdGhlIGxpbmtcclxuXHRcdFx0Z2lzY3VzTGluay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xyXG5cdFx0XHRcdGdpc2N1c0xpbmsuc2V0Q3NzUHJvcHMoeyB0ZXh0RGVjb3JhdGlvbjogJ3VuZGVybGluZScgfSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRnaXNjdXNMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcblx0XHRcdFx0Z2lzY3VzTGluay5zZXRDc3NQcm9wcyh7IHRleHREZWNvcmF0aW9uOiAnbm9uZScgfSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gU2NyaXB0IHRleHRhcmVhXHJcblx0XHRcdGNvbnN0IHNjcmlwdFNldHRpbmcgPSBuZXcgU2V0dGluZyhvcHRpb25zQ29udGFpbmVyKVxyXG5cdFx0XHQvLyBGYWxzZSBwb3NpdGl2ZTogXCJHaXNjdXNcIiBpcyBhIHByb3BlciBub3VuIChwcm9kdWN0IG5hbWUpIGFuZCBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcclxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG5cdFx0XHQuc2V0TmFtZSgnR2lzY3VzIFNjcmlwdCcpXHJcblx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBcIkdpc2N1c1wiIGlzIGEgcHJvcGVyIG5vdW4gKHByb2R1Y3QgbmFtZSkgYW5kIHNob3VsZCBiZSBjYXBpdGFsaXplZFxyXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdC5zZXREZXNjKCdQYXN0ZSB5b3VyIEdpc2N1cyBzY3JpcHQgaGVyZSAodGhlIHBsdWdpbiB3aWxsIGF1dG9tYXRpY2FsbHkgcGFyc2UgYWxsIHNldHRpbmdzKScpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB0ZXh0YXJlYSA9IHNjcmlwdFNldHRpbmcuY29udHJvbEVsLmNyZWF0ZUVsKCd0ZXh0YXJlYScsIHtcclxuXHRcdFx0YXR0cjoge1xyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBgPHNjcmlwdCBzcmM9XCJodHRwczovL2dpc2N1cy5hcHAvY2xpZW50LmpzXCJcclxuICAgICAgICBkYXRhLXJlcG89XCJkYXZpZHZraW1iYWxsL2FzdHJvLW1vZHVsYXJcIlxyXG4gICAgICAgIGRhdGEtcmVwby1pZD1cIlJfa2dET1BsbGZLd1wiXHJcbiAgICAgICAgZGF0YS1jYXRlZ29yeT1cIkdlbmVyYWxcIlxyXG4gICAgICAgIGRhdGEtY2F0ZWdvcnktaWQ9XCJESUNfa3dET1BsbGZLODRDdlVweFwiXHJcbiAgICAgICAgZGF0YS1tYXBwaW5nPVwicGF0aG5hbWVcIlxyXG4gICAgICAgIGRhdGEtc3RyaWN0PVwiMFwiXHJcbiAgICAgICAgZGF0YS1yZWFjdGlvbnMtZW5hYmxlZD1cIjFcIlxyXG4gICAgICAgIGRhdGEtZW1pdC1tZXRhZGF0YT1cIjBcIlxyXG4gICAgICAgIGRhdGEtaW5wdXQtcG9zaXRpb249XCJib3R0b21cIlxyXG4gICAgICAgIGRhdGEtdGhlbWU9XCJwcmVmZXJyZWRfY29sb3Jfc2NoZW1lXCJcclxuICAgICAgICBkYXRhLWxhbmc9XCJlblwiXHJcbiAgICAgICAgZGF0YS1sb2FkaW5nPVwibGF6eVwiXHJcbiAgICAgICAgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIlxyXG4gICAgICAgIGFzeW5jPlxyXG48L3NjcmlwdD5gLFxyXG5cdFx0XHRcdHJvd3M6ICc4J1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0dGV4dGFyZWEuc2V0Q3NzUHJvcHMoe1xyXG5cdFx0XHR3aWR0aDogJzEwMCUnLFxyXG5cdFx0XHRmb250RmFtaWx5OiAndmFyKC0tZm9udC1tb25vc3BhY2UpJyxcclxuXHRcdFx0Zm9udFNpemU6ICcxMnB4JyxcclxuXHRcdFx0cGFkZGluZzogJzhweCcsXHJcblx0XHRcdGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknLFxyXG5cdFx0XHRib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG5cdFx0XHRiYWNrZ3JvdW5kOiAndmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KScsXHJcblx0XHRcdGNvbG9yOiAndmFyKC0tdGV4dC1ub3JtYWwpJyxcclxuXHRcdFx0cmVzaXplOiAnbm9uZSdcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBTZXQgY3VycmVudCB2YWx1ZSBmcm9tIHRoZSBhY3R1YWwgc2F2ZWQgc2V0dGluZ3NcclxuXHRcdHRleHRhcmVhLnZhbHVlID0gc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM/LnJhd1NjcmlwdCB8fCBzZXR0aW5ncy5wb3N0T3B0aW9ucz8uY29tbWVudHM/LnJhd1NjcmlwdCB8fCAnJztcclxuXHRcdFxyXG5cdFx0XHQvLyBWYWxpZGF0aW9uIGFuZCBwYXJzaW5nXHJcblx0XHRcdGNvbnN0IHZhbGlkYXRpb25EaXYgPSBvcHRpb25zQ29udGFpbmVyLmNyZWF0ZURpdignc2NyaXB0LXZhbGlkYXRpb24nKTtcclxuXHRcdFx0dmFsaWRhdGlvbkRpdi5zZXRDc3NQcm9wcyh7XHJcblx0XHRcdFx0bWFyZ2luVG9wOiAnOHB4JyxcclxuXHRcdFx0XHRmb250U2l6ZTogJzEycHgnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gRGVib3VuY2UgdGltZW91dCBJRFxyXG5cdFx0XHRsZXQgZGVib3VuY2VUaW1lb3V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgdXBkYXRlVmFsaWRhdGlvbiA9IGFzeW5jIChzaG93Tm90aWZpY2F0aW9uOiBib29sZWFuID0gZmFsc2UpID0+IHtcclxuXHRcdFx0XHRjb25zdCBzY3JpcHRDb250ZW50ID0gdGV4dGFyZWEudmFsdWUudHJpbSgpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmICghc2NyaXB0Q29udGVudCkge1xyXG5cdFx0XHRcdFx0dmFsaWRhdGlvbkRpdi5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBjdXJyZW50IGVuYWJsZWQgc3RhdGUgZnJvbSB0aGUgYWN0dWFsIHNldHRpbmdzIChub3QgdGhlIGxvY2FsIHZhcmlhYmxlKVxyXG5cdFx0XHRcdFx0Y29uc3QgY3VycmVudEVuYWJsZWQgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cz8uZW5hYmxlZCA/PyBzZXR0aW5ncy5mZWF0dXJlcz8uY29tbWVudHMgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnM/LmNvbW1lbnRzPy5lbmFibGVkID8/IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBDbGVhciBhbGwgY29tbWVudCBzZXR0aW5ncyB3aGVuIHNjcmlwdCBpcyBkZWxldGVkIChidXQgcHJlc2VydmUgZW5hYmxlZCBzdGF0ZSlcclxuXHRcdFx0XHRcdGlmICghc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcykge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzID0geyBwcm9maWxlUGljdHVyZTogeyBlbmFibGVkOiBmYWxzZSwgaW1hZ2U6ICcvcHJvZmlsZS5qcGcnLCBhbHQ6ICdQcm9maWxlIHBpY3R1cmUnLCBzaXplOiAnbWQnLCB1cmw6ICcnLCBwbGFjZW1lbnQ6ICdmb290ZXInLCBzdHlsZTogJ2NpcmNsZScgfSwgY29tbWVudHM6IHsgZW5hYmxlZDogY3VycmVudEVuYWJsZWQsIHByb3ZpZGVyOiAnZ2lzY3VzJywgcmF3U2NyaXB0OiAnJywgcmVwbzogJycsIHJlcG9JZDogJycsIGNhdGVnb3J5OiAnJywgY2F0ZWdvcnlJZDogJycsIG1hcHBpbmc6ICdwYXRobmFtZScsIHN0cmljdDogJzAnLCByZWFjdGlvbnM6ICcxJywgbWV0YWRhdGE6ICcwJywgaW5wdXRQb3NpdGlvbjogJ2JvdHRvbScsIHRoZW1lOiAncHJlZmVycmVkX2NvbG9yX3NjaGVtZScsIGxhbmc6ICdlbicsIGxvYWRpbmc6ICdsYXp5JyB9IH07XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzID0ge1xyXG5cdFx0XHRcdFx0XHRcdC4uLnNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMsXHJcblx0XHRcdFx0XHRcdFx0cmF3U2NyaXB0OiAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZXBvOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRyZXBvSWQ6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdGNhdGVnb3J5OiAnJyxcclxuXHRcdFx0XHRcdFx0XHRjYXRlZ29yeUlkOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRtYXBwaW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRzdHJpY3Q6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHJlYWN0aW9uczogJycsXHJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdGlucHV0UG9zaXRpb246ICcnLFxyXG5cdFx0XHRcdFx0XHRcdHRoZW1lOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRsYW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRsb2FkaW5nOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRlbmFibGVkOiBjdXJyZW50RW5hYmxlZCAvLyBQcmVzZXJ2ZSBlbmFibGVkIHN0YXRlXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIEFsc28gdXBkYXRlIHBvc3RPcHRpb25zLmNvbW1lbnRzXHJcblx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zID0geyBwb3N0c1BlclBhZ2U6IDYsIHJlYWRpbmdUaW1lOiB0cnVlLCB3b3JkQ291bnQ6IHRydWUsIHRhZ3M6IHRydWUsIGxpbmtlZE1lbnRpb25zOiB7IGVuYWJsZWQ6IHRydWUsIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UgfSwgZ3JhcGhWaWV3OiB7IGVuYWJsZWQ6IHRydWUsIHNob3dJblNpZGViYXI6IHRydWUsIG1heE5vZGVzOiAxMDAsIHNob3dPcnBoYW5lZFBvc3RzOiB0cnVlIH0sIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLCBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ2ZlYXR1cmVkLWFuZC1wb3N0cycsIHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86ICcyLjUvMScsIGNvbW1lbnRzOiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzIH07XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5jb21tZW50cyA9IHsgLi4uc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cyB9O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBFbnN1cmUgZmVhdHVyZXMuY29tbWVudHMgaXMgaW4gc3luY1xyXG5cdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5mZWF0dXJlcykge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcyA9IHtcclxuXHRcdFx0XHRcdFx0XHRjb21tYW5kUGFsZXR0ZTogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0cmVhZGluZ1RpbWU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdGxpbmtlZE1lbnRpb25zOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdGNvbW1lbnRzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRncmFwaFZpZXc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdHBvc3ROYXZpZ2F0aW9uOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRoaWRlU2Nyb2xsQmFyOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRzY3JvbGxUb1RvcDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0ZmVhdHVyZUJ1dHRvbjogJ25vbmUnLFxyXG5cdFx0XHRcdFx0XHRcdHNob3dTb2NpYWxJY29uc0luRm9vdGVyOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ25vbmUnLFxyXG5cdFx0XHRcdFx0XHRcdHBvc3RDYXJkQXNwZWN0UmF0aW86ICdvZycsXHJcblx0XHRcdFx0XHRcdFx0cHJvZmlsZVBpY3R1cmU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdHF1aWNrQWN0aW9uczoge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHR0b2dnbGVNb2RlOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdGdyYXBoVmlldzogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRjaGFuZ2VUaGVtZTogZmFsc2VcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5jb21tZW50cyA9IGN1cnJlbnRFbmFibGVkO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XHJcblx0XHRcdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdGlmIChzaG93Tm90aWZpY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwbHlDdXJyZW50Q29uZmlndXJhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdHaXNjdXMgc2NyaXB0IGNsZWFyZWQgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIEltcG9ydCB0aGUgcGFyc2VyIGR5bmFtaWNhbGx5XHJcblx0XHRcdFx0Y29uc3QgeyBHaXNjdXNTY3JpcHRQYXJzZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vdXRpbHMvR2lzY3VzU2NyaXB0UGFyc2VyJyk7XHJcblx0XHRcdFx0Y29uc3QgdmFsaWRhdGlvbiA9IEdpc2N1c1NjcmlwdFBhcnNlci52YWxpZGF0ZVNjcmlwdChzY3JpcHRDb250ZW50KTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAodmFsaWRhdGlvbi52YWxpZCkge1xyXG5cdFx0XHRcdFx0dmFsaWRhdGlvbkRpdi5lbXB0eSgpO1xyXG5cdFx0XHRcdFx0Ly8gRmFsc2UgcG9zaXRpdmU6IFwiR2lzY3VzXCIgaXMgYSBwcm9wZXIgbm91biAocHJvZHVjdCBuYW1lKSBhbmQgc2hvdWxkIGJlIGNhcGl0YWxpemVkXHJcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcblx0XHRcdFx0XHRjb25zdCBzdWNjZXNzU3BhbiA9IHZhbGlkYXRpb25EaXYuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6ICdcdTI3MTMgVmFsaWQgR2lzY3VzIHNjcmlwdCBkZXRlY3RlZCcgfSk7XHJcblx0XHRcdFx0XHRzdWNjZXNzU3Bhbi5zZXRDc3NQcm9wcyh7IGNvbG9yOiAndmFyKC0tdGV4dC1zdWNjZXNzKScgfSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFBhcnNlIGFuZCB1cGRhdGUgYWxsIHNldHRpbmdzXHJcblx0XHRcdFx0XHRjb25zdCBwYXJzZWQgPSBHaXNjdXNTY3JpcHRQYXJzZXIucGFyc2VTY3JpcHQoc2NyaXB0Q29udGVudCk7XHJcblx0XHRcdFx0XHRpZiAocGFyc2VkKSB7XHJcblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgY3VycmVudCBlbmFibGVkIHN0YXRlIGZyb20gdGhlIGFjdHVhbCBzZXR0aW5ncyAobm90IHRoZSBsb2NhbCB2YXJpYWJsZSlcclxuXHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudEVuYWJsZWQgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cz8uZW5hYmxlZCA/PyBzZXR0aW5ncy5mZWF0dXJlcz8uY29tbWVudHMgPz8gc2V0dGluZ3MucG9zdE9wdGlvbnM/LmNvbW1lbnRzPy5lbmFibGVkID8/IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHRoZSBjb21tZW50c1NldHRpbmdzIG9iamVjdCB3aXRoIHBhcnNlZCBkYXRhXHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MucmF3U2NyaXB0ID0gc2NyaXB0Q29udGVudDtcclxuXHRcdFx0XHRcdFx0Y29tbWVudHNTZXR0aW5ncy5yZXBvID0gcGFyc2VkLnJlcG87XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MucmVwb0lkID0gcGFyc2VkLnJlcG9JZDtcclxuXHRcdFx0XHRcdFx0Y29tbWVudHNTZXR0aW5ncy5jYXRlZ29yeSA9IHBhcnNlZC5jYXRlZ29yeTtcclxuXHRcdFx0XHRcdFx0Y29tbWVudHNTZXR0aW5ncy5jYXRlZ29yeUlkID0gcGFyc2VkLmNhdGVnb3J5SWQ7XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MubWFwcGluZyA9IHBhcnNlZC5tYXBwaW5nO1xyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLnN0cmljdCA9IHBhcnNlZC5zdHJpY3Q7XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MucmVhY3Rpb25zID0gcGFyc2VkLnJlYWN0aW9ucztcclxuXHRcdFx0XHRcdFx0Y29tbWVudHNTZXR0aW5ncy5tZXRhZGF0YSA9IHBhcnNlZC5tZXRhZGF0YTtcclxuXHRcdFx0XHRcdFx0Y29tbWVudHNTZXR0aW5ncy5pbnB1dFBvc2l0aW9uID0gcGFyc2VkLmlucHV0UG9zaXRpb247XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MudGhlbWUgPSBwYXJzZWQudGhlbWU7XHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MubGFuZyA9IHBhcnNlZC5sYW5nO1xyXG5cdFx0XHRcdFx0XHRjb21tZW50c1NldHRpbmdzLmxvYWRpbmcgPSBwYXJzZWQubG9hZGluZztcclxuXHRcdFx0XHRcdFx0Ly8gUHJlc2VydmUgdGhlIGVuYWJsZWQgc3RhdGUgLSBkb24ndCBmb3JjZSBpdCB0byB0cnVlXHJcblx0XHRcdFx0XHRcdGNvbW1lbnRzU2V0dGluZ3MuZW5hYmxlZCA9IGN1cnJlbnRFbmFibGVkO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIG9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMgKHRoaXMgaXMgd2hhdCBtb2RpZnlDb25maWdGcm9tRmVhdHVyZXMgcmVhZHMpXHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMgPSB7IHByb2ZpbGVQaWN0dXJlOiB7IGVuYWJsZWQ6IGZhbHNlLCBpbWFnZTogJy9wcm9maWxlLmpwZycsIGFsdDogJ1Byb2ZpbGUgcGljdHVyZScsIHNpemU6ICdtZCcsIHVybDogJycsIHBsYWNlbWVudDogJ2Zvb3RlcicsIHN0eWxlOiAnY2lyY2xlJyB9LCBjb21tZW50czogY29tbWVudHNTZXR0aW5ncyB9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMgPSB7IC4uLmNvbW1lbnRzU2V0dGluZ3MgfTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIEFsc28gdXBkYXRlIHBvc3RPcHRpb25zLmNvbW1lbnRzIGZvciBjb25zaXN0ZW5jeVxyXG5cdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnBvc3RPcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMgPSB7IHBvc3RzUGVyUGFnZTogNiwgcmVhZGluZ1RpbWU6IHRydWUsIHdvcmRDb3VudDogdHJ1ZSwgdGFnczogdHJ1ZSwgbGlua2VkTWVudGlvbnM6IHsgZW5hYmxlZDogdHJ1ZSwgbGlua2VkTWVudGlvbnNDb21wYWN0OiBmYWxzZSB9LCBncmFwaFZpZXc6IHsgZW5hYmxlZDogdHJ1ZSwgc2hvd0luU2lkZWJhcjogdHJ1ZSwgbWF4Tm9kZXM6IDEwMCwgc2hvd09ycGhhbmVkUG9zdHM6IHRydWUgfSwgcG9zdE5hdmlnYXRpb246IHRydWUsIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAnZmVhdHVyZWQtYW5kLXBvc3RzJywgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJywgY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbzogJzIuNS8xJywgY29tbWVudHM6IGNvbW1lbnRzU2V0dGluZ3MgfTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5jb21tZW50cyA9IHsgLi4uY29tbWVudHNTZXR0aW5ncyB9O1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gRW5zdXJlIGZlYXR1cmVzLmNvbW1lbnRzIGlzIGluIHN5bmMgc28gbW9kaWZ5Q29uZmlnRnJvbUZlYXR1cmVzIGNhbiBhcHBseSB0aGUgcGFyc2VkIHZhbHVlc1xyXG5cdFx0XHRcdFx0XHQvLyBUaGlzIGlzIHJlcXVpcmVkIGJlY2F1c2UgbW9kaWZ5Q29uZmlnRnJvbUZlYXR1cmVzIGNoZWNrcyBib3RoIHNldHRpbmdzLmZlYXR1cmVzLmNvbW1lbnRzIEFORCBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzXHJcblx0XHRcdFx0XHRcdGlmICghc2V0dGluZ3MuZmVhdHVyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcyA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbW1hbmRQYWxldHRlOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlYWRpbmdUaW1lOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdGxpbmtlZE1lbnRpb25zOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRjb21tZW50czogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRncmFwaFZpZXc6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0cG9zdE5hdmlnYXRpb246IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdFx0aGlkZVNjcm9sbEJhcjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRzY3JvbGxUb1RvcDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRmZWF0dXJlQnV0dG9uOiAnbm9uZScsXHJcblx0XHRcdFx0XHRcdFx0XHRzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ25vbmUnLFxyXG5cdFx0XHRcdFx0XHRcdFx0cG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcclxuXHRcdFx0XHRcdFx0XHRcdHByb2ZpbGVQaWN0dXJlOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdHF1aWNrQWN0aW9uczoge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dG9nZ2xlTW9kZTogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGdyYXBoVmlldzogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoYW5nZVRoZW1lOiBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuY29tbWVudHMgPSBjdXJyZW50RW5hYmxlZDtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vIFNhdmUgc2V0dGluZ3MgaW1tZWRpYXRlbHlcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXHJcblx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly8gQXBwbHkgY29uZmlndXJhdGlvbiBpZiBub3RpZmljYXRpb24gaXMgcmVxdWVzdGVkIChkZWJvdW5jZWQgb3Igb24gYmx1cilcclxuXHRcdFx0XHRcdFx0aWYgKHNob3dOb3RpZmljYXRpb24pIHtcclxuXHRcdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBzdGF0dXNNZXNzYWdlID0gY3VycmVudEVuYWJsZWQgXHJcblx0XHRcdFx0XHRcdFx0XHRcdD8gJ0dpc2N1cyBzY3JpcHQgcGFyc2VkIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cycgXHJcblx0XHRcdFx0XHRcdFx0XHRcdDogJ0dpc2N1cyBzY3JpcHQgcGFyc2VkIGFuZCBzYXZlZC4gRW5hYmxlIGNvbW1lbnRzIHRvIGFwcGx5IHRvIGNvbmZpZy50cyc7XHJcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKHN0YXR1c01lc3NhZ2UpO1xyXG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gYXBwbHkgR2lzY3VzIHNjcmlwdCB0byBjb25maWcudHM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2YWxpZGF0aW9uRGl2LmVtcHR5KCk7XHJcblx0XHRcdFx0XHRjb25zdCBlcnJvclNwYW4gPSB2YWxpZGF0aW9uRGl2LmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiBgXHUyNzE3ICR7dmFsaWRhdGlvbi5lcnJvcn1gIH0pO1xyXG5cdFx0XHRcdFx0ZXJyb3JTcGFuLnNldENzc1Byb3BzKHsgY29sb3I6ICd2YXIoLS10ZXh0LWVycm9yKScgfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHJcblx0XHRcdC8vIERlYm91bmNlZCBpbnB1dCBoYW5kbGVyICgxIHNlY29uZCBkZWJvdW5jZSBsaWtlIG90aGVyIHRleHQgZmllbGRzKVxyXG5cdFx0XHR0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHRcdFx0XHQvLyBDbGVhciBleGlzdGluZyB0aW1lb3V0XHJcblx0XHRcdFx0aWYgKGRlYm91bmNlVGltZW91dElkKSB7XHJcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lb3V0SWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBVcGRhdGUgdmFsaWRhdGlvbiBpbW1lZGlhdGVseSAoZm9yIFVJIGZlZWRiYWNrKVxyXG5cdFx0XHRcdHZvaWQgdXBkYXRlVmFsaWRhdGlvbihmYWxzZSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gRGVib3VuY2UgdGhlIGNvbmZpZ3VyYXRpb24gYXBwbGljYXRpb24gYW5kIG5vdGlmaWNhdGlvblxyXG5cdFx0XHRcdGRlYm91bmNlVGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0dm9pZCB1cGRhdGVWYWxpZGF0aW9uKHRydWUpO1xyXG5cdFx0XHRcdH0sIDEwMDApOyAvLyAxIHNlY29uZCBkZWJvdW5jZVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEFwcGx5IGltbWVkaWF0ZWx5IG9uIGJsdXIgKHdoZW4gdXNlciBsZWF2ZXMgdGhlIGZpZWxkKVxyXG5cdFx0XHR0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xyXG5cdFx0XHRcdC8vIENsZWFyIGFueSBwZW5kaW5nIHRpbWVvdXRcclxuXHRcdFx0XHRpZiAoZGVib3VuY2VUaW1lb3V0SWQpIHtcclxuXHRcdFx0XHRcdGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVvdXRJZCk7XHJcblx0XHRcdFx0XHRkZWJvdW5jZVRpbWVvdXRJZCA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIEFwcGx5IGltbWVkaWF0ZWx5IHdoZW4gbGVhdmluZyB0aGUgZmllbGRcclxuXHRcdFx0XHR2b2lkIHVwZGF0ZVZhbGlkYXRpb24odHJ1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gSW5pdGlhbCB2YWxpZGF0aW9uIChubyBub3RpZmljYXRpb24gb24gbG9hZClcclxuXHRcdFx0dm9pZCB1cGRhdGVWYWxpZGF0aW9uKGZhbHNlKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgTm90aWNlLCBNb2RhbCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFRhYlJlbmRlcmVyIH0gZnJvbSAnLi4vY29tbW9uL1RhYlJlbmRlcmVyJztcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIFRFTVBMQVRFX09QVElPTlMsIEFzdHJvTW9kdWxhclBsdWdpbiB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IGNyZWF0ZVNldHRpbmdzR3JvdXAgfSBmcm9tICcuLi8uLi91dGlscy9zZXR0aW5ncy1jb21wYXQnO1xuXG5leHBvcnQgY2xhc3MgQWR2YW5jZWRUYWIgZXh0ZW5kcyBUYWJSZW5kZXJlciB7XG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XG5cblx0XHQvLyBHcm91cCBhbGwgc2V0dGluZ3Mgd2l0aCBubyBoZWFkaW5nXG5cdFx0Y29uc3QgYWR2YW5jZWRHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyLCB1bmRlZmluZWQsICdhc3Ryby1tb2R1bGFyLXNldHRpbmdzJyk7XG5cblx0XHQvLyBFZGl0IGNvbmZpZy50cyBkaXJlY3RseSBidXR0b25cblx0XHRhZHZhbmNlZEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0VkaXQgY29uZmlnLnRzIGRpcmVjdGx5JykgLy8gXCJjb25maWcudHNcIiBpcyBhIGZpbGVuYW1lLCBrZWVwIGFzIGlzXG5cdFx0XHRcdC8vIEZhbHNlIHBvc2l0aXZlOiBUZXh0IGlzIGFscmVhZHkgaW4gc2VudGVuY2UgY2FzZTsgXCJBc3Ryb1wiIGlzIGEgcHJvcGVyIG5vdW5cblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxuXHRcdFx0XHQuc2V0RGVzYygnT3BlbiB5b3VyIEFzdHJvIGNvbmZpZ3VyYXRpb24gZmlsZSBpbiB0aGUgZWRpdG9yJylcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ09wZW4gY29uZmlnLnRzJylcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLm9wZW5Db25maWdGaWxlKCk7XG5cdFx0XHRcdFx0fSkpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU3luYyBmcm9tIGNvbmZpZy50cyBidXR0b25cblx0XHRhZHZhbmNlZEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ1N5bmMgZnJvbSBjb25maWcudHMnKVxuXHRcdFx0XHQuc2V0RGVzYygnUmVhZCBjdXJyZW50IGNvbmZpZy50cyBmaWxlIGFuZCB1cGRhdGUgcGx1Z2luIHNldHRpbmdzIHRvIG1hdGNoJylcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1N5bmMgZnJvbSBjb25maWcudHMnKVxuXHRcdFx0XHRcdC5zZXRDdGEoKVxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Ly8gUmVhZCB0aGUgY3VycmVudCBjb25maWcudHMgZmlsZVxuXHRcdFx0XHRcdFx0Y29uc3QgcGx1Z2luID0gdGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luO1xuXHRcdFx0XHRcdFx0Y29uc3QgY29uZmlnQ29udGVudCA9IGF3YWl0IHBsdWdpbi5jb25maWdNYW5hZ2VyLmZpbGVNYW5hZ2VyLnJlYWRDb25maWcoKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgKCFjb25maWdDb250ZW50KSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0NvdWxkIG5vdCByZWFkIGNvbmZpZy50cyBmaWxlJyk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gUGFyc2UgdGhlIGNvbmZpZy50cyBmaWxlIHRvIGV4dHJhY3QgY3VycmVudCBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudENvbmZpZyA9IGF3YWl0IHBsdWdpbi5jb25maWdNYW5hZ2VyLmZpbGVNYW5hZ2VyLnBhcnNlQ29uZmlnRmlsZShjb25maWdDb250ZW50KSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50Q29uZmlnKSB7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0NvdWxkIG5vdCBwYXJzZSBjb25maWcudHMgZmlsZScpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgcGx1Z2luIHNldHRpbmdzIHRvIG1hdGNoIGNvbmZpZy50c1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBzaXRlIGluZm9ybWF0aW9uXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy5zaXRlSW5mbyAmJiB0eXBlb2YgY3VycmVudENvbmZpZy5zaXRlSW5mbyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qgc2l0ZUluZm8gPSBjdXJyZW50Q29uZmlnLnNpdGVJbmZvIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5zaXRlID0gKHNpdGVJbmZvLnNpdGUgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5zaXRlSW5mby5zaXRlO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby50aXRsZSA9IChzaXRlSW5mby50aXRsZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnNpdGVJbmZvLnRpdGxlO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5kZXNjcmlwdGlvbiA9IChzaXRlSW5mby5kZXNjcmlwdGlvbiBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnNpdGVJbmZvLmRlc2NyaXB0aW9uO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5hdXRob3IgPSAoc2l0ZUluZm8uYXV0aG9yIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3Muc2l0ZUluZm8uYXV0aG9yO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5sYW5ndWFnZSA9IChzaXRlSW5mby5sYW5ndWFnZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnNpdGVJbmZvLmxhbmd1YWdlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgZmF2aWNvbiBhbmQgT0cgaW1hZ2Ugc2V0dGluZ3MgZnJvbSB0b3AtbGV2ZWwgY29uZmlnICh0aGV5J3JlIGF0IHRoZSB0b3AgbGV2ZWwgaW4gY29uZmlnLnRzKVxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcuZmF2aWNvblRoZW1lQWRhcHRpdmUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zaXRlSW5mby5mYXZpY29uVGhlbWVBZGFwdGl2ZSA9IGN1cnJlbnRDb25maWcuZmF2aWNvblRoZW1lQWRhcHRpdmUgYXMgYm9vbGVhbjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLmRlZmF1bHRPZ0ltYWdlQWx0KSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLmRlZmF1bHRPZ0ltYWdlQWx0ID0gY3VycmVudENvbmZpZy5kZWZhdWx0T2dJbWFnZUFsdCBhcyBzdHJpbmc7XG5cdFx0XHRcdFx0XHRcdC8vIEFsc28gdXBkYXRlIHNlbyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcblx0XHRcdFx0XHRcdFx0aWYgKCFzZXR0aW5ncy5zZW8pIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5zZW8gPSB7IGRlZmF1bHRPZ0ltYWdlQWx0OiAnJyB9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNlby5kZWZhdWx0T2dJbWFnZUFsdCA9IGN1cnJlbnRDb25maWcuZGVmYXVsdE9nSW1hZ2VBbHQgYXMgc3RyaW5nO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvbiBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcubmF2aWdhdGlvbiAmJiB0eXBlb2YgY3VycmVudENvbmZpZy5uYXZpZ2F0aW9uID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBuYXZpZ2F0aW9uID0gY3VycmVudENvbmZpZy5uYXZpZ2F0aW9uIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRpZiAobmF2aWdhdGlvbi5wYWdlcykge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24ucGFnZXMgPSBuYXZpZ2F0aW9uLnBhZ2VzIGFzIHR5cGVvZiBzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChuYXZpZ2F0aW9uLnNvY2lhbCkge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsID0gbmF2aWdhdGlvbi5zb2NpYWwgYXMgdHlwZW9mIHNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0aGVtZVxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcuY3VycmVudFRoZW1lKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmN1cnJlbnRUaGVtZSA9IGN1cnJlbnRDb25maWcuY3VycmVudFRoZW1lIGFzIHR5cGVvZiBzZXR0aW5ncy5jdXJyZW50VGhlbWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0eXBvZ3JhcGh5IHNldHRpbmdzXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy50eXBvZ3JhcGh5ICYmIHR5cGVvZiBjdXJyZW50Q29uZmlnLnR5cG9ncmFwaHkgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHR5cG9ncmFwaHkgPSBjdXJyZW50Q29uZmlnLnR5cG9ncmFwaHkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZvbnRTb3VyY2UgPSAodHlwb2dyYXBoeS5mb250U291cmNlIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2UgPSAoZm9udFNvdXJjZSA9PT0gJ2xvY2FsJyB8fCBmb250U291cmNlID09PSAnY2RuJykgPyBmb250U291cmNlIDogc2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LnByb3NlRm9udCA9ICh0eXBvZ3JhcGh5LnByb3NlRm9udCBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnR5cG9ncmFwaHkucHJvc2VGb250O1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5LmhlYWRpbmdGb250ID0gKHR5cG9ncmFwaHkuaGVhZGluZ0ZvbnQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy50eXBvZ3JhcGh5LmhlYWRpbmdGb250O1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50eXBvZ3JhcGh5Lm1vbm9Gb250ID0gKHR5cG9ncmFwaHkubW9ub0ZvbnQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy50eXBvZ3JhcGh5Lm1vbm9Gb250O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdGFibGUgb2YgY29udGVudHMgc2V0dGluZ3Ncblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLnRhYmxlT2ZDb250ZW50cyAmJiB0eXBlb2YgY3VycmVudENvbmZpZy50YWJsZU9mQ29udGVudHMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHRvYyA9IGN1cnJlbnRDb25maWcudGFibGVPZkNvbnRlbnRzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLnRhYmxlT2ZDb250ZW50cykge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cyA9IHsgZW5hYmxlZDogdHJ1ZSwgZGVwdGg6IDQgfTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50YWJsZU9mQ29udGVudHMuZW5hYmxlZCA9ICh0b2MuZW5hYmxlZCBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy50YWJsZU9mQ29udGVudHMuZW5hYmxlZDtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudGFibGVPZkNvbnRlbnRzLmRlcHRoID0gKHRvYy5kZXB0aCBhcyBudW1iZXIgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cy5kZXB0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIGZlYXR1cmVzIGJhc2VkIG9uIGNvbmZpZy50c1xuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcucG9zdE9wdGlvbnMgJiYgdHlwZW9mIGN1cnJlbnRDb25maWcucG9zdE9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHBvc3RPcHRpb25zID0gY3VycmVudENvbmZpZy5wb3N0T3B0aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMucmVhZGluZ1RpbWUgPSAocG9zdE9wdGlvbnMucmVhZGluZ1RpbWUgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MuZmVhdHVyZXMucmVhZGluZ1RpbWU7XG5cdFx0XHRcdFx0XHRcdGlmIChwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgbGlua2VkTWVudGlvbnMgPSBwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5saW5rZWRNZW50aW9ucyA9IChsaW5rZWRNZW50aW9ucy5lbmFibGVkIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmZlYXR1cmVzLmxpbmtlZE1lbnRpb25zO1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmxpbmtlZE1lbnRpb25zQ29tcGFjdCA9IChsaW5rZWRNZW50aW9ucy5saW5rZWRNZW50aW9uc0NvbXBhY3QgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MuZmVhdHVyZXMubGlua2VkTWVudGlvbnNDb21wYWN0O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChwb3N0T3B0aW9ucy5ncmFwaFZpZXcgJiYgdHlwZW9mIHBvc3RPcHRpb25zLmdyYXBoVmlldyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBncmFwaFZpZXcgPSBwb3N0T3B0aW9ucy5ncmFwaFZpZXcgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuZ3JhcGhWaWV3ID0gKGdyYXBoVmlldy5lbmFibGVkIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmZlYXR1cmVzLmdyYXBoVmlldztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5wb3N0TmF2aWdhdGlvbiA9IChwb3N0T3B0aW9ucy5wb3N0TmF2aWdhdGlvbiBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5mZWF0dXJlcy5wb3N0TmF2aWdhdGlvbjtcblx0XHRcdFx0XHRcdFx0aWYgKHBvc3RPcHRpb25zLmNvbW1lbnRzICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5jb21tZW50cyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBjb21tZW50cyA9IHBvc3RPcHRpb25zLmNvbW1lbnRzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLmNvbW1lbnRzID0gKGNvbW1lbnRzLmVuYWJsZWQgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3MuZmVhdHVyZXMuY29tbWVudHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIG9wdGlvbmFsIGNvbnRlbnQgdHlwZXNcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzICYmIHR5cGVvZiBjdXJyZW50Q29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBvcHRpb25hbENvbnRlbnRUeXBlcyA9IGN1cnJlbnRDb25maWcub3B0aW9uYWxDb250ZW50VHlwZXMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzID0gKG9wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcy5kb2NzID0gKG9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3MgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gc2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMuZG9jcztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIGZvb3RlciBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcuZm9vdGVyICYmIHR5cGVvZiBjdXJyZW50Q29uZmlnLmZvb3RlciA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm9vdGVyID0gY3VycmVudENvbmZpZy5mb290ZXIgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzLnNob3dTb2NpYWxJY29uc0luRm9vdGVyID0gKGZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3RlciBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIGNvbW1hbmQgcGFsZXR0ZSAtIGNvbXByZWhlbnNpdmUgc3luY1xuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcuY29tbWFuZFBhbGV0dGUgJiYgdHlwZW9mIGN1cnJlbnRDb25maWcuY29tbWFuZFBhbGV0dGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNvbW1hbmRQYWxldHRlID0gY3VycmVudENvbmZpZy5jb21tYW5kUGFsZXR0ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuZmVhdHVyZXMuY29tbWFuZFBhbGV0dGUgPSAoY29tbWFuZFBhbGV0dGUuZW5hYmxlZCBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIFN5bmMgYWxsIGNvbW1hbmQgcGFsZXR0ZSBzZXR0aW5nc1xuXHRcdFx0XHRcdFx0XHRpZiAoIXNldHRpbmdzLmNvbW1hbmRQYWxldHRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2hvcnRjdXQ6ICdjdHJsK0snLFxuXHRcdFx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI6ICdTZWFyY2ggcG9zdHMnLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VhcmNoOiB7IHBvc3RzOiB0cnVlLCBwYWdlczogZmFsc2UsIHByb2plY3RzOiBmYWxzZSwgZG9jczogZmFsc2UgfSxcblx0XHRcdFx0XHRcdFx0XHRcdHNlY3Rpb25zOiB7IHF1aWNrQWN0aW9uczogdHJ1ZSwgcGFnZXM6IHRydWUsIHNvY2lhbDogdHJ1ZSB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0cXVpY2tBY3Rpb25zOiB7IGVuYWJsZWQ6IHRydWUsIHRvZ2dsZU1vZGU6IHRydWUsIGdyYXBoVmlldzogdHJ1ZSwgY2hhbmdlVGhlbWU6IHRydWUgfVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLmVuYWJsZWQgPSAoY29tbWFuZFBhbGV0dGUuZW5hYmxlZCBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5lbmFibGVkO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlciA9IChjb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlciBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnBsYWNlaG9sZGVyO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCA9IChjb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCBhcyBzdHJpbmcgfCB1bmRlZmluZWQpID8/IHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNob3J0Y3V0O1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0aWYgKGNvbW1hbmRQYWxldHRlLnNlYXJjaCAmJiB0eXBlb2YgY29tbWFuZFBhbGV0dGUuc2VhcmNoID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaCA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaCxcblx0XHRcdFx0XHRcdFx0XHRcdC4uLmNvbW1hbmRQYWxldHRlLnNlYXJjaFxuXHRcdFx0XHRcdFx0XHRcdH0gYXMgdHlwZW9mIHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0aWYgKGNvbW1hbmRQYWxldHRlLnNlY3Rpb25zICYmIHR5cGVvZiBjb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLFxuXHRcdFx0XHRcdFx0XHRcdFx0Li4uY29tbWFuZFBhbGV0dGUuc2VjdGlvbnNcblx0XHRcdFx0XHRcdFx0XHR9IGFzIHR5cGVvZiBzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0aWYgKGNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyAmJiB0eXBlb2YgY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdC4uLnNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyxcblx0XHRcdFx0XHRcdFx0XHRcdC4uLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdH0gYXMgdHlwZW9mIHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucztcblx0XHRcdFx0XHRcdFx0XHQvLyBTeW5jIHRvIGZlYXR1cmVzLnF1aWNrQWN0aW9ucyBmb3IgY29uc2lzdGVuY3lcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQuLi5zZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMsXG5cdFx0XHRcdFx0XHRcdFx0XHQuLi5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnNcblx0XHRcdFx0XHRcdFx0XHR9IGFzIHR5cGVvZiBzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHRoZW1lXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy50aGVtZSkge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXJyZW50VGhlbWUgPSBjdXJyZW50Q29uZmlnLnRoZW1lIGFzIHR5cGVvZiBzZXR0aW5ncy5jdXJyZW50VGhlbWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSBzaXRlIGluZm9ybWF0aW9uXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy5zaXRlKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLnNpdGUgPSBjdXJyZW50Q29uZmlnLnNpdGUgYXMgc3RyaW5nO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcudGl0bGUpIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8udGl0bGUgPSBjdXJyZW50Q29uZmlnLnRpdGxlIGFzIHN0cmluZztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChjdXJyZW50Q29uZmlnLmRlc2NyaXB0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvLmRlc2NyaXB0aW9uID0gY3VycmVudENvbmZpZy5kZXNjcmlwdGlvbiBhcyBzdHJpbmc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudENvbmZpZy5hdXRob3IpIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8uYXV0aG9yID0gY3VycmVudENvbmZpZy5hdXRob3IgYXMgc3RyaW5nO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRDb25maWcubGFuZ3VhZ2UpIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Muc2l0ZUluZm8ubGFuZ3VhZ2UgPSBjdXJyZW50Q29uZmlnLmxhbmd1YWdlIGFzIHN0cmluZztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHRlbXBsYXRlIGJhc2VkIG9uIGN1cnJlbnQgc2V0dGluZ3Ncblx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBiaXQgdHJpY2t5IHNpbmNlIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIHRlbXBsYXRlIGJlc3QgbWF0Y2hlc1xuXHRcdFx0XHRcdFx0Ly8gRm9yIG5vdywgd2UnbGwgc2V0IGl0IHRvICdzdGFuZGFyZCcgc2luY2UgaXQncyBiZWVuIG1hbnVhbGx5IG1vZGlmaWVkXG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUgPSAnc3RhbmRhcmQnO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyBTYXZlIHRoZSB1cGRhdGVkIHNldHRpbmdzXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShzZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFJlZnJlc2ggdGhlIHNldHRpbmdzIHRhYiB0byBzaG93IHRoZSBzeW5jZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS50cmlnZ2VyU2V0dGluZ3NSZWZyZXNoKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1NldHRpbmdzIHN5bmNlZCBmcm9tIGNvbmZpZy50cyBzdWNjZXNzZnVsbHknKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIHN5bmMgZnJvbSBjb25maWcudHM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gUmVzZXQgdG8gVGVtcGxhdGUgYnV0dG9uXG5cdFx0YWR2YW5jZWRHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdSZXNldCB0byB0ZW1wbGF0ZScpXG5cdFx0XHRcdC5zZXREZXNjKGBSZXNldCBhbGwgc2V0dGluZ3MgdG8gdGhlIGN1cnJlbnQgdGVtcGxhdGUgKCR7VEVNUExBVEVfT1BUSU9OUy5maW5kKHQgPT4gdC5pZCA9PT0gc2V0dGluZ3MuY3VycmVudFRlbXBsYXRlKT8ubmFtZX0pYClcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ1Jlc2V0IHRvIHRlbXBsYXRlJylcblx0XHRcdFx0XHQuc2V0V2FybmluZygpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdC8vIFJlc2V0IHNldHRpbmdzIHRvIHRlbXBsYXRlIGRlZmF1bHRzXG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdC8vIExvYWQgdGhlIHRlbXBsYXRlIHByZXNldFxuXHRcdFx0XHRcdFx0Y29uc3QgdGVtcGxhdGVQcmVzZXQgPSAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5jb25maWdNYW5hZ2VyLmdldFRlbXBsYXRlUHJlc2V0KHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZSk7XG5cdFx0XHRcdFx0XHRpZiAodGVtcGxhdGVQcmVzZXQgJiYgdGVtcGxhdGVQcmVzZXQuY29uZmlnKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFByZXNlcnZlIHVzZXItc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBzaG91bGRuJ3QgYmUgcmVzZXRcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2VydmVkU2l0ZUluZm8gPSBzZXR0aW5ncy5zaXRlSW5mbztcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2VydmVkTmF2aWdhdGlvbiA9IHNldHRpbmdzLm5hdmlnYXRpb247XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHByZXNlcnZlZFRoZW1lID0gc2V0dGluZ3MuY3VycmVudFRoZW1lO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXJ2ZWRDb250ZW50T3JnID0gc2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbjtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2VydmVkVHlwb2dyYXBoeSA9IHNldHRpbmdzLnR5cG9ncmFwaHk7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHByZXNlcnZlZE9wdGlvbmFsRmVhdHVyZXMgPSBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXJ2ZWRSdW5XaXphcmRPblN0YXJ0dXAgPSBzZXR0aW5ncy5ydW5XaXphcmRPblN0YXJ0dXA7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQvLyBBcHBseSB0ZW1wbGF0ZSBmZWF0dXJlcyBhbmQgdGFibGUgb2YgY29udGVudHMgZnJvbSBwcmVzZXRcblx0XHRcdFx0XHRcdFx0aWYgKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcykge1xuXHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLmZlYXR1cmVzID0geyAuLi5zZXR0aW5ncy5mZWF0dXJlcywgLi4udGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzIH07XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ1JJVElDQUw6IFN5bmMgcG9zdE9wdGlvbnMgd2l0aCBmZWF0dXJlcyB0byBtYWludGFpbiBkYXRhIGludGVncml0eVxuXHRcdFx0XHRcdFx0XHRcdC8vIHBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkIGlzIHRoZSBzb3VyY2Ugb2YgdHJ1dGhcblx0XHRcdFx0XHRcdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmdyYXBoVmlldykge1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LmVuYWJsZWQgPSAoKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy5mZWF0dXJlcyBhcyB1bmtub3duKSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuZ3JhcGhWaWV3IGFzIGJvb2xlYW4gPz8gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mZWF0dXJlcy5ncmFwaFZpZXcgPSBzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuZW5hYmxlZDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3luYyBsaW5rZWQgbWVudGlvbnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnM/LmxpbmtlZE1lbnRpb25zKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBmZWF0dXJlcyA9ICh0ZW1wbGF0ZVByZXNldC5jb25maWcuZmVhdHVyZXMgYXMgdW5rbm93bikgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucy5lbmFibGVkID0gZmVhdHVyZXMubGlua2VkTWVudGlvbnMgYXMgYm9vbGVhbiA/PyBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzLnBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zLmxpbmtlZE1lbnRpb25zQ29tcGFjdCA9IGZlYXR1cmVzLmxpbmtlZE1lbnRpb25zQ29tcGFjdCBhcyBib29sZWFuID8/IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHQvLyBTeW5jIGNvbW1hbmQgcGFsZXR0ZSBxdWljayBhY3Rpb25zXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZmVhdHVyZXMgPSAodGVtcGxhdGVQcmVzZXQuY29uZmlnLmZlYXR1cmVzIGFzIHVua25vd24pIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZT8ucXVpY2tBY3Rpb25zICYmIGZlYXR1cmVzLnF1aWNrQWN0aW9ucykge1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zID0geyAuLi5zZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMsIC4uLmZlYXR1cmVzLnF1aWNrQWN0aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9O1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0aWYgKHRlbXBsYXRlUHJlc2V0LmNvbmZpZy50YWJsZU9mQ29udGVudHMpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5ncy50YWJsZU9mQ29udGVudHMgPSB7IC4uLnNldHRpbmdzLnRhYmxlT2ZDb250ZW50cywgLi4udGVtcGxhdGVQcmVzZXQuY29uZmlnLnRhYmxlT2ZDb250ZW50cyB9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQvLyBTZXQgdGVtcGxhdGUgbmFtZVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXJyZW50VGVtcGxhdGUgPSB0ZW1wbGF0ZVByZXNldC5jb25maWcuY3VycmVudFRlbXBsYXRlIHx8IHNldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgcHJlc2VydmVkIHNldHRpbmdzXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnNpdGVJbmZvID0gcHJlc2VydmVkU2l0ZUluZm87XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm5hdmlnYXRpb24gPSBwcmVzZXJ2ZWROYXZpZ2F0aW9uO1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5jdXJyZW50VGhlbWUgPSBwcmVzZXJ2ZWRUaGVtZTtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuY29udGVudE9yZ2FuaXphdGlvbiA9IHByZXNlcnZlZENvbnRlbnRPcmc7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnR5cG9ncmFwaHkgPSBwcmVzZXJ2ZWRUeXBvZ3JhcGh5O1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzID0gcHJlc2VydmVkT3B0aW9uYWxGZWF0dXJlcztcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MucnVuV2l6YXJkT25TdGFydHVwID0gcHJlc2VydmVkUnVuV2l6YXJkT25TdGFydHVwO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoc2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHQvLyBSZWxvYWQgc2V0dGluZ3MgdG8gZW5zdXJlIHRoZSBwbHVnaW4gaGFzIHRoZSBsYXRlc3QgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdGF3YWl0ICh0aGlzLnBsdWdpbiBhcyBBc3Ryb01vZHVsYXJQbHVnaW4pLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgdG8gY29uZmlnIGZpbGVcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKHRydWUpO1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBSZXNldCB0byAke3NldHRpbmdzLmN1cnJlbnRUZW1wbGF0ZX0gdGVtcGxhdGUgYW5kIGFwcGxpZWQgdG8gY29uZmlnLnRzYCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdUZW1wbGF0ZSBub3QgZm91bmQnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIHJlc2V0IHRvIHRlbXBsYXRlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pKTtcblx0XHR9KTtcblxuXHRcdC8vIFJlc2V0IHRvIGRlZmF1bHRzXG5cdFx0YWR2YW5jZWRHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKCdSZXNldCB0byBkZWZhdWx0cycpXG5cdFx0XHRcdC5zZXREZXNjKCdSZXNldCBhbGwgc2V0dGluZ3MgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZXMnKVxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnUmVzZXQgdG8gZGVmYXVsdHMnKVxuXHRcdFx0XHRcdC5zZXRXYXJuaW5nKClcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0dm9pZCAoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gQ3JlYXRlIGEgbmF0aXZlIE9ic2lkaWFuIGNvbmZpcm1hdGlvbiBtb2RhbFxuXHRcdFx0XHRcdFx0Y29uc3QgY29uZmlybU1vZGFsID0gbmV3IE1vZGFsKHRoaXMuYXBwKTtcblx0XHRcdFx0XHRcdGNvbmZpcm1Nb2RhbC50aXRsZUVsLnNldFRleHQoJ1Jlc2V0IHRvIGRlZmF1bHRzJyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGNvbnN0IGNvbnRlbnREaXYgPSBjb25maXJtTW9kYWwuY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdFx0XHRcdFx0Y29udGVudERpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCBhbGwgY29uZmlndXJhdGlvbiBzZXR0aW5ncyB0byBkZWZhdWx0cz8nIH0pO1xuXHRcdFx0XHRcdFx0Y29udGVudERpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ1RoaXMgd2lsbCBwcmVzZXJ2ZSB5b3VyIHNpdGUgaW5mbyBhbmQgbmF2aWdhdGlvbiBwYWdlcy9saW5rcy4nIH0pO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RGl2LmNyZWF0ZURpdigpO1xuXHRcdFx0XHRcdFx0YnV0dG9uQ29udGFpbmVyLnNldENzc1Byb3BzKHtcblx0XHRcdFx0XHRcdFx0bWFyZ2luVG9wOiAnMjBweCcsXG5cdFx0XHRcdFx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdFx0XHRcdFx0Z2FwOiAnMTBweCcsXG5cdFx0XHRcdFx0XHRcdGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gQ2FuY2VsIGJ1dHRvblxuXHRcdFx0XHRcdFx0Y29uc3QgY2FuY2VsQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDYW5jZWwnIH0pO1xuXHRcdFx0XHRcdFx0Y2FuY2VsQnV0dG9uLmNsYXNzTmFtZSA9ICdtb2QtYnV0dG9uJztcblx0XHRcdFx0XHRcdGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0Y29uZmlybU1vZGFsLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gQ29uZmlybSBidXR0b25cblx0XHRcdFx0XHRcdGNvbnN0IGNvbmZpcm1CdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1Jlc2V0IHRvIGRlZmF1bHRzJyB9KTtcblx0XHRcdFx0XHRcdGNvbmZpcm1CdXR0b24uY2xhc3NOYW1lID0gJ21vZC13YXJuaW5nJztcblx0XHRcdFx0XHRcdGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZvaWQgKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRjb25maXJtTW9kYWwuY2xvc2UoKTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHQvLyBSZXNldCBvbmx5IGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MsIHByZXNlcnZlIHNpdGUgaW5mbyBhbmQgbmF2aWdhdGlvbiBwYWdlcy9saW5rc1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHByZXNlcnZlZFNpdGVJbmZvID0gc2V0dGluZ3Muc2l0ZUluZm87XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcHJlc2VydmVkTmF2aWdhdGlvblBhZ2VzID0gc2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlcztcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXJ2ZWROYXZpZ2F0aW9uU29jaWFsID0gc2V0dGluZ3MubmF2aWdhdGlvbi5zb2NpYWw7XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmVzZXQgdG8gZGVmYXVsdHNcblx0XHRcdFx0XHRcdFx0XHRjb25zdCByZXNldFNldHRpbmdzID0geyAuLi5ERUZBVUxUX1NFVFRJTkdTIH07XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBwcmVzZXJ2ZWQgc2V0dGluZ3Ncblx0XHRcdFx0XHRcdFx0XHRyZXNldFNldHRpbmdzLnNpdGVJbmZvID0gcHJlc2VydmVkU2l0ZUluZm87XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUHJlc2VydmUgb25seSB1c2VyJ3MgcGFnZXMgYW5kIHNvY2lhbCBsaW5rcywgcmVzZXQgZGlzcGxheSBzZXR0aW5ncyB0byBkZWZhdWx0c1xuXHRcdFx0XHRcdFx0XHRcdHJlc2V0U2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlcyA9IHByZXNlcnZlZE5hdmlnYXRpb25QYWdlcztcblx0XHRcdFx0XHRcdFx0XHRyZXNldFNldHRpbmdzLm5hdmlnYXRpb24uc29jaWFsID0gcHJlc2VydmVkTmF2aWdhdGlvblNvY2lhbDtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHQvLyBVcGRhdGUgdGhlIHBsdWdpbidzIG1haW4gc2V0dGluZ3Mgb2JqZWN0XG5cdFx0XHRcdFx0XHRcdFx0KHRoaXMucGx1Z2luIGFzIEFzdHJvTW9kdWxhclBsdWdpbikuc2V0dGluZ3MgPSByZXNldFNldHRpbmdzO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHJlc2V0U2V0dGluZ3MpO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEVuc3VyZSBzZXR0aW5ncyBhcmUgbG9hZGVkIGFmdGVyIHNhdmVcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS5sb2FkU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHQvLyBBcHBseSB0aGUgcmVzZXQgY29uZmlndXJhdGlvbiB0byBjb25maWcudHNcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHBseUN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdDb25maWd1cmF0aW9uIHJlc2V0IHRvIGRlZmF1bHRzIGFuZCBhcHBsaWVkIHRvIGNvbmZpZy50cyAoc2l0ZSBpbmZvIGFuZCBuYXZpZ2F0aW9uIHBhZ2VzL2xpbmtzIHByZXNlcnZlZCknKTtcblx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgQ29uZmlndXJhdGlvbiByZXNldCBidXQgZmFpbGVkIHRvIGFwcGx5IHRvIGNvbmZpZy50czogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFJlZnJlc2ggdGhlIHNldHRpbmdzIHRhYiB0byBzaG93IHRoZSByZXNldCB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCAodGhpcy5wbHVnaW4gYXMgQXN0cm9Nb2R1bGFyUGx1Z2luKS50cmlnZ2VyU2V0dGluZ3NSZWZyZXNoKCk7XG5cdFx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gRm9jdXMgdGhlIGNvbmZpcm0gYnV0dG9uXG5cdFx0XHRcdFx0XHRjb25maXJtQnV0dG9uLmZvY3VzKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGNvbmZpcm1Nb2RhbC5vcGVuKCk7XG5cdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0fSkpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gRXhwb3J0IGNvbmZpZ3VyYXRpb25cblx0XHRhZHZhbmNlZEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoJ0V4cG9ydCBjb25maWd1cmF0aW9uJylcblx0XHRcdFx0LnNldERlc2MoJ0V4cG9ydCB5b3VyIGN1cnJlbnQgY29uZmlndXJhdGlvbiBhcyBKU09OJylcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0V4cG9ydCBKU09OJylcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLmV4cG9ydENvbmZpZ3VyYXRpb24oKTtcblx0XHRcdFx0XHR9KSk7XG5cdFx0fSk7XG5cblx0XHQvLyBJbXBvcnQgY29uZmlndXJhdGlvblxuXHRcdGFkdmFuY2VkR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZSgnSW1wb3J0IGNvbmZpZ3VyYXRpb24nKVxuXHRcdFx0XHQuc2V0RGVzYygnSW1wb3J0IGNvbmZpZ3VyYXRpb24gZnJvbSBKU09OIGZpbGUnKVxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnSW1wb3J0IEpTT04nKVxuXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuaW1wb3J0Q29uZmlndXJhdGlvbigpO1xuXHRcdFx0XHRcdH0pKTtcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgZXhwb3J0Q29uZmlndXJhdGlvbigpOiB2b2lkIHtcbiAgY29uc3QgY29uZmlnSnNvbiA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0U2V0dGluZ3MoKSwgbnVsbCwgMik7XG5cdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjb25maWdKc29uXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XG5cdFx0Y29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcblx0XHRjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRcdGEuaHJlZiA9IHVybDtcblx0XHRhLmRvd25sb2FkID0gJ2FzdHJvLW1vZHVsYXItY29uZmlnLmpzb24nO1xuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG5cdFx0YS5jbGljaygpO1xuXHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuXHRcdFxuXHRcdG5ldyBOb3RpY2UoJ0NvbmZpZ3VyYXRpb24gZXhwb3J0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuXHR9XG5cblx0cHJpdmF0ZSBpbXBvcnRDb25maWd1cmF0aW9uKCk6IHZvaWQge1xuXHRcdGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblx0XHRpbnB1dC50eXBlID0gJ2ZpbGUnO1xuXHRcdGlucHV0LmFjY2VwdCA9ICcuanNvbic7XG5cdFx0aW5wdXQub25jaGFuZ2UgPSBhc3luYyAoZSkgPT4ge1xuXHRcdFx0Y29uc3QgZmlsZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5maWxlcz8uWzBdO1xuXHRcdFx0aWYgKGZpbGUpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCB0ZXh0ID0gYXdhaXQgZmlsZS50ZXh0KCk7XG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuXHRcdFx0XHRcdGNvbnN0IGltcG9ydGVkU2V0dGluZ3MgPSBKU09OLnBhcnNlKHRleHQpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIE1lcmdlIHdpdGggY3VycmVudCBzZXR0aW5nc1xuXHRcdFx0XHRcdGNvbnN0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5ncygpO1xuXHRcdFx0XHRcdE9iamVjdC5hc3NpZ24oc2V0dGluZ3MsIGltcG9ydGVkU2V0dGluZ3MpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHNldHRpbmdzKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBSZWZyZXNoIHRoZSBzZXR0aW5ncyB0YWIgdG8gc2hvdyBpbXBvcnRlZCBzZXR0aW5nc1xuXHRcdFx0XHRcdC8vIE5vdGU6IFRoaXMgd291bGQgbmVlZCB0byBiZSBoYW5kbGVkIGJ5IHRoZSBwYXJlbnQgY29tcG9uZW50XG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnQ29uZmlndXJhdGlvbiBpbXBvcnRlZCBzdWNjZXNzZnVsbHkhJyk7XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBpbXBvcnQgY29uZmlndXJhdGlvbi4gUGxlYXNlIGNoZWNrIHRoZSBmaWxlIGZvcm1hdC4nKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0aW5wdXQuY2xpY2soKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgb3BlbkNvbmZpZ0ZpbGUoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxuXHRcdFx0Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpIGFzIHR5cGVvZiBpbXBvcnQoJ2ZzJyk7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcblx0XHRcdGNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJykgYXMgdHlwZW9mIGltcG9ydCgncGF0aCcpO1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciAtIGVsZWN0cm9uIGlzIG9ubHkgYXZhaWxhYmxlIGluIEVsZWN0cm9uIGVudmlyb25tZW50XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcblx0XHRcdGNvbnN0IGVsZWN0cm9uTW9kdWxlID0gcmVxdWlyZSgnZWxlY3Ryb24nKSBhcyB1bmtub3duIGFzIHsgc2hlbGw/OiB0eXBlb2YgaW1wb3J0KCdlbGVjdHJvbicpLnNoZWxsIH07XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG5cdFx0XHRjb25zdCBzaGVsbCA9IGVsZWN0cm9uTW9kdWxlLnNoZWxsO1xuXHRcdFx0aWYgKCFzaGVsbCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VsZWN0cm9uIHNoZWxsIEFQSSBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIEdldCB0aGUgYWN0dWFsIHZhdWx0IHBhdGggc3RyaW5nIGZyb20gdGhlIGFkYXB0ZXJcblx0XHRcdGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIHsgYmFzZVBhdGg/OiBzdHJpbmc7IHBhdGg/OiBzdHJpbmcgfTtcblx0XHRcdGNvbnN0IHZhdWx0UGF0aCA9IGFkYXB0ZXIuYmFzZVBhdGggfHwgYWRhcHRlci5wYXRoO1xuXHRcdFx0Y29uc3QgdmF1bHRQYXRoU3RyaW5nID0gdHlwZW9mIHZhdWx0UGF0aCA9PT0gJ3N0cmluZycgPyB2YXVsdFBhdGggOiAodmF1bHRQYXRoID8gU3RyaW5nKHZhdWx0UGF0aCkgOiAnJyk7XG5cdFx0XHRjb25zdCBjb25maWdQYXRoID0gcGF0aC5qb2luKHZhdWx0UGF0aFN0cmluZywgJy4uJywgJ2NvbmZpZy50cycpO1xuXHRcdFx0XG5cdFx0XHRpZiAoZnMuZXhpc3RzU3luYyhjb25maWdQYXRoKSkge1xuXHRcdFx0XHQvLyBVc2UgRWxlY3Ryb24ncyBzaGVsbCB0byBvcGVuIHRoZSBmaWxlIHdpdGggdGhlIGRlZmF1bHQgZWRpdG9yXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWNhbGwsIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuXHRcdFx0XHRzaGVsbC5vcGVuUGF0aChjb25maWdQYXRoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYENvbmZpZyBmaWxlIG5vdCBmb3VuZCBhdDogJHtjb25maWdQYXRofWApO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFN0cmluZyhlcnIpO1xuXHRcdFx0bmV3IE5vdGljZShgRXJyb3Igb3BlbmluZyBjb25maWcgZmlsZTogJHtlcnJvck1lc3NhZ2V9YCk7XG5cdFx0fVxuXHR9XG59IiwgImltcG9ydCB7IEFwcCwgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IENvbmZpZ0ZpbGVJbmZvLCBPYnNpZGlhblZhdWx0QWRhcHRlciB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWdGaWxlTWFuYWdlciB7XHJcblx0cHJpdmF0ZSBhcHA6IEFwcDtcclxuXHRwcml2YXRlIGNvbmZpZ1BhdGg6IHN0cmluZztcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuXHRcdHRoaXMuYXBwID0gYXBwO1xyXG5cdFx0Ly8gVGhlIG1haW4gQXN0cm8gY29uZmlnLnRzIGZpbGUgaXMgYXQgc3JjL2NvbmZpZy50cyAodHdvIGxldmVscyB1cCBmcm9tIHZhdWx0KVxyXG5cdFx0dGhpcy5jb25maWdQYXRoID0gJy4uLy4uL3NyYy9jb25maWcudHMnO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZ2V0Q29uZmlnRmlsZUluZm8oKTogUHJvbWlzZTxDb25maWdGaWxlSW5mbz4ge1xyXG5cdFx0Ly8gVGhlIG1haW4gQXN0cm8gY29uZmlnLnRzIGZpbGUgaXMgYXQgc3JjL2NvbmZpZy50cyAodHdvIGxldmVscyB1cCBmcm9tIHZhdWx0KVxyXG5cdFx0Ly8gTk9URTogVGhpcyBwbHVnaW4gYWNjZXNzZXMgZmlsZXMgb3V0c2lkZSB0aGUgT2JzaWRpYW4gdmF1bHQgdG8gbWFuYWdlIEFzdHJvIGNvbmZpZ3VyYXRpb24uXHJcblx0XHQvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgdGhlIHBsdWdpbidzIGNvcmUgZnVuY3Rpb25hbGl0eSBvZiBtYW5hZ2luZyBBc3RybyBNb2R1bGFyIHRoZW1lIHNldHRpbmdzLlxyXG5cdFx0XHJcblx0XHQvLyBUcnkgdG8gYWNjZXNzIHRoZSBmaWxlIG91dHNpZGUgdGhlIHZhdWx0IHVzaW5nIE5vZGUuanMgZnNcclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzLCBuby11bmRlZlxyXG5cdFx0Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpIGFzIHR5cGVvZiBpbXBvcnQoJ2ZzJyk7XHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcclxuXHRcdGNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJykgYXMgdHlwZW9mIGltcG9ydCgncGF0aCcpO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gR2V0IHRoZSBhY3R1YWwgdmF1bHQgcGF0aCBzdHJpbmcgZnJvbSB0aGUgYWRhcHRlclxyXG5cdFx0XHRjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBPYnNpZGlhblZhdWx0QWRhcHRlcjtcclxuXHRcdFx0Y29uc3QgdmF1bHRQYXRoID0gYWRhcHRlci5iYXNlUGF0aCB8fCBhZGFwdGVyLnBhdGg7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBJZiB2YXVsdFBhdGggaXMgYW4gb2JqZWN0LCB0cnkgdG8gZ2V0IHRoZSBzdHJpbmcgdmFsdWVcclxuXHRcdFx0Y29uc3QgdmF1bHRQYXRoU3RyaW5nID0gdHlwZW9mIHZhdWx0UGF0aCA9PT0gJ3N0cmluZycgPyB2YXVsdFBhdGggOiAodmF1bHRQYXRoID8gU3RyaW5nKHZhdWx0UGF0aCkgOiAnJyk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCBjb25maWdQYXRoID0gcGF0aC5qb2luKHZhdWx0UGF0aFN0cmluZywgJy4uJywgJy4uJywgJ3NyYycsICdjb25maWcudHMnKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmIChmcy5leGlzdHNTeW5jKGNvbmZpZ1BhdGgpKSB7XHJcblx0XHRcdFx0Y29uc3QgY29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhjb25maWdQYXRoLCAndXRmOCcpO1xyXG5cdFx0XHRcdGNvbnN0IHN0YXRzID0gZnMuc3RhdFN5bmMoY29uZmlnUGF0aCk7XHJcblx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdGV4aXN0czogdHJ1ZSxcclxuXHRcdFx0XHRcdHBhdGg6IGNvbmZpZ1BhdGgsXHJcblx0XHRcdFx0XHRjb250ZW50OiBjb250ZW50LFxyXG5cdFx0XHRcdFx0bGFzdE1vZGlmaWVkOiBuZXcgRGF0ZShzdGF0cy5tdGltZSksXHJcblx0XHRcdFx0XHR2YWxpZDogdHJ1ZSxcclxuXHRcdFx0XHRcdGVycm9yczogW11cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRleGlzdHM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0cGF0aDogY29uZmlnUGF0aCxcclxuXHRcdFx0XHRcdGNvbnRlbnQ6ICcnLFxyXG5cdFx0XHRcdFx0bGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0dmFsaWQ6IGZhbHNlLFxyXG5cdFx0XHRcdFx0ZXJyb3JzOiBbJ0NvbmZpZyBmaWxlIG5vdCBmb3VuZCddXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0ZXhpc3RzOiBmYWxzZSxcclxuXHRcdFx0XHRwYXRoOiB0aGlzLmNvbmZpZ1BhdGgsXHJcblx0XHRcdFx0Y29udGVudDogJycsXHJcblx0XHRcdFx0bGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdHZhbGlkOiBmYWxzZSxcclxuXHRcdFx0XHRlcnJvcnM6IFsnQ2Fubm90IGFjY2VzcyBmaWxlIG91dHNpZGUgdmF1bHQnXVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZUNvbmZpZ0NvbnRlbnQoY29udGVudDogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHQvLyBCYXNpYyB2YWxpZGF0aW9uIC0gY2hlY2sgZm9yIGNvbW1vbiBBc3RybyBjb25maWcgcGF0dGVybnNcclxuXHRcdHJldHVybiBjb250ZW50LmluY2x1ZGVzKCdkZWZpbmVDb25maWcnKSB8fCBcclxuXHRcdFx0ICAgY29udGVudC5pbmNsdWRlcygnZXhwb3J0IGRlZmF1bHQnKSB8fFxyXG5cdFx0XHQgICBjb250ZW50LmluY2x1ZGVzKCdhc3Ryby9jb25maWcnKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlYWRDb25maWcoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRcdGNvbnN0IGZpbGVJbmZvID0gYXdhaXQgdGhpcy5nZXRDb25maWdGaWxlSW5mbygpO1xyXG5cdFx0cmV0dXJuIGZpbGVJbmZvLmNvbnRlbnQ7XHJcblx0fVxyXG5cclxuXHRhc3luYyB3cml0ZUNvbmZpZyhjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdC8vIFRyeSB0byB3cml0ZSB0aGUgZmlsZSBvdXRzaWRlIHRoZSB2YXVsdCB1c2luZyBOb2RlLmpzIGZzXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cywgbm8tdW5kZWZcclxuXHRcdGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKSBhcyB0eXBlb2YgaW1wb3J0KCdmcycpO1xyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIG5vLXVuZGVmXHJcblx0XHRjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpIGFzIHR5cGVvZiBpbXBvcnQoJ3BhdGgnKTtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEdldCB0aGUgYWN0dWFsIHZhdWx0IHBhdGggc3RyaW5nIGZyb20gdGhlIGFkYXB0ZXJcclxuXHRcdFx0Y29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgT2JzaWRpYW5WYXVsdEFkYXB0ZXI7XHJcblx0XHRcdGNvbnN0IHZhdWx0UGF0aCA9IGFkYXB0ZXIuYmFzZVBhdGggfHwgYWRhcHRlci5wYXRoO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gSWYgdmF1bHRQYXRoIGlzIGFuIG9iamVjdCwgdHJ5IHRvIGdldCB0aGUgc3RyaW5nIHZhbHVlXHJcblx0XHRcdGNvbnN0IHZhdWx0UGF0aFN0cmluZyA9IHR5cGVvZiB2YXVsdFBhdGggPT09ICdzdHJpbmcnID8gdmF1bHRQYXRoIDogKHZhdWx0UGF0aCA/IFN0cmluZyh2YXVsdFBhdGgpIDogJycpO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgY29uZmlnUGF0aCA9IHBhdGguam9pbih2YXVsdFBhdGhTdHJpbmcsICcuLicsICcuLicsICdzcmMnLCAnY29uZmlnLnRzJyk7XHJcblx0XHRcdFxyXG5cdFx0XHRmcy53cml0ZUZpbGVTeW5jKGNvbmZpZ1BhdGgsIGNvbnRlbnQsICd1dGY4Jyk7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBjYXRjaCB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGRldGVjdEFzdHJvRGV2U2VydmVyKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG5cdFx0Ly8gQ2hlY2sgaWYgQXN0cm8gZGV2IHNlcnZlciBpcyBydW5uaW5nIGJ5IGxvb2tpbmcgZm9yIGNvbW1vbiBpbmRpY2F0b3JzXHJcblx0XHQvLyBUaGlzIGlzIGEgc2ltcGxpZmllZCBjaGVjayAtIGluIHJlYWxpdHkgeW91J2QgbmVlZCBtb3JlIHNvcGhpc3RpY2F0ZWQgZGV0ZWN0aW9uXHJcblx0XHRjb25zdCBwYWNrYWdlSnNvbiA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCgncGFja2FnZS5qc29uJyk7XHJcblx0XHRpZiAocGFja2FnZUpzb24gJiYgcGFja2FnZUpzb24gaW5zdGFuY2VvZiBURmlsZSkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKHBhY2thZ2VKc29uKTtcclxuXHRcdFx0XHRyZXR1cm4gY29udGVudC5pbmNsdWRlcygnYXN0cm8nKSAmJiBjb250ZW50LmluY2x1ZGVzKCdkZXYnKTtcclxuXHRcdFx0fSBjYXRjaCB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRhc3luYyBwYXJzZUNvbmZpZ0ZpbGUoY29udGVudD86IHN0cmluZyk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsPiB7XHJcblx0XHQvLyBQYXJzZSB0aGUgY29uZmlnLnRzIGZpbGUgdG8gZXh0cmFjdCBjdXJyZW50IHNldHRpbmdzXHJcblx0XHQvLyBUaGlzIGV4dHJhY3RzIGFsbCBrZXkgc2V0dGluZ3MgZnJvbSB0aGUgY29uZmlnIHVzaW5nIHRoZSBtYXJrZXIgc3lzdGVtXHJcblx0XHRcclxuXHRcdGNvbnN0IGNvbmZpZ0NvbnRlbnQgPSBjb250ZW50IHx8IGF3YWl0IHRoaXMucmVhZENvbmZpZygpO1xyXG5cdFx0aWYgKCFjb25maWdDb250ZW50KSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNvbmZpZzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuXHJcblx0XHQvLyBFeHRyYWN0IHNpdGUgaW5mb3JtYXRpb25cclxuXHRcdGNvbnN0IHNpdGVJbmZvOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xyXG5cdFx0Y29uc3Qgc2l0ZVVybE1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX1VSTFxcXVxccypcXG5cXHMqc2l0ZTpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAoc2l0ZVVybE1hdGNoKSB7XHJcblx0XHRcdHNpdGVJbmZvLnNpdGUgPSBzaXRlVXJsTWF0Y2hbMV07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNpdGVUaXRsZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX1RJVExFXFxdXFxzKlxcblxccyp0aXRsZTpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAoc2l0ZVRpdGxlTWF0Y2gpIHtcclxuXHRcdFx0c2l0ZUluZm8udGl0bGUgPSBzaXRlVGl0bGVNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3Qgc2l0ZURlc2NNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6U0lURV9ERVNDUklQVElPTlxcXVxccypcXG5cXHMqZGVzY3JpcHRpb246XFxzKlwiKFteXCJdKilcIi8pO1xyXG5cdFx0aWYgKHNpdGVEZXNjTWF0Y2gpIHtcclxuXHRcdFx0c2l0ZUluZm8uZGVzY3JpcHRpb24gPSBzaXRlRGVzY01hdGNoWzFdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBzaXRlQXV0aG9yTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfQVVUSE9SXFxdXFxzKlxcblxccyphdXRob3I6XFxzKlwiKFteXCJdKilcIi8pO1xyXG5cdFx0aWYgKHNpdGVBdXRob3JNYXRjaCkge1xyXG5cdFx0XHRzaXRlSW5mby5hdXRob3IgPSBzaXRlQXV0aG9yTWF0Y2hbMV07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNpdGVMYW5nTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfTEFOR1VBR0VcXF1cXHMqXFxuXFxzKmxhbmd1YWdlOlxccypcIihbXlwiXSopXCIvKTtcclxuXHRcdGlmIChzaXRlTGFuZ01hdGNoKSB7XHJcblx0XHRcdHNpdGVJbmZvLmxhbmd1YWdlID0gc2l0ZUxhbmdNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdGNvbmZpZy5zaXRlSW5mbyA9IHNpdGVJbmZvO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmYXZpY29uVGhlbWVBZGFwdGl2ZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpGQVZJQ09OX1RIRU1FX0FEQVBUSVZFXFxdXFxzKlxcblxccypmYXZpY29uVGhlbWVBZGFwdGl2ZTpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoZmF2aWNvblRoZW1lQWRhcHRpdmVNYXRjaCkge1xyXG5cdFx0XHRjb25maWcuZmF2aWNvblRoZW1lQWRhcHRpdmUgPSBmYXZpY29uVGhlbWVBZGFwdGl2ZU1hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IGRlZmF1bHRPZ0ltYWdlQWx0TWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkRFRkFVTFRfT0dfSU1BR0VfQUxUXFxdXFxzKlxcblxccypkZWZhdWx0T2dJbWFnZUFsdDpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAoZGVmYXVsdE9nSW1hZ2VBbHRNYXRjaCkge1xyXG5cdFx0XHRjb25maWcuZGVmYXVsdE9nSW1hZ2VBbHQgPSBkZWZhdWx0T2dJbWFnZUFsdE1hdGNoWzFdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV4dHJhY3QgdGhlbWVcclxuXHRcdGNvbnN0IHRoZW1lTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlRIRU1FXFxdXFxzKlxcblxccyp0aGVtZTpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAodGhlbWVNYXRjaCkge1xyXG5cdFx0XHRjb25maWcuY3VycmVudFRoZW1lID0gdGhlbWVNYXRjaFsxXTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWN0IGF2YWlsYWJsZSB0aGVtZXNcclxuXHRcdGNvbnN0IGF2YWlsYWJsZVRoZW1lc01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpBVkFJTEFCTEVfVEhFTUVTXFxdXFxzKlxcblxccyphdmFpbGFibGVUaGVtZXM6XFxzKig/OlwiZGVmYXVsdFwifFxcW1teXFxdXSpcXF0pLyk7XHJcblx0XHRpZiAoYXZhaWxhYmxlVGhlbWVzTWF0Y2gpIHtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBhdmFpbGFibGVUaGVtZXNNYXRjaFswXS5tYXRjaCgvYXZhaWxhYmxlVGhlbWVzOlxccyooLispJC8pPy5bMV07XHJcblx0XHRcdGlmICh2YWx1ZSA9PT0gJ1wiZGVmYXVsdFwiJykge1xyXG5cdFx0XHRcdGNvbmZpZy5hdmFpbGFibGVUaGVtZXMgPSAnZGVmYXVsdCc7XHJcblx0XHRcdH0gZWxzZSBpZiAodmFsdWU/LnN0YXJ0c1dpdGgoJ1snKSAmJiB2YWx1ZT8uZW5kc1dpdGgoJ10nKSkge1xyXG5cdFx0XHRcdC8vIFBhcnNlIGFycmF5IGZvcm1hdDogW1wib3h5Z2VuXCIsIFwibWluaW1hbFwiLCBcIm5vcmRcIl1cclxuXHRcdFx0XHRjb25zdCB0aGVtZXNBcnJheSA9IHZhbHVlLnNsaWNlKDEsIC0xKS5zcGxpdCgnLCcpLm1hcCh0aGVtZSA9PiB0aGVtZS50cmltKCkucmVwbGFjZSgvXCIvZywgJycpKTtcclxuXHRcdFx0XHRjb25maWcuYXZhaWxhYmxlVGhlbWVzID0gdGhlbWVzQXJyYXk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWN0IGN1c3RvbSB0aGVtZXNcclxuXHRcdGNvbnN0IGN1c3RvbVRoZW1lc01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDVVNUT01fVEhFTUVTXFxdXFxzKlxcblxccypjdXN0b21UaGVtZXM6XFxzKlwiW15cIl0qXCIvKTtcclxuXHRcdGlmIChjdXN0b21UaGVtZXNNYXRjaCkge1xyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IGN1c3RvbVRoZW1lc01hdGNoWzBdLm1hdGNoKC9jdXN0b21UaGVtZXM6XFxzKlwiKFteXCJdKilcIi8pPy5bMV07XHJcblx0XHRcdGNvbmZpZy5jdXN0b21UaGVtZXMgPSB2YWx1ZSB8fCAnJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWN0IHR5cG9ncmFwaHkgc2V0dGluZ3NcclxuXHRcdGNvbnN0IHR5cG9ncmFwaHk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRjb25zdCBmb250U291cmNlTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfU09VUkNFXFxdXFxzKlxcblxccypzb3VyY2U6XFxzKlwiKFteXCJdKilcIi8pO1xyXG5cdFx0aWYgKGZvbnRTb3VyY2VNYXRjaCkge1xyXG5cdFx0XHR0eXBvZ3JhcGh5LmZvbnRTb3VyY2UgPSBmb250U291cmNlTWF0Y2hbMV07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IGZvbnRCb2R5TWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfQk9EWVxcXVxccypcXG5cXHMqYm9keTpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAoZm9udEJvZHlNYXRjaCkge1xyXG5cdFx0XHR0eXBvZ3JhcGh5LnByb3NlRm9udCA9IGZvbnRCb2R5TWF0Y2hbMV07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IGZvbnRIZWFkaW5nTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfSEVBRElOR1xcXVxccypcXG5cXHMqaGVhZGluZzpcXHMqXCIoW15cIl0qKVwiLyk7XHJcblx0XHRpZiAoZm9udEhlYWRpbmdNYXRjaCkge1xyXG5cdFx0XHR0eXBvZ3JhcGh5LmhlYWRpbmdGb250ID0gZm9udEhlYWRpbmdNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgZm9udE1vbm9NYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9NT05PXFxdXFxzKlxcblxccyptb25vOlxccypcIihbXlwiXSopXCIvKTtcclxuXHRcdGlmIChmb250TW9ub01hdGNoKSB7XHJcblx0XHRcdHR5cG9ncmFwaHkubW9ub0ZvbnQgPSBmb250TW9ub01hdGNoWzFdO1xyXG5cdFx0fVxyXG5cdFx0Y29uZmlnLnR5cG9ncmFwaHkgPSB0eXBvZ3JhcGh5O1xyXG5cclxuXHRcdC8vIEV4dHJhY3QgbmF2aWdhdGlvbiBzZXR0aW5nc1xyXG5cdFx0Y29uc3QgbmF2aWdhdGlvbjogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7IHBhZ2VzOiBbXSwgc29jaWFsOiBbXSB9O1xyXG5cdFx0XHJcblx0XHQvLyBFeHRyYWN0IG5hdmlnYXRpb24gcGFnZXMgKHN1cHBvcnRzIG5lc3RlZCBzdHJ1Y3R1cmUpXHJcblx0XHRjb25zdCBwYWdlc01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpOQVZJR0FUSU9OX1BBR0VTXFxdXFxzKlxcblxccypwYWdlczpcXHMqXFxbKFtcXHNcXFNdKj8pXFxdLyk7XHJcblx0XHRpZiAocGFnZXNNYXRjaCkge1xyXG5cdFx0XHRjb25zdCBwYWdlc0NvbnRlbnQgPSBwYWdlc01hdGNoWzFdO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gUGFyc2UgbmF2aWdhdGlvbiBpdGVtcyAoc3VwcG9ydHMgbmVzdGVkIGNoaWxkcmVuKVxyXG5cdFx0XHRjb25zdCBwYXJzZU5hdmlnYXRpb25JdGVtID0gKGNvbnRlbnQ6IHN0cmluZywgc3RhcnRQb3M6IG51bWJlciA9IDApOiB7IGl0ZW06IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgbnVsbCwgZW5kUG9zOiBudW1iZXIgfSA9PiB7XHJcblx0XHRcdFx0bGV0IHBvcyA9IHN0YXJ0UG9zO1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW06IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gU2tpcCB3aGl0ZXNwYWNlXHJcblx0XHRcdFx0d2hpbGUgKHBvcyA8IGNvbnRlbnQubGVuZ3RoICYmIC9cXHMvLnRlc3QoY29udGVudFtwb3NdKSkgcG9zKys7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gRmluZCBvcGVuaW5nIGJyYWNlXHJcblx0XHRcdFx0aWYgKGNvbnRlbnRbcG9zXSAhPT0gJ3snKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4geyBpdGVtOiBudWxsLCBlbmRQb3M6IHBvcyB9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRwb3MrKztcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBQYXJzZSBmaWVsZHNcclxuXHRcdFx0XHR3aGlsZSAocG9zIDwgY29udGVudC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdC8vIFNraXAgd2hpdGVzcGFjZVxyXG5cdFx0XHRcdFx0d2hpbGUgKHBvcyA8IGNvbnRlbnQubGVuZ3RoICYmIC9cXHMvLnRlc3QoY29udGVudFtwb3NdKSkgcG9zKys7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIENoZWNrIGZvciBjbG9zaW5nIGJyYWNlXHJcblx0XHRcdFx0XHRpZiAoY29udGVudFtwb3NdID09PSAnfScpIHtcclxuXHRcdFx0XHRcdFx0cG9zKys7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBQYXJzZSBmaWVsZCBuYW1lXHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZE1hdGNoID0gY29udGVudC5zbGljZShwb3MpLm1hdGNoKC9eKFxcdyspOlxccyovKTtcclxuXHRcdFx0XHRcdGlmICghZmllbGRNYXRjaCkge1xyXG5cdFx0XHRcdFx0XHRwb3MrKztcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZE5hbWUgPSBmaWVsZE1hdGNoWzFdO1xyXG5cdFx0XHRcdFx0cG9zICs9IGZpZWxkTWF0Y2hbMF0ubGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBQYXJzZSBmaWVsZCB2YWx1ZVxyXG5cdFx0XHRcdFx0aWYgKGZpZWxkTmFtZSA9PT0gJ3RpdGxlJyB8fCBmaWVsZE5hbWUgPT09ICd1cmwnKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHZhbHVlTWF0Y2ggPSBjb250ZW50LnNsaWNlKHBvcykubWF0Y2goL15cIihbXlwiXSopXCIvKTtcclxuXHRcdFx0XHRcdFx0aWYgKHZhbHVlTWF0Y2gpIHtcclxuXHRcdFx0XHRcdFx0XHRpdGVtW2ZpZWxkTmFtZV0gPSB2YWx1ZU1hdGNoWzFdO1xyXG5cdFx0XHRcdFx0XHRcdHBvcyArPSB2YWx1ZU1hdGNoWzBdLmxlbmd0aDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChmaWVsZE5hbWUgPT09ICdjaGlsZHJlbicpIHtcclxuXHRcdFx0XHRcdFx0Ly8gUGFyc2UgY2hpbGRyZW4gYXJyYXlcclxuXHRcdFx0XHRcdFx0cG9zKys7IC8vIHNraXAgJ1snXHJcblx0XHRcdFx0XHRcdGNvbnN0IGNoaWxkcmVuOiBBcnJheTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gPSBbXTtcclxuXHRcdFx0XHRcdFx0d2hpbGUgKHBvcyA8IGNvbnRlbnQubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gU2tpcCB3aGl0ZXNwYWNlXHJcblx0XHRcdFx0XHRcdFx0d2hpbGUgKHBvcyA8IGNvbnRlbnQubGVuZ3RoICYmIC9cXHMvLnRlc3QoY29udGVudFtwb3NdKSkgcG9zKys7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly8gQ2hlY2sgZm9yIGNsb3NpbmcgYnJhY2tldFxyXG5cdFx0XHRcdFx0XHRcdGlmIChjb250ZW50W3Bvc10gPT09ICddJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0cG9zKys7XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly8gUGFyc2UgY2hpbGQgaXRlbVxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNoaWxkUmVzdWx0ID0gcGFyc2VOYXZpZ2F0aW9uSXRlbShjb250ZW50LCBwb3MpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChjaGlsZFJlc3VsdC5pdGVtKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbi5wdXNoKGNoaWxkUmVzdWx0Lml0ZW0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0cG9zID0gY2hpbGRSZXN1bHQuZW5kUG9zO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly8gU2tpcCBjb21tYVxyXG5cdFx0XHRcdFx0XHRcdHdoaWxlIChwb3MgPCBjb250ZW50Lmxlbmd0aCAmJiAvXFxzLy50ZXN0KGNvbnRlbnRbcG9zXSkpIHBvcysrO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChjb250ZW50W3Bvc10gPT09ICcsJykgcG9zKys7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aXRlbS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBTa2lwIGNvbW1hXHJcblx0XHRcdFx0XHR3aGlsZSAocG9zIDwgY29udGVudC5sZW5ndGggJiYgL1xccy8udGVzdChjb250ZW50W3Bvc10pKSBwb3MrKztcclxuXHRcdFx0XHRcdGlmIChjb250ZW50W3Bvc10gPT09ICcsJykgcG9zKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHJldHVybiB7IGl0ZW0sIGVuZFBvczogcG9zIH07XHJcblx0XHRcdH07XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBQYXJzZSBhbGwgcGFnZXNcclxuXHRcdFx0bGV0IHBvcyA9IDA7XHJcblx0XHRcdHdoaWxlIChwb3MgPCBwYWdlc0NvbnRlbnQubGVuZ3RoKSB7XHJcblx0XHRcdFx0Ly8gU2tpcCB3aGl0ZXNwYWNlXHJcblx0XHRcdFx0d2hpbGUgKHBvcyA8IHBhZ2VzQ29udGVudC5sZW5ndGggJiYgL1xccy8udGVzdChwYWdlc0NvbnRlbnRbcG9zXSkpIHBvcysrO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIENoZWNrIGZvciBlbmQgb2YgYXJyYXlcclxuXHRcdFx0XHRpZiAocG9zID49IHBhZ2VzQ29udGVudC5sZW5ndGggfHwgcGFnZXNDb250ZW50W3Bvc10gPT09ICddJykgYnJlYWs7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gUGFyc2UgaXRlbVxyXG5cdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHBhcnNlTmF2aWdhdGlvbkl0ZW0ocGFnZXNDb250ZW50LCBwb3MpO1xyXG5cdFx0XHRcdGlmIChyZXN1bHQuaXRlbSkge1xyXG5cdFx0XHRcdFx0KG5hdmlnYXRpb24ucGFnZXMgYXMgQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+KS5wdXNoKHJlc3VsdC5pdGVtKTtcclxuXHRcdFx0XHRcdHBvcyA9IHJlc3VsdC5lbmRQb3M7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNpbXBsZSByZWdleCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxyXG5cdFx0XHRcdFx0Y29uc3Qgc2ltcGxlTWF0Y2ggPSBwYWdlc0NvbnRlbnQuc2xpY2UocG9zKS5tYXRjaCgvXFx7XFxzKnRpdGxlOlxccypcIihbXlwiXSopXCIsXFxzKnVybDpcXHMqXCIoW15cIl0qKVwiXFxzKlxcfS8pO1xyXG5cdFx0XHRcdFx0aWYgKHNpbXBsZU1hdGNoKSB7XHJcblx0XHRcdFx0XHRcdChuYXZpZ2F0aW9uLnBhZ2VzIGFzIEFycmF5PFJlY29yZDxzdHJpbmcsIHVua25vd24+PikucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0dGl0bGU6IHNpbXBsZU1hdGNoWzFdLFxyXG5cdFx0XHRcdFx0XHRcdHVybDogc2ltcGxlTWF0Y2hbMl1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdHBvcyArPSBzaW1wbGVNYXRjaFswXS5sZW5ndGg7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gU2tpcCBjb21tYVxyXG5cdFx0XHRcdHdoaWxlIChwb3MgPCBwYWdlc0NvbnRlbnQubGVuZ3RoICYmIC9cXHMvLnRlc3QocGFnZXNDb250ZW50W3Bvc10pKSBwb3MrKztcclxuXHRcdFx0XHRpZiAocGFnZXNDb250ZW50W3Bvc10gPT09ICcsJykgcG9zKys7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gRXh0cmFjdCBuYXZpZ2F0aW9uIHNvY2lhbFxyXG5cdFx0Y29uc3Qgc29jaWFsTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fU09DSUFMXFxdXFxzKlxcblxccypzb2NpYWw6XFxzKlxcWyhbXFxzXFxTXSo/KVxcXS8pO1xyXG5cdFx0aWYgKHNvY2lhbE1hdGNoKSB7XHJcblx0XHRcdGNvbnN0IHNvY2lhbENvbnRlbnQgPSBzb2NpYWxNYXRjaFsxXTtcclxuXHRcdFx0Ly8gTWF0Y2ggdGhlIG11bHRpLWxpbmUgZm9ybWF0OiB7IHRpdGxlOiBcIi4uLlwiLCB1cmw6IFwiLi4uXCIsIGljb246IFwiLi4uXCIgfVxyXG5cdFx0XHRjb25zdCBzb2NpYWxNYXRjaGVzID0gc29jaWFsQ29udGVudC5tYXRjaEFsbCgvXFx7XFxzKlxcblxccyp0aXRsZTpcXHMqXCIoW15cIl0qKVwiLFxccypcXG5cXHMqdXJsOlxccypcIihbXlwiXSopXCIsXFxzKlxcblxccyppY29uOlxccypcIihbXlwiXSopXCIsP1xccypcXG5cXHMqXFx9L2cpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IHNvY2lhbE1hdGNoIG9mIHNvY2lhbE1hdGNoZXMpIHtcclxuXHRcdFx0XHQobmF2aWdhdGlvbi5zb2NpYWwgYXMgQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+KS5wdXNoKHtcclxuXHRcdFx0XHRcdHRpdGxlOiBzb2NpYWxNYXRjaFsxXSxcclxuXHRcdFx0XHRcdHVybDogc29jaWFsTWF0Y2hbMl0sXHJcblx0XHRcdFx0XHRpY29uOiBzb2NpYWxNYXRjaFszXVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRjb25maWcubmF2aWdhdGlvbiA9IG5hdmlnYXRpb247XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCBwb3N0IG9wdGlvbnNcclxuXHRcdGNvbnN0IHBvc3RPcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xyXG5cdFx0XHJcblx0XHQvLyBFeHRyYWN0IHRhYmxlIG9mIGNvbnRlbnRzXHJcblx0XHRjb25zdCB0b2NNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1RBQkxFX09GX0NPTlRFTlRTXFxdXFxzKnRhYmxlT2ZDb250ZW50czpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAodG9jTWF0Y2gpIHtcclxuXHRcdFx0cG9zdE9wdGlvbnMudGFibGVPZkNvbnRlbnRzID0gdG9jTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWN0IHJlYWRpbmcgdGltZVxyXG5cdFx0Y29uc3QgcmVhZGluZ1RpbWVNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1JFQURJTkdfVElNRVxcXVxccypyZWFkaW5nVGltZTpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAocmVhZGluZ1RpbWVNYXRjaCkge1xyXG5cdFx0XHRwb3N0T3B0aW9ucy5yZWFkaW5nVGltZSA9IHJlYWRpbmdUaW1lTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWN0IGxpbmtlZCBtZW50aW9uc1xyXG5cdFx0Y29uc3QgbGlua2VkTWVudGlvbnNFbmFibGVkTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGNvbnN0IGxpbmtlZE1lbnRpb25zQ29tcGFjdE1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0NPTVBBQ1RcXF1cXHMqbGlua2VkTWVudGlvbnNDb21wYWN0OlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdFxyXG5cdFx0aWYgKGxpbmtlZE1lbnRpb25zRW5hYmxlZE1hdGNoIHx8IGxpbmtlZE1lbnRpb25zQ29tcGFjdE1hdGNoKSB7XHJcblx0XHRcdHBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zID0ge1xyXG5cdFx0XHRcdGVuYWJsZWQ6IGxpbmtlZE1lbnRpb25zRW5hYmxlZE1hdGNoID8gbGlua2VkTWVudGlvbnNFbmFibGVkTWF0Y2hbMV0gPT09ICd0cnVlJyA6IGZhbHNlLFxyXG5cdFx0XHRcdGxpbmtlZE1lbnRpb25zQ29tcGFjdDogbGlua2VkTWVudGlvbnNDb21wYWN0TWF0Y2ggPyBsaW5rZWRNZW50aW9uc0NvbXBhY3RNYXRjaFsxXSA9PT0gJ3RydWUnIDogZmFsc2VcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWN0IGdyYXBoIHZpZXdcclxuXHRcdGNvbnN0IGdyYXBoVmlld01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKGdyYXBoVmlld01hdGNoKSB7XHJcblx0XHRcdHBvc3RPcHRpb25zLmdyYXBoVmlldyA9IHtcclxuXHRcdFx0XHRlbmFibGVkOiBncmFwaFZpZXdNYXRjaFsxXSA9PT0gJ3RydWUnXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCBwb3N0IG5hdmlnYXRpb25cclxuXHRcdGNvbnN0IHBvc3ROYXZpZ2F0aW9uTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUX05BVklHQVRJT05cXF1cXHMqcG9zdE5hdmlnYXRpb246XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHBvc3ROYXZpZ2F0aW9uTWF0Y2gpIHtcclxuXHRcdFx0cG9zdE9wdGlvbnMucG9zdE5hdmlnYXRpb24gPSBwb3N0TmF2aWdhdGlvbk1hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRXh0cmFjdCBjb21tZW50c1xyXG5cdFx0Y29uc3QgY29tbWVudHNNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoY29tbWVudHNNYXRjaCkge1xyXG5cdFx0XHRwb3N0T3B0aW9ucy5jb21tZW50cyA9IHtcclxuXHRcdFx0XHRlbmFibGVkOiBjb21tZW50c01hdGNoWzFdID09PSAndHJ1ZSdcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdGNvbmZpZy5wb3N0T3B0aW9ucyA9IHBvc3RPcHRpb25zO1xyXG5cclxuXHRcdC8vIEV4dHJhY3Qgb3B0aW9uYWwgY29udGVudCB0eXBlc1xyXG5cdFx0Y29uc3Qgb3B0aW9uYWxDb250ZW50VHlwZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRcclxuXHRcdGNvbnN0IHByb2plY3RzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfUFJPSkVDVFNcXF1cXHMqcHJvamVjdHM6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHByb2plY3RzTWF0Y2gpIHtcclxuXHRcdFx0b3B0aW9uYWxDb250ZW50VHlwZXMucHJvamVjdHMgPSBwcm9qZWN0c01hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZG9jc01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpPUFRJT05BTF9DT05URU5UX1RZUEVTX0RPQ1NcXF1cXHMqZG9jczpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoZG9jc01hdGNoKSB7XHJcblx0XHRcdG9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3MgPSBkb2NzTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdGNvbmZpZy5vcHRpb25hbENvbnRlbnRUeXBlcyA9IG9wdGlvbmFsQ29udGVudFR5cGVzO1xyXG5cclxuXHRcdC8vIEV4dHJhY3QgZm9vdGVyIHNldHRpbmdzXHJcblx0XHRjb25zdCBmb290ZXI6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRcclxuXHRcdGNvbnN0IGZvb3RlclNvY2lhbE1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpGT09URVJfU0hPV19TT0NJQUxfSUNPTlNcXF1cXHMqc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKGZvb3RlclNvY2lhbE1hdGNoKSB7XHJcblx0XHRcdGZvb3Rlci5zaG93U29jaWFsSWNvbnNJbkZvb3RlciA9IGZvb3RlclNvY2lhbE1hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRjb25maWcuZm9vdGVyID0gZm9vdGVyO1xyXG5cclxuXHRcdC8vIEV4dHJhY3QgY29tbWFuZCBwYWxldHRlXHJcblx0XHRjb25zdCBjb21tYW5kUGFsZXR0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgY29tbWFuZFBhbGV0dGVNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoY29tbWFuZFBhbGV0dGVNYXRjaCkge1xyXG5cdFx0XHRjb21tYW5kUGFsZXR0ZS5lbmFibGVkID0gY29tbWFuZFBhbGV0dGVNYXRjaFsxXSA9PT0gJ3RydWUnO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBjb21tYW5kUGFsZXR0ZVBsYWNlaG9sZGVyTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9QTEFDRUhPTERFUlxcXVxccypwbGFjZWhvbGRlcjpcXHMqWydcImBdKFteJ1wiYF0rKVsnXCJgXS8pO1xyXG5cdFx0aWYgKGNvbW1hbmRQYWxldHRlUGxhY2Vob2xkZXJNYXRjaCkge1xyXG5cdFx0XHRjb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlciA9IGNvbW1hbmRQYWxldHRlUGxhY2Vob2xkZXJNYXRjaFsxXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgY29tbWFuZFBhbGV0dGVTaG9ydGN1dE1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0hPUlRDVVRcXF1cXHMqc2hvcnRjdXQ6XFxzKlsnXCJgXShbXidcImBdKylbJ1wiYF0vKTtcclxuXHRcdGlmIChjb21tYW5kUGFsZXR0ZVNob3J0Y3V0TWF0Y2gpIHtcclxuXHRcdFx0Y29tbWFuZFBhbGV0dGUuc2hvcnRjdXQgPSBjb21tYW5kUGFsZXR0ZVNob3J0Y3V0TWF0Y2hbMV07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIENvbW1hbmQgcGFsZXR0ZSBzZWFyY2ggb3B0aW9uc1xyXG5cdFx0Y29uc3Qgc2VhcmNoOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xyXG5cdFx0Y29uc3Qgc2VhcmNoUG9zdHNNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QT1NUU1xcXVxccypwb3N0czpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoc2VhcmNoUG9zdHNNYXRjaCkge1xyXG5cdFx0XHRzZWFyY2gucG9zdHMgPSBzZWFyY2hQb3N0c01hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNlYXJjaFBhZ2VzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUEFHRVNcXF1cXHMqcGFnZXM6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHNlYXJjaFBhZ2VzTWF0Y2gpIHtcclxuXHRcdFx0c2VhcmNoLnBhZ2VzID0gc2VhcmNoUGFnZXNNYXRjaFsxXSA9PT0gJ3RydWUnO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBzZWFyY2hQcm9qZWN0c01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BST0pFQ1RTXFxdXFxzKnByb2plY3RzOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChzZWFyY2hQcm9qZWN0c01hdGNoKSB7XHJcblx0XHRcdHNlYXJjaC5wcm9qZWN0cyA9IHNlYXJjaFByb2plY3RzTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3Qgc2VhcmNoRG9jc01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX0RPQ1NcXF1cXHMqZG9jczpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoc2VhcmNoRG9jc01hdGNoKSB7XHJcblx0XHRcdHNlYXJjaC5kb2NzID0gc2VhcmNoRG9jc01hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRjb21tYW5kUGFsZXR0ZS5zZWFyY2ggPSBzZWFyY2g7XHJcblx0XHRcclxuXHRcdC8vIENvbW1hbmQgcGFsZXR0ZSBzZWN0aW9uc1xyXG5cdFx0Y29uc3Qgc2VjdGlvbnM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRjb25zdCBzZWN0aW9uc1F1aWNrQWN0aW9uc01hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUVVJQ0tfQUNUSU9OU1xcXVxccypxdWlja0FjdGlvbnM6XFxzKih0cnVlfGZhbHNlKS8pO1xyXG5cdFx0aWYgKHNlY3Rpb25zUXVpY2tBY3Rpb25zTWF0Y2gpIHtcclxuXHRcdFx0c2VjdGlvbnMucXVpY2tBY3Rpb25zID0gc2VjdGlvbnNRdWlja0FjdGlvbnNNYXRjaFsxXSA9PT0gJ3RydWUnO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zdCBzZWN0aW9uc1BhZ2VzTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19QQUdFU1xcXVxccypwYWdlczpcXHMqKHRydWV8ZmFsc2UpLyk7XHJcblx0XHRpZiAoc2VjdGlvbnNQYWdlc01hdGNoKSB7XHJcblx0XHRcdHNlY3Rpb25zLnBhZ2VzID0gc2VjdGlvbnNQYWdlc01hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNlY3Rpb25zU29jaWFsTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19TT0NJQUxcXF1cXHMqc29jaWFsOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChzZWN0aW9uc1NvY2lhbE1hdGNoKSB7XHJcblx0XHRcdHNlY3Rpb25zLnNvY2lhbCA9IHNlY3Rpb25zU29jaWFsTWF0Y2hbMV0gPT09ICd0cnVlJztcclxuXHRcdH1cclxuXHRcdGNvbW1hbmRQYWxldHRlLnNlY3Rpb25zID0gc2VjdGlvbnM7XHJcblx0XHRcclxuXHRcdC8vIENvbW1hbmQgcGFsZXR0ZSBxdWljayBhY3Rpb25zXHJcblx0XHRjb25zdCBxdWlja0FjdGlvbnM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcblx0XHRjb25zdCBxYUVuYWJsZWRNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChxYUVuYWJsZWRNYXRjaCkge1xyXG5cdFx0XHRxdWlja0FjdGlvbnMuZW5hYmxlZCA9IHFhRW5hYmxlZE1hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHFhVG9nZ2xlTW9kZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19UT0dHTEVfTU9ERVxcXVxccyp0b2dnbGVNb2RlOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChxYVRvZ2dsZU1vZGVNYXRjaCkge1xyXG5cdFx0XHRxdWlja0FjdGlvbnMudG9nZ2xlTW9kZSA9IHFhVG9nZ2xlTW9kZU1hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHFhR3JhcGhWaWV3TWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0dSQVBIX1ZJRVdcXF1cXHMqZ3JhcGhWaWV3OlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChxYUdyYXBoVmlld01hdGNoKSB7XHJcblx0XHRcdHF1aWNrQWN0aW9ucy5ncmFwaFZpZXcgPSBxYUdyYXBoVmlld01hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHFhQ2hhbmdlVGhlbWVNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfQ0hBTkdFX1RIRU1FXFxdXFxzKmNoYW5nZVRoZW1lOlxccyoodHJ1ZXxmYWxzZSkvKTtcclxuXHRcdGlmIChxYUNoYW5nZVRoZW1lTWF0Y2gpIHtcclxuXHRcdFx0cXVpY2tBY3Rpb25zLmNoYW5nZVRoZW1lID0gcWFDaGFuZ2VUaGVtZU1hdGNoWzFdID09PSAndHJ1ZSc7XHJcblx0XHR9XHJcblx0XHRjb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgPSBxdWlja0FjdGlvbnM7XHJcblx0XHRjb25maWcuY29tbWFuZFBhbGV0dGUgPSBjb21tYW5kUGFsZXR0ZTtcclxuXHJcblx0XHQvLyBFeHRyYWN0IHNpdGUgaW5mb3JtYXRpb25cclxuXHRcdGNvbnN0IHNpdGVNYXRjaCA9IGNvbmZpZ0NvbnRlbnQubWF0Y2goL1xcL1xcLyBcXFtDT05GSUc6U0lURV9VUkxcXF1cXHMqc2l0ZTpcXHMqWydcImBdKFteJ1wiYF0rKVsnXCJgXS8pO1xyXG5cdFx0aWYgKHNpdGVNYXRjaCkge1xyXG5cdFx0XHRjb25maWcuc2l0ZSA9IHNpdGVNYXRjaFsxXTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB0aXRsZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX1RJVExFXFxdXFxzKnRpdGxlOlxccypbJ1wiYF0oW14nXCJgXSspWydcImBdLyk7XHJcblx0XHRpZiAodGl0bGVNYXRjaCkge1xyXG5cdFx0XHRjb25maWcudGl0bGUgPSB0aXRsZU1hdGNoWzFdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRlc2NyaXB0aW9uTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfREVTQ1JJUFRJT05cXF1cXHMqZGVzY3JpcHRpb246XFxzKlsnXCJgXShbXidcImBdKylbJ1wiYF0vKTtcclxuXHRcdGlmIChkZXNjcmlwdGlvbk1hdGNoKSB7XHJcblx0XHRcdGNvbmZpZy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uTWF0Y2hbMV07XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgYXV0aG9yTWF0Y2ggPSBjb25maWdDb250ZW50Lm1hdGNoKC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfQVVUSE9SXFxdXFxzKmF1dGhvcjpcXHMqWydcImBdKFteJ1wiYF0rKVsnXCJgXS8pO1xyXG5cdFx0aWYgKGF1dGhvck1hdGNoKSB7XHJcblx0XHRcdGNvbmZpZy5hdXRob3IgPSBhdXRob3JNYXRjaFsxXTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBsYW5ndWFnZU1hdGNoID0gY29uZmlnQ29udGVudC5tYXRjaCgvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX0xBTkdVQUdFXFxdXFxzKmxhbmd1YWdlOlxccypbJ1wiYF0oW14nXCJgXSspWydcImBdLyk7XHJcblx0XHRpZiAobGFuZ3VhZ2VNYXRjaCkge1xyXG5cdFx0XHRjb25maWcubGFuZ3VhZ2UgPSBsYW5ndWFnZU1hdGNoWzFdO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjb25maWc7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBc3Ryb01vZHVsYXJTZXR0aW5ncyB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWdUZW1wbGF0ZU1hbmFnZXIge1xyXG5cdHByaXZhdGUgaW50ZXJwb2xhdGVUZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nLCBzZXR0aW5nczogQXN0cm9Nb2R1bGFyU2V0dGluZ3MsIHRlbXBsYXRlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdFxyXG5cdFx0Ly8gUmVwbGFjZSBhbGwgdGVtcGxhdGUgdmFyaWFibGVzIHdpdGggYWN0dWFsIHZhbHVlc1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gdGVtcGxhdGVcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwuY3VycmVudFRoZW1lXFx9L2csIHNldHRpbmdzLmN1cnJlbnRUaGVtZSlcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwudHlwb2dyYXBoeVxcLmZvbnRTb3VyY2VcXH0vZywgc2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC50eXBvZ3JhcGh5XFwucHJvc2VGb250XFx9L2csIHNldHRpbmdzLnR5cG9ncmFwaHkucHJvc2VGb250KVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC50eXBvZ3JhcGh5XFwuaGVhZGluZ0ZvbnRcXH0vZywgc2V0dGluZ3MudHlwb2dyYXBoeS5oZWFkaW5nRm9udClcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwudHlwb2dyYXBoeVxcLm1vbm9Gb250XFx9L2csIHNldHRpbmdzLnR5cG9ncmFwaHkubW9ub0ZvbnQpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLnR5cG9ncmFwaHlcXC5jdXN0b21Gb250c1xcLnByb3NlXFx9L2csIHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMucHJvc2UpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLnR5cG9ncmFwaHlcXC5jdXN0b21Gb250c1xcLmhlYWRpbmdcXH0vZywgc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5oZWFkaW5nKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC50eXBvZ3JhcGh5XFwuY3VzdG9tRm9udHNcXC5tb25vXFx9L2csIHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMubW9ubylcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwub3B0aW9uYWxGZWF0dXJlc1xcLmNvbW1lbnRzXFwuZW5hYmxlZFxcfS9nLCBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWQudG9TdHJpbmcoKSlcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwub3B0aW9uYWxGZWF0dXJlc1xcLnByb2ZpbGVQaWN0dXJlXFwuZW5hYmxlZFxcfS9nLCBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmVuYWJsZWQudG9TdHJpbmcoKSlcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwub3B0aW9uYWxGZWF0dXJlc1xcLnByb2ZpbGVQaWN0dXJlXFwuaW1hZ2VcXH0vZywgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5pbWFnZSlcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwub3B0aW9uYWxGZWF0dXJlc1xcLnByb2ZpbGVQaWN0dXJlXFwuYWx0XFx9L2csIHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUuYWx0KVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC5vcHRpb25hbEZlYXR1cmVzXFwucHJvZmlsZVBpY3R1cmVcXC5zaXplXFx9L2csIHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUuc2l6ZSlcclxuXHRcdFx0LnJlcGxhY2UoL1xcJFxce3NldHRpbmdzXFwub3B0aW9uYWxGZWF0dXJlc1xcLnByb2ZpbGVQaWN0dXJlXFwudXJsXFx9L2csIHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUudXJsIHx8ICcnKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7c2V0dGluZ3NcXC5vcHRpb25hbEZlYXR1cmVzXFwucHJvZmlsZVBpY3R1cmVcXC5wbGFjZW1lbnRcXH0vZywgc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5wbGFjZW1lbnQpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLm9wdGlvbmFsRmVhdHVyZXNcXC5wcm9maWxlUGljdHVyZVxcLnN0eWxlXFx9L2csIHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMucHJvZmlsZVBpY3R1cmUuc3R5bGUpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCRcXHtzZXR0aW5nc1xcLmRlcGxveW1lbnRcXC5wbGF0Zm9ybVxcfS9nLCBzZXR0aW5ncy5kZXBsb3ltZW50LnBsYXRmb3JtKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwkXFx7dGVtcGxhdGVOYW1lXFx9L2csIHRlbXBsYXRlTmFtZSk7XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdGdldFRlbXBsYXRlQ29uZmlnKHRlbXBsYXRlTmFtZTogc3RyaW5nLCBzZXR0aW5nczogQXN0cm9Nb2R1bGFyU2V0dGluZ3MpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XHJcblx0XHQvLyBSZXR1cm4gdGVtcGxhdGUtc3BlY2lmaWMgY29uZmlndXJhdGlvbiBiYXNlZCBvbiB0aGUgcHJlc2V0IG5hbWVcclxuXHRcdHN3aXRjaCAodGVtcGxhdGVOYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3N0YW5kYXJkJzpcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgIGxheW91dDoge1xyXG4gICAgICAgICAgY29udGVudFdpZHRoOiAnNDVyZW0nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9vdGVyOiB7XHJcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXJrTW9kZVRvZ2dsZUJ1dHRvbjogJ2JvdGgnLFxyXG4gICAgICAgIGNvbW1hbmRQYWxldHRlOiB7XHJcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCtLXCIsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJTZWFyY2ggcG9zdHNcIixcclxuXHRcdFx0XHRcdFx0c2VhcmNoOiB7XHJcblx0XHRcdFx0XHRcdFx0cG9zdHM6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0cGFnZXM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdHByb2plY3RzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRkb2NzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0fSxcclxuICAgICAgICAgIHNlY3Rpb25zOiB7XHJcbiAgICAgICAgICAgIHF1aWNrQWN0aW9uczogdHJ1ZSxcclxuICAgICAgICAgICAgcGFnZXM6IHRydWUsXHJcbiAgICAgICAgICAgIHNvY2lhbDogdHJ1ZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcHRpb25hbENvbnRlbnRUeXBlczoge1xyXG4gICAgICAgICAgcHJvamVjdHM6IHRydWUsXHJcbiAgICAgICAgICBkb2NzOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaG9tZU9wdGlvbnM6IHtcclxuICAgICAgICAgIGZlYXR1cmVkUG9zdDoge1xyXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICB0eXBlOiAnbGF0ZXN0JyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZWNlbnRQb3N0czoge1xyXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBjb3VudDogNyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwcm9qZWN0czoge1xyXG5cdFx0XHRcdFx0XHRcdGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGNvdW50OiAyLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRvY3M6IHtcclxuXHRcdFx0XHRcdFx0XHRlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBjb3VudDogMyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBibHVyYjoge1xyXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdiZWxvdycsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9zdE9wdGlvbnM6IHtcclxuICAgICAgICAgIHBvc3RzUGVyUGFnZTogNixcclxuICAgICAgICAgIHJlYWRpbmdUaW1lOiB0cnVlLFxyXG4gICAgICAgICAgd29yZENvdW50OiB0cnVlLFxyXG4gICAgICAgICAgdGFibGVPZkNvbnRlbnRzOiB0cnVlLFxyXG4gICAgICAgICAgdGFnczogdHJ1ZSxcclxuICAgICAgICAgIGxpbmtlZE1lbnRpb25zOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogZmFsc2UsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ3JhcGhWaWV3OiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHNob3dJblNpZGViYXI6IHRydWUsXHJcbiAgICAgICAgICAgIHNob3dJbkNvbW1hbmRQYWxldHRlOiB0cnVlLFxyXG4gICAgICAgICAgICBtYXhOb2RlczogMTAwLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBvc3ROYXZpZ2F0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6ICdmZWF0dXJlZC1hbmQtcG9zdHMnLFxyXG4gICAgICAgICAgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgIHNob3dOYXZpZ2F0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgc2hvd01vYmlsZU1lbnU6IHRydWUsXHJcbiAgICAgICAgICBzdHlsZTogJ3RyYWRpdGlvbmFsJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICAgICAgICBjYXNlICdjb21wYWN0JzpcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgIGxheW91dDoge1xyXG4gICAgICAgICAgY29udGVudFdpZHRoOiAnNDJyZW0nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9uYWxDb250ZW50VHlwZXM6IHtcclxuICAgICAgICAgIHByb2plY3RzOiBmYWxzZSxcclxuICAgICAgICAgIGRvY3M6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9vdGVyOiB7XHJcbiAgICAgICAgICBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogZmFsc2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXJrTW9kZVRvZ2dsZUJ1dHRvbjogJ2NvbW1hbmRQYWxldHRlJyxcclxuICAgICAgICBjb21tYW5kUGFsZXR0ZToge1xyXG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgIHNob3J0Y3V0OiBcImN0cmwrS1wiLFxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoIHBvc3RzXCIsXHJcblx0XHRcdFx0XHRcdHNlYXJjaDoge1xyXG5cdFx0XHRcdFx0XHRcdHBvc3RzOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdHBhZ2VzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRwcm9qZWN0czogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0ZG9jczogZmFsc2UsXHJcblx0XHRcdFx0XHRcdH0sXHJcbiAgICAgICAgICBzZWN0aW9uczoge1xyXG4gICAgICAgICAgICBxdWlja0FjdGlvbnM6IHRydWUsXHJcbiAgICAgICAgICAgIHBhZ2VzOiBmYWxzZSxcclxuICAgICAgICAgICAgc29jaWFsOiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhvbWVPcHRpb25zOiB7XHJcbiAgICAgICAgICBmZWF0dXJlZFBvc3Q6IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHR5cGU6ICdsYXRlc3QnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlY2VudFBvc3RzOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGNvdW50OiA3LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJsdXJiOiB7XHJcbiAgICAgICAgICAgIHBsYWNlbWVudDogJ2JlbG93JyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb3N0T3B0aW9uczoge1xyXG4gICAgICAgICAgcG9zdHNQZXJQYWdlOiA2LFxyXG4gICAgICAgICAgcmVhZGluZ1RpbWU6IHRydWUsXHJcbiAgICAgICAgICB3b3JkQ291bnQ6IHRydWUsXHJcbiAgICAgICAgICB0YWJsZU9mQ29udGVudHM6IHRydWUsXHJcbiAgICAgICAgICB0YWdzOiB0cnVlLFxyXG4gICAgICAgICAgbGlua2VkTWVudGlvbnM6IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgbGlua2VkTWVudGlvbnNDb21wYWN0OiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdyYXBoVmlldzoge1xyXG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwb3N0TmF2aWdhdGlvbjogdHJ1ZSxcclxuICAgICAgICAgIHNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOiAncG9zdHMnLFxyXG4gICAgICAgICAgcG9zdENhcmRBc3BlY3RSYXRpbzogJ2N1c3RvbScsXHJcbiAgICAgICAgICBjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOiAnMi41LzEnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgc2hvd05hdmlnYXRpb246IHRydWUsXHJcbiAgICAgICAgICBzaG93TW9iaWxlTWVudTogdHJ1ZSxcclxuICAgICAgICAgIHN0eWxlOiAnbWluaW1hbCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgICAgICAgICAgY2FzZSAnbWluaW1hbCc6XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICBsYXlvdXQ6IHtcclxuICAgICAgICAgIGNvbnRlbnRXaWR0aDogJzQwcmVtJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wdGlvbmFsQ29udGVudFR5cGVzOiB7XHJcbiAgICAgICAgICBwcm9qZWN0czogZmFsc2UsXHJcbiAgICAgICAgICBkb2NzOiBmYWxzZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZvb3Rlcjoge1xyXG4gICAgICAgICAgc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGFya01vZGVUb2dnbGVCdXR0b246ICdjb21tYW5kUGFsZXR0ZScsXHJcbiAgICAgICAgY29tbWFuZFBhbGV0dGU6IHtcclxuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICBzaG9ydGN1dDogXCJcIixcclxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlNlYXJjaCBjb250ZW50XCIsXHJcblx0XHRcdFx0XHRcdHNlYXJjaDoge1xyXG5cdFx0XHRcdFx0XHRcdHBvc3RzOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdHBhZ2VzOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdHByb2plY3RzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRkb2NzOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0fSxcclxuICAgICAgICAgIHNlY3Rpb25zOiB7XHJcbiAgICAgICAgICAgIHF1aWNrQWN0aW9uczogZmFsc2UsXHJcbiAgICAgICAgICAgIHBhZ2VzOiBmYWxzZSxcclxuICAgICAgICAgICAgc29jaWFsOiBmYWxzZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBob21lT3B0aW9uczoge1xyXG4gICAgICAgICAgZmVhdHVyZWRQb3N0OiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB0eXBlOiAnbGF0ZXN0JyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZWNlbnRQb3N0czoge1xyXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBjb3VudDogNyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBibHVyYjoge1xyXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdub25lJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb3N0T3B0aW9uczoge1xyXG4gICAgICAgICAgcG9zdHNQZXJQYWdlOiA2LFxyXG4gICAgICAgICAgcmVhZGluZ1RpbWU6IGZhbHNlLFxyXG4gICAgICAgICAgd29yZENvdW50OiBmYWxzZSxcclxuICAgICAgICAgIHRhYmxlT2ZDb250ZW50czogZmFsc2UsXHJcbiAgICAgICAgICB0YWdzOiBmYWxzZSxcclxuICAgICAgICAgIGxpbmtlZE1lbnRpb25zOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6IGZhbHNlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdyYXBoVmlldzoge1xyXG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwb3N0TmF2aWdhdGlvbjogZmFsc2UsXHJcbiAgICAgICAgICBzaG93UG9zdENhcmRDb3ZlckltYWdlczogJ25vbmUnLFxyXG4gICAgICAgICAgcG9zdENhcmRBc3BlY3RSYXRpbzogJ29nJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgIHNob3dOYXZpZ2F0aW9uOiBmYWxzZSxcclxuICAgICAgICAgIHNob3dNb2JpbGVNZW51OiBmYWxzZSxcclxuICAgICAgICAgIHN0eWxlOiAnbWluaW1hbCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiB7fTtcclxuICB9XHJcblx0fVxyXG59XHJcbiIsICJleHBvcnQgY2xhc3MgQ29uZmlnTWFya2VyVmFsaWRhdG9yIHtcclxuXHR2YWxpZGF0ZU1hcmtlcnMoY29uZmlnOiBzdHJpbmcpOiB7IHZhbGlkOiBib29sZWFuOyBtaXNzaW5nOiBzdHJpbmdbXSB9IHtcclxuXHRcdGNvbnN0IHJlcXVpcmVkTWFya2VycyA9IFtcclxuXHRcdFx0J0NPTkZJRzpTSVRFX1VSTCcsXHJcblx0XHRcdCdDT05GSUc6U0lURV9USVRMRScsXHJcblx0XHRcdCdDT05GSUc6U0lURV9ERVNDUklQVElPTicsXHJcblx0XHRcdCdDT05GSUc6U0lURV9BVVRIT1InLFxyXG5cdFx0XHQnQ09ORklHOlNJVEVfTEFOR1VBR0UnLFxyXG5cdFx0XHQnQ09ORklHOlRIRU1FJyxcclxuXHRcdFx0J0NPTkZJRzpBVkFJTEFCTEVfVEhFTUVTJyxcclxuXHRcdFx0J0NPTkZJRzpGT05UX1NPVVJDRScsXHJcblx0XHRcdCdDT05GSUc6Rk9OVF9CT0RZJyxcclxuXHRcdFx0J0NPTkZJRzpGT05UX0hFQURJTkcnLFxyXG5cdFx0XHQnQ09ORklHOkZPTlRfTU9OTycsXHJcblx0XHRcdCdDT05GSUc6TEFZT1VUX0NPTlRFTlRfV0lEVEgnLFxyXG5cdFx0XHQnQ09ORklHOlRBQkxFX09GX0NPTlRFTlRTX0VOQUJMRUQnLFxyXG5cdFx0XHQnQ09ORklHOlRBQkxFX09GX0NPTlRFTlRTX0RFUFRIJyxcclxuXHRcdFx0J0NPTkZJRzpGT09URVJfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6Rk9PVEVSX1NIT1dfU09DSUFMX0lDT05TJyxcclxuXHRcdFx0J0NPTkZJRzpTQ1JPTExfVE9fVE9QJyxcclxuXHRcdFx0J0NPTkZJRzpGRUFUVVJFX0JVVFRPTicsXHJcblx0XHRcdCdDT05GSUc6REVQTE9ZTUVOVF9QTEFURk9STScsXHJcblx0XHRcdCdDT05GSUc6Q09NTUFORF9QQUxFVFRFX0VOQUJMRUQnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TSE9SVENVVCcsXHJcblx0XHRcdCdDT05GSUc6Q09NTUFORF9QQUxFVFRFX1BMQUNFSE9MREVSJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BPU1RTJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BBR0VTJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BST0pFQ1RTJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX0RPQ1MnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19RVUlDS19BQ1RJT05TJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUEFHRVMnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19TT0NJQUwnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0VOQUJMRUQnLFxyXG5cdFx0XHQnQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX1RPR0dMRV9NT0RFJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19HUkFQSF9WSUVXJyxcclxuXHRcdFx0J0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19DSEFOR0VfVEhFTUUnLFxyXG5cdFx0XHQnQ09ORklHOlBST0ZJTEVfUElDVFVSRV9FTkFCTEVEJyxcclxuXHRcdFx0J0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfSU1BR0UnLFxyXG5cdFx0XHQnQ09ORklHOlBST0ZJTEVfUElDVFVSRV9BTFQnLFxyXG5cdFx0XHQnQ09ORklHOlBST0ZJTEVfUElDVFVSRV9TSVpFJyxcclxuXHRcdFx0J0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfVVJMJyxcclxuXHRcdFx0J0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfUExBQ0VNRU5UJyxcclxuXHRcdFx0J0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfU1RZTEUnLFxyXG5cdFx0XHQnQ09ORklHOk5BVklHQVRJT05fU0hPV19OQVZJR0FUSU9OJyxcclxuXHRcdFx0J0NPTkZJRzpOQVZJR0FUSU9OX1NUWUxFJyxcclxuXHRcdFx0J0NPTkZJRzpOQVZJR0FUSU9OX1NIT1dfTU9CSUxFX01FTlUnLFxyXG5cdFx0XHQnQ09ORklHOk5BVklHQVRJT05fUEFHRVMnLFxyXG5cdFx0XHQnQ09ORklHOk5BVklHQVRJT05fU09DSUFMJyxcclxuXHRcdFx0J0NPTkZJRzpPUFRJT05BTF9DT05URU5UX1RZUEVTX1BST0pFQ1RTJyxcclxuXHRcdFx0J0NPTkZJRzpPUFRJT05BTF9DT05URU5UX1RZUEVTX0RPQ1MnLFxyXG5cdFx0XHQnQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX0VOQUJMRUQnLFxyXG5cdFx0XHQnQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX1RZUEUnLFxyXG5cdFx0XHQnQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX1NMVUcnLFxyXG5cdFx0XHQnQ09ORklHOkhPTUVfT1BUSU9OU19SRUNFTlRfUE9TVFNfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX1JFQ0VOVF9QT1NUU19DT1VOVCcsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0VOQUJMRUQnLFxyXG5cdFx0XHQnQ09ORklHOkhPTUVfT1BUSU9OU19QUk9KRUNUU19DT1VOVCcsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX0RPQ1NfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6SE9NRV9PUFRJT05TX0RPQ1NfQ09VTlQnLFxyXG5cdFx0XHQnQ09ORklHOkhPTUVfT1BUSU9OU19CTFVSQl9QTEFDRU1FTlQnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUU19QRVJfUEFHRScsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX1JFQURJTkdfVElNRScsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX1dPUkRfQ09VTlQnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19UQUdTJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0VOQUJMRUQnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfQ09NUEFDVCcsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfRU5BQkxFRCcsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfU0hPV19JTl9TSURFQkFSJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19NQVhfTk9ERVMnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX1NIT1dfT1JQSEFORURfUE9TVFMnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUX05BVklHQVRJT04nLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19TSE9XX1BPU1RfQ0FSRF9DT1ZFUl9JTUFHRVMnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19QT1NUX0NBUkRfQVNQRUNUX1JBVElPJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ1VTVE9NX1BPU1RfQ0FSRF9BU1BFQ1RfUkFUSU8nLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19FTkFCTEVEJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUFJPVklERVInLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRVBPJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVQT19JRCcsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0NBVEVHT1JZJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfQ0FURUdPUllfSUQnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19NQVBQSU5HJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfU1RSSUNUJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVBQ1RJT05TJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTUVUQURBVEEnLFxyXG5cdFx0XHQnQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19JTlBVVF9QT1NJVElPTicsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1RIRU1FJyxcclxuXHRcdFx0J0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTEFORycsXHJcblx0XHRcdCdDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0xPQURJTkcnXHJcblx0XHRdO1xyXG5cdFx0XHJcblx0XHRjb25zdCBtaXNzaW5nID0gcmVxdWlyZWRNYXJrZXJzLmZpbHRlcihtYXJrZXIgPT4gXHJcblx0XHRcdCFjb25maWcuaW5jbHVkZXMoYC8vIFske21hcmtlcn1dYClcclxuXHRcdCk7XHJcblx0XHRcclxuXHRcdHJldHVybiB7IHZhbGlkOiBtaXNzaW5nLmxlbmd0aCA9PT0gMCwgbWlzc2luZyB9O1xyXG5cdH1cclxuXHJcblx0dmFsaWRhdGVTeW50YXgoY29uZmlnOiBzdHJpbmcpOiB7IHZhbGlkOiBib29sZWFuOyBlcnJvcnM6IHN0cmluZ1tdIH0ge1xyXG5cdFx0Y29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBDaGVjayBmb3IgYmFzaWMgc3ludGF4IGlzc3Vlc1xyXG5cdFx0XHRjb25zdCBvcGVuQnJhY2VzID0gKGNvbmZpZy5tYXRjaCgvXFx7L2cpIHx8IFtdKS5sZW5ndGg7XHJcblx0XHRcdGNvbnN0IGNsb3NlQnJhY2VzID0gKGNvbmZpZy5tYXRjaCgvXFx9L2cpIHx8IFtdKS5sZW5ndGg7XHJcblx0XHRcdGNvbnN0IG9wZW5CcmFja2V0cyA9IChjb25maWcubWF0Y2goL1xcWy9nKSB8fCBbXSkubGVuZ3RoO1xyXG5cdFx0XHRjb25zdCBjbG9zZUJyYWNrZXRzID0gKGNvbmZpZy5tYXRjaCgvXFxdL2cpIHx8IFtdKS5sZW5ndGg7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAob3BlbkJyYWNlcyAhPT0gY2xvc2VCcmFjZXMpIHtcclxuXHRcdFx0XHRlcnJvcnMucHVzaCgnTWlzbWF0Y2hlZCBicmFjZXMnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYgKG9wZW5CcmFja2V0cyAhPT0gY2xvc2VCcmFja2V0cykge1xyXG5cdFx0XHRcdGVycm9ycy5wdXNoKCdNaXNtYXRjaGVkIGJyYWNrZXRzJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRlcnJvcnMucHVzaChgVmFsaWRhdGlvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRyZXR1cm4geyB2YWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCwgZXJyb3JzIH07XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBc3Ryb01vZHVsYXJTZXR0aW5ncywgUHJlc2V0VGVtcGxhdGUsIE5hdmlnYXRpb25JdGVtLCBUaGVtZVR5cGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBDb25maWdUZW1wbGF0ZU1hbmFnZXIgfSBmcm9tICcuL0NvbmZpZ1RlbXBsYXRlTWFuYWdlcic7XG5pbXBvcnQgeyBDb25maWdNYXJrZXJWYWxpZGF0b3IgfSBmcm9tICcuL0NvbmZpZ01hcmtlclZhbGlkYXRvcic7XG5cbmV4cG9ydCBjbGFzcyBDb25maWdQcmVzZXRNb2RpZmllciB7XG5cdHByaXZhdGUgdGVtcGxhdGVNYW5hZ2VyOiBDb25maWdUZW1wbGF0ZU1hbmFnZXI7XG5cdHByaXZhdGUgbWFya2VyVmFsaWRhdG9yOiBDb25maWdNYXJrZXJWYWxpZGF0b3I7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy50ZW1wbGF0ZU1hbmFnZXIgPSBuZXcgQ29uZmlnVGVtcGxhdGVNYW5hZ2VyKCk7XG5cdFx0dGhpcy5tYXJrZXJWYWxpZGF0b3IgPSBuZXcgQ29uZmlnTWFya2VyVmFsaWRhdG9yKCk7XG5cdH1cblxuXHRwcml2YXRlIHNhZmVTdHJpbmdpZnkodmFsdWU6IHVua25vd24pOiBzdHJpbmcge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuXHRcdFx0cmV0dXJuIFN0cmluZyh2YWx1ZSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRyZXR1cm4gU3RyaW5nKHZhbHVlKTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdFx0Ly8gRm9yIG90aGVyIHR5cGVzLCBjb252ZXJ0IHRvIGJvb2xlYW4gb3IgbnVtYmVyIGlmIHBvc3NpYmxlLCBvdGhlcndpc2UgdXNlIEpTT04uc3RyaW5naWZ5XG5cdFx0aWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBTdHJpbmcodmFsdWUpO1xuXHRcdH1cblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHR9XG5cblx0Z2V0VGVtcGxhdGVDb25maWcodGVtcGxhdGVOYW1lOiBzdHJpbmcsIHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncyk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcblx0XHQvLyBFeHBvc2UgdGVtcGxhdGUgY29uZmlnIGZvciBleHRlcm5hbCB1c2Vcblx0XHRyZXR1cm4gdGhpcy50ZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGVDb25maWcodGVtcGxhdGVOYW1lLCBzZXR0aW5ncyk7XG5cdH1cblxuXHR1cGRhdGVUaGVtZUluQ29uZmlnKGN1cnJlbnRDb25maWc6IHN0cmluZywgdGhlbWU6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Ly8gVXBkYXRlIG9ubHkgdGhlIHRoZW1lIHNldHRpbmcgaW4gdGhlIGNvbmZpZyBmaWxlXG5cdFx0Y29uc3QgdGhlbWVNYXJrZXJFeGlzdHMgPSBjdXJyZW50Q29uZmlnLmluY2x1ZGVzKCcvLyBbQ09ORklHOlRIRU1FXScpO1xuXHRcdFxuXHRcdGlmICh0aGVtZU1hcmtlckV4aXN0cykge1xuXHRcdFx0Y29uc3QgdGhlbWVSZWdleCA9IC9cXC9cXC8gXFxbQ09ORklHOlRIRU1FXFxdXFxzKlxcblxccyp0aGVtZTpcXHMqXCJbXlwiXSpcIi87XG5cdFx0XHRyZXR1cm4gY3VycmVudENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHR0aGVtZVJlZ2V4LFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpUSEVNRV1cXG4gIHRoZW1lOiBcIiR7dGhlbWV9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBJZiBubyB0aGVtZSBtYXJrZXIgZm91bmQsIHJldHVybiB1bmNoYW5nZWRcblx0XHRyZXR1cm4gY3VycmVudENvbmZpZztcblx0fVxuXG5cdHVwZGF0ZUZvbnRJbkNvbmZpZyhjdXJyZW50Q29uZmlnOiBzdHJpbmcsIGZvbnRUeXBlOiAnaGVhZGluZycgfCAncHJvc2UnIHwgJ21vbm8nLCBmb250TmFtZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBVcGRhdGUgb25seSB0aGUgc3BlY2lmaWMgZm9udCBzZXR0aW5nIGluIHRoZSBjb25maWcgZmlsZVxuXHRcdGNvbnN0IGZvbnRNYXJrZXIgPSBgLy8gW0NPTkZJRzpGT05UXyR7Zm9udFR5cGUudG9VcHBlckNhc2UoKX1dYDtcblx0XHRjb25zdCBmb250TWFya2VyRXhpc3RzID0gY3VycmVudENvbmZpZy5pbmNsdWRlcyhmb250TWFya2VyKTtcblx0XHRcblx0XHRpZiAoZm9udE1hcmtlckV4aXN0cykge1xuXHRcdFx0Y29uc3QgZm9udFJlZ2V4ID0gbmV3IFJlZ0V4cChgJHtmb250TWFya2VyfVxcXFxzKlxcXFxuXFxcXHMqJHtmb250VHlwZX06XFxcXHMqXCJbXlwiXSpcImApO1xuXHRcdFx0cmV0dXJuIGN1cnJlbnRDb25maWcucmVwbGFjZShcblx0XHRcdFx0Zm9udFJlZ2V4LFxuXHRcdFx0XHRgJHtmb250TWFya2VyfVxcbiAgICAgICR7Zm9udFR5cGV9OiBcIiR7Zm9udE5hbWV9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBJZiBubyBmb250IG1hcmtlciBmb3VuZCwgcmV0dXJuIHVuY2hhbmdlZFxuXHRcdHJldHVybiBjdXJyZW50Q29uZmlnO1xuXHR9XG5cblx0dXBkYXRlRmVhdHVyZUluQ29uZmlnKGN1cnJlbnRDb25maWc6IHN0cmluZywgZmVhdHVyZU5hbWU6IHN0cmluZywgdmFsdWU6IGJvb2xlYW4pOiBzdHJpbmcge1xuXHRcdC8vIFVwZGF0ZSBvbmx5IHRoZSBzcGVjaWZpYyBmZWF0dXJlIHNldHRpbmcgaW4gdGhlIGNvbmZpZyBmaWxlXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbXBsaWZpZWQgdmVyc2lvbiAtIGluIHJlYWxpdHksIHdlJ2QgbmVlZCB0byBtYXAgZmVhdHVyZSBuYW1lcyB0byBjb25maWcgbWFya2Vyc1xuXHRcdC8vIEZvciBub3csIHJldHVybiB1bmNoYW5nZWQgdG8gYXZvaWQgYnJlYWtpbmcgdGhpbmdzXG5cdFx0cmV0dXJuIGN1cnJlbnRDb25maWc7XG5cdH1cblxuXHRtb2RpZnlDb25maWdGcm9tUHJlc2V0KHByZXNldDogUHJlc2V0VGVtcGxhdGUsIGN1cnJlbnRDb25maWc6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Ly8gVXNlIHRoZSBhY3R1YWwgc2V0dGluZ3MgcGFzc2VkIGluIHRoZSBwcmVzZXQsIG5vdCB0aGUgdGVtcGxhdGUncyBjb25maWdcblx0XHQvLyBUaGUgcHJlc2V0IGNvbnRhaW5zIHRoZSB1c2VyJ3MgY3VycmVudCBzZXR0aW5ncyBpbiBpdHMgcHJvcGVydGllc1xuXHRcdGNvbnN0IHNldHRpbmdzID0ge1xuXHRcdFx0Li4ucHJlc2V0LmNvbmZpZyxcblx0XHRcdGZlYXR1cmVzOiBwcmVzZXQuZmVhdHVyZXMsXG5cdFx0XHRjdXJyZW50VGhlbWU6IHByZXNldC50aGVtZSxcblx0XHRcdGNvbnRlbnRPcmdhbml6YXRpb246IHByZXNldC5jb250ZW50T3JnYW5pemF0aW9uXG5cdFx0fSBhcyBBc3Ryb01vZHVsYXJTZXR0aW5ncztcblx0XHRcblx0XHQvLyBGaXJzdCBhcHBseSBpbmRpdmlkdWFsIGZlYXR1cmVzIHRvIGVuc3VyZSB0aGV5J3JlIG5vdCBvdmVycmlkZGVuIGJ5IHRlbXBsYXRlXG5cdFx0bGV0IG1vZGlmaWVkQ29uZmlnID0gdGhpcy5tb2RpZnlDb25maWdGcm9tRmVhdHVyZXMoc2V0dGluZ3MsIGN1cnJlbnRDb25maWcpO1xuXHRcdFxuXHRcdC8vIEdldCB0aGUgdGVtcGxhdGUgY29uZmlndXJhdGlvbiBiYXNlZCBvbiB0aGUgcHJlc2V0IG5hbWVcblx0XHRjb25zdCB0ZW1wbGF0ZUNvbmZpZyA9IHRoaXMudGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlQ29uZmlnKHByZXNldC5uYW1lLCBzZXR0aW5ncyk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHRoZW1lIC0gdXNlIG1hcmtlci1iYXNlZCByZXBsYWNlbWVudFxuXHRcdGNvbnN0IHRoZW1lTWFya2VyRXhpc3RzID0gbW9kaWZpZWRDb25maWcuaW5jbHVkZXMoJy8vIFtDT05GSUc6VEhFTUVdJyk7XG5cdFx0XG5cdFx0aWYgKHRoZW1lTWFya2VyRXhpc3RzKSB7XG5cdFx0XHRjb25zdCB0aGVtZVJlZ2V4ID0gL1xcL1xcLyBcXFtDT05GSUc6VEhFTUVcXF1cXHMqXFxuXFxzKnRoZW1lOlxccypcIlteXCJdKlwiLztcblx0XHRcdFxuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHR0aGVtZVJlZ2V4LFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpUSEVNRV1cXG4gIHRoZW1lOiBcIiR7c2V0dGluZ3MuY3VycmVudFRoZW1lfVwiYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZvbnQgc291cmNlXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9TT1VSQ0VcXF1cXHMqXFxuXFxzKnNvdXJjZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpGT05UX1NPVVJDRV1cXG4gICAgc291cmNlOiBcIiR7c2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlfVwiYFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZvbnQgZmFtaWxpZXNcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT05UX0JPRFlcXF1cXHMqXFxuXFxzKmJvZHk6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6Rk9OVF9CT0RZXVxcbiAgICAgIGJvZHk6IFwiJHtzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2UgPT09ICdjZG4nID8gc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5wcm9zZSA6IHNldHRpbmdzLnR5cG9ncmFwaHkucHJvc2VGb250fVwiYFxuXHRcdCk7XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9IRUFESU5HXFxdXFxzKlxcblxccypoZWFkaW5nOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOkZPTlRfSEVBRElOR11cXG4gICAgICBoZWFkaW5nOiBcIiR7c2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlID09PSAnY2RuJyA/IHNldHRpbmdzLnR5cG9ncmFwaHkuY3VzdG9tRm9udHMuaGVhZGluZyA6IHNldHRpbmdzLnR5cG9ncmFwaHkuaGVhZGluZ0ZvbnR9XCJgXG5cdFx0KTtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT05UX01PTk9cXF1cXHMqXFxuXFxzKm1vbm86XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6Rk9OVF9NT05PXVxcbiAgICAgIG1vbm86IFwiJHtzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2UgPT09ICdjZG4nID8gc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5tb25vIDogc2V0dGluZ3MudHlwb2dyYXBoeS5tb25vRm9udH1cImBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBkZXBsb3ltZW50IHBsYXRmb3JtXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6REVQTE9ZTUVOVF9QTEFURk9STVxcXVxccypcXG5cXHMqcGxhdGZvcm06XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6REVQTE9ZTUVOVF9QTEFURk9STV1cXG4gICAgcGxhdGZvcm06IFwiJHtzZXR0aW5ncy5kZXBsb3ltZW50LnBsYXRmb3JtfVwiYFxuXHRcdCk7XG5cblx0XHQvLyBVcGRhdGUgb3B0aW9uYWwgY29udGVudCB0eXBlc1xuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcykge1xuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29uc3QgcHJvamVjdHNSZWdleCA9IC9cXC9cXC8gXFxbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfUFJPSkVDVFNcXF1cXHMqXFxuXFxzKnByb2plY3RzOlxccyoodHJ1ZXxmYWxzZSkvO1xuXHRcdFx0XHRcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdHByb2plY3RzUmVnZXgsXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19QUk9KRUNUU11cXG4gICAgcHJvamVjdHM6ICR7c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMucHJvamVjdHN9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCBkb2NzUmVnZXggPSAvXFwvXFwvIFxcW0NPTkZJRzpPUFRJT05BTF9DT05URU5UX1RZUEVTX0RPQ1NcXF1cXHMqXFxuXFxzKmRvY3M6XFxzKih0cnVlfGZhbHNlKS87XG5cdFx0XHRcdFxuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0ZG9jc1JlZ2V4LFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfRE9DU11cXG4gICAgZG9jczogJHtzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcy5kb2NzfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGxheW91dCBjb250ZW50IHdpZHRoIGlmIHNwZWNpZmllZCBpbiB0ZW1wbGF0ZVxuXHRcdGNvbnN0IGxheW91dCA9IHRlbXBsYXRlQ29uZmlnLmxheW91dCBhcyB7IGNvbnRlbnRXaWR0aD86IHN0cmluZyB9IHwgdW5kZWZpbmVkO1xuXHRcdGlmIChsYXlvdXQ/LmNvbnRlbnRXaWR0aCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpMQVlPVVRfQ09OVEVOVF9XSURUSFxcXVxccypcXG5cXHMqY29udGVudFdpZHRoOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6TEFZT1VUX0NPTlRFTlRfV0lEVEhdXFxuICAgIGNvbnRlbnRXaWR0aDogXCIke2xheW91dC5jb250ZW50V2lkdGh9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgb3B0aW9uYWwgY29udGVudCB0eXBlcyBpZiBzcGVjaWZpZWQgaW4gdGVtcGxhdGVcblx0XHRjb25zdCBvcHRpb25hbENvbnRlbnRUeXBlcyA9IHRlbXBsYXRlQ29uZmlnLm9wdGlvbmFsQ29udGVudFR5cGVzIGFzIHsgcHJvamVjdHM/OiBib29sZWFuOyBkb2NzPzogYm9vbGVhbiB9IHwgdW5kZWZpbmVkO1xuXHRcdGlmIChvcHRpb25hbENvbnRlbnRUeXBlcykge1xuXHRcdFx0aWYgKG9wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfUFJPSkVDVFNcXF1cXHMqXFxuXFxzKnByb2plY3RzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfUFJPSkVDVFNdXFxuICAgIHByb2plY3RzOiAke29wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChvcHRpb25hbENvbnRlbnRUeXBlcy5kb2NzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfRE9DU1xcXVxccypcXG5cXHMqZG9jczpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpPUFRJT05BTF9DT05URU5UX1RZUEVTX0RPQ1NdXFxuICAgIGRvY3M6ICR7b3B0aW9uYWxDb250ZW50VHlwZXMuZG9jc31gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBmZWF0dXJlIGJ1dHRvbiBpZiBzcGVjaWZpZWQgaW4gdGVtcGxhdGVcblx0XHRpZiAodGVtcGxhdGVDb25maWcuZmVhdHVyZUJ1dHRvbikge1xuXHRcdFx0Y29uc3QgZmVhdHVyZUJ1dHRvblZhbHVlID0gdHlwZW9mIHRlbXBsYXRlQ29uZmlnLmZlYXR1cmVCdXR0b24gPT09ICdzdHJpbmcnIFxuXHRcdFx0XHQ/IHRlbXBsYXRlQ29uZmlnLmZlYXR1cmVCdXR0b24gXG5cdFx0XHRcdDogSlNPTi5zdHJpbmdpZnkodGVtcGxhdGVDb25maWcuZmVhdHVyZUJ1dHRvbik7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZFQVRVUkVfQlVUVE9OXFxdXFxzKlxcblxccypmZWF0dXJlQnV0dG9uOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6RkVBVFVSRV9CVVRUT05dXFxuICBmZWF0dXJlQnV0dG9uOiBcIiR7ZmVhdHVyZUJ1dHRvblZhbHVlfVwiYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZvb3RlciBzZXR0aW5ncyBpZiBzcGVjaWZpZWQgaW4gdGVtcGxhdGVcblx0XHQvLyBOT1RFOiBXZSBvbmx5IHVwZGF0ZSBzaG93U29jaWFsSWNvbnNJbkZvb3RlciBhbmQgZW5hYmxlZCwgTkVWRVIgdGhlIGZvb3Rlci5jb250ZW50XG5cdFx0Y29uc3QgZm9vdGVyID0gdGVtcGxhdGVDb25maWcuZm9vdGVyIGFzIHsgZW5hYmxlZD86IGJvb2xlYW47IHNob3dTb2NpYWxJY29uc0luRm9vdGVyPzogYm9vbGVhbiB9IHwgdW5kZWZpbmVkO1xuXHRcdGlmIChmb290ZXIpIHtcblx0XHRcdC8vIFVwZGF0ZSBmb290ZXIgZW5hYmxlZCBzdGF0ZVxuXHRcdFx0aWYgKGZvb3Rlci5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPT1RFUl9FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6Rk9PVEVSX0VOQUJMRURdXFxuICAgIGVuYWJsZWQ6ICR7Zm9vdGVyLmVuYWJsZWR9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIGZvb3RlciBzb2NpYWwgaWNvbnNcblx0XHRcdGlmIChmb290ZXIuc2hvd1NvY2lhbEljb25zSW5Gb290ZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9PVEVSX1NIT1dfU09DSUFMX0lDT05TXFxdXFxzKnNob3dTb2NpYWxJY29uc0luRm9vdGVyOlxccypbXixcXG59XSsvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOkZPT1RFUl9TSE9XX1NPQ0lBTF9JQ09OU11cXG4gICAgc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6ICR7Zm9vdGVyLnNob3dTb2NpYWxJY29uc0luRm9vdGVyfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIG5hdmlnYXRpb24gc2V0dGluZ3MgaWYgc3BlY2lmaWVkIGluIHRlbXBsYXRlXG5cdFx0Y29uc3QgbmF2aWdhdGlvbiA9IHRlbXBsYXRlQ29uZmlnLm5hdmlnYXRpb24gYXMgeyBzdHlsZT86IHN0cmluZzsgc2hvd05hdmlnYXRpb24/OiBib29sZWFuOyBzaG93TW9iaWxlTWVudT86IGJvb2xlYW4gfSB8IHVuZGVmaW5lZDtcblx0XHRpZiAobmF2aWdhdGlvbikge1xuXHRcdFx0Ly8gVXBkYXRlIG5hdmlnYXRpb24gc3R5bGVcblx0XHRcdGlmIChuYXZpZ2F0aW9uLnN0eWxlKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpOQVZJR0FUSU9OX1NUWUxFXFxdXFxzKnN0eWxlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NUWUxFXVxcbiAgICBzdHlsZTogXCIke25hdmlnYXRpb24uc3R5bGV9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBzaG93TmF2aWdhdGlvblxuXHRcdFx0aWYgKG5hdmlnYXRpb24uc2hvd05hdmlnYXRpb24gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6TkFWSUdBVElPTl9TSE9XX05BVklHQVRJT05cXF1cXHMqc2hvd05hdmlnYXRpb246XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6TkFWSUdBVElPTl9TSE9XX05BVklHQVRJT05dXFxuICAgIHNob3dOYXZpZ2F0aW9uOiAke25hdmlnYXRpb24uc2hvd05hdmlnYXRpb259YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgc2hvd01vYmlsZU1lbnVcblx0XHRcdGlmIChuYXZpZ2F0aW9uLnNob3dNb2JpbGVNZW51ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fU0hPV19NT0JJTEVfTUVOVVxcXVxccypzaG93TW9iaWxlTWVudTpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NIT1dfTU9CSUxFX01FTlVdXFxuICAgIHNob3dNb2JpbGVNZW51OiAke25hdmlnYXRpb24uc2hvd01vYmlsZU1lbnV9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgY29tbWFuZCBwYWxldHRlIHNldHRpbmdzIGlmIHNwZWNpZmllZCBpbiB0ZW1wbGF0ZVxuXHRcdGNvbnN0IGNvbW1hbmRQYWxldHRlID0gdGVtcGxhdGVDb25maWcuY29tbWFuZFBhbGV0dGUgYXMgeyBlbmFibGVkPzogYm9vbGVhbjsgc2hvcnRjdXQ/OiBzdHJpbmc7IHBsYWNlaG9sZGVyPzogc3RyaW5nOyBzZWFyY2g/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjsgc2VjdGlvbnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjsgcXVpY2tBY3Rpb25zPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfSB8IHVuZGVmaW5lZDtcblx0XHRpZiAoY29tbWFuZFBhbGV0dGUpIHtcblx0XHRcdC8vIFVwZGF0ZSBlbmFibGVkIHN0YXRlXG5cdFx0XHRpZiAoY29tbWFuZFBhbGV0dGUuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9FTkFCTEVEXVxcbiAgICBlbmFibGVkOiAke2NvbW1hbmRQYWxldHRlLmVuYWJsZWR9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgc2hvcnRjdXRcblx0XHRcdGlmIChjb21tYW5kUGFsZXR0ZS5zaG9ydGN1dCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0hPUlRDVVRcXF1cXHMqc2hvcnRjdXQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TSE9SVENVVF1cXG4gICAgc2hvcnRjdXQ6IFwiJHtjb21tYW5kUGFsZXR0ZS5zaG9ydGN1dH1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIHBsYWNlaG9sZGVyXG5cdFx0XHRpZiAoY29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1BMQUNFSE9MREVSXFxdXFxzKnBsYWNlaG9sZGVyOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUExBQ0VIT0xERVJdXFxuICAgIHBsYWNlaG9sZGVyOiBcIiR7Y29tbWFuZFBhbGV0dGUucGxhY2Vob2xkZXJ9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBzZWFyY2ggc2V0dGluZ3MgLSB1c2UgaW5kaXZpZHVhbCBtYXJrZXJzXG5cdFx0XHRpZiAoY29tbWFuZFBhbGV0dGUuc2VhcmNoICYmIHR5cGVvZiBjb21tYW5kUGFsZXR0ZS5zZWFyY2ggPT09ICdvYmplY3QnICYmIGNvbW1hbmRQYWxldHRlLnNlYXJjaCAhPT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBzZWFyY2ggPSBjb21tYW5kUGFsZXR0ZS5zZWFyY2g7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBVcGRhdGUgZWFjaCBzZWFyY2ggc2V0dGluZyBpbmRpdmlkdWFsbHlcblx0XHRcdFx0aWYgKHNlYXJjaC5wb3N0cyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgcG9zdHNWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShzZWFyY2gucG9zdHMpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUE9TVFNcXF1cXHMqcG9zdHM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BPU1RTXVxcbiAgICAgIHBvc3RzOiAke3Bvc3RzVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNlYXJjaC5wYWdlcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFnZXNWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShzZWFyY2gucGFnZXMpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUEFHRVNcXF1cXHMqcGFnZXM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BBR0VTXVxcbiAgICAgIHBhZ2VzOiAke3BhZ2VzVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNlYXJjaC5wcm9qZWN0cyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgcHJvamVjdHNWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShzZWFyY2gucHJvamVjdHMpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUFJPSkVDVFNcXF1cXHMqcHJvamVjdHM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BST0pFQ1RTXVxcbiAgICAgIHByb2plY3RzOiAke3Byb2plY3RzVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNlYXJjaC5kb2NzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBkb2NzVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoc2VhcmNoLmRvY3MpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfRE9DU1xcXVxccypkb2NzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9ET0NTXVxcbiAgICAgIGRvY3M6ICR7ZG9jc1ZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBzZWN0aW9ucyBzZXR0aW5ncyAtIHVzZSBpbmRpdmlkdWFsIG1hcmtlcnNcblx0XHRcdGlmIChjb21tYW5kUGFsZXR0ZS5zZWN0aW9ucyAmJiB0eXBlb2YgY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMgPT09ICdvYmplY3QnICYmIGNvbW1hbmRQYWxldHRlLnNlY3Rpb25zICE9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnN0IHNlY3Rpb25zID0gY29tbWFuZFBhbGV0dGUuc2VjdGlvbnM7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBVcGRhdGUgZWFjaCBzZWN0aW9uIHNldHRpbmcgaW5kaXZpZHVhbGx5XG5cdFx0XHRcdGlmIChzZWN0aW9ucy5xdWlja0FjdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IHF1aWNrQWN0aW9uc1ZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHNlY3Rpb25zLnF1aWNrQWN0aW9ucyk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1FVSUNLX0FDVElPTlNcXF1cXHMqcXVpY2tBY3Rpb25zOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1FVSUNLX0FDVElPTlNdXFxuICAgICAgcXVpY2tBY3Rpb25zOiAke3F1aWNrQWN0aW9uc1ZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZWN0aW9ucy5wYWdlcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGFnZXNWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShzZWN0aW9ucy5wYWdlcyk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1BBR0VTXFxdXFxzKnBhZ2VzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1BBR0VTXVxcbiAgICAgIHBhZ2VzOiAke3BhZ2VzVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNlY3Rpb25zLnNvY2lhbCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3Qgc29jaWFsVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoc2VjdGlvbnMuc29jaWFsKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfU09DSUFMXFxdXFxzKnNvY2lhbDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19TT0NJQUxdXFxuICAgICAgc29jaWFsOiAke3NvY2lhbFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBxdWljayBhY3Rpb25zIHNldHRpbmdzIC0gdXNlIGluZGl2aWR1YWwgbWFya2Vyc1xuXHRcdFx0aWYgKGNvbW1hbmRQYWxldHRlLnF1aWNrQWN0aW9ucyAmJiB0eXBlb2YgY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zID09PSAnb2JqZWN0JyAmJiBjb21tYW5kUGFsZXR0ZS5xdWlja0FjdGlvbnMgIT09IG51bGwpIHtcblx0XHRcdFx0Y29uc3QgcXVpY2tBY3Rpb25zID0gY29tbWFuZFBhbGV0dGUucXVpY2tBY3Rpb25zO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gVXBkYXRlIGVhY2ggcXVpY2sgYWN0aW9uIHNldHRpbmcgaW5kaXZpZHVhbGx5XG5cdFx0XHRcdGlmIChxdWlja0FjdGlvbnMuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgZW5hYmxlZFZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHF1aWNrQWN0aW9ucy5lbmFibGVkKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7ZW5hYmxlZFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChxdWlja0FjdGlvbnMudG9nZ2xlTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgdG9nZ2xlTW9kZVZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHF1aWNrQWN0aW9ucy50b2dnbGVNb2RlKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19UT0dHTEVfTU9ERVxcXVxccyp0b2dnbGVNb2RlOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfVE9HR0xFX01PREVdXFxuICAgICAgdG9nZ2xlTW9kZTogJHt0b2dnbGVNb2RlVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHF1aWNrQWN0aW9ucy5ncmFwaFZpZXcgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGdyYXBoVmlld1ZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHF1aWNrQWN0aW9ucy5ncmFwaFZpZXcpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0dSQVBIX1ZJRVdcXF1cXHMqZ3JhcGhWaWV3OlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfR1JBUEhfVklFV11cXG4gICAgICBncmFwaFZpZXc6ICR7Z3JhcGhWaWV3VmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHF1aWNrQWN0aW9ucy5jaGFuZ2VUaGVtZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2hhbmdlVGhlbWVWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShxdWlja0FjdGlvbnMuY2hhbmdlVGhlbWUpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0NIQU5HRV9USEVNRVxcXVxccypjaGFuZ2VUaGVtZTpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0NIQU5HRV9USEVNRV1cXG4gICAgICBjaGFuZ2VUaGVtZTogJHtjaGFuZ2VUaGVtZVZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBob21lIG9wdGlvbnMgaWYgc3BlY2lmaWVkIGluIHRlbXBsYXRlXG5cdFx0aWYgKHRlbXBsYXRlQ29uZmlnLmhvbWVPcHRpb25zICYmIHR5cGVvZiB0ZW1wbGF0ZUNvbmZpZy5ob21lT3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgdGVtcGxhdGVDb25maWcuaG9tZU9wdGlvbnMgIT09IG51bGwpIHtcblx0XHRcdGNvbnN0IGhvbWVPcHRpb25zID0gdGVtcGxhdGVDb25maWcuaG9tZU9wdGlvbnMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHQvLyBVcGRhdGUgZmVhdHVyZWQgcG9zdCBzZXR0aW5nc1xuXHRcdFx0aWYgKGhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdCAmJiB0eXBlb2YgaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0ID09PSAnb2JqZWN0JyAmJiBob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QgIT09IG51bGwpIHtcblx0XHRcdFx0Y29uc3QgZmVhdHVyZWRQb3N0ID0gaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRpZiAoZmVhdHVyZWRQb3N0LmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGVuYWJsZWRWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShmZWF0dXJlZFBvc3QuZW5hYmxlZCk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke2VuYWJsZWRWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZmVhdHVyZWRQb3N0LnR5cGUgJiYgdHlwZW9mIGZlYXR1cmVkUG9zdC50eXBlID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX1RZUEVcXF1cXHMqdHlwZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfRkVBVFVSRURfUE9TVF9UWVBFXVxcbiAgICAgIHR5cGU6IFwiJHtmZWF0dXJlZFBvc3QudHlwZX1cImBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSByZWNlbnQgcG9zdHMgc2V0dGluZ3Ncblx0XHRcdGlmIChob21lT3B0aW9ucy5yZWNlbnRQb3N0cyAmJiB0eXBlb2YgaG9tZU9wdGlvbnMucmVjZW50UG9zdHMgPT09ICdvYmplY3QnICYmIGhvbWVPcHRpb25zLnJlY2VudFBvc3RzICE9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnN0IHJlY2VudFBvc3RzID0gaG9tZU9wdGlvbnMucmVjZW50UG9zdHMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdGlmIChyZWNlbnRQb3N0cy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBlbmFibGVkVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkocmVjZW50UG9zdHMuZW5hYmxlZCk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX1JFQ0VOVF9QT1NUU19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfUkVDRU5UX1BPU1RTX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtlbmFibGVkVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJlY2VudFBvc3RzLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBjb3VudFZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KHJlY2VudFBvc3RzLmNvdW50KTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfUkVDRU5UX1BPU1RTX0NPVU5UXFxdXFxzKmNvdW50OlxccypcXGQrLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19SRUNFTlRfUE9TVFNfQ09VTlRdXFxuICAgICAgY291bnQ6ICR7Y291bnRWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgcHJvamVjdHMgc2V0dGluZ3Ncblx0XHRcdGlmIChob21lT3B0aW9ucy5wcm9qZWN0cyAmJiB0eXBlb2YgaG9tZU9wdGlvbnMucHJvamVjdHMgPT09ICdvYmplY3QnICYmIGhvbWVPcHRpb25zLnByb2plY3RzICE9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnN0IHByb2plY3RzID0gaG9tZU9wdGlvbnMucHJvamVjdHMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdGlmIChwcm9qZWN0cy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBlbmFibGVkVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkocHJvamVjdHMuZW5hYmxlZCk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19QUk9KRUNUU19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7ZW5hYmxlZFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChwcm9qZWN0cy5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgY291bnRWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShwcm9qZWN0cy5jb3VudCk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0NPVU5UXFxdXFxzKmNvdW50OlxccypcXGQrLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19QUk9KRUNUU19DT1VOVF1cXG4gICAgICBjb3VudDogJHtjb3VudFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBkb2NzIHNldHRpbmdzXG5cdFx0XHRpZiAoaG9tZU9wdGlvbnMuZG9jcyAmJiB0eXBlb2YgaG9tZU9wdGlvbnMuZG9jcyA9PT0gJ29iamVjdCcgJiYgaG9tZU9wdGlvbnMuZG9jcyAhPT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBkb2NzID0gaG9tZU9wdGlvbnMuZG9jcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0aWYgKGRvY3MuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgZW5hYmxlZFZhbHVlID0gdGhpcy5zYWZlU3RyaW5naWZ5KGRvY3MuZW5hYmxlZCk7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX0RPQ1NfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX0RPQ1NfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke2VuYWJsZWRWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZG9jcy5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgY291bnRWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShkb2NzLmNvdW50KTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19DT1VOVFxcXVxccypjb3VudDpcXHMqXFxkKy8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19DT1VOVF1cXG4gICAgICBjb3VudDogJHtjb3VudFZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBibHVyYiBwbGFjZW1lbnRcblx0XHRcdGlmIChob21lT3B0aW9ucy5ibHVyYiAmJiB0eXBlb2YgaG9tZU9wdGlvbnMuYmx1cmIgPT09ICdvYmplY3QnICYmIGhvbWVPcHRpb25zLmJsdXJiICE9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnN0IGJsdXJiID0gaG9tZU9wdGlvbnMuYmx1cmIgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHRcdGlmIChibHVyYi5wbGFjZW1lbnQgJiYgdHlwZW9mIGJsdXJiLnBsYWNlbWVudCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfQkxVUkJfUExBQ0VNRU5UXFxdXFxzKnBsYWNlbWVudDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfQkxVUkJfUExBQ0VNRU5UXVxcbiAgICAgIHBsYWNlbWVudDogXCIke2JsdXJiLnBsYWNlbWVudH1cImBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBwb3N0IG9wdGlvbnMgaWYgc3BlY2lmaWVkIGluIHRlbXBsYXRlXG5cdFx0aWYgKHRlbXBsYXRlQ29uZmlnLnBvc3RPcHRpb25zICYmIHR5cGVvZiB0ZW1wbGF0ZUNvbmZpZy5wb3N0T3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgdGVtcGxhdGVDb25maWcucG9zdE9wdGlvbnMgIT09IG51bGwpIHtcblx0XHRcdGNvbnN0IHBvc3RPcHRpb25zID0gdGVtcGxhdGVDb25maWcucG9zdE9wdGlvbnMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0XHQvLyBVcGRhdGUgcG9zdHMgcGVyIHBhZ2Vcblx0XHRcdGlmIChwb3N0T3B0aW9ucy5wb3N0c1BlclBhZ2UgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCBwb3N0c1BlclBhZ2VWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShwb3N0T3B0aW9ucy5wb3N0c1BlclBhZ2UpO1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RTX1BFUl9QQUdFXFxdXFxzKnBvc3RzUGVyUGFnZTpcXHMqXFxkKy8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RTX1BFUl9QQUdFXVxcbiAgICBwb3N0c1BlclBhZ2U6ICR7cG9zdHNQZXJQYWdlVmFsdWV9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBVcGRhdGUgYm9vbGVhbiBmZWF0dXJlcyB3aXRoIG1hcmtlci1iYXNlZCByZXBsYWNlbWVudFxuXHRcdFx0Y29uc3QgYm9vbGVhbkZlYXR1cmVzID0gW1xuXHRcdFx0XHR7IGtleTogJ3JlYWRpbmdUaW1lJywgbWFya2VyOiAnQ09ORklHOlBPU1RfT1BUSU9OU19SRUFESU5HX1RJTUUnIH0sXG5cdFx0XHRcdHsga2V5OiAnd29yZENvdW50JywgbWFya2VyOiAnQ09ORklHOlBPU1RfT1BUSU9OU19XT1JEX0NPVU5UJyB9LFxuXHRcdFx0XHR7IGtleTogJ3RhZ3MnLCBtYXJrZXI6ICdDT05GSUc6UE9TVF9PUFRJT05TX1RBR1MnIH0sXG5cdFx0XHRcdHsga2V5OiAncG9zdE5hdmlnYXRpb24nLCBtYXJrZXI6ICdDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RfTkFWSUdBVElPTicgfVxuXHRcdFx0XTtcblx0XHRcdFxuXHRcdFx0Ym9vbGVhbkZlYXR1cmVzLmZvckVhY2goZmVhdHVyZSA9PiB7XG5cdFx0XHRcdGlmIChwb3N0T3B0aW9uc1tmZWF0dXJlLmtleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGZlYXR1cmVWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShwb3N0T3B0aW9uc1tmZWF0dXJlLmtleV0pO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdG5ldyBSZWdFeHAoYC8vIFxcXFxbJHtmZWF0dXJlLm1hcmtlcn1cXFxcXVxcXFxzKiR7ZmVhdHVyZS5rZXl9OlxcXFxzKih0cnVlfGZhbHNlKWApLFxuXHRcdFx0XHRcdFx0YC8vIFske2ZlYXR1cmUubWFya2VyfV1cXG4gICAgJHtmZWF0dXJlLmtleX06ICR7ZmVhdHVyZVZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIGxpbmtlZCBtZW50aW9ucyBzZXR0aW5nc1xuXHRcdFx0aWYgKHBvc3RPcHRpb25zLmxpbmtlZE1lbnRpb25zICYmIHR5cGVvZiBwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyA9PT0gJ29iamVjdCcgJiYgcG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMgIT09IG51bGwpIHtcblx0XHRcdFx0Y29uc3QgbGlua2VkTWVudGlvbnMgPSBwb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0aWYgKGxpbmtlZE1lbnRpb25zLmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IGVuYWJsZWRWYWx1ZSA9IHRoaXMuc2FmZVN0cmluZ2lmeShsaW5rZWRNZW50aW9ucy5lbmFibGVkKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke2VuYWJsZWRWYWx1ZX1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobGlua2VkTWVudGlvbnMubGlua2VkTWVudGlvbnNDb21wYWN0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBjb21wYWN0VmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkobGlua2VkTWVudGlvbnMubGlua2VkTWVudGlvbnNDb21wYWN0KTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0NPTVBBQ1RcXF1cXHMqbGlua2VkTWVudGlvbnNDb21wYWN0OlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0xJTktFRF9NRU5USU9OU19DT01QQUNUXVxcbiAgICAgIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogJHtjb21wYWN0VmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIGdyYXBoIHZpZXcgc2V0dGluZ3Mgd2l0aCBtYXJrZXItYmFzZWQgcmVwbGFjZW1lbnRcblx0XHRcdGlmIChwb3N0T3B0aW9ucy5ncmFwaFZpZXcgJiYgdHlwZW9mIHBvc3RPcHRpb25zLmdyYXBoVmlldyA9PT0gJ29iamVjdCcgJiYgcG9zdE9wdGlvbnMuZ3JhcGhWaWV3ICE9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnN0IGdyYXBoVmlldyA9IHBvc3RPcHRpb25zLmdyYXBoVmlldyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0Ly8gVXBkYXRlIGVuYWJsZWQgc3RhdGVcblx0XHRcdFx0aWYgKGdyYXBoVmlldy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBlbmFibGVkVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoZ3JhcGhWaWV3LmVuYWJsZWQpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtlbmFibGVkVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gVXBkYXRlIHNob3dJblNpZGViYXIgc3RhdGVcblx0XHRcdFx0aWYgKGdyYXBoVmlldy5zaG93SW5TaWRlYmFyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjb25zdCBzaG93SW5TaWRlYmFyVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoZ3JhcGhWaWV3LnNob3dJblNpZGViYXIpO1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX1NIT1dfSU5fU0lERUJBUlxcXVxccypcXG4/XFxzKnNob3dJblNpZGViYXI6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19TSE9XX0lOX1NJREVCQVJdXFxuICAgICAgc2hvd0luU2lkZWJhcjogJHtzaG93SW5TaWRlYmFyVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gVXBkYXRlIHNob3dJbkNvbW1hbmRQYWxldHRlIHN0YXRlXG5cdFx0XHRcdGlmIChncmFwaFZpZXcuc2hvd0luQ29tbWFuZFBhbGV0dGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IHNob3dJbkNvbW1hbmRQYWxldHRlVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoZ3JhcGhWaWV3LnNob3dJbkNvbW1hbmRQYWxldHRlKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19TSE9XX0lOX0NPTU1BTkRfUEFMRVRURVxcXVxccypzaG93SW5Db21tYW5kUGFsZXR0ZTpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX1NIT1dfSU5fQ09NTUFORF9QQUxFVFRFXVxcbiAgICAgIHNob3dJbkNvbW1hbmRQYWxldHRlOiAke3Nob3dJbkNvbW1hbmRQYWxldHRlVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gVXBkYXRlIG1heE5vZGVzXG5cdFx0XHRcdGlmIChncmFwaFZpZXcubWF4Tm9kZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IG1heE5vZGVzVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoZ3JhcGhWaWV3Lm1heE5vZGVzKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19NQVhfTk9ERVNcXF1cXHMqbWF4Tm9kZXM6XFxzKlxcZCsvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfTUFYX05PREVTXVxcbiAgICAgIG1heE5vZGVzOiAke21heE5vZGVzVmFsdWV9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gVXBkYXRlIHNob3dPcnBoYW5lZFBvc3RzXG5cdFx0XHRcdGlmIChncmFwaFZpZXcuc2hvd09ycGhhbmVkUG9zdHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnN0IHNob3dPcnBoYW5lZFBvc3RzVmFsdWUgPSB0aGlzLnNhZmVTdHJpbmdpZnkoZ3JhcGhWaWV3LnNob3dPcnBoYW5lZFBvc3RzKTtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19TSE9XX09SUEhBTkVEX1BPU1RTXFxdXFxzKnNob3dPcnBoYW5lZFBvc3RzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfU0hPV19PUlBIQU5FRF9QT1NUU11cXG4gICAgICBzaG93T3JwaGFuZWRQb3N0czogJHtzaG93T3JwaGFuZWRQb3N0c1ZhbHVlfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSBwb3N0IGNhcmQgc2V0dGluZ3Ncblx0XHRcdGlmIChwb3N0T3B0aW9ucy5zaG93UG9zdENhcmRDb3ZlckltYWdlcyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMuc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXMgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfU0hPV19QT1NUX0NBUkRfQ09WRVJfSU1BR0VTXFxdXFxzKnNob3dQb3N0Q2FyZENvdmVySW1hZ2VzOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfU0hPV19QT1NUX0NBUkRfQ09WRVJfSU1BR0VTXVxcbiAgICBzaG93UG9zdENhcmRDb3ZlckltYWdlczogXCIke3Bvc3RPcHRpb25zLnNob3dQb3N0Q2FyZENvdmVySW1hZ2VzfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHBvc3RPcHRpb25zLnBvc3RDYXJkQXNwZWN0UmF0aW8gJiYgdHlwZW9mIHBvc3RPcHRpb25zLnBvc3RDYXJkQXNwZWN0UmF0aW8gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVF9DQVJEX0FTUEVDVF9SQVRJT1xcXVxccypwb3N0Q2FyZEFzcGVjdFJhdGlvOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVF9DQVJEX0FTUEVDVF9SQVRJT11cXG4gICAgcG9zdENhcmRBc3BlY3RSYXRpbzogXCIke3Bvc3RPcHRpb25zLnBvc3RDYXJkQXNwZWN0UmF0aW99XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAocG9zdE9wdGlvbnMuY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbyAmJiB0eXBlb2YgcG9zdE9wdGlvbnMuY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbyA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DVVNUT01fUE9TVF9DQVJEX0FTUEVDVF9SQVRJT1xcXVxccypjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ1VTVE9NX1BPU1RfQ0FSRF9BU1BFQ1RfUkFUSU9dXFxuICAgIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86IFwiJHtwb3N0T3B0aW9ucy5jdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgY29tbWVudHMgc2V0dGluZ3Ncblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8uY29tbWVudHM/LmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuZW5hYmxlZH1gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgb3RoZXIgY29tbWVudHMgc2V0dGluZ3Mgb25seSBpZiBlbmFibGVkXG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkKSB7XG5cdFx0XHQvLyBVcGRhdGUgcHJvdmlkZXJcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnByb3ZpZGVyKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUFJPVklERVJcXF1cXHMqcHJvdmlkZXI6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19QUk9WSURFUl1cXG4gICAgICBwcm92aWRlcjogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucHJvdmlkZXJ9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgcmVwb1xuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVwbykge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFUE9cXF1cXHMqcmVwbzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFUE9dXFxuICAgICAgcmVwbzogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVwb31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSByZXBvSWRcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnJlcG9JZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFUE9fSURcXF1cXHMqcmVwb0lkOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVQT19JRF1cXG4gICAgICByZXBvSWQ6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnJlcG9JZH1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBjYXRlZ29yeVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuY2F0ZWdvcnkpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19DQVRFR09SWVxcXVxccypjYXRlZ29yeTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0NBVEVHT1JZXVxcbiAgICAgIGNhdGVnb3J5OiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5jYXRlZ29yeX1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBjYXRlZ29yeUlkXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5jYXRlZ29yeUlkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfQ0FURUdPUllfSURcXF1cXHMqY2F0ZWdvcnlJZDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0NBVEVHT1JZX0lEXVxcbiAgICAgIGNhdGVnb3J5SWQ6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmNhdGVnb3J5SWR9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgbWFwcGluZ1xuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubWFwcGluZykge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX01BUFBJTkdcXF1cXHMqbWFwcGluZzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX01BUFBJTkddXFxuICAgICAgbWFwcGluZzogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubWFwcGluZ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBzdHJpY3Rcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnN0cmljdCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1NUUklDVFxcXVxccypzdHJpY3Q6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19TVFJJQ1RdXFxuICAgICAgc3RyaWN0OiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5zdHJpY3R9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgcmVhY3Rpb25zXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5yZWFjdGlvbnMpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRUFDVElPTlNcXF1cXHMqcmVhY3Rpb25zOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVBQ1RJT05TXVxcbiAgICAgIHJlYWN0aW9uczogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVhY3Rpb25zfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIG1ldGFkYXRhXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5tZXRhZGF0YSkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX01FVEFEQVRBXFxdXFxzKm1ldGFkYXRhOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTUVUQURBVEFdXFxuICAgICAgbWV0YWRhdGE6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLm1ldGFkYXRhfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIGlucHV0UG9zaXRpb25cblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmlucHV0UG9zaXRpb24pIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19JTlBVVF9QT1NJVElPTlxcXVxccyppbnB1dFBvc2l0aW9uOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfSU5QVVRfUE9TSVRJT05dXFxuICAgICAgaW5wdXRQb3NpdGlvbjogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuaW5wdXRQb3NpdGlvbn1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSB0aGVtZVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMudGhlbWUpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19USEVNRVxcXVxccyp0aGVtZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1RIRU1FXVxcbiAgICAgIHRoZW1lOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy50aGVtZX1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBsYW5nXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5sYW5nKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTEFOR1xcXVxccypsYW5nOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTEFOR11cXG4gICAgICBsYW5nOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5sYW5nfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIGxvYWRpbmdcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmxvYWRpbmcpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MT0FESU5HXFxdXFxzKmxvYWRpbmc6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MT0FESU5HXVxcbiAgICAgIGxvYWRpbmc6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmxvYWRpbmd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFZhbGlkYXRlIG1hcmtlcnMgYXJlIHByZXNlbnRcblx0XHRjb25zdCBtYXJrZXJWYWxpZGF0aW9uID0gdGhpcy5tYXJrZXJWYWxpZGF0b3IudmFsaWRhdGVNYXJrZXJzKG1vZGlmaWVkQ29uZmlnKTtcblx0XHRpZiAoIW1hcmtlclZhbGlkYXRpb24udmFsaWQpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1x1Mjc0QyBDb25maWcgbW9kaWZpY2F0aW9uIGZhaWxlZDogTWlzc2luZyBtYXJrZXJzOicsIG1hcmtlclZhbGlkYXRpb24ubWlzc2luZyk7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdQbGVhc2UgZW5zdXJlIGFsbCBDT05GSUcgbWFya2VycyBhcmUgcHJlc2VudCBpbiB5b3VyIGNvbmZpZy50cyBmaWxlJyk7XG5cdFx0XHRyZXR1cm4gY3VycmVudENvbmZpZzsgLy8gUmV0dXJuIG9yaWdpbmFsIGNvbmZpZyBpZiBtYXJrZXJzIGFyZSBtaXNzaW5nXG5cdFx0fVxuXHRcdFxuXHRcdC8vIFZhbGlkYXRlIHRoZSBtb2RpZmllZCBjb25maWcgaGFzIHByb3BlciBzeW50YXhcblx0XHRjb25zdCBzeW50YXhWYWxpZGF0aW9uID0gdGhpcy5tYXJrZXJWYWxpZGF0b3IudmFsaWRhdGVTeW50YXgobW9kaWZpZWRDb25maWcpO1xuXHRcdGlmICghc3ludGF4VmFsaWRhdGlvbi52YWxpZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignXHUyNzRDIENvbmZpZyBtb2RpZmljYXRpb24gZmFpbGVkOiBTeW50YXggZXJyb3JzOicsIHN5bnRheFZhbGlkYXRpb24uZXJyb3JzKTtcblx0XHRcdHJldHVybiBjdXJyZW50Q29uZmlnOyAvLyBSZXR1cm4gb3JpZ2luYWwgY29uZmlnIGlmIHN5bnRheCBpcyBicm9rZW5cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHNpdGUgaW5mb3JtYXRpb25cblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX1VSTFxcXVxccypcXG5cXHMqc2l0ZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpTSVRFX1VSTF1cXG4gIHNpdGU6IFwiJHtzZXR0aW5ncy5zaXRlSW5mby5zaXRlfVwiYFxuXHRcdCk7XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6U0lURV9USVRMRVxcXVxccypcXG5cXHMqdGl0bGU6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6U0lURV9USVRMRV1cXG4gIHRpdGxlOiBcIiR7c2V0dGluZ3Muc2l0ZUluZm8udGl0bGV9XCJgXG5cdFx0KTtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX0RFU0NSSVBUSU9OXFxdXFxzKlxcblxccypkZXNjcmlwdGlvbjpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpTSVRFX0RFU0NSSVBUSU9OXVxcbiAgZGVzY3JpcHRpb246IFwiJHtzZXR0aW5ncy5zaXRlSW5mby5kZXNjcmlwdGlvbn1cImBcblx0XHQpO1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlNJVEVfQVVUSE9SXFxdXFxzKlxcblxccyphdXRob3I6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6U0lURV9BVVRIT1JdXFxuICBhdXRob3I6IFwiJHtzZXR0aW5ncy5zaXRlSW5mby5hdXRob3J9XCJgXG5cdFx0KTtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpTSVRFX0xBTkdVQUdFXFxdXFxzKlxcblxccypsYW5ndWFnZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpTSVRFX0xBTkdVQUdFXVxcbiAgbGFuZ3VhZ2U6IFwiJHtzZXR0aW5ncy5zaXRlSW5mby5sYW5ndWFnZX1cImBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBmYXZpY29uIHRoZW1lIGFkYXB0aXZlXG5cdFx0aWYgKHNldHRpbmdzLnNpdGVJbmZvLmZhdmljb25UaGVtZUFkYXB0aXZlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6RkFWSUNPTl9USEVNRV9BREFQVElWRVxcXVxccypcXG5cXHMqZmF2aWNvblRoZW1lQWRhcHRpdmU6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOkZBVklDT05fVEhFTUVfQURBUFRJVkVdXFxuICBmYXZpY29uVGhlbWVBZGFwdGl2ZTogJHtzZXR0aW5ncy5zaXRlSW5mby5mYXZpY29uVGhlbWVBZGFwdGl2ZX1gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgZGVmYXVsdCBPRyBpbWFnZSBhbHQgdGV4dFxuXHRcdGlmIChzZXR0aW5ncy5zaXRlSW5mby5kZWZhdWx0T2dJbWFnZUFsdCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpERUZBVUxUX09HX0lNQUdFX0FMVFxcXVxccypcXG5cXHMqZGVmYXVsdE9nSW1hZ2VBbHQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpERUZBVUxUX09HX0lNQUdFX0FMVF1cXG4gIGRlZmF1bHRPZ0ltYWdlQWx0OiBcIiR7c2V0dGluZ3Muc2l0ZUluZm8uZGVmYXVsdE9nSW1hZ2VBbHR9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvbiBwYWdlcyAod2l0aCBuZXN0ZWQgc3VwcG9ydClcblx0XHRjb25zdCBzZXJpYWxpemVOYXZpZ2F0aW9uSXRlbSA9IChpdGVtOiBOYXZpZ2F0aW9uSXRlbSwgaW5kZW50OiBzdHJpbmcgPSAnICAgICAgJyk6IHN0cmluZyA9PiB7XG5cdFx0XHRsZXQgcmVzdWx0ID0gYCR7aW5kZW50fXsgdGl0bGU6IFwiJHtpdGVtLnRpdGxlfVwiYDtcblx0XHRcdGlmIChpdGVtLnVybCkge1xuXHRcdFx0XHRyZXN1bHQgKz0gYCwgdXJsOiBcIiR7aXRlbS51cmx9XCJgO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHJlc3VsdCArPSBgLFxcbiR7aW5kZW50fSAgY2hpbGRyZW46IFtcXG5gO1xuXHRcdFx0XHQvLyBDaGlsZHJlbiBhcmUgZmxhdCAtIHRoZXkgZG9uJ3QgaGF2ZSB0aGVpciBvd24gY2hpbGRyZW5cblx0XHRcdFx0cmVzdWx0ICs9IGl0ZW0uY2hpbGRyZW4ubWFwKChjaGlsZDogTmF2aWdhdGlvbkl0ZW0pID0+IHtcblx0XHRcdFx0XHRsZXQgY2hpbGRSZXN1bHQgPSBgJHtpbmRlbnR9ICAgIHsgdGl0bGU6IFwiJHtjaGlsZC50aXRsZX1cIiwgdXJsOiBcIiR7Y2hpbGQudXJsfVwiIH1gO1xuXHRcdFx0XHRcdHJldHVybiBjaGlsZFJlc3VsdDtcblx0XHRcdFx0fSkuam9pbignLFxcbicpO1xuXHRcdFx0XHRyZXN1bHQgKz0gYFxcbiR7aW5kZW50fSAgXWA7XG5cdFx0XHR9XG5cdFx0XHRyZXN1bHQgKz0gJyB9Jztcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0XHRjb25zdCBwYWdlc0FycmF5ID0gc2V0dGluZ3MubmF2aWdhdGlvbi5wYWdlcy5tYXAocGFnZSA9PiBzZXJpYWxpemVOYXZpZ2F0aW9uSXRlbShwYWdlKSkuam9pbignLFxcbicpO1xuXHRcdC8vIE1hdGNoIGZyb20gQ09ORklHOk5BVklHQVRJT05fUEFHRVMgdG8gQ09ORklHOk5BVklHQVRJT05fU09DSUFMLCByZXBsYWNpbmcgZXZlcnl0aGluZyBpbiBiZXR3ZWVuXG5cdFx0Ly8gVGhpcyBlbnN1cmVzIHdlIGNhcHR1cmUgdGhlIGVudGlyZSBwYWdlcyBhcnJheSBpbmNsdWRpbmcgbmVzdGVkIGNoaWxkcmVuXG5cdFx0Y29uc3QgcGFnZXNNYXJrZXIgPSAnLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1BBR0VTXSc7XG5cdFx0Y29uc3Qgc29jaWFsTWFya2VyID0gJy8vIFtDT05GSUc6TkFWSUdBVElPTl9TT0NJQUxdJztcblx0XHRjb25zdCBwYWdlc01hcmtlckluZGV4ID0gbW9kaWZpZWRDb25maWcuaW5kZXhPZihwYWdlc01hcmtlcik7XG5cdFx0Y29uc3Qgc29jaWFsTWFya2VySW5kZXggPSBtb2RpZmllZENvbmZpZy5pbmRleE9mKHNvY2lhbE1hcmtlcik7XG5cdFx0XG5cdFx0aWYgKHBhZ2VzTWFya2VySW5kZXggIT09IC0xICYmIHNvY2lhbE1hcmtlckluZGV4ICE9PSAtMSkge1xuXHRcdFx0Ly8gRmluZCB0aGUgc3RhcnQgb2YgcGFnZXM6IFsgKGFmdGVyIHRoZSBtYXJrZXIpXG5cdFx0XHRjb25zdCBwYWdlc0FycmF5U3RhcnQgPSBtb2RpZmllZENvbmZpZy5pbmRleE9mKCdwYWdlczogWycsIHBhZ2VzTWFya2VySW5kZXgpO1xuXHRcdFx0aWYgKHBhZ2VzQXJyYXlTdGFydCAhPT0gLTEpIHtcblx0XHRcdFx0Ly8gUmVwbGFjZSBmcm9tIGFmdGVyIHRoZSBtYXJrZXIgdG8gYmVmb3JlIHRoZSBzb2NpYWwgbWFya2VyXG5cdFx0XHRcdGNvbnN0IGJlZm9yZSA9IG1vZGlmaWVkQ29uZmlnLnN1YnN0cmluZygwLCBwYWdlc01hcmtlckluZGV4ICsgcGFnZXNNYXJrZXIubGVuZ3RoKTtcblx0XHRcdFx0Y29uc3QgYWZ0ZXIgPSBtb2RpZmllZENvbmZpZy5zdWJzdHJpbmcoc29jaWFsTWFya2VySW5kZXgpO1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IGAke2JlZm9yZX1cXG4gICAgcGFnZXM6IFtcXG4ke3BhZ2VzQXJyYXl9XFxuICAgIF0sXFxuICAgICR7YWZ0ZXJ9YDtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIG5hdmlnYXRpb24gc29jaWFsXG5cdFx0Y29uc3Qgc29jaWFsQXJyYXkgPSBzZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbC5tYXAoKHNvY2lhbCkgPT4ge1xuXHRcdFx0cmV0dXJuIGAgICAgICB7XFxuICAgICAgICB0aXRsZTogXCIke3NvY2lhbC50aXRsZX1cIixcXG4gICAgICAgIHVybDogXCIke3NvY2lhbC51cmx9XCIsXFxuICAgICAgICBpY29uOiBcIiR7c29jaWFsLmljb259XCIsXFxuICAgICAgfWA7XG5cdFx0fSkuam9pbignLFxcbicpO1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fU09DSUFMXFxdXFxzKlxcblxccypzb2NpYWw6XFxzKlxcW1tcXHNcXFNdKj9cXF0vLFxuXHRcdFx0YC8vIFtDT05GSUc6TkFWSUdBVElPTl9TT0NJQUxdXFxuICAgIHNvY2lhbDogW1xcbiR7c29jaWFsQXJyYXl9LFxcbiAgICBdYFxuXHRcdCk7XG5cdFx0XG5cdFx0cmV0dXJuIG1vZGlmaWVkQ29uZmlnO1xuXHR9XG5cblx0bW9kaWZ5Q29uZmlnRnJvbUZlYXR1cmVzKHNldHRpbmdzOiBBc3Ryb01vZHVsYXJTZXR0aW5ncywgY3VycmVudENvbmZpZzogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRsZXQgbW9kaWZpZWRDb25maWcgPSBjdXJyZW50Q29uZmlnO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSB0aGVtZVxuXHRcdGNvbnN0IHRoZW1lUmVnZXggPSAvXFwvXFwvIFxcW0NPTkZJRzpUSEVNRVxcXVxccypcXG5cXHMqdGhlbWU6XFxzKlwiW15cIl0qXCIvO1xuXHRcdFxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdHRoZW1lUmVnZXgsXG5cdFx0XHRgLy8gW0NPTkZJRzpUSEVNRV1cXG4gIHRoZW1lOiBcIiR7c2V0dGluZ3MuY3VycmVudFRoZW1lfVwiYFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGN1c3RvbSB0aGVtZSBmaWxlXG5cdFx0aWYgKHNldHRpbmdzLmN1c3RvbVRoZW1lRmlsZSkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDVVNUT01fVEhFTUVfRklMRVxcXVxccypcXG5cXHMqY3VzdG9tVGhlbWVGaWxlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6Q1VTVE9NX1RIRU1FX0ZJTEVdXFxuICBjdXN0b21UaGVtZUZpbGU6IFwiJHtzZXR0aW5ncy5jdXN0b21UaGVtZUZpbGV9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgb3B0aW9uYWwgY29udGVudCB0eXBlc1xuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcykge1xuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLnByb2plY3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29uc3QgcHJvamVjdHNSZWdleCA9IC9cXC9cXC8gXFxbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfUFJPSkVDVFNcXF1cXHMqXFxuXFxzKnByb2plY3RzOlxccyoodHJ1ZXxmYWxzZSkvO1xuXHRcdFx0XHRcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdHByb2plY3RzUmVnZXgsXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6T1BUSU9OQUxfQ09OVEVOVF9UWVBFU19QUk9KRUNUU11cXG4gICAgcHJvamVjdHM6ICR7c2V0dGluZ3Mub3B0aW9uYWxDb250ZW50VHlwZXMucHJvamVjdHN9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsQ29udGVudFR5cGVzLmRvY3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCBkb2NzUmVnZXggPSAvXFwvXFwvIFxcW0NPTkZJRzpPUFRJT05BTF9DT05URU5UX1RZUEVTX0RPQ1NcXF1cXHMqXFxuXFxzKmRvY3M6XFxzKih0cnVlfGZhbHNlKS87XG5cdFx0XHRcdFxuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0ZG9jc1JlZ2V4LFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk9QVElPTkFMX0NPTlRFTlRfVFlQRVNfRE9DU11cXG4gICAgZG9jczogJHtzZXR0aW5ncy5vcHRpb25hbENvbnRlbnRUeXBlcy5kb2NzfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGF2YWlsYWJsZSB0aGVtZXNcblx0XHRpZiAoc2V0dGluZ3MuYXZhaWxhYmxlVGhlbWVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGxldCBhdmFpbGFibGVUaGVtZXNWYWx1ZTogc3RyaW5nO1xuXHRcdFx0aWYgKHNldHRpbmdzLmF2YWlsYWJsZVRoZW1lcyA9PT0gJ2RlZmF1bHQnKSB7XG5cdFx0XHRcdGF2YWlsYWJsZVRoZW1lc1ZhbHVlID0gJ1wiZGVmYXVsdFwiJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIENvbnZlcnQgYXJyYXkgdG8gc3RyaW5nIGZvcm1hdCBhbmQgbWVyZ2Ugd2l0aCBjdXN0b20gdGhlbWVzIGlmIHRoZXkgZXhpc3Rcblx0XHRcdFx0bGV0IHRoZW1lc0FycmF5ID0gWy4uLnNldHRpbmdzLmF2YWlsYWJsZVRoZW1lc107XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBJZiBjdXN0b20gdGhlbWVzIGFyZSBzcGVjaWZpZWQsIGFkZCB0aGVtIHRvIHRoZSBhcnJheVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MuY3VzdG9tVGhlbWVzICYmIHNldHRpbmdzLmN1c3RvbVRoZW1lcy50cmltKCkpIHtcblx0XHRcdFx0XHRjb25zdCBjdXN0b21UaGVtZXNMaXN0ID0gc2V0dGluZ3MuY3VzdG9tVGhlbWVzLnNwbGl0KCcsJykubWFwKHRoZW1lID0+IHRoZW1lLnRyaW0oKSkuZmlsdGVyKHRoZW1lID0+IHRoZW1lKS5maWx0ZXIoKHRoZW1lKTogdGhlbWUgaXMgRXhjbHVkZTxzdHJpbmcsICdjdXN0b20nPiA9PiB0aGVtZSAhPT0gJ2N1c3RvbScpO1xuXHRcdFx0XHRcdHRoZW1lc0FycmF5ID0gWy4uLnRoZW1lc0FycmF5LCAuLi5jdXN0b21UaGVtZXNMaXN0XSBhcyBBcnJheTxFeGNsdWRlPFRoZW1lVHlwZSwgJ2N1c3RvbSc+Pjtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgdGhlbWVzU3RyaW5nID0gdGhlbWVzQXJyYXkubWFwKHRoZW1lID0+IGBcIiR7dGhlbWV9XCJgKS5qb2luKCcsICcpO1xuXHRcdFx0XHRhdmFpbGFibGVUaGVtZXNWYWx1ZSA9IGBbJHt0aGVtZXNTdHJpbmd9XWA7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IGF2YWlsYWJsZVRoZW1lc1JlZ2V4ID0gL1xcL1xcLyBcXFtDT05GSUc6QVZBSUxBQkxFX1RIRU1FU1xcXVxccypcXG5cXHMqYXZhaWxhYmxlVGhlbWVzOlxccyooPzpcImRlZmF1bHRcInxcXFtbXlxcXV0qXFxdKS87XG5cdFx0XHRcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0YXZhaWxhYmxlVGhlbWVzUmVnZXgsXG5cdFx0XHRcdGAvLyBbQ09ORklHOkFWQUlMQUJMRV9USEVNRVNdXFxuICBhdmFpbGFibGVUaGVtZXM6ICR7YXZhaWxhYmxlVGhlbWVzVmFsdWV9YFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGN1c3RvbSB0aGVtZXNcblx0XHRpZiAoc2V0dGluZ3MuY3VzdG9tVGhlbWVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IGN1c3RvbVRoZW1lc1ZhbHVlID0gc2V0dGluZ3MuY3VzdG9tVGhlbWVzID8gYFwiJHtzZXR0aW5ncy5jdXN0b21UaGVtZXN9XCJgIDogJ1wiXCInO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBjdXN0b21UaGVtZXNSZWdleCA9IC9cXC9cXC8gXFxbQ09ORklHOkNVU1RPTV9USEVNRVNcXF1cXHMqXFxuXFxzKmN1c3RvbVRoZW1lczpcXHMqXCJbXlwiXSpcIi87XG5cdFx0XHRcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0Y3VzdG9tVGhlbWVzUmVnZXgsXG5cdFx0XHRcdGAvLyBbQ09ORklHOkNVU1RPTV9USEVNRVNdXFxuICBjdXN0b21UaGVtZXM6ICR7Y3VzdG9tVGhlbWVzVmFsdWV9YFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZvbnQgc291cmNlXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9OVF9TT1VSQ0VcXF1cXHMqXFxuXFxzKnNvdXJjZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpGT05UX1NPVVJDRV1cXG4gICAgc291cmNlOiBcIiR7c2V0dGluZ3MudHlwb2dyYXBoeS5mb250U291cmNlfVwiYFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZvbnQgZGlzcGxheVxuXHRcdGlmIChzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnREaXNwbGF5KSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfRElTUExBWVxcXVxccypcXG5cXHMqZGlzcGxheTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOkZPTlRfRElTUExBWV1cXG4gICAgZGlzcGxheTogXCIke3NldHRpbmdzLnR5cG9ncmFwaHkuZm9udERpc3BsYXl9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgZm9udCBmYW1pbGllc1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfQk9EWVxcXVxccypcXG5cXHMqYm9keTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpGT05UX0JPRFldXFxuICAgICAgYm9keTogXCIke3NldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZSA9PT0gJ2NkbicgPyBzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLnByb3NlIDogc2V0dGluZ3MudHlwb2dyYXBoeS5wcm9zZUZvbnR9XCJgXG5cdFx0KTtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT05UX0hFQURJTkdcXF1cXHMqXFxuXFxzKmhlYWRpbmc6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6Rk9OVF9IRUFESU5HXVxcbiAgICAgIGhlYWRpbmc6IFwiJHtzZXR0aW5ncy50eXBvZ3JhcGh5LmZvbnRTb3VyY2UgPT09ICdjZG4nID8gc2V0dGluZ3MudHlwb2dyYXBoeS5jdXN0b21Gb250cy5oZWFkaW5nIDogc2V0dGluZ3MudHlwb2dyYXBoeS5oZWFkaW5nRm9udH1cImBcblx0XHQpO1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPTlRfTU9OT1xcXVxccypcXG5cXHMqbW9ubzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpGT05UX01PTk9dXFxuICAgICAgbW9ubzogXCIke3NldHRpbmdzLnR5cG9ncmFwaHkuZm9udFNvdXJjZSA9PT0gJ2NkbicgPyBzZXR0aW5ncy50eXBvZ3JhcGh5LmN1c3RvbUZvbnRzLm1vbm8gOiBzZXR0aW5ncy50eXBvZ3JhcGh5Lm1vbm9Gb250fVwiYFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGRlcGxveW1lbnQgcGxhdGZvcm1cblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpERVBMT1lNRU5UX1BMQVRGT1JNXFxdXFxzKlxcblxccypwbGF0Zm9ybTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpERVBMT1lNRU5UX1BMQVRGT1JNXVxcbiAgICBwbGF0Zm9ybTogXCIke3NldHRpbmdzLmRlcGxveW1lbnQucGxhdGZvcm19XCJgXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgbGF5b3V0IGNvbnRlbnQgd2lkdGhcblx0XHRpZiAoc2V0dGluZ3MubGF5b3V0Py5jb250ZW50V2lkdGgpIHtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6TEFZT1VUX0NPTlRFTlRfV0lEVEhcXF1cXHMqXFxuXFxzKmNvbnRlbnRXaWR0aDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOkxBWU9VVF9DT05URU5UX1dJRFRIXVxcbiAgICBjb250ZW50V2lkdGg6IFwiJHtzZXR0aW5ncy5sYXlvdXQuY29udGVudFdpZHRofVwiYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHRhYmxlIG9mIGNvbnRlbnRzIHNldHRpbmdzXG5cdFx0aWYgKHNldHRpbmdzLnRhYmxlT2ZDb250ZW50cykge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpUQUJMRV9PRl9DT05URU5UU19FTkFCTEVEXFxdXFxzKlxcblxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpUQUJMRV9PRl9DT05URU5UU19FTkFCTEVEXVxcbiAgICBlbmFibGVkOiAke3NldHRpbmdzLnRhYmxlT2ZDb250ZW50cy5lbmFibGVkfWBcblx0XHRcdCk7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlRBQkxFX09GX0NPTlRFTlRTX0RFUFRIXFxdXFxzKlxcblxccypkZXB0aDpcXHMqXFxkKy8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlRBQkxFX09GX0NPTlRFTlRTX0RFUFRIXVxcbiAgICBkZXB0aDogJHtzZXR0aW5ncy50YWJsZU9mQ29udGVudHMuZGVwdGh9YFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGZvb3RlciBzZXR0aW5nc1xuXHRcdGlmIChzZXR0aW5ncy5mb290ZXIpIHtcblx0XHRcdGlmIChzZXR0aW5ncy5mb290ZXIuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGT09URVJfRU5BQkxFRFxcXVxccypcXG5cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpGT09URVJfRU5BQkxFRF1cXG4gICAgZW5hYmxlZDogJHtzZXR0aW5ncy5mb290ZXIuZW5hYmxlZH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MuZm9vdGVyLmNvbnRlbnQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPT1RFUl9DT05URU5UXFxdXFxzKlxcblxccypjb250ZW50OlxccypgW15gXSpgLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpGT09URVJfQ09OVEVOVF1cXG4gICAgY29udGVudDogXFxgJHtzZXR0aW5ncy5mb290ZXIuY29udGVudH1cXGBgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MuZm9vdGVyLnNob3dTb2NpYWxJY29uc0luRm9vdGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkZPT1RFUl9TSE9XX1NPQ0lBTF9JQ09OU1xcXVxccypcXG5cXHMqc2hvd1NvY2lhbEljb25zSW5Gb290ZXI6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6Rk9PVEVSX1NIT1dfU09DSUFMX0lDT05TXVxcbiAgICBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogJHtzZXR0aW5ncy5mb290ZXIuc2hvd1NvY2lhbEljb25zSW5Gb290ZXJ9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgZmF2aWNvbiB0aGVtZSBhZGFwdGl2ZVxuXHRcdGlmIChzZXR0aW5ncy5zaXRlSW5mbz8uZmF2aWNvblRoZW1lQWRhcHRpdmUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGQVZJQ09OX1RIRU1FX0FEQVBUSVZFXFxdXFxzKlxcblxccypmYXZpY29uVGhlbWVBZGFwdGl2ZTpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6RkFWSUNPTl9USEVNRV9BREFQVElWRV1cXG4gIGZhdmljb25UaGVtZUFkYXB0aXZlOiAke3NldHRpbmdzLnNpdGVJbmZvLmZhdmljb25UaGVtZUFkYXB0aXZlfWBcblx0XHRcdCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFVwZGF0ZSBTRU8gc2V0dGluZ3MgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IC0gYWxzbyBjaGVjayBzaXRlSW5mbylcblx0XHRjb25zdCBkZWZhdWx0T2dJbWFnZUFsdCA9IHNldHRpbmdzLnNpdGVJbmZvPy5kZWZhdWx0T2dJbWFnZUFsdCB8fCBzZXR0aW5ncy5zZW8/LmRlZmF1bHRPZ0ltYWdlQWx0O1xuXHRcdGlmIChkZWZhdWx0T2dJbWFnZUFsdCkge1xuXHRcdFx0Ly8gVHJ5IGJvdGggbWFya2VyIGZvcm1hdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlNFT19ERUZBVUxUX09HX0lNQUdFX0FMVFxcXVxccypcXG5cXHMqZGVmYXVsdE9nSW1hZ2VBbHQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpTRU9fREVGQVVMVF9PR19JTUFHRV9BTFRdXFxuICAgIGRlZmF1bHRPZ0ltYWdlQWx0OiBcIiR7ZGVmYXVsdE9nSW1hZ2VBbHR9XCJgXG5cdFx0XHQpO1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpERUZBVUxUX09HX0lNQUdFX0FMVFxcXVxccypcXG5cXHMqZGVmYXVsdE9nSW1hZ2VBbHQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpERUZBVUxUX09HX0lNQUdFX0FMVF1cXG4gIGRlZmF1bHRPZ0ltYWdlQWx0OiBcIiR7ZGVmYXVsdE9nSW1hZ2VBbHR9XCJgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvbiBzZXR0aW5nc1xuXHRcdGlmIChzZXR0aW5ncy5uYXZpZ2F0aW9uKSB7XG5cdFx0XHRpZiAoc2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TmF2aWdhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpOQVZJR0FUSU9OX1NIT1dfTkFWSUdBVElPTlxcXVxccypcXG5cXHMqc2hvd05hdmlnYXRpb246XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6TkFWSUdBVElPTl9TSE9XX05BVklHQVRJT05dXFxuICAgIHNob3dOYXZpZ2F0aW9uOiAke3NldHRpbmdzLm5hdmlnYXRpb24uc2hvd05hdmlnYXRpb259YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNldHRpbmdzLm5hdmlnYXRpb24uc3R5bGUpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOk5BVklHQVRJT05fU1RZTEVcXF1cXHMqXFxuXFxzKnN0eWxlOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NUWUxFXVxcbiAgICBzdHlsZTogXCIke3NldHRpbmdzLm5hdmlnYXRpb24uc3R5bGV9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TW9iaWxlTWVudSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpOQVZJR0FUSU9OX1NIT1dfTU9CSUxFX01FTlVcXF1cXHMqXFxuXFxzKnNob3dNb2JpbGVNZW51OlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOk5BVklHQVRJT05fU0hPV19NT0JJTEVfTUVOVV1cXG4gICAgc2hvd01vYmlsZU1lbnU6ICR7c2V0dGluZ3MubmF2aWdhdGlvbi5zaG93TW9iaWxlTWVudX1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgbmF2aWdhdGlvbiBwYWdlcyAod2l0aCBuZXN0ZWQgc3VwcG9ydClcblx0XHRcdGlmIChzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzKSB7XG5cdFx0XHRcdGNvbnN0IHNlcmlhbGl6ZU5hdmlnYXRpb25JdGVtID0gKGl0ZW06IHsgdGl0bGU6IHN0cmluZzsgdXJsPzogc3RyaW5nOyBjaGlsZHJlbj86IEFycmF5PHsgdGl0bGU6IHN0cmluZzsgdXJsOiBzdHJpbmcgfT4gfSwgaW5kZW50OiBzdHJpbmcgPSAnICAgICAgJyk6IHN0cmluZyA9PiB7XG5cdFx0XHRcdFx0bGV0IHJlc3VsdCA9IGAke2luZGVudH17IHRpdGxlOiBcIiR7aXRlbS50aXRsZX1cImA7XG5cdFx0XHRcdFx0aWYgKGl0ZW0udXJsKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gYCwgdXJsOiBcIiR7aXRlbS51cmx9XCJgO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBgLFxcbiR7aW5kZW50fSAgY2hpbGRyZW46IFtcXG5gO1xuXHRcdFx0XHRcdFx0Ly8gQ2hpbGRyZW4gYXJlIGZsYXQgLSB0aGV5IGRvbid0IGhhdmUgdGhlaXIgb3duIGNoaWxkcmVuXG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gaXRlbS5jaGlsZHJlbi5tYXAoKGNoaWxkOiBOYXZpZ2F0aW9uSXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgY2hpbGRSZXN1bHQgPSBgJHtpbmRlbnR9ICAgIHsgdGl0bGU6IFwiJHtjaGlsZC50aXRsZX1cIiwgdXJsOiBcIiR7Y2hpbGQudXJsfVwiIH1gO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY2hpbGRSZXN1bHQ7XG5cdFx0XHRcdFx0XHR9KS5qb2luKCcsXFxuJyk7XG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gYFxcbiR7aW5kZW50fSAgXWA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlc3VsdCArPSAnIH0nO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnN0IHBhZ2VzQXJyYXkgPSBzZXR0aW5ncy5uYXZpZ2F0aW9uLnBhZ2VzLm1hcChwYWdlID0+IHNlcmlhbGl6ZU5hdmlnYXRpb25JdGVtKHBhZ2UgYXMgeyB0aXRsZTogc3RyaW5nOyB1cmw/OiBzdHJpbmc7IGNoaWxkcmVuPzogQXJyYXk8eyB0aXRsZTogc3RyaW5nOyB1cmw6IHN0cmluZyB9PiB9KSkuam9pbignLFxcbicpO1xuXHRcdFx0XHRjb25zdCBwYWdlc1ZhbHVlID0gcGFnZXNBcnJheSA/IGBbXFxuJHtwYWdlc0FycmF5fVxcbiAgICBdYCA6ICdbXSc7XG5cdFx0XHRcdC8vIE1hdGNoIGZyb20gQ09ORklHOk5BVklHQVRJT05fUEFHRVMgdG8gQ09ORklHOk5BVklHQVRJT05fU09DSUFMLCByZXBsYWNpbmcgZXZlcnl0aGluZyBpbiBiZXR3ZWVuXG5cdFx0XHRcdC8vIFRoaXMgZW5zdXJlcyB3ZSBjYXB0dXJlIHRoZSBlbnRpcmUgcGFnZXMgYXJyYXkgaW5jbHVkaW5nIG5lc3RlZCBjaGlsZHJlblxuXHRcdFx0XHRjb25zdCBwYWdlc01hcmtlciA9ICcvLyBbQ09ORklHOk5BVklHQVRJT05fUEFHRVNdJztcblx0XHRcdFx0Y29uc3Qgc29jaWFsTWFya2VyID0gJy8vIFtDT05GSUc6TkFWSUdBVElPTl9TT0NJQUxdJztcblx0XHRcdFx0Y29uc3QgcGFnZXNNYXJrZXJJbmRleCA9IG1vZGlmaWVkQ29uZmlnLmluZGV4T2YocGFnZXNNYXJrZXIpO1xuXHRcdFx0XHRjb25zdCBzb2NpYWxNYXJrZXJJbmRleCA9IG1vZGlmaWVkQ29uZmlnLmluZGV4T2Yoc29jaWFsTWFya2VyKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChwYWdlc01hcmtlckluZGV4ICE9PSAtMSAmJiBzb2NpYWxNYXJrZXJJbmRleCAhPT0gLTEpIHtcblx0XHRcdFx0XHQvLyBGaW5kIHRoZSBzdGFydCBvZiBwYWdlczogWyAoYWZ0ZXIgdGhlIG1hcmtlcilcblx0XHRcdFx0XHRjb25zdCBwYWdlc0FycmF5U3RhcnQgPSBtb2RpZmllZENvbmZpZy5pbmRleE9mKCdwYWdlczogWycsIHBhZ2VzTWFya2VySW5kZXgpO1xuXHRcdFx0XHRcdGlmIChwYWdlc0FycmF5U3RhcnQgIT09IC0xKSB7XG5cdFx0XHRcdFx0XHQvLyBSZXBsYWNlIGZyb20gYWZ0ZXIgdGhlIG1hcmtlciB0byBiZWZvcmUgdGhlIHNvY2lhbCBtYXJrZXJcblx0XHRcdFx0XHRcdGNvbnN0IGJlZm9yZSA9IG1vZGlmaWVkQ29uZmlnLnN1YnN0cmluZygwLCBwYWdlc01hcmtlckluZGV4ICsgcGFnZXNNYXJrZXIubGVuZ3RoKTtcblx0XHRcdFx0XHRcdGNvbnN0IGFmdGVyID0gbW9kaWZpZWRDb25maWcuc3Vic3RyaW5nKHNvY2lhbE1hcmtlckluZGV4KTtcblx0XHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gYCR7YmVmb3JlfVxcbiAgICBwYWdlczogJHtwYWdlc1ZhbHVlfSxcXG4gICAgJHthZnRlcn1gO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIG5hdmlnYXRpb24gc29jaWFsXG5cdFx0XHRpZiAoc2V0dGluZ3MubmF2aWdhdGlvbi5zb2NpYWwpIHtcblx0XHRcdFx0Y29uc3Qgc29jaWFsQXJyYXkgPSBzZXR0aW5ncy5uYXZpZ2F0aW9uLnNvY2lhbC5tYXAoc29jaWFsID0+IFxuXHRcdFx0XHRcdGAgICAgICB7XFxuICAgICAgICB0aXRsZTogXCIke3NvY2lhbC50aXRsZX1cIixcXG4gICAgICAgIHVybDogXCIke3NvY2lhbC51cmx9XCIsXFxuICAgICAgICBpY29uOiBcIiR7c29jaWFsLmljb259XCIsXFxuICAgICAgfWBcblx0XHRcdFx0KS5qb2luKCcsXFxuJyk7XG5cdFx0XHRcdGNvbnN0IHNvY2lhbFZhbHVlID0gc29jaWFsQXJyYXkgPyBgW1xcbiR7c29jaWFsQXJyYXl9LFxcbiAgICBdYCA6ICdbXSc7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpOQVZJR0FUSU9OX1NPQ0lBTFxcXVxccypcXG5cXHMqc29jaWFsOlxccypcXFtbXFxzXFxTXSo/XFxdLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpOQVZJR0FUSU9OX1NPQ0lBTF1cXG4gICAgc29jaWFsOiAke3NvY2lhbFZhbHVlfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGNvbW1hbmQgcGFsZXR0ZSBzZXR0aW5nc1xuXHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZSkge1xuXHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX0VOQUJMRURcXF1cXHMqXFxuXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX0VOQUJMRURdXFxuICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuZW5hYmxlZH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2hvcnRjdXQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TSE9SVENVVFxcXVxccypcXG5cXHMqc2hvcnRjdXQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TSE9SVENVVF1cXG4gICAgc2hvcnRjdXQ6IFwiJHtzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zaG9ydGN1dH1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5wbGFjZWhvbGRlcikge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1BMQUNFSE9MREVSXFxdXFxzKlxcblxccypwbGFjZWhvbGRlcjpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1BMQUNFSE9MREVSXVxcbiAgICBwbGFjZWhvbGRlcjogXCIke3NldHRpbmdzLmNvbW1hbmRQYWxldHRlLnBsYWNlaG9sZGVyfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaCkge1xuXHRcdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLnBvc3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BPU1RTXFxdXFxzKlxcblxccypwb3N0czpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUE9TVFNdXFxuICAgICAgcG9zdHM6ICR7c2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLnBvc3RzfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gucGFnZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfUEFHRVNcXF1cXHMqXFxuXFxzKnBhZ2VzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QQUdFU11cXG4gICAgICBwYWdlczogJHtzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWFyY2gucGFnZXN9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaC5wcm9qZWN0cyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQVJDSF9QUk9KRUNUU1xcXVxccypcXG5cXHMqcHJvamVjdHM6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VBUkNIX1BST0pFQ1RTXVxcbiAgICAgIHByb2plY3RzOiAke3NldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaC5wcm9qZWN0c31gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VhcmNoLmRvY3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfRE9DU1xcXVxccypcXG5cXHMqZG9jczpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUFSQ0hfRE9DU11cXG4gICAgICBkb2NzOiAke3NldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlYXJjaC5kb2NzfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MuY29tbWFuZFBhbGV0dGUuc2VjdGlvbnMpIHtcblx0XHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnF1aWNrQWN0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1FVSUNLX0FDVElPTlNcXF1cXHMqXFxuXFxzKnF1aWNrQWN0aW9uczpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19RVUlDS19BQ1RJT05TXVxcbiAgICAgIHF1aWNrQWN0aW9uczogJHtzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucy5xdWlja0FjdGlvbnN9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnBhZ2VzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfU0VDVElPTlNfUEFHRVNcXF1cXHMqXFxuXFxzKnBhZ2VzOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1NFQ1RJT05TX1BBR0VTXVxcbiAgICAgIHBhZ2VzOiAke3NldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnBhZ2VzfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5jb21tYW5kUGFsZXR0ZS5zZWN0aW9ucy5zb2NpYWwgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19TT0NJQUxcXF1cXHMqXFxuXFxzKnNvY2lhbDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9TRUNUSU9OU19TT0NJQUxdXFxuICAgICAgc29jaWFsOiAke3NldHRpbmdzLmNvbW1hbmRQYWxldHRlLnNlY3Rpb25zLnNvY2lhbH1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgaG9tZU9wdGlvbnNcblx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMpIHtcblx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QpIHtcblx0XHRcdFx0aWYgKHNldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdC5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfRkVBVFVSRURfUE9TVF9FTkFCTEVEXFxdXFxzKlxcblxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke3NldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdC5lbmFibGVkfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5mZWF0dXJlZFBvc3QudHlwZSkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX1RZUEVcXF1cXHMqXFxuXFxzKnR5cGU6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX0ZFQVRVUkVEX1BPU1RfVFlQRV1cXG4gICAgICB0eXBlOiBcIiR7c2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0LnR5cGV9XCJgXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMuZmVhdHVyZWRQb3N0LnNsdWcpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfRkVBVFVSRURfUE9TVF9TTFVHXFxdXFxzKlxcblxccypzbHVnOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOkhPTUVfT1BUSU9OU19GRUFUVVJFRF9QT1NUX1NMVUddXFxuICAgICAgc2x1ZzogXCIke3NldHRpbmdzLmhvbWVPcHRpb25zLmZlYXR1cmVkUG9zdC5zbHVnfVwiYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5yZWNlbnRQb3N0cykge1xuXHRcdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMucmVjZW50UG9zdHMuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX1JFQ0VOVF9QT1NUU19FTkFCTEVEXFxdXFxzKlxcblxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX1JFQ0VOVF9QT1NUU19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3MuaG9tZU9wdGlvbnMucmVjZW50UG9zdHMuZW5hYmxlZH1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMucmVjZW50UG9zdHMuY291bnQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfUkVDRU5UX1BPU1RTX0NPVU5UXFxdXFxzKlxcblxccypjb3VudDpcXHMqXFxkKy8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfUkVDRU5UX1BPU1RTX0NPVU5UXVxcbiAgICAgIGNvdW50OiAke3NldHRpbmdzLmhvbWVPcHRpb25zLnJlY2VudFBvc3RzLmNvdW50fWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMucHJvamVjdHMpIHtcblx0XHRcdFx0aWYgKHNldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzLmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19QUk9KRUNUU19FTkFCTEVEXFxdXFxzKlxcblxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtzZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cy5lbmFibGVkfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5ob21lT3B0aW9ucy5wcm9qZWN0cy5jb3VudCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19QUk9KRUNUU19DT1VOVFxcXVxccypcXG5cXHMqY291bnQ6XFxzKlxcZCsvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX1BST0pFQ1RTX0NPVU5UXVxcbiAgICAgIGNvdW50OiAke3NldHRpbmdzLmhvbWVPcHRpb25zLnByb2plY3RzLmNvdW50fWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMuZG9jcykge1xuXHRcdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMuZG9jcy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19FTkFCTEVEXFxdXFxzKlxcblxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6SE9NRV9PUFRJT05TX0RPQ1NfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke3NldHRpbmdzLmhvbWVPcHRpb25zLmRvY3MuZW5hYmxlZH1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMuZG9jcy5jb3VudCkge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkhPTUVfT1BUSU9OU19ET0NTX0NPVU5UXFxdXFxzKlxcblxccypjb3VudDpcXHMqXFxkKy8sXG5cdFx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfRE9DU19DT1VOVF1cXG4gICAgICBjb3VudDogJHtzZXR0aW5ncy5ob21lT3B0aW9ucy5kb2NzLmNvdW50fWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MuaG9tZU9wdGlvbnMuYmx1cmI/LnBsYWNlbWVudCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6SE9NRV9PUFRJT05TX0JMVVJCX1BMQUNFTUVOVFxcXVxccypcXG5cXHMqcGxhY2VtZW50OlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpIT01FX09QVElPTlNfQkxVUkJfUExBQ0VNRU5UXVxcbiAgICAgIHBsYWNlbWVudDogXCIke3NldHRpbmdzLmhvbWVPcHRpb25zLmJsdXJiLnBsYWNlbWVudH1cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHBvc3RPcHRpb25zXG5cdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zKSB7XG5cdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdHNQZXJQYWdlKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVFNfUEVSX1BBR0VcXF1cXHMqXFxuXFxzKnBvc3RzUGVyUGFnZTpcXHMqXFxkKy8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RTX1BFUl9QQUdFXVxcbiAgICBwb3N0c1BlclBhZ2U6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnMucG9zdHNQZXJQYWdlfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy53b3JkQ291bnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1dPUkRfQ09VTlRcXF1cXHMqXFxuXFxzKndvcmRDb3VudDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfV09SRF9DT1VOVF1cXG4gICAgd29yZENvdW50OiAke3NldHRpbmdzLnBvc3RPcHRpb25zLndvcmRDb3VudH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMudGFncyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfVEFHU1xcXVxccypcXG5cXHMqdGFnczpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfVEFHU11cXG4gICAgdGFnczogJHtzZXR0aW5ncy5wb3N0T3B0aW9ucy50YWdzfWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy5saW5rZWRNZW50aW9ucykge1xuXHRcdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMubGlua2VkTWVudGlvbnNDb21wYWN0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0NPTVBBQ1RcXF1cXHMqXFxuXFxzKmxpbmtlZE1lbnRpb25zQ29tcGFjdDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19MSU5LRURfTUVOVElPTlNfQ09NUEFDVF1cXG4gICAgICBsaW5rZWRNZW50aW9uc0NvbXBhY3Q6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnMubGlua2VkTWVudGlvbnMubGlua2VkTWVudGlvbnNDb21wYWN0fWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3KSB7XG5cdFx0XHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucy5ncmFwaFZpZXcuc2hvd0luU2lkZWJhciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfU0hPV19JTl9TSURFQkFSXFxdXFxzKlxcblxccypzaG93SW5TaWRlYmFyOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfU0hPV19JTl9TSURFQkFSXVxcbiAgICAgIHNob3dJblNpZGViYXI6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LnNob3dJblNpZGViYXJ9YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5tYXhOb2Rlcykge1xuXHRcdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX01BWF9OT0RFU1xcXVxccypcXG5cXHMqbWF4Tm9kZXM6XFxzKlxcZCsvLFxuXHRcdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfTUFYX05PREVTXVxcbiAgICAgIG1heE5vZGVzOiAke3NldHRpbmdzLnBvc3RPcHRpb25zLmdyYXBoVmlldy5tYXhOb2Rlc31gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LnNob3dPcnBoYW5lZFBvc3RzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfR1JBUEhfVklFV19TSE9XX09SUEhBTkVEX1BPU1RTXFxdXFxzKlxcblxccypzaG93T3JwaGFuZWRQb3N0czpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19HUkFQSF9WSUVXX1NIT1dfT1JQSEFORURfUE9TVFNdXFxuICAgICAgc2hvd09ycGhhbmVkUG9zdHM6ICR7c2V0dGluZ3MucG9zdE9wdGlvbnMuZ3JhcGhWaWV3LnNob3dPcnBoYW5lZFBvc3RzfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2V0dGluZ3MucG9zdE9wdGlvbnMuY3VzdG9tUG9zdENhcmRBc3BlY3RSYXRpbykge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NVU1RPTV9QT1NUX0NBUkRfQVNQRUNUX1JBVElPXFxdXFxzKlxcblxccypjdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ1VTVE9NX1BPU1RfQ0FSRF9BU1BFQ1RfUkFUSU9dXFxuICAgIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86IFwiJHtzZXR0aW5ncy5wb3N0T3B0aW9ucy5jdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgY29tbWFuZCBwYWxldHRlIGVuYWJsZWQgc3RhdGUgZnJvbSBmZWF0dXJlcyAoYmFja3dhcmQgY29tcGF0KVxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9FTkFCTEVEXFxdXFxzKlxcblxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0YC8vIFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX0VOQUJMRURdXFxuICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3MuY29tbWFuZFBhbGV0dGU/LmVuYWJsZWQgPz8gc2V0dGluZ3MuZmVhdHVyZXMuY29tbWFuZFBhbGV0dGV9YFxuXHRcdCk7XG5cdFx0XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHJlYWRpbmcgdGltZVxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19SRUFESU5HX1RJTUVcXF1cXHMqcmVhZGluZ1RpbWU6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfUkVBRElOR19USU1FXVxcbiAgICByZWFkaW5nVGltZTogJHtzZXR0aW5ncy5mZWF0dXJlcy5yZWFkaW5nVGltZX1gXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgd29yZCBjb3VudCAoZnJvbSBwb3N0T3B0aW9ucywgbm90IGZlYXR1cmVzKVxuXHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucz8ud29yZENvdW50ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1dPUkRfQ09VTlRcXF1cXHMqd29yZENvdW50OlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfV09SRF9DT1VOVF1cXG4gICAgd29yZENvdW50OiAke3NldHRpbmdzLnBvc3RPcHRpb25zLndvcmRDb3VudH1gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgdGFncyAoZnJvbSBwb3N0T3B0aW9ucywgbm90IGZlYXR1cmVzKVxuXHRcdGlmIChzZXR0aW5ncy5wb3N0T3B0aW9ucz8udGFncyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19UQUdTXFxdXFxzKnRhZ3M6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19UQUdTXVxcbiAgICB0YWdzOiAke3NldHRpbmdzLnBvc3RPcHRpb25zLnRhZ3N9YFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGxpbmtlZCBtZW50aW9ucyBlbmFibGVkXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0xJTktFRF9NRU5USU9OU19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtzZXR0aW5ncy5mZWF0dXJlcy5saW5rZWRNZW50aW9uc31gXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgbGlua2VkIG1lbnRpb25zIGNvbXBhY3Rcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfTElOS0VEX01FTlRJT05TX0NPTVBBQ1RcXF1cXHMqbGlua2VkTWVudGlvbnNDb21wYWN0OlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0xJTktFRF9NRU5USU9OU19DT01QQUNUXVxcbiAgICAgIGxpbmtlZE1lbnRpb25zQ29tcGFjdDogJHtzZXR0aW5ncy5mZWF0dXJlcy5saW5rZWRNZW50aW9uc0NvbXBhY3QgPz8gZmFsc2V9YFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGNvbW1lbnRzIGVuYWJsZWQgLSB1c2Ugb3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5lbmFibGVkIGxpa2UgcHJvZmlsZSBwaWN0dXJlXG5cdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXM/LmNvbW1lbnRzPy5lbmFibGVkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0VOQUJMRURcXF1cXHMqZW5hYmxlZDpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0VOQUJMRURdXFxuICAgICAgZW5hYmxlZDogJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWR9YFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIG90aGVyIGNvbW1lbnRzIHNldHRpbmdzIG9ubHkgaWYgY29tbWVudHMgZXhpc3QgQU5EIGFyZSBlbmFibGVkXG5cdFx0Ly8gVGhpcyBwcmV2ZW50cyB1cGRhdGluZyBjb25maWcudHMgd2l0aCBjb21tZW50IHZhbHVlcyB3aGVuIGNvbW1lbnRzIGFyZSBkaXNhYmxlZFxuXHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzPy5jb21tZW50cyAmJiBzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmVuYWJsZWQpIHtcblx0XHRcdC8vIFVwZGF0ZSBwcm92aWRlciAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucHJvdmlkZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1BST1ZJREVSXFxdXFxzKnByb3ZpZGVyOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUFJPVklERVJdXFxuICAgICAgcHJvdmlkZXI6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnByb3ZpZGVyIHx8ICcnfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIHJlcG8gLSBhbHdheXMgdXBkYXRlIGlmIGl0IGV4aXN0cyBpbiBzZXR0aW5ncyAoZXZlbiBpZiBlbXB0eSlcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnJlcG8gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFUE9cXF1cXHMqcmVwbzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1JFUE9dXFxuICAgICAgcmVwbzogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVwbyB8fCAnJ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSByZXBvSWQgLSBhbHdheXMgdXBkYXRlIGlmIGl0IGV4aXN0cyBpbiBzZXR0aW5ncyAoZXZlbiBpZiBlbXB0eSlcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnJlcG9JZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVQT19JRFxcXVxccypyZXBvSWQ6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRVBPX0lEXVxcbiAgICAgIHJlcG9JZDogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVwb0lkIHx8ICcnfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIGNhdGVnb3J5IC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5jYXRlZ29yeSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfQ0FURUdPUllcXF1cXHMqY2F0ZWdvcnk6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19DQVRFR09SWV1cXG4gICAgICBjYXRlZ29yeTogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuY2F0ZWdvcnkgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgY2F0ZWdvcnlJZCAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuY2F0ZWdvcnlJZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfQ0FURUdPUllfSURcXF1cXHMqY2F0ZWdvcnlJZDpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0NBVEVHT1JZX0lEXVxcbiAgICAgIGNhdGVnb3J5SWQ6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmNhdGVnb3J5SWQgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgbWFwcGluZyAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubWFwcGluZyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTUFQUElOR1xcXVxccyptYXBwaW5nOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTUFQUElOR11cXG4gICAgICBtYXBwaW5nOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5tYXBwaW5nIHx8ICcnfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIHN0cmljdCAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuc3RyaWN0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19TVFJJQ1RcXF1cXHMqc3RyaWN0OlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfU1RSSUNUXVxcbiAgICAgIHN0cmljdDogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuc3RyaWN0IHx8ICcnfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIHJlYWN0aW9ucyAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVhY3Rpb25zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19SRUFDVElPTlNcXF1cXHMqcmVhY3Rpb25zOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfUkVBQ1RJT05TXVxcbiAgICAgIHJlYWN0aW9uczogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMucmVhY3Rpb25zIHx8ICcnfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVXBkYXRlIG1ldGFkYXRhIC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5tZXRhZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTUVUQURBVEFcXF1cXHMqbWV0YWRhdGE6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19NRVRBREFUQV1cXG4gICAgICBtZXRhZGF0YTogXCIke3NldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubWV0YWRhdGEgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgaW5wdXRQb3NpdGlvbiAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMuaW5wdXRQb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfSU5QVVRfUE9TSVRJT05cXF1cXHMqaW5wdXRQb3NpdGlvbjpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX0lOUFVUX1BPU0lUSU9OXVxcbiAgICAgIGlucHV0UG9zaXRpb246IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmlucHV0UG9zaXRpb24gfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgdGhlbWUgLSBhbHdheXMgdXBkYXRlIGlmIGl0IGV4aXN0cyBpbiBzZXR0aW5ncyAoZXZlbiBpZiBlbXB0eSlcblx0XHRcdGlmIChzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLnRoZW1lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19USEVNRVxcXVxccyp0aGVtZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0NPTU1FTlRTX1RIRU1FXVxcbiAgICAgIHRoZW1lOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy50aGVtZSB8fCAnJ31cImBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdC8vIFVwZGF0ZSBsYW5nIC0gYWx3YXlzIHVwZGF0ZSBpZiBpdCBleGlzdHMgaW4gc2V0dGluZ3MgKGV2ZW4gaWYgZW1wdHkpXG5cdFx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5sYW5nICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MQU5HXFxdXFxzKmxhbmc6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRcdGAvLyBbQ09ORklHOlBPU1RfT1BUSU9OU19DT01NRU5UU19MQU5HXVxcbiAgICAgIGxhbmc6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLmNvbW1lbnRzLmxhbmcgfHwgJyd9XCJgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBVcGRhdGUgbG9hZGluZyAtIGFsd2F5cyB1cGRhdGUgaWYgaXQgZXhpc3RzIGluIHNldHRpbmdzIChldmVuIGlmIGVtcHR5KVxuXHRcdFx0aWYgKHNldHRpbmdzLm9wdGlvbmFsRmVhdHVyZXMuY29tbWVudHMubG9hZGluZyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTE9BRElOR1xcXVxccypsb2FkaW5nOlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ09NTUVOVFNfTE9BRElOR11cXG4gICAgICBsb2FkaW5nOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5jb21tZW50cy5sb2FkaW5nIHx8ICcnfVwiYFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgZ3JhcGggdmlldyBlbmFibGVkIC0gdXNlIHBvc3RPcHRpb25zLmdyYXBoVmlldy5lbmFibGVkIGFzIHNvdXJjZSBvZiB0cnV0aFxuXHRcdC8vIE5PVCBmZWF0dXJlcy5ncmFwaFZpZXcgd2hpY2ggb25seSBjb250cm9scyB0aGUgVUkgdG9nZ2xlXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX0dSQVBIX1ZJRVdfRU5BQkxFRF1cXG4gICAgICBlbmFibGVkOiAke3NldHRpbmdzLnBvc3RPcHRpb25zPy5ncmFwaFZpZXc/LmVuYWJsZWQgPz8gc2V0dGluZ3MuZmVhdHVyZXMuZ3JhcGhWaWV3fWBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBwb3N0IG5hdmlnYXRpb25cblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVF9OQVZJR0FUSU9OXFxdXFxzKnBvc3ROYXZpZ2F0aW9uOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RfTkFWSUdBVElPTl1cXG4gICAgcG9zdE5hdmlnYXRpb246ICR7c2V0dGluZ3MuZmVhdHVyZXMucG9zdE5hdmlnYXRpb259YFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGhpZGUgc2Nyb2xsIGJhclxuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC9cXHMqXFxbQ09ORklHOkhJREVfU0NST0xMX0JBUlxcXVxccypoaWRlU2Nyb2xsQmFyOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0YC8vW0NPTkZJRzpISURFX1NDUk9MTF9CQVJdXFxuICBoaWRlU2Nyb2xsQmFyOiAke3NldHRpbmdzLmZlYXR1cmVzLmhpZGVTY3JvbGxCYXJ9YFxuXHRcdCk7XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHNjcm9sbCB0byB0b3Bcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpTQ1JPTExfVE9fVE9QXFxdXFxzKnNjcm9sbFRvVG9wOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0YC8vIFtDT05GSUc6U0NST0xMX1RPX1RPUF1cXG4gIHNjcm9sbFRvVG9wOiAke3NldHRpbmdzLmZlYXR1cmVzLnNjcm9sbFRvVG9wfWBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBzb2NpYWwgaWNvbnMgaW4gZm9vdGVyXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Rk9PVEVSX1NIT1dfU09DSUFMX0lDT05TXFxdXFxzKnNob3dTb2NpYWxJY29uc0luRm9vdGVyOlxccypbXixcXG59XSsvLFxuXHRcdFx0YC8vIFtDT05GSUc6Rk9PVEVSX1NIT1dfU09DSUFMX0lDT05TXVxcbiAgICBzaG93U29jaWFsSWNvbnNJbkZvb3RlcjogJHtzZXR0aW5ncy5mZWF0dXJlcy5zaG93U29jaWFsSWNvbnNJbkZvb3Rlcn1gXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgZmVhdHVyZSBidXR0b25cblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpGRUFUVVJFX0JVVFRPTlxcXVxccypmZWF0dXJlQnV0dG9uOlxccypcIlteXCJdKlwiLyxcblx0XHRcdGAvLyBbQ09ORklHOkZFQVRVUkVfQlVUVE9OXVxcbiAgZmVhdHVyZUJ1dHRvbjogXCIke3NldHRpbmdzLmZlYXR1cmVzLmZlYXR1cmVCdXR0b259XCJgXG5cdFx0KTtcblx0XHRcblx0Ly8gVXBkYXRlIHF1aWNrIGFjdGlvbnMgc2V0dGluZ3Ncblx0aWYgKHNldHRpbmdzLmZlYXR1cmVzPy5xdWlja0FjdGlvbnMpIHtcblx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19FTkFCTEVEXFxdXFxzKmVuYWJsZWQ6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19FTkFCTEVEXVxcbiAgICAgIGVuYWJsZWQ6ICR7c2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLmVuYWJsZWR9YFxuXHRcdCk7XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfVE9HR0xFX01PREVcXF1cXHMqdG9nZ2xlTW9kZTpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX1RPR0dMRV9NT0RFXVxcbiAgICAgIHRvZ2dsZU1vZGU6ICR7c2V0dGluZ3MuZmVhdHVyZXMucXVpY2tBY3Rpb25zLnRvZ2dsZU1vZGV9YFxuXHRcdCk7XG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6Q09NTUFORF9QQUxFVFRFX1FVSUNLX0FDVElPTlNfR1JBUEhfVklFV1xcXVxccypncmFwaFZpZXc6XFxzKih0cnVlfGZhbHNlKS8sXG5cdFx0XHRgLy8gW0NPTkZJRzpDT01NQU5EX1BBTEVUVEVfUVVJQ0tfQUNUSU9OU19HUkFQSF9WSUVXXVxcbiAgICAgIGdyYXBoVmlldzogJHtzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMuZ3JhcGhWaWV3fWBcblx0XHQpO1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0NIQU5HRV9USEVNRVxcXVxccypjaGFuZ2VUaGVtZTpcXHMqKHRydWV8ZmFsc2UpLyxcblx0XHRcdGAvLyBbQ09ORklHOkNPTU1BTkRfUEFMRVRURV9RVUlDS19BQ1RJT05TX0NIQU5HRV9USEVNRV1cXG4gICAgICBjaGFuZ2VUaGVtZTogJHtzZXR0aW5ncy5mZWF0dXJlcy5xdWlja0FjdGlvbnMuY2hhbmdlVGhlbWV9YFxuXHRcdCk7XG5cdH1cblx0XHRcblx0XHQvLyBVcGRhdGUgcG9zdCBjYXJkIGNvdmVyIGltYWdlc1xuXHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBPU1RfT1BUSU9OU19TSE9XX1BPU1RfQ0FSRF9DT1ZFUl9JTUFHRVNcXF1cXHMqc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0YC8vIFtDT05GSUc6UE9TVF9PUFRJT05TX1NIT1dfUE9TVF9DQVJEX0NPVkVSX0lNQUdFU11cXG4gICAgc2hvd1Bvc3RDYXJkQ292ZXJJbWFnZXM6IFwiJHtzZXR0aW5ncy5wb3N0T3B0aW9ucy5zaG93UG9zdENhcmRDb3ZlckltYWdlc31cImBcblx0XHQpO1xuXHRcdFxuXHRcdC8vIFVwZGF0ZSBwb3N0IGNhcmQgYXNwZWN0IHJhdGlvXG5cdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX1BPU1RfQ0FSRF9BU1BFQ1RfUkFUSU9cXF1cXHMqcG9zdENhcmRBc3BlY3RSYXRpbzpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfUE9TVF9DQVJEX0FTUEVDVF9SQVRJT11cXG4gICAgcG9zdENhcmRBc3BlY3RSYXRpbzogXCIke3NldHRpbmdzLnBvc3RPcHRpb25zLnBvc3RDYXJkQXNwZWN0UmF0aW99XCJgXG5cdFx0KTtcblx0XHRcblx0XHQvLyBVcGRhdGUgY3VzdG9tIHBvc3QgY2FyZCBhc3BlY3QgcmF0aW8gaWYgaXQgZXhpc3RzXG5cdFx0aWYgKHNldHRpbmdzLnBvc3RPcHRpb25zLmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW8pIHtcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UE9TVF9PUFRJT05TX0NVU1RPTV9QT1NUX0NBUkRfQVNQRUNUX1JBVElPXFxdXFxzKmN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQT1NUX09QVElPTlNfQ1VTVE9NX1BPU1RfQ0FSRF9BU1BFQ1RfUkFUSU9dXFxuICAgIGN1c3RvbVBvc3RDYXJkQXNwZWN0UmF0aW86IFwiJHtzZXR0aW5ncy5wb3N0T3B0aW9ucy5jdXN0b21Qb3N0Q2FyZEFzcGVjdFJhdGlvfVwiYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIHByb2ZpbGUgcGljdHVyZSBzZXR0aW5ncyAtIGFsd2F5cyB1cGRhdGUgZW5hYmxlZCBzdGF0ZSwgb3RoZXIgc2V0dGluZ3Mgb25seSBpZiBlbmFibGVkXG5cdFx0Ly8gVXBkYXRlIGVuYWJsZWQgc3RhdGUgKGFsd2F5cyB1cGRhdGUgdGhpcylcblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfRU5BQkxFRFxcXVxccyplbmFibGVkOlxccyoodHJ1ZXxmYWxzZSkvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfRU5BQkxFRF1cXG4gICAgZW5hYmxlZDogJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLmVuYWJsZWR9YFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gVXBkYXRlIG90aGVyIHByb2ZpbGUgcGljdHVyZSBzZXR0aW5ncyBvbmx5IGlmIGVuYWJsZWRcblx0XHRpZiAoc2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcz8ucHJvZmlsZVBpY3R1cmU/LmVuYWJsZWQpIHtcblx0XHRcdC8vIFVwZGF0ZSBpbWFnZVxuXHRcdFx0bW9kaWZpZWRDb25maWcgPSBtb2RpZmllZENvbmZpZy5yZXBsYWNlKFxuXHRcdFx0XHQvXFwvXFwvIFxcW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfSU1BR0VcXF1cXHMqaW1hZ2U6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfSU1BR0VdXFxuICAgIGltYWdlOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5pbWFnZX1cImBcblx0XHRcdCk7XG5cdFx0XHQvLyBVcGRhdGUgYWx0XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9BTFRcXF1cXHMqYWx0OlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX0FMVF1cXG4gICAgYWx0OiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5hbHR9XCJgXG5cdFx0XHQpO1xuXHRcdFx0Ly8gVXBkYXRlIHNpemVcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX1NJWkVcXF1cXHMqc2l6ZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9TSVpFXVxcbiAgICBzaXplOiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5zaXplfVwiYFxuXHRcdFx0KTtcblx0XHRcdC8vIFVwZGF0ZSB1cmxcblx0XHRcdG1vZGlmaWVkQ29uZmlnID0gbW9kaWZpZWRDb25maWcucmVwbGFjZShcblx0XHRcdFx0L1xcL1xcLyBcXFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX1VSTFxcXVxccyp1cmw6XFxzKlwiW15cIl0qXCIvLFxuXHRcdFx0XHRgLy8gW0NPTkZJRzpQUk9GSUxFX1BJQ1RVUkVfVVJMXVxcbiAgICB1cmw6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLnVybCB8fCAnJ31cImBcblx0XHRcdCk7XG5cdFx0XHQvLyBVcGRhdGUgcGxhY2VtZW50XG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9QTEFDRU1FTlRcXF1cXHMqcGxhY2VtZW50OlxccypcIlteXCJdKlwiLyxcblx0XHRcdFx0YC8vIFtDT05GSUc6UFJPRklMRV9QSUNUVVJFX1BMQUNFTUVOVF1cXG4gICAgcGxhY2VtZW50OiBcIiR7c2V0dGluZ3Mub3B0aW9uYWxGZWF0dXJlcy5wcm9maWxlUGljdHVyZS5wbGFjZW1lbnR9XCJgXG5cdFx0XHQpO1xuXHRcdFx0Ly8gVXBkYXRlIHN0eWxlXG5cdFx0XHRtb2RpZmllZENvbmZpZyA9IG1vZGlmaWVkQ29uZmlnLnJlcGxhY2UoXG5cdFx0XHRcdC9cXC9cXC8gXFxbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9TVFlMRVxcXVxccypzdHlsZTpcXHMqXCJbXlwiXSpcIi8sXG5cdFx0XHRcdGAvLyBbQ09ORklHOlBST0ZJTEVfUElDVFVSRV9TVFlMRV1cXG4gICAgc3R5bGU6IFwiJHtzZXR0aW5ncy5vcHRpb25hbEZlYXR1cmVzLnByb2ZpbGVQaWN0dXJlLnN0eWxlfVwiYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIG1vZGlmaWVkQ29uZmlnO1xuXHR9XG59XG4iLCAie1xyXG5cdFwibmFtZVwiOiBcIlN0YW5kYXJkXCIsXHJcblx0XCJkZXNjcmlwdGlvblwiOiBcIkZ1bGwtZmVhdHVyZWQgYmxvZyB3aXRoIGFsbCBvcHRpb25zIGVuYWJsZWRcIixcclxuXHRcImNvbmZpZ1wiOiB7XHJcblx0XHRcImN1cnJlbnRUZW1wbGF0ZVwiOiBcInN0YW5kYXJkXCIsXHJcblx0XHRcImZlYXR1cmVzXCI6IHtcclxuXHRcdFx0XCJjb21tYW5kUGFsZXR0ZVwiOiB0cnVlLFxyXG5cdFx0XHRcInJlYWRpbmdUaW1lXCI6IHRydWUsXHJcblx0XHRcdFwibGlua2VkTWVudGlvbnNcIjogdHJ1ZSxcclxuXHRcdFx0XCJsaW5rZWRNZW50aW9uc0NvbXBhY3RcIjogZmFsc2UsXHJcblx0XHRcdFwiZ3JhcGhWaWV3XCI6IHRydWUsXHJcblx0XHRcdFwicG9zdE5hdmlnYXRpb25cIjogdHJ1ZSxcclxuXHRcdFx0XCJoaWRlU2Nyb2xsQmFyXCI6IGZhbHNlLFxyXG5cdFx0XHRcInNjcm9sbFRvVG9wXCI6IHRydWUsXHJcblx0XHRcdFwic2hvd1NvY2lhbEljb25zSW5Gb290ZXJcIjogdHJ1ZSxcclxuXHRcdFx0XCJwcm9maWxlUGljdHVyZVwiOiBmYWxzZSxcclxuXHRcdFx0XCJjb21tZW50c1wiOiBmYWxzZSxcclxuXHRcdFx0XCJmZWF0dXJlQnV0dG9uXCI6IFwibW9kZVwiLFxyXG5cdFx0XHRcInF1aWNrQWN0aW9uc1wiOiB7XHJcblx0XHRcdFx0XCJlbmFibGVkXCI6IHRydWUsXHJcblx0XHRcdFx0XCJ0b2dnbGVNb2RlXCI6IHRydWUsXHJcblx0XHRcdFx0XCJncmFwaFZpZXdcIjogdHJ1ZSxcclxuXHRcdFx0XHRcImNoYW5nZVRoZW1lXCI6IHRydWVcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFwidGFibGVPZkNvbnRlbnRzXCI6IHtcclxuXHRcdFx0XCJlbmFibGVkXCI6IHRydWUsXHJcblx0XHRcdFwiZGVwdGhcIjogNFxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAie1xyXG5cdFwibmFtZVwiOiBcIk1pbmltYWxcIixcclxuXHRcImRlc2NyaXB0aW9uXCI6IFwiQ2xlYW4sIHNpbXBsZSBibG9nIHdpdGggbWluaW1hbCBmZWF0dXJlc1wiLFxyXG5cdFwiY29uZmlnXCI6IHtcclxuXHRcdFwiY3VycmVudFRlbXBsYXRlXCI6IFwibWluaW1hbFwiLFxyXG5cdFx0XCJmZWF0dXJlc1wiOiB7XHJcblx0XHRcdFwiY29tbWFuZFBhbGV0dGVcIjogdHJ1ZSxcclxuXHRcdFx0XCJyZWFkaW5nVGltZVwiOiBmYWxzZSxcclxuXHRcdFx0XCJsaW5rZWRNZW50aW9uc1wiOiBmYWxzZSxcclxuXHRcdFx0XCJsaW5rZWRNZW50aW9uc0NvbXBhY3RcIjogZmFsc2UsXHJcblx0XHRcdFwiZ3JhcGhWaWV3XCI6IGZhbHNlLFxyXG5cdFx0XHRcInBvc3ROYXZpZ2F0aW9uXCI6IGZhbHNlLFxyXG5cdFx0XHRcImhpZGVTY3JvbGxCYXJcIjogdHJ1ZSxcclxuXHRcdFx0XCJzY3JvbGxUb1RvcFwiOiBmYWxzZSxcclxuXHRcdFx0XCJzaG93U29jaWFsSWNvbnNJbkZvb3RlclwiOiBmYWxzZSxcclxuXHRcdFx0XCJwcm9maWxlUGljdHVyZVwiOiBmYWxzZSxcclxuXHRcdFx0XCJjb21tZW50c1wiOiBmYWxzZSxcclxuXHRcdFx0XCJmZWF0dXJlQnV0dG9uXCI6IFwibm9uZVwiLFxyXG5cdFx0XHRcInF1aWNrQWN0aW9uc1wiOiB7XHJcblx0XHRcdFx0XCJlbmFibGVkXCI6IGZhbHNlLFxyXG5cdFx0XHRcdFwidG9nZ2xlTW9kZVwiOiBmYWxzZSxcclxuXHRcdFx0XHRcImdyYXBoVmlld1wiOiBmYWxzZSxcclxuXHRcdFx0XHRcImNoYW5nZVRoZW1lXCI6IGZhbHNlXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcInRhYmxlT2ZDb250ZW50c1wiOiB7XHJcblx0XHRcdFwiZW5hYmxlZFwiOiBmYWxzZSxcclxuXHRcdFx0XCJkZXB0aFwiOiA0XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJ7XHJcblx0XCJuYW1lXCI6IFwiQ29tcGFjdFwiLFxyXG5cdFwiZGVzY3JpcHRpb25cIjogXCJCYWxhbmNlZCBzZXR1cCBmb3Igc21hbGxlciBzaXRlc1wiLFxyXG5cdFwiY29uZmlnXCI6IHtcclxuXHRcdFwiY3VycmVudFRlbXBsYXRlXCI6IFwiY29tcGFjdFwiLFxyXG5cdFx0XCJmZWF0dXJlc1wiOiB7XHJcblx0XHRcdFwiY29tbWFuZFBhbGV0dGVcIjogdHJ1ZSxcclxuXHRcdFx0XCJyZWFkaW5nVGltZVwiOiB0cnVlLFxyXG5cdFx0XHRcImxpbmtlZE1lbnRpb25zXCI6IHRydWUsXHJcblx0XHRcdFwibGlua2VkTWVudGlvbnNDb21wYWN0XCI6IHRydWUsXHJcblx0XHRcdFwiZ3JhcGhWaWV3XCI6IGZhbHNlLFxyXG5cdFx0XHRcInBvc3ROYXZpZ2F0aW9uXCI6IHRydWUsXHJcblx0XHRcdFwiaGlkZVNjcm9sbEJhclwiOiBmYWxzZSxcclxuXHRcdFx0XCJzY3JvbGxUb1RvcFwiOiB0cnVlLFxyXG5cdFx0XHRcInNob3dTb2NpYWxJY29uc0luRm9vdGVyXCI6IGZhbHNlLFxyXG5cdFx0XHRcInByb2ZpbGVQaWN0dXJlXCI6IGZhbHNlLFxyXG5cdFx0XHRcImNvbW1lbnRzXCI6IGZhbHNlLFxyXG5cdFx0XHRcImZlYXR1cmVCdXR0b25cIjogXCJub25lXCIsXHJcblx0XHRcdFwicXVpY2tBY3Rpb25zXCI6IHtcclxuXHRcdFx0XHRcImVuYWJsZWRcIjogdHJ1ZSxcclxuXHRcdFx0XHRcInRvZ2dsZU1vZGVcIjogdHJ1ZSxcclxuXHRcdFx0XHRcImdyYXBoVmlld1wiOiBmYWxzZSxcclxuXHRcdFx0XHRcImNoYW5nZVRoZW1lXCI6IHRydWVcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFwidGFibGVPZkNvbnRlbnRzXCI6IHtcclxuXHRcdFx0XCJlbmFibGVkXCI6IHRydWUsXHJcblx0XHRcdFwiZGVwdGhcIjogMlxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBBc3Ryb01vZHVsYXJTZXR0aW5ncywgUHJlc2V0VGVtcGxhdGUgfSBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCB7IENvbmZpZ0ZpbGVNYW5hZ2VyIH0gZnJvbSAnLi9jb25maWcvQ29uZmlnRmlsZU1hbmFnZXInO1xyXG5pbXBvcnQgeyBDb25maWdQcmVzZXRNb2RpZmllciB9IGZyb20gJy4vY29uZmlnL0NvbmZpZ1ByZXNldE1vZGlmaWVyJztcclxuaW1wb3J0ICogYXMgc3RhbmRhcmRQcmVzZXQgZnJvbSAnLi4vcHJlc2V0cy9zdGFuZGFyZC5qc29uJztcclxuaW1wb3J0ICogYXMgbWluaW1hbFByZXNldCBmcm9tICcuLi9wcmVzZXRzL21pbmltYWwuanNvbic7XHJcbmltcG9ydCAqIGFzIGNvbXBhY3RQcmVzZXQgZnJvbSAnLi4vcHJlc2V0cy9jb21wYWN0Lmpzb24nO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbmZpZ01hbmFnZXIge1xyXG5cdHByaXZhdGUgYXBwOiBBcHA7XHJcblx0cHVibGljIGZpbGVNYW5hZ2VyOiBDb25maWdGaWxlTWFuYWdlcjtcclxuXHRwcml2YXRlIHByZXNldE1vZGlmaWVyOiBDb25maWdQcmVzZXRNb2RpZmllcjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuXHRcdHRoaXMuYXBwID0gYXBwO1xyXG5cdFx0dGhpcy5maWxlTWFuYWdlciA9IG5ldyBDb25maWdGaWxlTWFuYWdlcihhcHApO1xyXG5cdFx0dGhpcy5wcmVzZXRNb2RpZmllciA9IG5ldyBDb25maWdQcmVzZXRNb2RpZmllcigpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZ2V0Q29uZmlnRmlsZUluZm8oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5maWxlTWFuYWdlci5nZXRDb25maWdGaWxlSW5mbygpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVhZENvbmZpZygpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZmlsZU1hbmFnZXIucmVhZENvbmZpZygpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgd3JpdGVDb25maWcoY29udGVudDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5maWxlTWFuYWdlci53cml0ZUNvbmZpZyhjb250ZW50KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGFwcGx5UHJlc2V0KHByZXNldDogUHJlc2V0VGVtcGxhdGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdC8vIFJlYWQgdGhlIGV4aXN0aW5nIGNvbmZpZyBmaWxlXHJcblx0XHRjb25zdCBjdXJyZW50Q29uZmlnID0gYXdhaXQgdGhpcy5yZWFkQ29uZmlnKCk7XHJcblx0XHRcclxuXHRcdC8vIE1vZGlmeSB0aGUgZXhpc3RpbmcgY29uZmlnIGJhc2VkIG9uIHRoZSBwcmVzZXRcclxuXHRcdGNvbnN0IG1vZGlmaWVkQ29uZmlnID0gdGhpcy5wcmVzZXRNb2RpZmllci5tb2RpZnlDb25maWdGcm9tUHJlc2V0KHByZXNldCwgY3VycmVudENvbmZpZyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHdyaXRlUmVzdWx0ID0gYXdhaXQgdGhpcy53cml0ZUNvbmZpZyhtb2RpZmllZENvbmZpZyk7XHJcblx0XHRcclxuXHRcdHJldHVybiB3cml0ZVJlc3VsdDtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGRldGVjdEFzdHJvRGV2U2VydmVyKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZmlsZU1hbmFnZXIuZGV0ZWN0QXN0cm9EZXZTZXJ2ZXIoKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHVwZGF0ZUluZGl2aWR1YWxGZWF0dXJlcyhzZXR0aW5nczogQXN0cm9Nb2R1bGFyU2V0dGluZ3MpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdC8vIFJlYWQgdGhlIGV4aXN0aW5nIGNvbmZpZyBmaWxlXHJcblx0XHRjb25zdCBjdXJyZW50Q29uZmlnID0gYXdhaXQgdGhpcy5yZWFkQ29uZmlnKCk7XHJcblx0XHRcclxuXHRcdC8vIE1vZGlmeSB0aGUgZXhpc3RpbmcgY29uZmlnIGJhc2VkIG9uIGluZGl2aWR1YWwgZmVhdHVyZXNcclxuXHRcdGNvbnN0IG1vZGlmaWVkQ29uZmlnID0gdGhpcy5wcmVzZXRNb2RpZmllci5tb2RpZnlDb25maWdGcm9tRmVhdHVyZXMoc2V0dGluZ3MsIGN1cnJlbnRDb25maWcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCB3cml0ZVJlc3VsdCA9IGF3YWl0IHRoaXMud3JpdGVDb25maWcobW9kaWZpZWRDb25maWcpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gd3JpdGVSZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRhc3luYyB1cGRhdGVUaGVtZU9ubHkodGhlbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG5cdFx0Ly8gUmVhZCB0aGUgZXhpc3RpbmcgY29uZmlnIGZpbGVcclxuXHRcdGNvbnN0IGN1cnJlbnRDb25maWcgPSBhd2FpdCB0aGlzLnJlYWRDb25maWcoKTtcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIG9ubHkgdGhlIHRoZW1lIHNldHRpbmdcclxuXHRcdGNvbnN0IG1vZGlmaWVkQ29uZmlnID0gdGhpcy5wcmVzZXRNb2RpZmllci51cGRhdGVUaGVtZUluQ29uZmlnKGN1cnJlbnRDb25maWcsIHRoZW1lKTtcclxuXHRcdFxyXG5cdFx0Y29uc3Qgd3JpdGVSZXN1bHQgPSBhd2FpdCB0aGlzLndyaXRlQ29uZmlnKG1vZGlmaWVkQ29uZmlnKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHdyaXRlUmVzdWx0O1xyXG5cdH1cclxuXHJcblx0YXN5bmMgdXBkYXRlRm9udE9ubHkoZm9udFR5cGU6ICdoZWFkaW5nJyB8ICdwcm9zZScgfCAnbW9ubycsIGZvbnROYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdC8vIFJlYWQgdGhlIGV4aXN0aW5nIGNvbmZpZyBmaWxlXHJcblx0XHRjb25zdCBjdXJyZW50Q29uZmlnID0gYXdhaXQgdGhpcy5yZWFkQ29uZmlnKCk7XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBvbmx5IHRoZSBzcGVjaWZpYyBmb250IHNldHRpbmdcclxuXHRcdGNvbnN0IG1vZGlmaWVkQ29uZmlnID0gdGhpcy5wcmVzZXRNb2RpZmllci51cGRhdGVGb250SW5Db25maWcoY3VycmVudENvbmZpZywgZm9udFR5cGUsIGZvbnROYW1lKTtcclxuXHRcdFxyXG5cdFx0Y29uc3Qgd3JpdGVSZXN1bHQgPSBhd2FpdCB0aGlzLndyaXRlQ29uZmlnKG1vZGlmaWVkQ29uZmlnKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHdyaXRlUmVzdWx0O1xyXG5cdH1cclxuXHJcblx0YXN5bmMgdXBkYXRlRmVhdHVyZU9ubHkoZmVhdHVyZU5hbWU6IHN0cmluZywgdmFsdWU6IGJvb2xlYW4pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdC8vIFJlYWQgdGhlIGV4aXN0aW5nIGNvbmZpZyBmaWxlXHJcblx0XHRjb25zdCBjdXJyZW50Q29uZmlnID0gYXdhaXQgdGhpcy5yZWFkQ29uZmlnKCk7XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBvbmx5IHRoZSBzcGVjaWZpYyBmZWF0dXJlIHNldHRpbmdcclxuXHRcdGNvbnN0IG1vZGlmaWVkQ29uZmlnID0gdGhpcy5wcmVzZXRNb2RpZmllci51cGRhdGVGZWF0dXJlSW5Db25maWcoY3VycmVudENvbmZpZywgZmVhdHVyZU5hbWUsIHZhbHVlKTtcclxuXHRcdFxyXG5cdFx0Y29uc3Qgd3JpdGVSZXN1bHQgPSBhd2FpdCB0aGlzLndyaXRlQ29uZmlnKG1vZGlmaWVkQ29uZmlnKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHdyaXRlUmVzdWx0O1xyXG5cdH1cclxuXHJcblx0YXN5bmMgdHJpZ2dlclJlYnVpbGQoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHQvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHlvdSBtaWdodDpcclxuXHRcdC8vIDEuIFNlbmQgYSBzaWduYWwgdG8gdGhlIEFzdHJvIGRldiBzZXJ2ZXJcclxuXHRcdC8vIDIuIFVzZSB0aGUgU2hlbGwgQ29tbWFuZHMgcGx1Z2luIHRvIHJlc3RhcnQgdGhlIGRldiBzZXJ2ZXJcclxuXHRcdC8vIDMuIFNob3cgaW5zdHJ1Y3Rpb25zIHRvIHRoZSB1c2VyXHJcblx0XHQvLyBOb3RpY2Ugd2lsbCBiZSBzaG93biBieSB0aGUgbWFpbiBzZXR1cCBjb21wbGV0aW9uXHJcblx0fVxyXG5cclxuXHRnZXRUZW1wbGF0ZVByZXNldCh0ZW1wbGF0ZUlkOiBzdHJpbmcpOiBQcmVzZXRUZW1wbGF0ZSB8IG51bGwge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gUmV0dXJuIHRoZSBhcHByb3ByaWF0ZSBwcmVzZXQgYmFzZWQgb24gdGVtcGxhdGUgSUQgdXNpbmcgZW1iZWRkZWQgZGF0YVxyXG5cdFx0XHRzd2l0Y2ggKHRlbXBsYXRlSWQpIHtcclxuXHRcdFx0XHRjYXNlICdzdGFuZGFyZCc6XHJcblx0XHRcdFx0XHRyZXR1cm4gc3RhbmRhcmRQcmVzZXQgYXMgUHJlc2V0VGVtcGxhdGU7XHJcblx0XHRcdFx0Y2FzZSAnbWluaW1hbCc6XHJcblx0XHRcdFx0XHRyZXR1cm4gbWluaW1hbFByZXNldCBhcyBQcmVzZXRUZW1wbGF0ZTtcclxuXHRcdFx0XHRjYXNlICdjb21wYWN0JzpcclxuXHRcdFx0XHRcdHJldHVybiBjb21wYWN0UHJlc2V0IGFzIFByZXNldFRlbXBsYXRlO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGBVbmtub3duIHRlbXBsYXRlIElEOiAke3RlbXBsYXRlSWR9YCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB0ZW1wbGF0ZSBwcmVzZXQ6JywgZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldFRlbXBsYXRlQ29uZmlnKHRlbXBsYXRlTmFtZTogc3RyaW5nLCBzZXR0aW5nczogQXN0cm9Nb2R1bGFyU2V0dGluZ3MpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XHJcblx0XHQvLyBFeHBvc2UgdGVtcGxhdGUgY29uZmlnIGZyb20gcHJlc2V0TW9kaWZpZXIgZm9yIHRlbXBsYXRlIHN3aXRjaGluZ1xyXG5cdFx0cmV0dXJuIHRoaXMucHJlc2V0TW9kaWZpZXIuZ2V0VGVtcGxhdGVDb25maWcodGVtcGxhdGVOYW1lLCBzZXR0aW5ncyk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIHsgUGx1Z2luU3RhdHVzLCBQbHVnaW5Db25maWd1cmF0aW9uLCBPYnNpZGlhblBsdWdpbnMsIE9ic2lkaWFuVmF1bHRDb25maWcsIENvbnRlbnRPcmdhbml6YXRpb25UeXBlLCBPYnNpZGlhblNldHRpbmdzLCBBc3Ryb0NvbXBvc2VyU2V0dGluZ3MsIEltYWdlTWFuYWdlclNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgUGx1Z2luV2l0aFNldHRpbmdzIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn1cblxuZXhwb3J0IGNsYXNzIFBsdWdpbk1hbmFnZXIge1xuXHRwcml2YXRlIGFwcDogQXBwO1xuXHRwcml2YXRlIGdldENvbnRlbnRPcmdhbml6YXRpb24/OiAoKSA9PiBDb250ZW50T3JnYW5pemF0aW9uVHlwZTtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgZ2V0Q29udGVudE9yZ2FuaXphdGlvbj86ICgpID0+IENvbnRlbnRPcmdhbml6YXRpb25UeXBlKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdFx0dGhpcy5nZXRDb250ZW50T3JnYW5pemF0aW9uID0gZ2V0Q29udGVudE9yZ2FuaXphdGlvbjtcblx0fVxuXG5cdGFzeW5jIGdldFBsdWdpblN0YXR1cyhjb250ZW50T3JnPzogQ29udGVudE9yZ2FuaXphdGlvblR5cGUpOiBQcm9taXNlPFBsdWdpblN0YXR1c1tdPiB7XG5cdFx0Y29uc3QgcGx1Z2lucyA9ICh0aGlzLmFwcCBhcyB1bmtub3duIGFzIHsgcGx1Z2lucz86IE9ic2lkaWFuUGx1Z2lucyB9KS5wbHVnaW5zO1xuXHRcdGNvbnN0IHJlcXVpcmVkUGx1Z2lucyA9IFtcblx0XHRcdCdhc3Ryby1jb21wb3NlcicsXG5cdFx0XHQnaW1hZ2UtbWFuYWdlcidcblx0XHRdO1xuXG5cdFx0Y29uc3Qgc3RhdHVzOiBQbHVnaW5TdGF0dXNbXSA9IFtdO1xuXG5cdFx0Ly8gQWRkIE9ic2lkaWFuIHNldHRpbmdzIGNoZWNrIGZpcnN0XG5cdFx0Y29uc3Qgb2JzaWRpYW5TZXR0aW5nc1N0YXR1cyA9IHRoaXMuY2hlY2tPYnNpZGlhblNldHRpbmdzKGNvbnRlbnRPcmcpO1xuXHRcdHN0YXR1cy5wdXNoKG9ic2lkaWFuU2V0dGluZ3NTdGF0dXMpO1xuXG5cdFx0Ly8gVGhlbiBhZGQgcGx1Z2luIGNoZWNrc1xuXHRcdGZvciAoY29uc3QgcGx1Z2luSWQgb2YgcmVxdWlyZWRQbHVnaW5zKSB7XG5cdFx0XHRjb25zdCBwbHVnaW4gPSBwbHVnaW5zPy5wbHVnaW5zPy5bcGx1Z2luSWRdO1xuXHRcdFx0Y29uc3QgaXNJbkVuYWJsZWRTZXQgPSBwbHVnaW5zPy5lbmFibGVkUGx1Z2lucyAmJiBwbHVnaW5zLmVuYWJsZWRQbHVnaW5zLmhhcyhwbHVnaW5JZCk7XG5cdFx0XHRcblx0XHRcdC8vIENoZWNrIGlmIHBsdWdpbiBpcyBpbnN0YWxsZWQgYnkgbG9va2luZyBhdCBjb21tdW5pdHkgcGx1Z2lucyBsaXN0XG5cdFx0XHQvLyBUaGlzIHdvcmtzIGV2ZW4gd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkXG5cdFx0XHRjb25zdCBpc0luc3RhbGxlZCA9IHRoaXMuaXNQbHVnaW5JbnN0YWxsZWQocGx1Z2luSWQpO1xuXHRcdFx0XG5cdFx0XHQvLyBGb3IgQXN0cm8gQ29tcG9zZXIsIGNoZWNrIGNvbnRlbnQgdHlwZSBzZXR0aW5ncyBhbmQgaW5jbHVkZSBpbiBtYWluIHN0YXR1c1xuXHRcdFx0bGV0IG91dE9mU3luY0NvbnRlbnRUeXBlczogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG5cdFx0XHRpZiAocGx1Z2luSWQgPT09ICdhc3Ryby1jb21wb3NlcicgJiYgcGx1Z2luKSB7XG5cdFx0XHRcdGNvbnN0IHN5bmNDaGVjayA9IGF3YWl0IHRoaXMuY2hlY2tBc3Ryb0NvbXBvc2VyU2V0dGluZ3MocGx1Z2luIGFzIFBsdWdpbiwgY29udGVudE9yZyk7XG5cdFx0XHRcdGlmIChzeW5jQ2hlY2spIHtcblx0XHRcdFx0XHRvdXRPZlN5bmNDb250ZW50VHlwZXMgPSBzeW5jQ2hlY2sub3V0T2ZTeW5jQ29udGVudFR5cGVzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIEZvciBJbWFnZSBNYW5hZ2VyLCBjaGVjayBpZiBzZXR0aW5ncyBtYXRjaCBjb250ZW50IG9yZ2FuaXphdGlvblxuXHRcdFx0bGV0IGltYWdlTWFuYWdlclNldHRpbmdzTWF0Y2ggPSB0cnVlO1xuXHRcdFx0aWYgKHBsdWdpbklkID09PSAnaW1hZ2UtbWFuYWdlcicgJiYgcGx1Z2luICYmIGlzSW5zdGFsbGVkICYmIGlzSW5FbmFibGVkU2V0KSB7XG5cdFx0XHRcdGltYWdlTWFuYWdlclNldHRpbmdzTWF0Y2ggPSB0aGlzLmNoZWNrSW1hZ2VNYW5hZ2VyU2V0dGluZ3MocGx1Z2luIGFzIFBsdWdpbiwgY29udGVudE9yZyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHN0YXR1cy5wdXNoKHtcblx0XHRcdFx0bmFtZTogdGhpcy5nZXRQbHVnaW5EaXNwbGF5TmFtZShwbHVnaW5JZCksXG5cdFx0XHRcdGluc3RhbGxlZDogaXNJbnN0YWxsZWQsXG5cdFx0XHRcdGVuYWJsZWQ6IGlzSW5FbmFibGVkU2V0IHx8IGZhbHNlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRoaXMuaXNQbHVnaW5Db25maWd1cmFibGUocGx1Z2luSWQpLFxuXHRcdFx0XHRjdXJyZW50U2V0dGluZ3M6IHBsdWdpbiA/IGF3YWl0IHRoaXMuZ2V0UGx1Z2luU2V0dGluZ3MocGx1Z2luIGFzIFBsdWdpbikgOiB1bmRlZmluZWQsXG5cdFx0XHRcdG91dE9mU3luY0NvbnRlbnRUeXBlczogb3V0T2ZTeW5jQ29udGVudFR5cGVzLFxuXHRcdFx0XHRzZXR0aW5nc01hdGNoOiBwbHVnaW5JZCA9PT0gJ2ltYWdlLW1hbmFnZXInID8gaW1hZ2VNYW5hZ2VyU2V0dGluZ3NNYXRjaCA6IHVuZGVmaW5lZFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN0YXR1cztcblx0fVxuXG5cdHByaXZhdGUgaXNQbHVnaW5JbnN0YWxsZWQocGx1Z2luSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdC8vIENoZWNrIGlmIHBsdWdpbiBpcyBpbiB0aGUgY29tbXVuaXR5IHBsdWdpbnMgbGlzdFxuXHRcdC8vIFRoaXMgd29ya3MgZXZlbiB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWRcblx0XHRjb25zdCBhcHBQbHVnaW5zID0gKHRoaXMuYXBwIGFzIHVua25vd24gYXMgeyBwbHVnaW5zPzogT2JzaWRpYW5QbHVnaW5zIH0pLnBsdWdpbnM7XG5cdFx0Y29uc3QgY29tbXVuaXR5UGx1Z2lucyA9IGFwcFBsdWdpbnM/LmNvbW11bml0eVBsdWdpbnM7XG5cdFx0aWYgKGNvbW11bml0eVBsdWdpbnMgJiYgQXJyYXkuaXNBcnJheShjb21tdW5pdHlQbHVnaW5zKSkge1xuXHRcdFx0cmV0dXJuIGNvbW11bml0eVBsdWdpbnMuaW5jbHVkZXMocGx1Z2luSWQpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBGYWxsYmFjazogY2hlY2sgaWYgcGx1Z2luIGV4aXN0cyBpbiBwbHVnaW5zIG9iamVjdCAob25seSB3b3JrcyB3aGVuIGVuYWJsZWQpXG5cdFx0cmV0dXJuICEhYXBwUGx1Z2lucz8ucGx1Z2lucz8uW3BsdWdpbklkXTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0UGx1Z2luRGlzcGxheU5hbWUocGx1Z2luSWQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Y29uc3QgbmFtZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFx0XHQnYXN0cm8tY29tcG9zZXInOiAnQXN0cm8gQ29tcG9zZXInLFxuXHRcdFx0J2ltYWdlLW1hbmFnZXInOiAnSW1hZ2UgTWFuYWdlcidcblx0XHR9O1xuXHRcdHJldHVybiBuYW1lc1twbHVnaW5JZF0gfHwgcGx1Z2luSWQ7XG5cdH1cblxuXHRwcml2YXRlIGNoZWNrT2JzaWRpYW5TZXR0aW5ncyhjb250ZW50T3JnPzogQ29udGVudE9yZ2FuaXphdGlvblR5cGUpOiBQbHVnaW5TdGF0dXMge1xuXHRcdGNvbnN0IGNvbnRlbnRPcmdWYWx1ZSA9IGNvbnRlbnRPcmcgfHwgdGhpcy5nZXRDb250ZW50T3JnYW5pemF0aW9uPy4oKSB8fCAnZmlsZS1iYXNlZCc7XG5cdFx0Y29uc3QgdmF1bHRDb25maWcgPSAodGhpcy5hcHAudmF1bHQgYXMgdW5rbm93biBhcyB7IGNvbmZpZz86IE9ic2lkaWFuVmF1bHRDb25maWcgfSkuY29uZmlnO1xuXHRcdFxuXHRcdC8vIEdldCB0aGUgZXhwZWN0ZWQgYXR0YWNobWVudCBsb2NhdGlvbiBiYXNlZCBvbiBjb250ZW50IG9yZ2FuaXphdGlvblxuXHRcdGNvbnN0IGV4cGVjdGVkTG9jYXRpb24gPSBjb250ZW50T3JnVmFsdWUgPT09ICdmaWxlLWJhc2VkJyA/ICdzdWJmb2xkZXInIDogJ3NhbWUtZm9sZGVyJztcblx0XHRjb25zdCBleHBlY3RlZFN1YmZvbGRlciA9ICdhdHRhY2htZW50cyc7XG5cdFx0XG5cdFx0Ly8gQ2hlY2sgaWYgc2V0dGluZ3MgbWF0Y2hcblx0XHRsZXQgaXNDb25maWd1cmVkID0gZmFsc2U7XG5cdFx0XG5cdFx0Ly8gTm9ybWFsaXplIHRoZSBhdHRhY2htZW50IHBhdGggZm9yIGNvbXBhcmlzb25cblx0XHRjb25zdCBhdHRhY2htZW50UGF0aCA9ICh2YXVsdENvbmZpZz8uYXR0YWNobWVudEZvbGRlclBhdGggfHwgJycpLnRyaW0oKTtcblx0XHRjb25zdCBub3JtYWxpemVkUGF0aCA9IGF0dGFjaG1lbnRQYXRoLnJlcGxhY2UoL1xcLyskLywgJycpOyAvLyBSZW1vdmUgdHJhaWxpbmcgc2xhc2hlc1xuXHRcdFxuXHRcdGlmIChleHBlY3RlZExvY2F0aW9uID09PSAnc3ViZm9sZGVyJykge1xuXHRcdFx0Ly8gRm9yIGZpbGUtYmFzZWQ6IHNob3VsZCBiZSBcIi4vYXR0YWNobWVudHNcIiBvciBcImF0dGFjaG1lbnRzXCJcblx0XHRcdC8vIENoZWNrIHZhcmlvdXMgZm9ybWF0cyB0aGF0IE9ic2lkaWFuIG1pZ2h0IHVzZVxuXHRcdFx0aXNDb25maWd1cmVkID0gbm9ybWFsaXplZFBhdGggPT09IGAuLyR7ZXhwZWN0ZWRTdWJmb2xkZXJ9YCB8fCBcblx0XHRcdCAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoID09PSBgJHtleHBlY3RlZFN1YmZvbGRlcn1gIHx8XG5cdFx0XHQgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aC5lbmRzV2l0aChgLyR7ZXhwZWN0ZWRTdWJmb2xkZXJ9YCkgfHxcblx0XHRcdCAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoID09PSBgLiR7ZXhwZWN0ZWRTdWJmb2xkZXJ9YCB8fFxuXHRcdFx0ICAgICAgICAgICAgICAgbm9ybWFsaXplZFBhdGggPT09IGAke2V4cGVjdGVkU3ViZm9sZGVyfS9gIHx8XG5cdFx0XHQgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9PT0gYC4vJHtleHBlY3RlZFN1YmZvbGRlcn0vYDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRm9yIGZvbGRlci1iYXNlZDogc2hvdWxkIGJlIFwiLi9cIiBvciBlbXB0eSAoc2FtZSBmb2xkZXIpXG5cdFx0XHQvLyBPYnNpZGlhbiBzdG9yZXMgZW1wdHkgc3RyaW5nIG9yIFwiLi9cIiBmb3IgXCJzYW1lIGZvbGRlciBhcyBjdXJyZW50IGZpbGVcIlxuXHRcdFx0aXNDb25maWd1cmVkID0gbm9ybWFsaXplZFBhdGggPT09ICcuLycgfHwgXG5cdFx0XHQgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9PT0gJycgfHwgXG5cdFx0XHQgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9PT0gJy4nIHx8XG5cdFx0XHQgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHQgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9PT0gbnVsbDtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6ICdBdHRhY2htZW50IHNldHRpbmdzJyxcblx0XHRcdGluc3RhbGxlZDogaXNDb25maWd1cmVkLCAvLyBVc2UgaW5zdGFsbGVkIGZpZWxkIHRvIGluZGljYXRlIGNvbmZpZ3VyZWQgc3RhdHVzXG5cdFx0XHRlbmFibGVkOiBmYWxzZSwgLy8gTm90IGFwcGxpY2FibGUgZm9yIHNldHRpbmdzXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRjdXJyZW50U2V0dGluZ3M6IHVuZGVmaW5lZFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGNoZWNrQXN0cm9Db21wb3NlclNldHRpbmdzKHBsdWdpbjogUGx1Z2luLCBjb250ZW50T3JnPzogQ29udGVudE9yZ2FuaXphdGlvblR5cGUpOiBQcm9taXNlPHsgb3V0T2ZTeW5jQ29udGVudFR5cGVzOiBzdHJpbmdbXSB9IHwgbnVsbD4ge1xuXHRcdGNvbnN0IGNvbnRlbnRPcmdWYWx1ZSA9IGNvbnRlbnRPcmcgfHwgdGhpcy5nZXRDb250ZW50T3JnYW5pemF0aW9uPy4oKSB8fCAnZmlsZS1iYXNlZCc7XG5cdFx0Y29uc3QgZXhwZWN0ZWRNb2RlID0gY29udGVudE9yZ1ZhbHVlID09PSAnZmlsZS1iYXNlZCcgPyAnZmlsZScgOiAnZm9sZGVyJztcblx0XHRcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcGx1Z2luU2V0dGluZ3MgPSAocGx1Z2luIGFzIFBsdWdpbldpdGhTZXR0aW5ncykuc2V0dGluZ3M7XG5cdFx0XHRpZiAoIXBsdWdpblNldHRpbmdzKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRjb25zdCBtaXNtYXRjaGVkVHlwZXM6IHN0cmluZ1tdID0gW107XG5cdFx0XHRcblx0XHRcdC8vIENoZWNrIGlmIHVzaW5nIG5ldyBjb250ZW50VHlwZXMgYXJyYXkgc3RydWN0dXJlXG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShwbHVnaW5TZXR0aW5ncy5jb250ZW50VHlwZXMpKSB7XG5cdFx0XHRcdC8vIE5ldyBzdHJ1Y3R1cmU6IGNoZWNrIGVhY2ggY29udGVudCB0eXBlIGluIHRoZSBjb250ZW50VHlwZXMgYXJyYXlcblx0XHRcdFx0Y29uc3QgZXhwZWN0ZWRDb250ZW50VHlwZXMgPSBbJ3Bvc3RzJywgJ3BhZ2VzJywgJ3Byb2plY3RzJywgJ2RvY3MnXTtcblx0XHRcdFx0XG5cdFx0XHRcdGZvciAoY29uc3QgZXhwZWN0ZWRUeXBlIG9mIGV4cGVjdGVkQ29udGVudFR5cGVzKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29udGVudFR5cGUgPSBwbHVnaW5TZXR0aW5ncy5jb250ZW50VHlwZXMuZmluZCgoY3Q6IHVua25vd24pID0+IFxuXHRcdFx0XHRcdFx0Y3QgJiYgdHlwZW9mIGN0ID09PSAnb2JqZWN0JyAmJiBjdCAhPT0gbnVsbCAmJiAnZm9sZGVyJyBpbiBjdCAmJiB0eXBlb2YgKGN0IGFzIHsgZm9sZGVyPzogdW5rbm93biB9KS5mb2xkZXIgPT09ICdzdHJpbmcnICYmIChjdCBhcyB7IGZvbGRlcjogc3RyaW5nIH0pLmZvbGRlci50b0xvd2VyQ2FzZSgpID09PSBleHBlY3RlZFR5cGVcblx0XHRcdFx0XHQpIGFzIHsgZW5hYmxlZD86IGJvb2xlYW47IGNyZWF0aW9uTW9kZT86IHN0cmluZyB9IHwgdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChjb250ZW50VHlwZSkge1xuXHRcdFx0XHRcdFx0Ly8gQ29udGVudCB0eXBlIGV4aXN0cyAtIGNoZWNrIGlmIGl0J3MgZW5hYmxlZCBhbmQgbWF0Y2hlcyBleHBlY3RlZCBtb2RlXG5cdFx0XHRcdFx0XHRpZiAoY29udGVudFR5cGUuZW5hYmxlZCAhPT0gZmFsc2UpIHsgLy8gT25seSBjaGVjayBpZiBlbmFibGVkIChvciBub3QgZXhwbGljaXRseSBkaXNhYmxlZClcblx0XHRcdFx0XHRcdFx0aWYgKGNvbnRlbnRUeXBlLmNyZWF0aW9uTW9kZSAhPT0gZXhwZWN0ZWRNb2RlKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWlzbWF0Y2hlZFR5cGVzLnB1c2goZXhwZWN0ZWRUeXBlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gSWYgZGlzYWJsZWQsIHdlIGRvbid0IGNoZWNrIGl0IChkb24ndCBhZGQgdG8gbWlzbWF0Y2hlZClcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gQ29udGVudCB0eXBlIG5vdCBmb3VuZCAtIG9ubHkgY2hlY2sgaWYgaXQncyBvbmUgb2YgdGhlIHJlcXVpcmVkIG9uZXNcblx0XHRcdFx0XHRcdC8vIEZvciBub3csIHdlJ2xsIG9ubHkgY2hlY2sgdGhlIG9uZXMgdGhhdCBleGlzdFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gb2xkIHN0cnVjdHVyZSBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuXHRcdFx0XHQvLyBDaGVjayBwb3N0czogdXNlIGdsb2JhbCBjcmVhdGlvbk1vZGVcblx0XHRcdFx0aWYgKHBsdWdpblNldHRpbmdzLmNyZWF0aW9uTW9kZSAmJiB0eXBlb2YgcGx1Z2luU2V0dGluZ3MuY3JlYXRpb25Nb2RlID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdGlmIChwbHVnaW5TZXR0aW5ncy5jcmVhdGlvbk1vZGUgIT09IGV4cGVjdGVkTW9kZSkge1xuXHRcdFx0XHRcdFx0bWlzbWF0Y2hlZFR5cGVzLnB1c2goJ3Bvc3RzJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIE5vIGNyZWF0aW9uTW9kZSBzZXQsIG5lZWRzIGNvbmZpZ3VyYXRpb25cblx0XHRcdFx0XHRtaXNtYXRjaGVkVHlwZXMucHVzaCgncG9zdHMnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Ly8gQ2hlY2sgcGFnZXM6IHVzZSBwYWdlc0NyZWF0aW9uTW9kZVxuXHRcdFx0XHRpZiAocGx1Z2luU2V0dGluZ3MucGFnZXNDcmVhdGlvbk1vZGUpIHtcblx0XHRcdFx0XHRpZiAocGx1Z2luU2V0dGluZ3MucGFnZXNDcmVhdGlvbk1vZGUgIT09IGV4cGVjdGVkTW9kZSkge1xuXHRcdFx0XHRcdFx0bWlzbWF0Y2hlZFR5cGVzLnB1c2goJ3BhZ2VzJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIE5vIHBhZ2VzQ3JlYXRpb25Nb2RlIHNldCwgbmVlZHMgY29uZmlndXJhdGlvblxuXHRcdFx0XHRcdG1pc21hdGNoZWRUeXBlcy5wdXNoKCdwYWdlcycpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBDaGVjayBwcm9qZWN0cyBhbmQgZG9jczogdXNlIGN1c3RvbUNvbnRlbnRUeXBlc1xuXHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheShwbHVnaW5TZXR0aW5ncy5jdXN0b21Db250ZW50VHlwZXMpKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBjb250ZW50VHlwZSBvZiBbJ3Byb2plY3RzJywgJ2RvY3MnXSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgY3VzdG9tVHlwZSA9IHBsdWdpblNldHRpbmdzLmN1c3RvbUNvbnRlbnRUeXBlcy5maW5kKChjdDogdW5rbm93bikgPT4gXG5cdFx0XHRcdFx0XHRcdGN0ICYmIHR5cGVvZiBjdCA9PT0gJ29iamVjdCcgJiYgY3QgIT09IG51bGwgJiYgJ2ZvbGRlcicgaW4gY3QgJiYgdHlwZW9mIChjdCBhcyB7IGZvbGRlcj86IHVua25vd24gfSkuZm9sZGVyID09PSAnc3RyaW5nJyAmJiAoY3QgYXMgeyBmb2xkZXI6IHN0cmluZyB9KS5mb2xkZXIudG9Mb3dlckNhc2UoKSA9PT0gY29udGVudFR5cGVcblx0XHRcdFx0XHRcdCkgYXMgeyBjcmVhdGlvbk1vZGU/OiBzdHJpbmcgfSB8IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGlmIChjdXN0b21UeXBlICYmIGN1c3RvbVR5cGUuY3JlYXRpb25Nb2RlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChjdXN0b21UeXBlLmNyZWF0aW9uTW9kZSAhPT0gZXhwZWN0ZWRNb2RlKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWlzbWF0Y2hlZFR5cGVzLnB1c2goY29udGVudFR5cGUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBDdXN0b20gdHlwZSBleGlzdHMgYnV0IG5vIGNyZWF0aW9uTW9kZSBzZXQsIG5lZWRzIGNvbmZpZ3VyYXRpb25cblx0XHRcdFx0XHRcdFx0bWlzbWF0Y2hlZFR5cGVzLnB1c2goY29udGVudFR5cGUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBObyBjdXN0b21Db250ZW50VHlwZXMgYXJyYXksIHByb2plY3RzIGFuZCBkb2NzIG5lZWQgY29uZmlndXJhdGlvblxuXHRcdFx0XHRcdG1pc21hdGNoZWRUeXBlcy5wdXNoKCdwcm9qZWN0cycsICdkb2NzJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gSWYgYWxsIGNvbnRlbnQgdHlwZXMgbWF0Y2gsIHJldHVybiBudWxsIChubyBpc3N1ZXMpXG5cdFx0XHRpZiAobWlzbWF0Y2hlZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gUmV0dXJuIHRoZSBsaXN0IG9mIG91dC1vZi1zeW5jIGNvbnRlbnQgdHlwZXNcblx0XHRcdHJldHVybiB7IG91dE9mU3luY0NvbnRlbnRUeXBlczogbWlzbWF0Y2hlZFR5cGVzIH07XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBBc3RybyBDb21wb3NlciBzZXR0aW5nczonLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cblx0XG5cdHByaXZhdGUgY2hlY2tJbWFnZU1hbmFnZXJTZXR0aW5ncyhwbHVnaW46IFBsdWdpbiwgY29udGVudE9yZz86IENvbnRlbnRPcmdhbml6YXRpb25UeXBlKTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgY29udGVudE9yZ1ZhbHVlID0gY29udGVudE9yZyB8fCB0aGlzLmdldENvbnRlbnRPcmdhbml6YXRpb24/LigpIHx8ICdmaWxlLWJhc2VkJztcblx0XHRjb25zdCBleHBlY3RlZEZvcm1hdCA9IGNvbnRlbnRPcmdWYWx1ZSA9PT0gJ2ZpbGUtYmFzZWQnIFxuXHRcdFx0PyAnW1thdHRhY2htZW50cy97aW1hZ2UtdXJsfV1dJyBcblx0XHRcdDogJ1tbe2ltYWdlLXVybH1dXSc7XG5cdFx0XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBsdWdpblNldHRpbmdzID0gKHBsdWdpbiBhcyBQbHVnaW5XaXRoU2V0dGluZ3MpLnNldHRpbmdzO1xuXHRcdFx0aWYgKCFwbHVnaW5TZXR0aW5ncykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIENoZWNrIHRoYXQgcHJvcGVydHlMaW5rRm9ybWF0IGlzIHNldCB0byAnY3VzdG9tJ1xuXHRcdFx0Y29uc3QgcHJvcGVydHlMaW5rRm9ybWF0ID0gcGx1Z2luU2V0dGluZ3MucHJvcGVydHlMaW5rRm9ybWF0O1xuXHRcdFx0aWYgKHByb3BlcnR5TGlua0Zvcm1hdCAhPT0gJ2N1c3RvbScpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBDaGVjayB0aGUgY3VzdG9tUHJvcGVydHlMaW5rRm9ybWF0IG1hdGNoZXMgZXhwZWN0ZWQgZm9ybWF0XG5cdFx0XHRjb25zdCBhY3R1YWxGb3JtYXQgPSBwbHVnaW5TZXR0aW5ncy5jdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXQ7XG5cdFx0XHRyZXR1cm4gYWN0dWFsRm9ybWF0ID09PSBleHBlY3RlZEZvcm1hdDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIEltYWdlIE1hbmFnZXIgc2V0dGluZ3M6JywgZXJyb3IpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgaXNQbHVnaW5Db25maWd1cmFibGUocGx1Z2luSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGNvbnN0IGNvbmZpZ3VyYWJsZVBsdWdpbnMgPSBbXG5cdFx0XHQnYXN0cm8tY29tcG9zZXInLFxuXHRcdFx0J2ltYWdlLW1hbmFnZXInXG5cdFx0XTtcblx0XHRyZXR1cm4gY29uZmlndXJhYmxlUGx1Z2lucy5pbmNsdWRlcyhwbHVnaW5JZCk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGdldFBsdWdpblNldHRpbmdzKHBsdWdpbjogUGx1Z2luKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZD4ge1xuXHRcdC8vIFRoaXMgd291bGQgbmVlZCB0byBiZSBpbXBsZW1lbnRlZCBiYXNlZCBvbiBlYWNoIHBsdWdpbidzIHNwZWNpZmljIEFQSVxuXHRcdC8vIEZvciBub3csIHJldHVybiBhIHBsYWNlaG9sZGVyXG5cdFx0Y29uc3QgcGx1Z2luV2l0aFNldHRpbmdzID0gcGx1Z2luIGFzIFBsdWdpbldpdGhTZXR0aW5ncztcblx0XHRyZXR1cm4gcGx1Z2luV2l0aFNldHRpbmdzLnNldHRpbmdzO1xuXHR9XG5cblx0YXN5bmMgY29uZmlndXJlUGx1Z2lucyhjb25maWc6IFBsdWdpbkNvbmZpZ3VyYXRpb24pOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRsZXQgc3VjY2Vzc0NvdW50ID0gMDtcblx0XHRcblx0XHR0cnkge1xuXHRcdFx0Ly8gQ29uZmlndXJlIE9ic2lkaWFuIHNldHRpbmdzXG5cdFx0XHRhd2FpdCB0aGlzLmNvbmZpZ3VyZU9ic2lkaWFuU2V0dGluZ3MoY29uZmlnLm9ic2lkaWFuU2V0dGluZ3MpO1xuXHRcdFx0c3VjY2Vzc0NvdW50Kys7XG5cdFx0XHRcblx0XHRcdC8vIENvbmZpZ3VyZSBBc3RybyBDb21wb3NlciBzZXR0aW5nc1xuXHRcdFx0YXdhaXQgdGhpcy5jb25maWd1cmVBc3Ryb0NvbXBvc2VyU2V0dGluZ3MoY29uZmlnLmFzdHJvQ29tcG9zZXJTZXR0aW5ncyk7XG5cdFx0XHRzdWNjZXNzQ291bnQrKztcblx0XHRcdFxuXHRcdFx0Ly8gQ29uZmlndXJlIEltYWdlIE1hbmFnZXIgc2V0dGluZ3Ncblx0XHRcdGF3YWl0IHRoaXMuY29uZmlndXJlSW1hZ2VNYW5hZ2VyU2V0dGluZ3MoY29uZmlnLmltYWdlTWFuYWdlclNldHRpbmdzKTtcblx0XHRcdHN1Y2Nlc3NDb3VudCsrO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gc3VjY2Vzc0NvdW50ID4gMDsgLy8gUmV0dXJuIHRydWUgaWYgYXQgbGVhc3Qgb25lIGNvbmZpZ3VyYXRpb24gc3VjY2VlZGVkXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1BsdWdpbiBjb25maWd1cmF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBjb25maWd1cmVPYnNpZGlhblNldHRpbmdzKHNldHRpbmdzOiBPYnNpZGlhblNldHRpbmdzKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGFwcCA9IHRoaXMuYXBwIGFzIHVua25vd24gYXMgeyBzZXR0aW5nPzogeyBzZXQ/OiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47IHNhdmU/OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0gfTtcblx0XHRcdGNvbnN0IHRhcmdldFBhdGggPSBzZXR0aW5ncy5hdHRhY2htZW50TG9jYXRpb24gPT09ICdzdWJmb2xkZXInIFxuXHRcdFx0XHQ/IGAuLyR7c2V0dGluZ3Muc3ViZm9sZGVyTmFtZX1gIFxuXHRcdFx0XHQ6ICcuLyc7XG5cdFx0XHRcblx0XHRcdC8vIE1ldGhvZCAxOiBUcnkgdG8gdXNlIHRoZSBhcHAncyBzZXR0aW5ncyBtYW5hZ2VyIGlmIGF2YWlsYWJsZVxuXHRcdFx0aWYgKGFwcC5zZXR0aW5nICYmIHR5cGVvZiBhcHAuc2V0dGluZy5zZXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0YXdhaXQgYXBwLnNldHRpbmcuc2V0KCdhdHRhY2htZW50Rm9sZGVyUGF0aCcsIHRhcmdldFBhdGgpO1xuXHRcdFx0XHRhd2FpdCBhcHAuc2V0dGluZy5zZXQoJ25ld0xpbmtGb3JtYXQnLCAncmVsYXRpdmUnKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFNhdmUgdGhlIHNldHRpbmdzXG5cdFx0XHRcdGlmICh0eXBlb2YgYXBwLnNldHRpbmcuc2F2ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGF3YWl0IGFwcC5zZXR0aW5nLnNhdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTWV0aG9kIDI6IEZhbGxiYWNrIHRvIHZhdWx0IGNvbmZpZyAoY3VycmVudCBhcHByb2FjaClcblx0XHRcdFx0Y29uc3QgdmF1bHQgPSB0aGlzLmFwcC52YXVsdCBhcyB1bmtub3duIGFzIHsgY29uZmlnPzogT2JzaWRpYW5WYXVsdENvbmZpZzsgc2F2ZUNvbmZpZz86ICgpID0+IFByb21pc2U8dm9pZD4gfTtcblx0XHRcdFx0Y29uc3Qgb2JzaWRpYW5TZXR0aW5ncyA9IHZhdWx0LmNvbmZpZztcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChvYnNpZGlhblNldHRpbmdzKSB7XG5cdFx0XHRcdFx0b2JzaWRpYW5TZXR0aW5ncy5uZXdMaW5rRm9ybWF0ID0gJ3JlbGF0aXZlJztcblx0XHRcdFx0XHRvYnNpZGlhblNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXJQYXRoID0gdGFyZ2V0UGF0aDtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAodHlwZW9mIHZhdWx0LnNhdmVDb25maWcgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGF3YWl0IHZhdWx0LnNhdmVDb25maWcoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY29uZmlndXJlIE9ic2lkaWFuIHNldHRpbmdzOicsIGVycm9yKTtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgY29uZmlndXJlQXN0cm9Db21wb3NlclNldHRpbmdzKHNldHRpbmdzOiBBc3Ryb0NvbXBvc2VyU2V0dGluZ3MpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcGx1Z2lucyA9ICh0aGlzLmFwcCBhcyB1bmtub3duIGFzIHsgcGx1Z2lucz86IE9ic2lkaWFuUGx1Z2lucyB9KS5wbHVnaW5zO1xuXHRcdFx0Y29uc3QgYXN0cm9Db21wb3NlclBsdWdpbiA9IHBsdWdpbnM/LnBsdWdpbnM/LlsnYXN0cm8tY29tcG9zZXInXTtcblx0XHRcdFxuXHRcdFx0aWYgKCFhc3Ryb0NvbXBvc2VyUGx1Z2luKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybignQXN0cm8gQ29tcG9zZXIgcGx1Z2luIG5vdCBmb3VuZCcpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IGFzdHJvQ29tcG9zZXJQbHVnaW5XaXRoU2V0dGluZ3MgPSBhc3Ryb0NvbXBvc2VyUGx1Z2luIGFzIFBsdWdpbldpdGhTZXR0aW5ncztcblx0XHRcdGlmICghYXN0cm9Db21wb3NlclBsdWdpbldpdGhTZXR0aW5ncy5zZXR0aW5ncykge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0FzdHJvIENvbXBvc2VyIHBsdWdpbiBzZXR0aW5ncyBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgcGx1Z2luU2V0dGluZ3MgPSBhc3Ryb0NvbXBvc2VyUGx1Z2luV2l0aFNldHRpbmdzLnNldHRpbmdzO1xuXHRcdFx0Y29uc3QgY3JlYXRpb25Nb2RlID0gc2V0dGluZ3MuY3JlYXRpb25Nb2RlO1xuXHRcdFx0XG5cdFx0XHQvLyBDaGVjayBpZiB1c2luZyBuZXcgY29udGVudFR5cGVzIGFycmF5IHN0cnVjdHVyZVxuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkocGx1Z2luU2V0dGluZ3MuY29udGVudFR5cGVzKSkge1xuXHRcdFx0XHQvLyBOZXcgc3RydWN0dXJlOiB1cGRhdGUgZWFjaCBjb250ZW50IHR5cGUgaW4gdGhlIGNvbnRlbnRUeXBlcyBhcnJheVxuXHRcdFx0XHRjb25zdCBjb250ZW50VHlwZXNUb1VwZGF0ZSA9IFsncG9zdHMnLCAncGFnZXMnLCAncHJvamVjdHMnLCAnZG9jcyddO1xuXHRcdFx0XHRcblx0XHRcdFx0Zm9yIChjb25zdCBjb250ZW50VHlwZSBvZiBwbHVnaW5TZXR0aW5ncy5jb250ZW50VHlwZXMpIHtcblx0XHRcdFx0XHRpZiAoY29udGVudFR5cGUgJiYgdHlwZW9mIGNvbnRlbnRUeXBlID09PSAnb2JqZWN0JyAmJiBjb250ZW50VHlwZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgY29udGVudFR5cGVPYmogPSBjb250ZW50VHlwZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0XHRcdGNvbnN0IGZvbGRlck5hbWUgPSAodHlwZW9mIGNvbnRlbnRUeXBlT2JqLmZvbGRlciA9PT0gJ3N0cmluZycgPyBjb250ZW50VHlwZU9iai5mb2xkZXIgOiAnJykudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdGlmIChjb250ZW50VHlwZXNUb1VwZGF0ZS5pbmNsdWRlcyhmb2xkZXJOYW1lKSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZW50VHlwZU9iai5jcmVhdGlvbk1vZGUgPSBjcmVhdGlvbk1vZGU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBGYWxsYmFjayB0byBvbGQgc3RydWN0dXJlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5cdFx0XHRcdC8vIFVwZGF0ZSBwb3N0czogdXNlIGdsb2JhbCBjcmVhdGlvbk1vZGUgKGZvciBwb3N0cylcblx0XHRcdFx0cGx1Z2luU2V0dGluZ3MuY3JlYXRpb25Nb2RlID0gY3JlYXRpb25Nb2RlO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gVXBkYXRlIHBhZ2VzOiB1c2UgcGFnZXNDcmVhdGlvbk1vZGVcblx0XHRcdFx0cGx1Z2luU2V0dGluZ3MucGFnZXNDcmVhdGlvbk1vZGUgPSBjcmVhdGlvbk1vZGU7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBVcGRhdGUgcHJvamVjdHMgYW5kIGRvY3M6IHVzZSBjdXN0b21Db250ZW50VHlwZXMgYXJyYXlcblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkocGx1Z2luU2V0dGluZ3MuY3VzdG9tQ29udGVudFR5cGVzKSkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgY3VzdG9tVHlwZSBvZiBwbHVnaW5TZXR0aW5ncy5jdXN0b21Db250ZW50VHlwZXMpIHtcblx0XHRcdFx0XHRcdGlmIChjdXN0b21UeXBlICYmIHR5cGVvZiBjdXN0b21UeXBlID09PSAnb2JqZWN0JyAmJiBjdXN0b21UeXBlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGN1c3RvbVR5cGVPYmogPSBjdXN0b21UeXBlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0XHRcdFx0XHQvLyBDaGVjayBpZiB0aGlzIGlzIHByb2plY3RzIG9yIGRvY3MgYnkgZm9sZGVyIG5hbWVcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm9sZGVyTmFtZSA9ICh0eXBlb2YgY3VzdG9tVHlwZU9iai5mb2xkZXIgPT09ICdzdHJpbmcnID8gY3VzdG9tVHlwZU9iai5mb2xkZXIgOiAnJykudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdFx0aWYgKGZvbGRlck5hbWUgPT09ICdwcm9qZWN0cycgfHwgZm9sZGVyTmFtZSA9PT0gJ2RvY3MnKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VzdG9tVHlwZU9iai5jcmVhdGlvbk1vZGUgPSBjcmVhdGlvbk1vZGU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIGluZGV4IGZpbGUgbmFtZVxuXHRcdFx0cGx1Z2luU2V0dGluZ3MuaW5kZXhGaWxlTmFtZSA9IHNldHRpbmdzLmluZGV4RmlsZU5hbWU7XG5cdFx0XHRcblx0XHRcdC8vIFNhdmUgdGhlIHNldHRpbmdzXG5cdFx0XHRjb25zdCBwbHVnaW5XaXRoU2F2ZSA9IGFzdHJvQ29tcG9zZXJQbHVnaW4gYXMgeyBzYXZlU2V0dGluZ3M/OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH07XG5cdFx0XHRjb25zdCBzYXZlU2V0dGluZ3MgPSBwbHVnaW5XaXRoU2F2ZS5zYXZlU2V0dGluZ3M7XG5cdFx0XHRpZiAoc2F2ZVNldHRpbmdzICYmIHR5cGVvZiBzYXZlU2V0dGluZ3MgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0YXdhaXQgc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25maWd1cmUgQXN0cm8gQ29tcG9zZXI6JywgZXJyb3IpO1xuXHRcdFx0dGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHRvIGxldCBjYWxsZXIga25vdyBpdCBmYWlsZWRcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGNvbmZpZ3VyZUltYWdlTWFuYWdlclNldHRpbmdzKHNldHRpbmdzOiBJbWFnZU1hbmFnZXJTZXR0aW5ncyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwbHVnaW5zID0gKHRoaXMuYXBwIGFzIHVua25vd24gYXMgeyBwbHVnaW5zPzogT2JzaWRpYW5QbHVnaW5zIH0pLnBsdWdpbnM7XG5cdFx0XHRjb25zdCBpbWFnZU1hbmFnZXJQbHVnaW4gPSBwbHVnaW5zPy5wbHVnaW5zPy5bJ2ltYWdlLW1hbmFnZXInXTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgaW1hZ2VNYW5hZ2VyUGx1Z2luV2l0aFNldHRpbmdzID0gaW1hZ2VNYW5hZ2VyUGx1Z2luIGFzIFBsdWdpbldpdGhTZXR0aW5ncyB8IHVuZGVmaW5lZDtcblx0XHRcdGlmIChpbWFnZU1hbmFnZXJQbHVnaW5XaXRoU2V0dGluZ3MgJiYgaW1hZ2VNYW5hZ2VyUGx1Z2luV2l0aFNldHRpbmdzLnNldHRpbmdzKSB7XG5cdFx0XHRcdC8vIFVwZGF0ZSBJbWFnZSBNYW5hZ2VyIHNldHRpbmdzXG5cdFx0XHRcdC8vIFNldCBwcm9wZXJ0eUxpbmtGb3JtYXQgdG8gJ2N1c3RvbScgYW5kIHVwZGF0ZSBjdXN0b21Qcm9wZXJ0eUxpbmtGb3JtYXRcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRjb25zdCBwbHVnaW5TZXR0aW5ncyA9IGltYWdlTWFuYWdlclBsdWdpbldpdGhTZXR0aW5ncy5zZXR0aW5ncyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0XHRcdFx0cGx1Z2luU2V0dGluZ3MucHJvcGVydHlMaW5rRm9ybWF0ID0gJ2N1c3RvbSc7XG5cdFx0XHRcdHBsdWdpblNldHRpbmdzLmN1c3RvbVByb3BlcnR5TGlua0Zvcm1hdCA9IHNldHRpbmdzLmN1c3RvbVByb3BlcnR5TGlua0Zvcm1hdDtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFNhdmUgdGhlIHNldHRpbmdzXG5cdFx0XHRcdGNvbnN0IHBsdWdpbldpdGhTYXZlID0gaW1hZ2VNYW5hZ2VyUGx1Z2luIGFzIHsgc2F2ZVNldHRpbmdzPzogKCkgPT4gUHJvbWlzZTx2b2lkPiB9O1xuXHRcdFx0XHRjb25zdCBzYXZlU2V0dGluZ3MgPSBwbHVnaW5XaXRoU2F2ZS5zYXZlU2V0dGluZ3M7XG5cdFx0XHRcdGlmIChzYXZlU2V0dGluZ3MgJiYgdHlwZW9mIHNhdmVTZXR0aW5ncyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGF3YWl0IHNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25maWd1cmUgSW1hZ2UgTWFuYWdlcjonLCBlcnJvcik7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZ2V0TWFudWFsQ29uZmlndXJhdGlvbkluc3RydWN0aW9ucyhjb25maWc6IFBsdWdpbkNvbmZpZ3VyYXRpb24pOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGxldCBpbnN0cnVjdGlvbnMgPSAnIyMgT2JzaWRpYW4gU2V0dGluZ3NcXG4nO1xuXHRcdGluc3RydWN0aW9ucyArPSBgMS4gR28gdG8gKipTZXR0aW5ncyBcdTIxOTIgRmlsZXMgJiBMaW5rcyoqXFxuYDtcblx0XHRpbnN0cnVjdGlvbnMgKz0gYDIuIFNldCAqKkRlZmF1bHQgbG9jYXRpb24gZm9yIG5ldyBhdHRhY2htZW50cyoqIHRvOiBgO1xuXHRcdGluc3RydWN0aW9ucyArPSBjb25maWcub2JzaWRpYW5TZXR0aW5ncy5hdHRhY2htZW50TG9jYXRpb24gPT09ICdzdWJmb2xkZXInIFxuXHRcdFx0PyBgKipcIkluIHN1YmZvbGRlciB1bmRlciBjdXJyZW50IGZvbGRlclwiKipcXG5gIFxuXHRcdFx0OiBgKipcIlNhbWUgZm9sZGVyIGFzIGN1cnJlbnQgZmlsZVwiKipcXG5gO1xuXHRcdGlmIChjb25maWcub2JzaWRpYW5TZXR0aW5ncy5hdHRhY2htZW50TG9jYXRpb24gPT09ICdzdWJmb2xkZXInKSB7XG5cdFx0XHRpbnN0cnVjdGlvbnMgKz0gYDMuIFNldCAqKlN1YmZvbGRlciBuYW1lKiogdG86ICoqXCIke2NvbmZpZy5vYnNpZGlhblNldHRpbmdzLnN1YmZvbGRlck5hbWV9XCIqKlxcbmA7XG5cdFx0fVxuXHRcdFxuXHRcdGluc3RydWN0aW9ucyArPSAnIyMgQXN0cm8gQ29tcG9zZXIgUGx1Z2luXFxuJztcblx0XHRpbnN0cnVjdGlvbnMgKz0gYDEuIEdvIHRvICoqU2V0dGluZ3MgXHUyMTkyIENvbW11bml0eSBwbHVnaW5zIFx1MjE5MiBBc3RybyBDb21wb3NlcioqXFxuYDtcblx0XHRpbnN0cnVjdGlvbnMgKz0gYDIuIFNldCAqKkNyZWF0aW9uIG1vZGUqKiB0bzogXCIke2NvbmZpZy5hc3Ryb0NvbXBvc2VyU2V0dGluZ3MuY3JlYXRpb25Nb2RlID09PSAnZmlsZScgPyAnRmlsZS1iYXNlZCcgOiAnRm9sZGVyLWJhc2VkJ31cIlxcbmA7XG5cdFx0aW5zdHJ1Y3Rpb25zICs9IGAzLiBFbnN1cmUgKipDcmVhdGlvbiBtb2RlKiogaXMgc2V0IHRvIFwiJHtjb25maWcuYXN0cm9Db21wb3NlclNldHRpbmdzLmNyZWF0aW9uTW9kZSA9PT0gJ2ZpbGUnID8gJ0ZpbGUtYmFzZWQnIDogJ0ZvbGRlci1iYXNlZCd9XCIgZm9yIGFsbCBjb250ZW50IHR5cGVzOlxcbmA7XG5cdFx0aW5zdHJ1Y3Rpb25zICs9IGAgICAtIFBvc3RzXFxuYDtcblx0XHRpbnN0cnVjdGlvbnMgKz0gYCAgIC0gUGFnZXNcXG5gO1xuXHRcdGluc3RydWN0aW9ucyArPSBgICAgLSBQcm9qZWN0c1xcbmA7XG5cdFx0aW5zdHJ1Y3Rpb25zICs9IGAgICAtIERvY3NcXG5gO1xuXHRcdGlmIChjb25maWcuYXN0cm9Db21wb3NlclNldHRpbmdzLmNyZWF0aW9uTW9kZSA9PT0gJ2ZvbGRlcicpIHtcblx0XHRcdGluc3RydWN0aW9ucyArPSBgNC4gU2V0ICoqSW5kZXggZmlsZSBuYW1lKiogdG86IFwiJHtjb25maWcuYXN0cm9Db21wb3NlclNldHRpbmdzLmluZGV4RmlsZU5hbWV9XCJcXG5gO1xuXHRcdH1cblx0XHRcblx0XHRpbnN0cnVjdGlvbnMgKz0gJyMjIEltYWdlIE1hbmFnZXIgUGx1Z2luXFxuJztcblx0XHRpbnN0cnVjdGlvbnMgKz0gYDEuIEdvIHRvICoqU2V0dGluZ3MgXHUyMTkyIENvbW11bml0eSBwbHVnaW5zIFx1MjE5MiBJbWFnZSBNYW5hZ2VyKipcXG5gO1xuXHRcdGluc3RydWN0aW9ucyArPSBgMi4gU2V0ICoqUHJvcGVydHkgaW5zZXJ0aW9uIFx1MjE5MiBQcm9wZXJ0eSBsaW5rIGZvcm1hdCoqIHRvOiAqKlwiQ3VzdG9tIGZvcm1hdFwiKipcXG5gO1xuXHRcdGluc3RydWN0aW9ucyArPSBgMy4gU2V0ICoqUHJvcGVydHkgaW5zZXJ0aW9uIFx1MjE5MiBDdXN0b20gZm9ybWF0IHRlbXBsYXRlKiogdG86IFwiJHtjb25maWcuaW1hZ2VNYW5hZ2VyU2V0dGluZ3MuY3VzdG9tUHJvcGVydHlMaW5rRm9ybWF0fVwiXFxuYDtcblx0XHRcblx0XHRpbnN0cnVjdGlvbnMgKz0gJyoqTm90ZSoqOiBBZnRlciBtYWtpbmcgdGhlc2UgY2hhbmdlcywgeW91IHNob3VsZCBzZWUgdGhlbSByZWZsZWN0ZWQgaW4gT2JzaWRpYW5cXCdzIHNldHRpbmdzIGludGVyZmFjZS4gSWYgdGhlIGF1dG9tYXRpYyBjb25maWd1cmF0aW9uIHdvcmtlZCwgdGhlc2Ugc2V0dGluZ3Mgc2hvdWxkIGFscmVhZHkgYmUgYXBwbGllZC5cXG4nO1xuXHRcdFxuXHRcdHJldHVybiBpbnN0cnVjdGlvbnM7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBZWE7QUFmYjtBQUFBO0FBQUE7QUFlTyxJQUFNLHFCQUFOLE1BQXlCO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFJL0IsT0FBTyxZQUFZLGVBQWtEO0FBQ3BFLFlBQUk7QUFFSCxnQkFBTSxtQkFBbUIsY0FBYyxLQUFLO0FBRzVDLGNBQUksQ0FBQyxpQkFBaUIsU0FBUyxzQkFBc0IsR0FBRztBQUN2RCxtQkFBTztBQUFBLFVBQ1I7QUFHQSxnQkFBTSxpQkFBeUMsQ0FBQztBQUdoRCxnQkFBTSxxQkFBcUI7QUFDM0IsY0FBSTtBQUVKLGtCQUFRLFFBQVEsbUJBQW1CLEtBQUssZ0JBQWdCLE9BQU8sTUFBTTtBQUNwRSxrQkFBTSxDQUFDLEVBQUUsZUFBZSxLQUFLLElBQUk7QUFDakMsMkJBQWUsYUFBYSxJQUFJO0FBQUEsVUFDakM7QUFJQSxnQkFBTUEsVUFBNkI7QUFBQSxZQUNsQyxNQUFNLGVBQWUsTUFBTSxLQUFLO0FBQUEsWUFD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LEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdBQVcsU0FBUztBQUFBLElBQ3BDLHNCQUFzQjtBQUFBLElBQ3RCLHFCQUFxQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLElBQ0MsSUFBSTtBQUFBLElBQ0osTUFBTTtBQUFBLElBQ04sYUFBYTtBQUFBLElBQ2IsZUFBZSxDQUFDLFdB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QjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Q7QUFFQSxVQUFNLFVBQVUsZ0JBQWdCO0FBQUEsTUFBTyxZQUN0QyxDQUFDQSxRQUFP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QVcsSUFBSSxhQUFhLGFBQWEsS0FDOUMsSUFBSSxhQUFhLGNBQWMsTUFDOUIsSUFBSSxVQUFVLFNBQVMsc0JBQXNCLElBQUksa0JBQWtCO0FBRXJFLFlBQUksYUFBYSxpQkFBaUI7QUFFakMsZ0JBQU0sYUFBVyxVQUFLLGdCQUFMLG1CQUFrQixrQkFBaUI7QUFDcEQsY0FBSSxTQUFTLFNBQVMsUUFBUSxLQUFLLFNBQVMsU0FBUyxlQUFlLEdBQUc7QUFDdEUsaUJBQUssT0FBTztBQUFBLFVBQ2I7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7IiwKICAibmFtZXMiOiBbImNvbmZpZyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgIl9iIiwgIl9jIiwgImltcG9ydF9vYnNpZGlhbiIsICJuYW1lIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiX2EiLCAibmFtZSIsICJfYiIsICJfYyIsICJHaXNjdXNTY3JpcHRQYXJzZXIiLCAiaW1wb3J0X29ic2lkaWFuIiwgImNvbmZpZyIsICJjb250ZW50T3JnIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIm5hbWUiLCAiZGVzY3JpcHRpb24iLCAidmFsdWUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJCdWZmZXIiLCAiX2EiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY29uZmlnIiwgImNvbnRlbnRPcmciLCAiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgImltcG9ydF9vYnNpZGlhbiIsICJzZXR0aW5nIiwgIl9hIiwgIl9iIiwgIl9jIiwgImNvbW1lbnRzU2V0dGluZ3MiLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiR2lzY3VzU2NyaXB0UGFyc2VyIiwgImltcG9ydF9vYnNpZGlhbiIsICJzZXR0aW5ncyIsICJfYSIsICJmZWF0dXJlcyIsICJlIiwgImltcG9ydF9vYnNpZGlhbiIsICJjb25maWciLCAiY29udGVudCIsICJwb3MiLCAic29jaWFsTWF0Y2giLCAiY29uZmlnIiwgImNvbmZpZyIsICJkZXNjcmlwdGlvbiIsICJuYW1lIiwgImNvbmZpZyIsICJkZXNjcmlwdGlvbiIsICJuYW1lIiwgImNvbmZpZyJdCn0K
